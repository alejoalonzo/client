(self.webpackChunkportfolioAngular=self.webpackChunkportfolioAngular||[]).push([[179],{731:(T0,ms,v1)=>{"use strict";function it(n){return"function"==typeof n}function Ba(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $1=Ba(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ga(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ui{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(it(i))try{i()}catch(s){e=s instanceof $1?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{o3(s)}catch(a){e=e??[],a instanceof $1?e=[...e,...a.errors]:e.push(a)}}if(e)throw new $1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)o3(e);else{if(e instanceof ui){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ga(t,e)}remove(e){const{_finalizers:t}=this;t&&Ga(t,e),e instanceof ui&&e._removeParent(this)}}ui.EMPTY=(()=>{const n=new ui;return n.closed=!0,n})();const ie=ui.EMPTY;function Mf(n){return n instanceof ui||n&&"closed"in n&&it(n.remove)&&it(n.add)&&it(n.unsubscribe)}function o3(n){it(n)?n():n.unsubscribe()}const Vr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},c3={setTimeout(n,e,...t){const{delegate:i}=c3;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=c3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function W2(n){c3.setTimeout(()=>{const{onUnhandledError:e}=Vr;if(!e)throw n;e(n)})}function Hr(){}const M5=l3("C",void 0,void 0);function l3(n,e,t){return{kind:n,value:e,error:t}}let fr=null;function Or(n){if(Vr.useDeprecatedSynchronousErrorHandling){const e=!fr;if(e&&(fr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=fr;if(fr=null,t)throw i}}else n()}class u2 extends ui{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mf(e)&&e.add(this)):this.destination=C5}static create(e,t,i){return new hr(e,t,i)}next(e){this.isStopped?u3(function Cf(n){return l3("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?u3(function xf(n){return l3("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?u3(M5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gs=Function.prototype.bind;function j2(n,e){return gs.call(n,e)}class ct{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Wa(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Wa(i)}else Wa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wa(t)}}}class hr extends u2{constructor(e,t,i){let r;if(super(),it(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Vr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&j2(e.next,s),error:e.error&&j2(e.error,s),complete:e.complete&&j2(e.complete,s)}):r=e}this.destination=new ct(r)}}function Wa(n){Vr.useDeprecatedSynchronousErrorHandling?function L0(n){Vr.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=n)}(n):W2(n)}function u3(n,e){const{onStoppedNotification:t}=Vr;t&&c3.setTimeout(()=>t(n,e))}const C5={closed:!0,next:Hr,error:function x5(n){throw n},complete:Hr},vs="function"==typeof Symbol&&Symbol.observable||"@@observable";function ki(n){return n}function Fr(n){return 0===n.length?ki:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function ys(n){return n&&n instanceof u2||function f3(n){return n&&it(n.next)&&it(n.error)&&it(n.complete)}(n)&&Mf(n)}(t)?t:new hr(t,i,r);return Or(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=b5(i))((r,s)=>{const a=new hr({next:o=>{try{t(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[vs](){return this}pipe(...t){return Fr(t)(this)}toPromise(t){return new(t=b5(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=e=>new n(e),n})();function b5(n){var e;return null!==(e=n??Vr.Promise)&&void 0!==e?e:Promise}const w5=Ba(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jn=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new ja(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new w5}next(t){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Or(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?ie:(this.currentObservers=null,s.push(t),new ui(()=>{this.currentObservers=null,Ga(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new ja(e,t),n})();class ja extends jn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ie}}function S5(n){return it(n?.lift)}function Zt(n){return e=>{if(S5(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(n,e,t,i,r){return new $a(n,e,t,i,r)}class $a extends u2{constructor(e,t,i,r,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(o){try{t(o)}catch(c){e.error(c)}}:super._next,this._error=r?function(o){try{r(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function w1(n,e){return Zt((t,i)=>{let r=0;t.subscribe(Ft(i,s=>{i.next(n.call(e,s,r++))}))})}function kr(n){return this instanceof kr?(this.v=n,this):new kr(n)}function L5(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function q2(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,c){!function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=n[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const D5=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function N5(n){return it(n?.then)}function Xa(n){return it(n[vs])}function P5(n){return Symbol.asyncIterator&&it(n?.[Symbol.asyncIterator])}function I5(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const R5=function Nf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function V5(n){return it(n?.[R5])}function H5(n){return function I0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(d){return new Promise(function(p,g){s.push([h,d,p,g])>1||o(h,d)})})}function o(h,d){try{!function c(h){h.value instanceof kr?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}(i[h](d))}catch(p){f(s[0][3],p)}}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,d){h(d),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield kr(t.read());if(r)return yield kr(void 0);yield yield kr(i)}}finally{t.releaseLock()}})}function O5(n){return it(n?.getReader)}function hi(n){if(n instanceof pt)return n;if(null!=n){if(Xa(n))return function Pf(n){return new pt(e=>{const t=n[vs]();if(it(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(D5(n))return function If(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(N5(n))return function Rf(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,W2)})}(n);if(P5(n))return d3(n);if(V5(n))return function V0(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(O5(n))return function F5(n){return d3(H5(n))}(n)}throw I5(n)}function d3(n){return new pt(e=>{(function Ya(n,e){var t,i,r,s;return function f2(n,e,t,i){return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(f){a(f)}}function c(u){try{l(i.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(a){a(s)})}(u.value).then(o,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=L5(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Rt(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function w2(n,e,t=1/0){return it(e)?w2((i,r)=>w1((s,a)=>e(i,s,r,a))(hi(n(i,r))),t):("number"==typeof e&&(t=e),Zt((i,r)=>function Vf(n,e,t,i,r,s,a,o){const c=[];let l=0,u=0,f=!1;const h=()=>{f&&!c.length&&!l&&e.complete()},d=g=>l<i?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let v=!1;hi(t(g,u++)).subscribe(Ft(e,m=>{r?.(m),s?d(m):e.next(m)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){const m=c.shift();a?Rt(e,a,()=>p(m)):p(m)}h()}catch(m){e.error(m)}}))};return n.subscribe(Ft(e,d,()=>{f=!0,h()})),()=>{o?.()}}(i,r,n,t)))}function p3(n=1/0){return w2(ki,n)}const di=new pt(n=>n.complete());function Ka(n){return n[n.length-1]}function k5(n){return it(Ka(n))?n.pop():void 0}function m3(n){return function Of(n){return n&&it(n.schedule)}(Ka(n))?n.pop():void 0}function U5(n,e=0){return Zt((t,i)=>{t.subscribe(Ft(i,r=>Rt(i,n,()=>i.next(r),e),()=>Rt(i,n,()=>i.complete(),e),r=>Rt(i,n,()=>i.error(r),e)))})}function B5(n,e=0){return Zt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function H0(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{Rt(t,e,()=>{const i=n[Symbol.asyncIterator]();Rt(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Xt(n,e){return e?function G5(n,e){if(null!=n){if(Xa(n))return function kf(n,e){return hi(n).pipe(B5(e),U5(e))}(n,e);if(D5(n))return function Bf(n,e){return new pt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(N5(n))return function Uf(n,e){return hi(n).pipe(B5(e),U5(e))}(n,e);if(P5(n))return H0(n,e);if(V5(n))return function Gf(n,e){return new pt(t=>{let i;return Rt(t,e,()=>{i=n[R5](),Rt(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void t.error(a)}s?t.complete():t.next(r)},0,!0)}),()=>it(i?.return)&&i.return()})}(n,e);if(O5(n))return function Wf(n,e){return H0(H5(n),e)}(n,e)}throw I5(n)}(n,e):hi(n)}function Ja(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new hr({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function vt(n){for(let e in n)if(n[e]===vt)return e;throw Error("Could not find renamed property on target object.")}function Ms(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function yt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function O0(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const $f=vt({__forward_ref__:vt});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return yt(this())},n}function o1(n){return F0(n)?n():n}function F0(n){return"function"==typeof n&&n.hasOwnProperty($f)&&n.__forward_ref__===xt}function k0(n){return n&&!!n.\u0275providers}const eo="https://g.co/ng/security#xss";class ye extends Error{constructor(e,t){super(to(e,t)),this.code=e}}function to(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}function _1(n){return"string"==typeof n?n:null==n?"":String(n)}function no(n,e){throw new ye(-201,!1)}function xn(n,e){null==n&&function q1(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Ze(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function io(n){return W5(n,ro)||W5(n,j5)}function W5(n,e){return n.hasOwnProperty(e)?n[e]:null}function B0(n){return n&&(n.hasOwnProperty(G0)||n.hasOwnProperty($5))?n[G0]:null}const ro=vt({\u0275prov:vt}),G0=vt({\u0275inj:vt}),j5=vt({ngInjectableDef:vt}),$5=vt({ngInjectorDef:vt});var c1=(()=>((c1=c1||{})[c1.Default=0]="Default",c1[c1.Host=1]="Host",c1[c1.Self=2]="Self",c1[c1.SkipSelf=4]="SkipSelf",c1[c1.Optional=8]="Optional",c1))();let bs;function bn(n){const e=bs;return bs=n,e}function so(n,e,t){const i=io(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&c1.Optional?null:void 0!==e?e:void no(yt(n))}const wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),v3={},ao="__NG_DI_FLAG__",ws="ngTempTokenPath",Z5="ngTokenPath",X5=/\n/gm,Y5="\u0275",y4="__source";let Ss;function y3(n){const e=Ss;return Ss=n,e}function nh(n,e=c1.Default){if(void 0===Ss)throw new ye(-203,!1);return null===Ss?so(n,void 0,e):Ss.get(n,e&c1.Optional?null:void 0,e)}function Ge(n,e=c1.Default){return(function q5(){return bs}()||nh)(o1(n),e)}function S1(n,e=c1.Default){return Ge(n,oo(e))}function oo(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $0(n){const e=[];for(let t=0;t<n.length;t++){const i=o1(n[t]);if(Array.isArray(i)){if(0===i.length)throw new ye(900,!1);let r,s=c1.Default;for(let a=0;a<i.length;a++){const o=i[a],c=ih(o);"number"==typeof c?-1===c?r=o.token:s|=c:r=o}e.push(Ge(r,s))}else e.push(Ge(i))}return e}function zs(n,e){return n[ao]=e,n.prototype[ao]=e,n}function ih(n){return n[ao]}function Ui(n){return{toString:n}.toString()}var Bi=(()=>((Bi=Bi||{})[Bi.OnPush=0]="OnPush",Bi[Bi.Default=1]="Default",Bi))(),pi=(()=>{return(n=pi||(pi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",pi;var n})();const mi={},st=[],co=vt({\u0275cmp:vt}),q0=vt({\u0275dir:vt}),Z0=vt({\u0275pipe:vt}),As=vt({\u0275mod:vt}),gr=vt({\u0275fac:vt}),Es=vt({__NG_ELEMENT_ID__:vt});let sh=0;function h2(n){return Ui(()=>{const e=Q5(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Bi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||pi.Emulated,id:"c"+sh++,styles:n.styles||st,_:null,schemas:n.schemas||null,tView:null};el(t);const i=n.dependencies;return t.directiveDefs=lo(i,!1),t.pipeDefs=lo(i,!0),t})}function ah(n){return ut(n)||I2(n)}function oh(n){return null!==n}function qn(n){return Ui(()=>({type:n.type,bootstrap:n.bootstrap||st,declarations:n.declarations||st,imports:n.imports||st,exports:n.exports||st,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function X0(n,e){if(null==n)return mi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function f1(n){return Ui(()=>{const e=Q5(n);return el(e),e})}function ut(n){return n[co]||null}function I2(n){return n[q0]||null}function Z2(n){return n[Z0]||null}function wn(n,e){const t=n[As]||null;if(!t&&!0===e)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return t}function Q5(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||st,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X0(n.inputs,e),outputs:X0(n.outputs)}}function el(n){n.features?.forEach(e=>e(n))}function lo(n,e){if(!n)return null;const t=e?Z2:ah;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(oh)}const Gi=0,Ve=1,z1=2,Vt=3,gi=4,_4=5,R2=6,_3=7,kt=8,uo=9,Wi=10,A1=11,Y0=12,M3=13,tl=14,x3=15,V2=16,C3=17,b3=18,ji=19,Ts=20,Zn=21,y1=22,K0=1,nl=2,fo=7,ho=8,w3=9,X2=10;function y(n){return Array.isArray(n)&&"object"==typeof n[K0]}function M(n){return Array.isArray(n)&&!0===n[K0]}function S(n){return 0!=(4&n.flags)}function R(n){return n.componentOffset>-1}function te(n){return 1==(1&n.flags)}function Xe(n){return!!n.template}function ft(n){return 0!=(256&n[z1])}function Ls(n,e){return n.hasOwnProperty(gr)?n[gr]:null}class KI{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Sn(){return H_}function H_(n){return n.type.prototype.ngOnChanges&&(n.setInput=QI),JI}function JI(){const n=F_(this),e=n?.current;if(e){const t=n.previous;if(t===mi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function QI(n,e,t,i){const r=this.declaredInputs[t],s=F_(n)||function eR(n,e){return n[O_]=e}(n,{previous:mi,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[r];a[r]=new KI(c&&c.currentValue,e,o===mi),n[i]=e}Sn.ngInherit=!0;const O_="__ngSimpleChanges__";function F_(n){return n[O_]||null}const $i=function(n,e,t){},k_="svg";function Y2(n){for(;Array.isArray(n);)n=n[Gi];return n}function rl(n,e){return Y2(e[n])}function vi(n,e){return Y2(e[n.index])}function B_(n,e){return n.data[e]}function Xn(n,e){const t=e[n];return y(t)?t:t[Gi]}function sl(n){return 64==(64&n[z1])}function z3(n,e){return null==e?null:n[e]}function G_(n){n[b3]=0}function uh(n,e){n[_4]+=e;let t=n,i=n[Vt];for(;null!==i&&(1===e&&1===t[_4]||-1===e&&0===t[_4]);)i[_4]+=e,t=i,i=i[Vt]}const C1={lFrame:Q_(null),bindingsEnabled:!0};function j_(){return C1.bindingsEnabled}function de(){return C1.lFrame.lView}function rt(){return C1.lFrame.tView}function St(n){return C1.lFrame.contextLView=n,n[kt]}function zt(n){return C1.lFrame.contextLView=null,n}function K2(){let n=$_();for(;null!==n&&64===n.type;)n=n.parent;return n}function $_(){return C1.lFrame.currentTNode}function Br(n,e){const t=C1.lFrame;t.currentTNode=n,t.isParent=e}function fh(){return C1.lFrame.isParent}function hh(){C1.lFrame.isParent=!1}function zn(){const n=C1.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mo(){return C1.lFrame.bindingIndex++}function dR(n,e){const t=C1.lFrame;t.bindingIndex=t.bindingRootIndex=n,dh(e)}function dh(n){C1.lFrame.currentDirectiveIndex=n}function Y_(){return C1.lFrame.currentQueryIndex}function mh(n){C1.lFrame.currentQueryIndex=n}function mR(n){const e=n[Ve];return 2===e.type?e.declTNode:1===e.type?n[R2]:null}function K_(n,e,t){if(t&c1.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&c1.Host||(r=mR(s),null===r||(s=s[x3],10&r.type))););if(null===r)return!1;e=r,n=s}const i=C1.lFrame=J_();return i.currentTNode=e,i.lView=n,!0}function gh(n){const e=J_(),t=n[Ve];C1.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function J_(){const n=C1.lFrame,e=null===n?null:n.child;return null===e?Q_(n):e}function Q_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function eM(){const n=C1.lFrame;return C1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const tM=eM;function vh(){const n=eM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return C1.lFrame.selectedIndex}function Ds(n){C1.lFrame.selectedIndex=n}function Ut(){const n=C1.lFrame;return B_(n.tView,n.selectedIndex)}function al(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(n.contentHooks??(n.contentHooks=[])).push(-t,a),o&&((n.contentHooks??(n.contentHooks=[])).push(t,o),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(t,o)),c&&(n.viewHooks??(n.viewHooks=[])).push(-t,c),l&&((n.viewHooks??(n.viewHooks=[])).push(t,l),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(t,l)),null!=u&&(n.destroyHooks??(n.destroyHooks=[])).push(t,u)}}function ol(n,e,t){iM(n,e,3,t)}function cl(n,e,t,i){(3&n[z1])===t&&iM(n,e,t,i)}function yh(n,e){let t=n[z1];(3&t)===e&&(t&=2047,t+=1,n[z1]=t)}function iM(n,e,t,i){const s=i??-1,a=e.length-1;let o=0;for(let c=void 0!==i?65535&n[b3]:0;c<a;c++)if("number"==typeof e[c+1]){if(o=e[c],null!=i&&o>=i)break}else e[c]<0&&(n[b3]+=65536),(o<s||-1==s)&&(bR(n,t,e,c),n[b3]=(4294901760&n[b3])+c+2),c++}function bR(n,e,t,i){const r=t[i]<0,s=t[i+1],o=n[r?-t[i]:t[i]];if(r){if(n[z1]>>11<n[b3]>>16&&(3&n[z1])===e){n[z1]+=2048,$i(4,o,s);try{s.call(o)}finally{$i(5,o,s)}}}else{$i(4,o,s);try{s.call(o)}finally{$i(5,o,s)}}}const go=-1;class ec{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Mh(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],a=t[i++],o=t[i++];n.setAttribute(e,a,o,s)}else{const s=r,a=t[++i];sM(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),i++}}return i}function rM(n){return 3===n||4===n||6===n}function sM(n){return 64===n.charCodeAt(0)}function tc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||aM(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function aM(n,e,t,i,r){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const o=n[s++];if("number"==typeof o){if(o===e){a=-1;break}if(o>e){a=s-1;break}}}for(;s<n.length;){const o=n[s];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function oM(n){return n!==go}function ll(n){return 32767&n}function ul(n,e){let t=function AR(n){return n>>16}(n),i=e;for(;t>0;)i=i[x3],t--;return i}let xh=!0;function fl(n){const e=xh;return xh=n,e}const cM=255,lM=5;let ER=0;const Gr={};function hl(n,e){const t=uM(n,e);if(-1!==t)return t;const i=e[Ve];i.firstCreatePass&&(n.injectorIndex=e.length,Ch(i.data,n),Ch(e,null),Ch(i.blueprint,null));const r=bh(n,e),s=n.injectorIndex;if(oM(r)){const a=ll(r),o=ul(r,e),c=o[Ve].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=r,s}function Ch(n,e){n.push(0,0,0,0,0,0,0,0,e)}function uM(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function bh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=vM(r),null===i)return go;if(t++,r=r[x3],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return go}function wh(n,e,t){!function TR(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Es)&&(i=t[Es]),null==i&&(i=t[Es]=ER++);const r=i&cM;e.data[n+(r>>lM)]|=1<<r}(n,e,t)}function fM(n,e,t){if(t&c1.Optional||void 0!==n)return n;no()}function hM(n,e,t,i){if(t&c1.Optional&&void 0===i&&(i=null),!(t&(c1.Self|c1.Host))){const r=n[uo],s=bn(void 0);try{return r?r.get(e,i,t&c1.Optional):so(e,i,t&c1.Optional)}finally{bn(s)}}return fM(i,0,t)}function dM(n,e,t,i=c1.Default,r){if(null!==n){if(1024&e[z1]){const a=function IR(n,e,t,i,r){let s=n,a=e;for(;null!==s&&null!==a&&1024&a[z1]&&!(256&a[z1]);){const o=pM(s,a,t,i|c1.Self,Gr);if(o!==Gr)return o;let c=s.parent;if(!c){const l=a[Zn];if(l){const u=l.get(t,Gr,i);if(u!==Gr)return u}c=vM(a),a=a[x3]}s=c}return r}(n,e,t,i,Gr);if(a!==Gr)return a}const s=pM(n,e,t,i,Gr);if(s!==Gr)return s}return hM(e,t,i,r)}function pM(n,e,t,i,r){const s=function NR(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Es)?n[Es]:void 0;return"number"==typeof e?e>=0?e&cM:PR:e}(t);if("function"==typeof s){if(!K_(e,n,i))return i&c1.Host?fM(r,0,i):hM(e,t,i,r);try{const a=s(i);if(null!=a||i&c1.Optional)return a;no()}finally{tM()}}else if("number"==typeof s){let a=null,o=uM(n,e),c=go,l=i&c1.Host?e[V2][R2]:null;for((-1===o||i&c1.SkipSelf)&&(c=-1===o?bh(n,e):e[o+8],c!==go&&gM(i,!1)?(a=e[Ve],o=ll(c),e=ul(c,e)):o=-1);-1!==o;){const u=e[Ve];if(mM(s,o,u.data)){const f=DR(o,e,t,a,i,l);if(f!==Gr)return f}c=e[o+8],c!==go&&gM(i,e[Ve].data[o+8]===l)&&mM(s,o,e)?(a=u,o=ll(c),e=ul(c,e)):o=-1}}return r}function DR(n,e,t,i,r,s){const a=e[Ve],o=a.data[n+8],u=dl(o,a,t,null==i?R(o)&&xh:i!=a&&0!=(3&o.type),r&c1.Host&&s===o);return null!==u?Ns(e,a,u,o):Gr}function dl(n,e,t,i,r){const s=n.providerIndexes,a=e.data,o=1048575&s,c=n.directiveStart,u=s>>20,h=r?o+u:n.directiveEnd;for(let d=i?o:o+u;d<h;d++){const p=a[d];if(d<c&&t===p||d>=c&&p.type===t)return d}if(r){const d=a[c];if(d&&Xe(d)&&d.type===t)return c}return null}function Ns(n,e,t,i){let r=n[t];const s=e.data;if(function wR(n){return n instanceof ec}(r)){const a=r;a.resolving&&function qf(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new ye(-200,`Circular dependency in DI detected for ${n}${t}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_1(n)}(s[t]));const o=fl(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?bn(a.injectImpl):null;K_(n,i,c1.Default);try{r=n[t]=a.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function CR(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const a=H_(e);(t.preOrderHooks??(t.preOrderHooks=[])).push(n,a),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,a)}r&&(t.preOrderHooks??(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks??(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&bn(c),fl(o),a.resolving=!1,tM()}}return r}function mM(n,e,t){return!!(t[e+(n>>lM)]&1<<n)}function gM(n,e){return!(n&c1.Self||n&c1.Host&&e)}class vo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return dM(this._tNode,this._lView,e,oo(i),t)}}function PR(){return new vo(K2(),de())}function J2(n){return Ui(()=>{const e=n.prototype.constructor,t=e[gr]||Sh(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[gr]||Sh(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Sh(n){return F0(n)?()=>{const e=Sh(o1(n));return e&&e()}:Ls(n)}function vM(n){const e=n[Ve],t=e.type;return 2===t?e.declTNode:1===t?n[R2]:null}const _o="__parameters__";function xo(n,e,t){return Ui(()=>{const i=function zh(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(c,l,u){const f=c.hasOwnProperty(_o)?c[_o]:Object.defineProperty(c,_o,{value:[]})[_o];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Qe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ze({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ps(n,e){n.forEach(t=>Array.isArray(t)?Ps(t,e):e(t))}function _M(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ml(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function yi(n,e,t){let i=Co(n,e);return i>=0?n[1|i]=t:(i=~i,function OR(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Eh(n,e){const t=Co(n,e);if(t>=0)return n[1|t]}function Co(n,e){return function MM(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<t];if(e===a)return s<<t;a>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const sc=zs(xo("Optional"),8),ac=zs(xo("SkipSelf"),4);var Yn=(()=>((Yn=Yn||{})[Yn.Important=1]="Important",Yn[Yn.DashCase=2]="DashCase",Yn))();const Ih=new Map;let aV=0;const Vh="__ngContext__";function cn(n,e){y(e)?(n[Vh]=e[Ts],function cV(n){Ih.set(n[Ts],n)}(e)):n[Vh]=e}let Hh;function Oh(n,e){return Hh(n,e)}function uc(n){const e=n[Vt];return M(e)?e[Vt]:e}function Fh(n){return kM(n[M3])}function kh(n){return kM(n[gi])}function kM(n){for(;null!==n&&!M(n);)n=n[gi];return n}function wo(n,e,t,i,r){if(null!=i){let s,a=!1;M(i)?s=i:y(i)&&(a=!0,i=i[Gi]);const o=Y2(i);0===n&&null!==t?null==r?$M(e,t,o):Is(e,t,o,r||null,!0):1===n&&null!==t?Is(e,t,o,r||null,!0):2===n?function qh(n,e,t){const i=_l(n,e);i&&function EV(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,o,a):3===n&&e.destroyNode(o),null!=s&&function DV(n,e,t,i,r){const s=t[fo];s!==Y2(t)&&wo(e,n,i,s,r);for(let o=X2;o<t.length;o++){const c=t[o];fc(c[Ve],c,n,e,i,s)}}(e,n,s,t,r)}}function Bh(n,e,t){return n.createElement(e,t)}function BM(n,e){const t=n[w3],i=t.indexOf(e),r=e[Vt];512&e[z1]&&(e[z1]&=-513,uh(r,-1)),t.splice(i,1)}function Gh(n,e){if(n.length<=X2)return;const t=X2+e,i=n[t];if(i){const r=i[C3];null!==r&&r!==n&&BM(r,i),e>0&&(n[t-1][gi]=i[gi]);const s=ml(n,X2+e);!function MV(n,e){fc(n,e,e[A1],2,null,null),e[Gi]=null,e[R2]=null}(i[Ve],i);const a=s[ji];null!==a&&a.detachView(s[Ve]),i[Vt]=null,i[gi]=null,i[z1]&=-65}return i}function GM(n,e){if(!(128&e[z1])){const t=e[A1];t.destroyNode&&fc(n,e,t,3,null,null),function bV(n){let e=n[M3];if(!e)return Wh(n[Ve],n);for(;e;){let t=null;if(y(e))t=e[M3];else{const i=e[X2];i&&(t=i)}if(!t){for(;e&&!e[gi]&&e!==n;)y(e)&&Wh(e[Ve],e),e=e[Vt];null===e&&(e=n),y(e)&&Wh(e[Ve],e),t=e&&e[gi]}e=t}}(e)}}function Wh(n,e){if(!(128&e[z1])){e[z1]&=-65,e[z1]|=128,function AV(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof ec)){const s=t[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],c=s[a+1];$i(4,o,c);try{c.call(o)}finally{$i(5,o,c)}}else{$i(4,r,s);try{s.call(r)}finally{$i(5,r,s)}}}}}(n,e),function zV(n,e){const t=n.cleanup,i=e[_3];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),s+=2}else{const a=i[r=t[s+1]];t[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[_3]=null}}(n,e),1===e[Ve].type&&e[A1].destroy();const t=e[C3];if(null!==t&&M(e[Vt])){t!==e[Vt]&&BM(t,e);const i=e[ji];null!==i&&i.detachView(n)}!function lV(n){Ih.delete(n[Ts])}(e)}}function WM(n,e,t){return function jM(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Gi];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===pi.None||s===pi.Emulated)return null}return vi(i,t)}}(n,e.parent,t)}function Is(n,e,t,i,r){n.insertBefore(e,t,i,r)}function $M(n,e,t){n.appendChild(e,t)}function qM(n,e,t,i,r){null!==i?Is(n,e,t,i,r):$M(n,e,t)}function _l(n,e){return n.parentNode(e)}function ZM(n,e,t){return YM(n,e,t)}let jh,Cl,Yh,bl,YM=function XM(n,e,t){return 40&n.type?vi(n,t):null};function Ml(n,e,t,i){const r=WM(n,i,e),s=e[A1],o=ZM(i.parent||e[R2],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)qM(s,r,t[c],o,!1);else qM(s,r,t,o,!1);void 0!==jh&&jh(s,i,e,t,r)}function xl(n,e){if(null!==e){const t=e.type;if(3&t)return vi(e,n);if(4&t)return $h(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return xl(n,i);{const r=n[e.index];return M(r)?$h(-1,r):Y2(r)}}if(32&t)return Oh(e,n)()||Y2(n[e.index]);{const i=JM(n,e);return null!==i?Array.isArray(i)?i[0]:xl(uc(n[V2]),i):xl(n,e.next)}}return null}function JM(n,e){return null!==e?n[V2][R2].projection[e.projection]:null}function $h(n,e){const t=X2+n+1;if(t<e.length){const i=e[t],r=i[Ve].firstChild;if(null!==r)return xl(i,r)}return e[fo]}function Zh(n,e,t,i,r,s,a){for(;null!=t;){const o=i[t.index],c=t.type;if(a&&0===e&&(o&&cn(Y2(o),i),t.flags|=2),32!=(32&t.flags))if(8&c)Zh(n,e,t.child,i,r,s,!1),wo(e,n,r,o,s);else if(32&c){const l=Oh(t,i);let u;for(;u=l();)wo(e,n,r,u,s);wo(e,n,r,o,s)}else 16&c?QM(n,e,i,t,r,s):wo(e,n,r,o,s);t=a?t.projectionNext:t.next}}function fc(n,e,t,i,r,s){Zh(t,i,n.firstChild,e,r,s,!1)}function QM(n,e,t,i,r,s){const a=t[V2],c=a[R2].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)wo(e,n,r,c[l],s);else Zh(n,e,c,a[Vt],r,s,!0)}function ex(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function tx(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Mh(n,e,i),null!==r&&ex(n,e,r),null!==s&&function PV(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function So(n){return function Xh(){if(void 0===Cl&&(Cl=null,wt.trustedTypes))try{Cl=wt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cl}()?.createHTML(n)||n}function Kh(){if(void 0===bl&&(bl=null,wt.trustedTypes))try{bl=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bl}function ix(n){return Kh()?.createHTML(n)||n}function sx(n){return Kh()?.createScriptURL(n)||n}class Rs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eo})`}}class OV extends Rs{getTypeName(){return"HTML"}}class FV extends Rs{getTypeName(){return"Style"}}class kV extends Rs{getTypeName(){return"Script"}}class UV extends Rs{getTypeName(){return"URL"}}class BV extends Rs{getTypeName(){return"ResourceURL"}}function _i(n){return n instanceof Rs?n.changingThisBreaksApplicationSecurity:n}function Wr(n,e){const t=function GV(n){return n instanceof Rs&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${eo})`)}return t===e}class XV{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(So(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class YV{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=So(e),t}}const JV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wl(n){return(n=String(n)).match(JV)?n:"unsafe:"+n}function C4(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function hc(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const ox=C4("area,br,col,hr,img,wbr"),cx=C4("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lx=C4("rp,rt"),Jh=hc(ox,hc(cx,C4("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hc(lx,C4("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hc(lx,cx)),Qh=C4("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ux=hc(Qh,C4("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C4("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QV=C4("script,style,template");class eH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Jh.hasOwnProperty(t))return this.sanitizedSomething=!0,!QV.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!ux.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;Qh[o]&&(c=wl(c)),this.buf.push(" ",a,'="',fx(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Jh.hasOwnProperty(t)&&!ox.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(fx(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const tH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nH=/([^\#-~ |!])/g;function fx(n){return n.replace(/&/g,"&amp;").replace(tH,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(nH,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sl;function hx(n,e){let t=null;try{Sl=Sl||function ax(n){const e=new YV(n);return function KV(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch{return!1}}()?new XV(e):e}(n);let i=e?String(e):"";t=Sl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Sl.getInertBodyElement(i)}while(i!==s);return So((new eH).sanitizeChildren(ed(t)||t))}finally{if(t){const i=ed(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function ed(n){return"content"in n&&function iH(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tt=(()=>((Tt=Tt||{})[Tt.NONE=0]="NONE",Tt[Tt.HTML=1]="HTML",Tt[Tt.STYLE=2]="STYLE",Tt[Tt.SCRIPT=3]="SCRIPT",Tt[Tt.URL=4]="URL",Tt[Tt.RESOURCE_URL=5]="RESOURCE_URL",Tt))();function dx(n){const e=dc();return e?ix(e.sanitize(Tt.HTML,n)||""):Wr(n,"HTML")?ix(_i(n)):hx(function nx(){return void 0!==Yh?Yh:typeof document<"u"?document:void 0}(),_1(n))}function zo(n){const e=dc();return e?e.sanitize(Tt.URL,n)||"":Wr(n,"URL")?_i(n):wl(_1(n))}function px(n){const e=dc();if(e)return sx(e.sanitize(Tt.RESOURCE_URL,n)||"");if(Wr(n,"ResourceURL"))return sx(_i(n));throw new ye(904,!1)}function dc(){const n=de();return n&&n[Y0]}const zl=new Qe("ENVIRONMENT_INITIALIZER"),gx=new Qe("INJECTOR",-1),vx=new Qe("INJECTOR_DEF_TYPES");class yx{get(e,t=v3){if(t===v3){const i=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw i.name="NullInjectorError",i}return t}}function uH(...n){return{\u0275providers:_x(0,n),\u0275fromNgModule:!0}}function _x(n,...e){const t=[],i=new Set;let r;return Ps(e,s=>{const a=s;td(a,t,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&Mx(r,t),t}function Mx(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];nd(r,s=>{e.push(s)})}}function td(n,e,t,i){if(!(n=o1(n)))return!1;let r=null,s=B0(n);const a=!s&&ut(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const c=n.ngModule;if(s=B0(c),!s)return!1;r=c}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)td(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;i.add(r);try{Ps(s.imports,u=>{td(u,e,t,i)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&Mx(l,e)}if(!o){const l=Ls(r)||(()=>new r);e.push({provide:r,useFactory:l,deps:st},{provide:vx,useValue:r,multi:!0},{provide:zl,useValue:()=>Ge(r),multi:!0})}const c=s.providers;null==c||o||nd(c,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function nd(n,e){for(let t of n)k0(t)&&(t=t.\u0275providers),Array.isArray(t)?nd(t,e):e(t)}const fH=vt({provide:String,useValue:vt});function id(n){return null!==n&&"object"==typeof n&&fH in n}function Vs(n){return"function"==typeof n}const rd=new Qe("Set Injector scope."),Al={},dH={};let sd;function El(){return void 0===sd&&(sd=new yx),sd}class jr{}class bx extends jr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,od(e,a=>this.processProvider(a)),this.records.set(gx,Ao(void 0,this)),r.has("environment")&&this.records.set(jr,Ao(void 0,this));const s=this.records.get(rd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vx.multi,st,c1.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=y3(this),i=bn(void 0);try{return e()}finally{y3(t),bn(i)}}get(e,t=v3,i=c1.Default){this.assertNotDestroyed(),i=oo(i);const r=y3(this),s=bn(void 0);try{if(!(i&c1.SkipSelf)){let o=this.records.get(e);if(void 0===o){const c=function yH(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qe}(e)&&io(e);o=c&&this.injectableDefInScope(c)?Ao(ad(e),Al):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(i&c1.Self?El():this.parent).get(e,t=i&c1.Optional&&t===v3?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ws]=a[ws]||[]).unshift(yt(e)),r)throw a;return function K5(n,e,t,i){const r=n[ws];throw e[y4]&&r.unshift(e[y4]),n.message=function rh(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Y5?n.slice(2):n;let r=yt(e);if(Array.isArray(e))r=e.map(yt).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):yt(o)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(X5,"\n  ")}`}("\n"+n.message,r,t,i),n[Z5]=r,n[ws]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{bn(s),y3(r)}}resolveInjectorInitializers(){const e=y3(this),t=bn(void 0);try{const i=this.get(zl.multi,st,c1.Self);for(const r of i)r()}finally{y3(e),bn(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(yt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ye(205,!1)}processProvider(e){let t=Vs(e=o1(e))?e:o1(e&&e.provide);const i=function mH(n){return id(n)?Ao(void 0,n.useValue):Ao(wx(n),Al)}(e);if(Vs(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ao(void 0,Al,!0),r.factory=()=>$0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Al&&(t.value=dH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function vH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=o1(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ad(n){const e=io(n),t=null!==e?e.factory:Ls(n);if(null!==t)return t;if(n instanceof Qe)throw new ye(204,!1);if(n instanceof Function)return function pH(n){const e=n.length;if(e>0)throw rc(e,"?"),new ye(204,!1);const t=function U0(n){return n&&(n[ro]||n[j5])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new ye(204,!1)}function wx(n,e,t){let i;if(Vs(n)){const r=o1(n);return Ls(r)||ad(r)}if(id(n))i=()=>o1(n.useValue);else if(function Cx(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...$0(n.deps||[]));else if(function xx(n){return!(!n||!n.useExisting)}(n))i=()=>Ge(o1(n.useExisting));else{const r=o1(n&&(n.useClass||n.provide));if(!function gH(n){return!!n.deps}(n))return Ls(r)||ad(r);i=()=>new r(...$0(n.deps))}return i}function Ao(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function od(n,e){for(const t of n)Array.isArray(t)?od(t,e):t&&k0(t)?od(t.\u0275providers,e):e(t)}class _H{}class Sx{}class xH{resolveComponentFactory(e){throw function MH(n){const e=Error(`No component factory found for ${yt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let pc=(()=>{class n{}return n.NULL=new xH,n})();function CH(){return Eo(K2(),de())}function Eo(n,e){return new ln(vi(n,e))}let ln=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=CH,n})();function bH(n){return n instanceof ln?n.nativeElement:n}class Ax{}let $r=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function wH(){const n=de(),t=Xn(K2().index,n);return(y(t)?t:n)[A1]}(),n})(),SH=(()=>{class n{}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:()=>null}),n})();class mc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zH=new mc("15.2.9"),cd={},ld="ngOriginalError";function ud(n){return n[ld]}class To{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ud(e);for(;t&&ud(t);)t=ud(t);return t||null}}function b4(n){return n instanceof Function?n():n}function Tx(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const Lx="ng-template";function HH(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const a=n[i++];if(t&&"class"===s&&-1!==Tx(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Dx(n){return 4===n.type&&n.value!==Lx}function OH(n,e,t){return e===(4!==n.type||t?n.value:Lx)}function FH(n,e,t){let i=4;const r=n.attrs||[],s=function BH(n){for(let e=0;e<n.length;e++)if(rM(n[e]))return e;return n.length}(r);let a=!1;for(let o=0;o<e.length;o++){const c=e[o];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!OH(n,c,t)||""===c&&1===e.length){if(vr(i))return!1;a=!0}}else{const l=8&i?c:e[++o];if(8&i&&null!==n.attrs){if(!HH(n.attrs,l,t)){if(vr(i))return!1;a=!0}continue}const f=kH(8&i?"class":c,r,Dx(n),t);if(-1===f){if(vr(i))return!1;a=!0;continue}if(""!==l){let h;h=f>s?"":r[f+1].toLowerCase();const d=8&i?h:null;if(d&&-1!==Tx(d,l,0)||2&i&&l!==h){if(vr(i))return!1;a=!0}}}}else{if(!a&&!vr(i)&&!vr(c))return!1;if(a&&vr(c))continue;a=!1,i=c|1&i}}return vr(i)||a}function vr(n){return 0==(1&n)}function kH(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=e[++r];for(;"string"==typeof o;)o=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function GH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Nx(n,e,t=!1){for(let i=0;i<e.length;i++)if(FH(n,e[i],t))return!0;return!1}function WH(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Px(n,e){return n?":not("+e.trim()+")":e}function jH(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const o=n[++t];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!vr(a)&&(e+=Px(s,r),r=""),i=a,s=s||!vr(i);t++}return""!==r&&(e+=Px(s,r)),e}const b1={};function Le(n){Ix(rt(),de(),An()+n,!1)}function Ix(n,e,t,i){if(!i)if(3==(3&e[z1])){const s=n.preOrderCheckHooks;null!==s&&ol(e,s,t)}else{const s=n.preOrderHooks;null!==s&&cl(e,s,0,t)}Ds(t)}function Ox(n,e=null,t=null,i){const r=Fx(n,e,t,i);return r.resolveInjectorInitializers(),r}function Fx(n,e=null,t=null,i,r=new Set){const s=[t||st,uH(n)];return i=i||("object"==typeof n?void 0:yt(n)),new bx(s,e||El(),i||null,r)}let yr=(()=>{class n{static create(t,i){if(Array.isArray(t))return Ox({name:""},i,t,"");{const r=t.name??"";return Ox({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=v3,n.NULL=new yx,n.\u0275prov=Ze({token:n,providedIn:"any",factory:()=>Ge(gx)}),n.__NG_ELEMENT_ID__=-1,n})();function le(n,e=c1.Default){const t=de();return null===t?Ge(n,e):dM(K2(),t,o1(n),e)}function qx(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];mh(t[i]),a.contentQueries(2,e[s],s)}}}function Ll(n,e,t,i,r,s,a,o,c,l,u){const f=e.blueprint.slice();return f[Gi]=r,f[z1]=76|i,(null!==u||n&&1024&n[z1])&&(f[z1]|=1024),G_(f),f[Vt]=f[x3]=n,f[kt]=t,f[Wi]=a||n&&n[Wi],f[A1]=o||n&&n[A1],f[Y0]=c||n&&n[Y0]||null,f[uo]=l||n&&n[uo]||null,f[R2]=s,f[Ts]=function oV(){return aV++}(),f[Zn]=u,f[V2]=2==e.type?n[V2]:f,f}function No(n,e,t,i,r){let s=n.data[e];if(null===s)s=function md(n,e,t,i,r){const s=$_(),a=fh(),c=n.data[e]=function vO(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,i,r),function hR(){return C1.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const a=function Q0(){const n=C1.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Br(s,!0),s}function gc(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function gd(n,e,t){gh(e);try{const i=n.viewQuery;null!==i&&Sd(1,i,t);const r=n.template;null!==r&&Zx(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qx(n,e),n.staticViewQueries&&Sd(2,n.viewQuery,t);const s=n.components;null!==s&&function pO(n,e){for(let t=0;t<e.length;t++)HO(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[z1]&=-5,vh()}}function Dl(n,e,t,i){const r=e[z1];if(128!=(128&r)){gh(e);try{G_(e),function Z_(n){return C1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Zx(n,e,t,2,i);const a=3==(3&r);if(a){const l=n.preOrderCheckHooks;null!==l&&ol(e,l,null)}else{const l=n.preOrderHooks;null!==l&&cl(e,l,0,null),yh(e,0)}if(function RO(n){for(let e=Fh(n);null!==e;e=kh(e)){if(!e[nl])continue;const t=e[w3];for(let i=0;i<t.length;i++){const r=t[i];512&r[z1]||uh(r[Vt],1),r[z1]|=512}}}(e),function IO(n){for(let e=Fh(n);null!==e;e=kh(e))for(let t=X2;t<e.length;t++){const i=e[t],r=i[Ve];sl(i)&&Dl(r,i,r.template,i[kt])}}(e),null!==n.contentQueries&&qx(n,e),a){const l=n.contentCheckHooks;null!==l&&ol(e,l)}else{const l=n.contentHooks;null!==l&&cl(e,l,1),yh(e,1)}!function hO(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Ds(~r);else{const s=r,a=t[++i],o=t[++i];dR(a,s),o(2,e[s])}}}finally{Ds(-1)}}(n,e);const o=n.components;null!==o&&function dO(n,e){for(let t=0;t<e.length;t++)VO(n,e[t])}(e,o);const c=n.viewQuery;if(null!==c&&Sd(2,c,i),a){const l=n.viewCheckHooks;null!==l&&ol(e,l)}else{const l=n.viewHooks;null!==l&&cl(e,l,2),yh(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[z1]&=-41,512&e[z1]&&(e[z1]&=-513,uh(e[Vt],-1))}finally{vh()}}}function Zx(n,e,t,i,r){const s=An(),a=2&i;try{Ds(-1),a&&e.length>y1&&Ix(n,e,y1,!1),$i(a?2:0,r),t(i,r)}finally{Ds(s),$i(a?3:1,r)}}function vd(n,e,t){if(S(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}}function yd(n,e,t){j_()&&(function wO(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;R(t)&&function DO(n,e,t){const i=vi(e,n),r=Xx(t),s=n[Wi],a=Nl(n,Ll(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||hl(t,e),cn(i,e);const a=t.initialInputs;for(let o=r;o<s;o++){const c=n.data[o],l=Ns(e,n,o,t);cn(l,e),null!==a&&NO(0,o-r,l,c,0,a),Xe(c)&&(Xn(t.index,e)[kt]=Ns(e,n,o,t))}}(n,e,t,vi(t,e)),64==(64&t.flags)&&eC(n,e,t))}function _d(n,e,t=vi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?t(e,n):n[a];n[r++]=o}}}function Xx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Md(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Md(n,e,t,i,r,s,a,o,c,l){const u=y1+i,f=u+r,h=function mO(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:b1);return t}(u,f),d="function"==typeof l?l():l;return h[Ve]={type:n,blueprint:h,template:t,queries:null,viewQuery:o,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:d,incompleteFirstPass:!1}}function Yx(n,e,t,i){const r=nC(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&iC(n).push(i,r.length-1))}function Kx(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?Jx(t,e,r,s):i.hasOwnProperty(r)&&Jx(t,e,i[r],s)}return t}function Jx(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Mi(n,e,t,i,r,s,a,o){const c=vi(e,t);let u,l=e.inputs;!o&&null!=l&&(u=l[i])?(zd(n,t,u,i,r),R(e)&&function MO(n,e){const t=Xn(e,n);16&t[z1]||(t[z1]|=32)}(t,e.index)):3&e.type&&(i=function _O(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,s.setProperty(c,i,r))}function xd(n,e,t,i){if(j_()){const r=null===i?null:{"":-1},s=function zO(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(Nx(e,a.selectors,!1))if(i||(i=[]),Xe(a))if(null!==a.findHostDirectiveDefs){const o=[];r=r||new Map,a.findHostDirectiveDefs(a,o,r),i.unshift(...o,a),Cd(n,e,o.length)}else i.unshift(a),Cd(n,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,t);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&Qx(n,e,t,a,r,o),r&&function AO(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new ye(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=tc(t.mergedAttrs,t.attrs)}function Qx(n,e,t,i,r,s){for(let l=0;l<i.length;l++)wh(hl(t,e),n,i[l].type);!function TO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=gc(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=tc(t.mergedAttrs,u.hostAttrs),LO(n,t,e,c,u),EO(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(t.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(t.index),o=!0),c++}!function yO(n,e,t){const r=e.directiveEnd,s=n.data,a=e.attrs,o=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const f=s[u],h=t?t.get(f):null,p=h?h.outputs:null;c=Kx(f.inputs,u,c,h?h.inputs:null),l=Kx(f.outputs,u,l,p);const g=null===c||null===a||Dx(e)?null:PO(c,u,a);o.push(g)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}(n,t,s)}function eC(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,a=function pR(){return C1.lFrame.currentDirectiveIndex}();try{Ds(s);for(let o=i;o<r;o++){const c=n.data[o],l=e[o];dh(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&SO(c,l)}}finally{Ds(-1),dh(a)}}function SO(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Cd(n,e,t){e.componentOffset=t,(n.components??(n.components=[])).push(e.index)}function EO(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Xe(e)&&(t[""]=n)}}function LO(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ls(r.type)),a=new ec(s,Xe(r),le);n.blueprint[i]=a,t[i]=a,function CO(n,e,t,i,r){const s=r.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const o=~e.index;(function bO(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=o&&a.push(o),a.push(t,i,s)}}(n,e,i,gc(n,t,r.hostVars,b1),r)}function qr(n,e,t,i,r,s){const a=vi(n,e);!function bd(n,e,t,i,r,s,a){if(null==s)n.removeAttribute(e,r,t);else{const o=null==a?_1(s):a(s,i||"",r);n.setAttribute(e,r,o,t)}}(e[A1],a,s,n.value,t,i,r)}function NO(n,e,t,i,r,s){const a=s[e];if(null!==a){const o=i.setInput;for(let c=0;c<a.length;){const l=a[c++],u=a[c++],f=a[c++];null!==o?i.setInput(t,f,l,u):t[u]=f}}}function PO(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const a=n[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){i.push(s,a[o+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function tC(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null]}function VO(n,e){const t=Xn(e,n);if(sl(t)){const i=t[Ve];48&t[z1]?Dl(i,t,i.template,t[kt]):t[_4]>0&&wd(t)}}function wd(n){for(let i=Fh(n);null!==i;i=kh(i))for(let r=X2;r<i.length;r++){const s=i[r];if(sl(s))if(512&s[z1]){const a=s[Ve];Dl(a,s,a.template,s[kt])}else s[_4]>0&&wd(s)}const t=n[Ve].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Xn(t[i],n);sl(r)&&r[_4]>0&&wd(r)}}function HO(n,e){const t=Xn(e,n),i=t[Ve];(function OO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),gd(i,t,t[kt])}function Nl(n,e){return n[M3]?n[tl][gi]=e:n[M3]=e,n[tl]=e,e}function Pl(n){for(;n;){n[z1]|=32;const e=uc(n);if(ft(n)&&!e)return n;n=e}return null}function Il(n,e,t,i=!0){const r=e[Wi];r.begin&&r.begin();try{Dl(n,e,n.template,t)}catch(a){throw i&&sC(e,a),a}finally{r.end&&r.end()}}function Sd(n,e,t){mh(0),e(n,t)}function nC(n){return n[_3]||(n[_3]=[])}function iC(n){return n.cleanup||(n.cleanup=[])}function sC(n,e){const t=n[uo],i=t?t.get(To,null):null;i&&i.handleError(e)}function zd(n,e,t,i,r){for(let s=0;s<t.length;){const a=t[s++],o=t[s++],c=e[a],l=n.data[a];null!==l.setInput?l.setInput(c,r,i,o):c[o]=r}}function Rl(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:1==s?r=O0(r,o):2==s&&(i=O0(i,o+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function Vl(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Y2(s)),M(s))for(let o=X2;o<s.length;o++){const c=s[o],l=c[Ve].firstChild;null!==l&&Vl(c[Ve],c,l,i)}const a=t.type;if(8&a)Vl(n,e,t.child,i);else if(32&a){const o=Oh(t,e);let c;for(;c=o();)i.push(c)}else if(16&a){const o=JM(e,t);if(Array.isArray(o))i.push(...o);else{const c=uc(e[V2]);Vl(c[Ve],c,o,i,!0)}}t=r?t.projectionNext:t.next}return i}class vc{get rootNodes(){const e=this._lView,t=e[Ve];return Vl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return 128==(128&this._lView[z1])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Vt];if(M(e)){const t=e[ho],i=t?t.indexOf(this):-1;i>-1&&(Gh(e,i),ml(t,i))}this._attachedToViewContainer=!1}GM(this._lView[Ve],this._lView)}onDestroy(e){Yx(this._lView[Ve],this._lView,null,e)}markForCheck(){Pl(this._cdRefInjectingView||this._lView)}detach(){this._lView[z1]&=-65}reattach(){this._lView[z1]|=64}detectChanges(){Il(this._lView[Ve],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CV(n,e){fc(n,e,e[A1],2,null,null)}(this._lView[Ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ye(902,!1);this._appRef=e}}class FO extends vc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Il(e[Ve],e,e[kt],!1)}checkNoChanges(){}get context(){return null}}class aC extends pc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ut(e);return new yc(t,this.ngModule)}}function oC(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class UO{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=oo(i);const r=this.injector.get(e,cd,i);return r!==cd||t===cd?r:this.parentInjector.get(e,t,i)}}class yc extends Sx{get inputs(){return oC(this.componentDef.inputs)}get outputs(){return oC(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function $H(n){return n.map(jH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof jr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new UO(e,s):e,o=a.get(Ax,null);if(null===o)throw new ye(407,!1);const c=a.get(SH,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=i?function gO(n,e,t){return n.selectRootElement(e,t===pi.ShadowDom)}(l,i,this.componentDef.encapsulation):Bh(l,u,function kO(n){const e=n.toLowerCase();return"svg"===e?k_:"math"===e?"math":null}(u)),h=this.componentDef.onPush?288:272,d=Md(0,null,null,1,0,null,null,null,null,null),p=Ll(null,d,null,h,null,null,o,l,c,a,null);let g,v;gh(p);try{const m=this.componentDef;let x,_=null;m.findHostDirectiveDefs?(x=[],_=new Map,m.findHostDirectiveDefs(m,x,_),x.push(m)):x=[m];const C=function GO(n,e){const t=n[Ve],i=y1;return n[i]=e,No(t,i,2,"#host",null)}(p,f),w=function WO(n,e,t,i,r,s,a,o){const c=r[Ve];!function jO(n,e,t,i){for(const r of n)e.mergedAttrs=tc(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Rl(e,e.mergedAttrs,!0),null!==t&&tx(i,t,e))}(i,n,e,a);const l=s.createRenderer(e,t),u=Ll(r,Xx(t),null,t.onPush?32:16,r[n.index],n,s,l,o||null,null,null);return c.firstCreatePass&&Cd(c,n,i.length-1),Nl(r,u),r[n.index]=u}(C,f,m,x,p,o,l);v=B_(d,y1),f&&function qO(n,e,t,i){if(i)Mh(n,t,["ng-version",zH.full]);else{const{attrs:r,classes:s}=function qH(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!vr(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Mh(n,t,r),s&&s.length>0&&ex(n,t,s.join(" "))}}(l,m,f,i),void 0!==t&&function ZO(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(v,this.ngContentSelectors,t),g=function $O(n,e,t,i,r,s){const a=K2(),o=r[Ve],c=vi(a,r);Qx(o,r,a,t,null,i);for(let u=0;u<t.length;u++)cn(Ns(r,o,a.directiveStart+u,a),r);eC(o,r,a),c&&cn(c,r);const l=Ns(r,o,a.directiveStart+a.componentOffset,a);if(n[kt]=r[kt]=l,null!==s)for(const u of s)u(l,e);return vd(o,a,n),l}(w,m,x,_,p,[XO]),gd(d,p,null)}finally{vh()}return new BO(this.componentType,g,Eo(v,p),p,v)}}class BO extends _H{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new FO(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;zd(s[Ve],s,r,e,t),Pl(Xn(this._tNode.index,s))}}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function XO(){const n=K2();al(de()[Ve],n)}function _t(n){let e=function cC(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Xe(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ye(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=Ad(n.inputs),a.declaredInputs=Ad(n.declaredInputs),a.outputs=Ad(n.outputs);const o=r.hostBindings;o&&QO(n,o);const c=r.viewQuery,l=r.contentQueries;if(c&&KO(n,c),l&&JO(n,l),Ms(n.inputs,r.inputs),Ms(n.declaredInputs,r.declaredInputs),Ms(n.outputs,r.outputs),Xe(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(n),o===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}!function YO(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=tc(r.hostAttrs,t=tc(t,r.hostAttrs))}}(i)}function Ad(n){return n===mi?{}:n===st?[]:n}function KO(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function JO(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function QO(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Hl(n){return!!function Ed(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Zr(n,e,t){return n[e]=t}function un(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function _r(n,e,t,i){const r=de();return un(r,mo(),e)&&(rt(),qr(Ut(),r,n,e,t,i)),_r}function Io(n,e,t,i){return un(n,mo(),t)?e+_1(t)+i:b1}function Bt(n,e,t,i,r,s,a,o){const c=de(),l=rt(),u=n+y1,f=l.firstCreatePass?function lF(n,e,t,i,r,s,a,o,c){const l=e.consts,u=No(e,n,4,a||null,z3(l,o));xd(e,t,u,z3(l,c)),al(e,u);const f=u.tView=Md(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,s,a):l.data[u];Br(f,!1);const h=c[A1].createComment("");Ml(l,c,h,f),cn(h,c),Nl(c,c[u]=tC(h,c,h,f)),te(f)&&yd(l,c,f),null!=a&&_d(c,f,o)}function H2(n){return function po(n,e){return n[e]}(function fR(){return C1.lFrame.contextLView}(),y1+n)}function je(n,e,t){const i=de();return un(i,mo(),e)&&Mi(rt(),Ut(),i,n,e,i[A1],t,!1),je}function Td(n,e,t,i,r){const a=r?"class":"style";zd(n,t,e.inputs[a],a,i)}function j(n,e,t,i){const r=de(),s=rt(),a=y1+n,o=r[A1],c=s.firstCreatePass?function fF(n,e,t,i,r,s){const a=e.consts,c=No(e,n,2,i,z3(a,r));return xd(e,t,c,z3(a,s)),null!==c.attrs&&Rl(c,c.attrs,!1),null!==c.mergedAttrs&&Rl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,s,r,e,t,i):s.data[a],l=r[a]=Bh(o,e,function xR(){return C1.lFrame.currentNamespace}()),u=te(c);return Br(c,!0),tx(o,l,c),32!=(32&c.flags)&&Ml(s,r,l,c),0===function aR(){return C1.lFrame.elementDepthCount}()&&cn(l,r),function oR(){C1.lFrame.elementDepthCount++}(),u&&(yd(s,r,c),vd(s,c,r)),null!==i&&_d(r,c),j}function U(){let n=K2();fh()?hh():(n=n.parent,Br(n,!1));const e=n;!function cR(){C1.lFrame.elementDepthCount--}();const t=rt();return t.firstCreatePass&&(al(t,n),S(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function SR(n){return 0!=(8&n.flags)}(e)&&Td(t,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function zR(n){return 0!=(16&n.flags)}(e)&&Td(t,e,de(),e.stylesWithoutHost,!1),U}function ge(n,e,t,i){return j(n,e,t,i),U(),ge}function Os(){return de()}function Mc(n){return!!n&&"function"==typeof n.then}const Nd=function CC(n){return!!n&&"function"==typeof n.subscribe};function x1(n,e,t,i){const r=de(),s=rt(),a=K2();return function wC(n,e,t,i,r,s,a){const o=te(i),l=n.firstCreatePass&&iC(n),u=e[kt],f=nC(e);let h=!0;if(3&i.type||a){const g=vi(i,e),v=a?a(g):g,m=f.length,x=a?C=>a(Y2(C[i.index])):i.index;let _=null;if(!a&&o&&(_=function dF(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===t&&r[s+1]===i){const o=e[_3],c=r[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(n,e,r,i.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=zC(i,e,u,s,!1);const C=t.listen(v,r,s);f.push(s,C),l&&l.push(r,x,m,m+1)}}else s=zC(i,e,u,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const g=p.length;if(g)for(let v=0;v<g;v+=2){const w=e[p[v]][p[v+1]].subscribe(s),z=f.length;f.push(s,w),l&&l.push(r,i.index,z,-(z+1))}}}(s,r,r[A1],a,n,e,i),x1}function SC(n,e,t,i){try{return $i(6,e,t),!1!==t(i)}catch(r){return sC(n,r),!1}finally{$i(7,e,t)}}function zC(n,e,t,i,r){return function s(a){if(a===Function)return i;Pl(n.componentOffset>-1?Xn(n.index,e):e);let c=SC(e,t,i,a),l=s.__ngNextListenerFn__;for(;l;)c=SC(e,t,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function ht(n=1){return function gR(n){return(C1.lFrame.contextLView=function vR(n,e){for(;n>0;)e=e[x3],n--;return e}(n,C1.lFrame.contextLView))[kt]}(n)}function pF(n,e){let t=null;const i=function UH(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?Nx(n,s,!0):WH(i,s))return r}else t=r}return t}function Bo(n,e,t){return Pd(n,"",e,"",t),Bo}function Pd(n,e,t,i,r){const s=de(),a=Io(s,e,t,i);return a!==b1&&Mi(rt(),Ut(),s,n,a,s[A1],r,!1),Pd}function Fl(n,e){return n<<17|e<<2}function A3(n){return n>>17&32767}function Id(n){return 2|n}function Fs(n){return(131068&n)>>2}function Rd(n,e){return-131069&n|e<<2}function Vd(n){return 1|n}function HC(n,e,t,i,r){const s=n[t+1],a=null===e;let o=i?A3(s):Fs(s),c=!1;for(;0!==o&&(!1===c||a);){const u=n[o+1];MF(n[o],e)&&(c=!0,n[o+1]=i?Vd(u):Id(u)),o=i?A3(u):Fs(u)}c&&(n[t+1]=i?Id(s):Vd(s))}function MF(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Co(n,e)>=0}function xc(n,e){return function Mr(n,e,t,i){const r=de(),s=rt(),a=function x4(n){const e=C1.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function $C(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[An()],a=function jC(n,e){return e>=n.expandoStartIndex}(n,t);(function YC(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!a&&(e=!1),e=function TF(n,e,t,i){const r=function ph(n){const e=C1.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Cc(t=Hd(null,n,e,t,i),e.attrs,i),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=Hd(r,n,e,t,i),null===s){let c=function LF(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Fs(i))return n[A3(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Hd(null,n,e,c[1],i),c=Cc(c,e.attrs,i),function DF(n,e,t,i){n[A3(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else s=function NF(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Cc(i,n[s].hostAttrs,t);return Cc(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function yF(n,e,t,i,r,s){let a=s?e.classBindings:e.styleBindings,o=A3(a),c=Fs(a);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||Co(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=A3(n[o+1]);n[i+1]=Fl(h,o),0!==h&&(n[h+1]=Rd(n[h+1],i)),n[o+1]=function gF(n,e){return 131071&n|e<<17}(n[o+1],i)}else n[i+1]=Fl(o,0),0!==o&&(n[o+1]=Rd(n[o+1],i)),o=i;else n[i+1]=Fl(c,0),0===o?o=i:n[c+1]=Rd(n[c+1],i),c=i;l&&(n[i+1]=Id(n[i+1])),HC(n,u,i,!0),HC(n,u,i,!1),function _F(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Co(s,e)>=0&&(t[i+1]=Vd(t[i+1]))}(e,u,n,i,s),a=Fl(o,c),s?e.classBindings=a:e.styleBindings=a}(r,s,e,t,a,i)}}(s,n,a,i),e!==b1&&un(r,a,e)&&function ZC(n,e,t,i,r,s,a,o){if(!(3&e.type))return;const c=n.data,l=c[o+1],u=function vF(n){return 1==(1&n)}(l)?XC(c,e,t,r,Fs(l),a):void 0;kl(u)||(kl(s)||function mF(n){return 2==(2&n)}(l)&&(s=XC(c,null,t,r,o,a)),function NV(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Yn.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Yn.Important),n.setStyle(t,i,r,s))}}(i,a,rl(An(),t),r,s))}(s,s.data[An()],r,r[A1],n,r[a+1]=function VF(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=yt(_i(n)))),n}(e,t),i,a)}(n,e,null,!0),xc}function Hd(n,e,t,i,r){let s=null;const a=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<a&&(s=e[o],i=Cc(i,s.hostAttrs,r),s!==n);)o++;return null!==n&&(t.directiveStylingLast=o),i}function Cc(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,a,!!t||e[++s]))}return void 0===n?null:n}function XC(n,e,t,i,r,s){const a=null===e;let o;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let h=t[r+1];h===b1&&(h=f?st:void 0);let d=f?Eh(h,i):u===i?h:void 0;if(l&&!kl(d)&&(d=Eh(c,i)),kl(d)&&(o=d,a))return o;const p=n[r+1];r=a?A3(p):Fs(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(o=Eh(c,i))}return o}function kl(n){return void 0!==n}function De(n,e=""){const t=de(),i=rt(),r=n+y1,s=i.firstCreatePass?No(i,r,1,e,null):i.data[r],a=t[r]=function Uh(n,e){return n.createText(e)}(t[A1],e);Ml(i,t,a,s),Br(s,!1)}function Wo(n){return E3("",n,""),Wo}function E3(n,e,t){const i=de(),r=Io(i,n,e,t);return r!==b1&&function w4(n,e,t){const i=rl(e,n);!function UM(n,e,t){n.setValue(e,t)}(n[A1],i,t)}(i,An(),r),E3}function Od(n,e,t){const i=de();return un(i,mo(),e)&&Mi(rt(),Ut(),i,n,e,i[A1],t,!0),Od}const $o="en-US";let vb=$o;function Ud(n,e,t,i,r){if(n=o1(n),Array.isArray(n))for(let s=0;s<n.length;s++)Ud(n[s],e,t,i,r);else{const s=rt(),a=de();let o=Vs(n)?n:o1(n.provide),c=wx(n);const l=K2(),u=1048575&l.providerIndexes,f=l.directiveStart,h=l.providerIndexes>>20;if(Vs(n)||!n.multi){const d=new ec(c,r,le),p=Gd(o,e,r?u:u+h,f);-1===p?(wh(hl(l,a),s,o),Bd(s,n,e.length),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(d),a.push(d)):(t[p]=d,a[p]=d)}else{const d=Gd(o,e,u+h,f),p=Gd(o,e,u,u+h),v=p>=0&&t[p];if(r&&!v||!r&&!(d>=0&&t[d])){wh(hl(l,a),s,o);const m=function eU(n,e,t,i,r){const s=new ec(n,t,le);return s.multi=[],s.index=e,s.componentProviders=0,Bb(s,r,i&&!t),s}(r?Qk:Jk,t.length,r,i,c);!r&&v&&(t[p].providerFactory=m),Bd(s,n,e.length,0),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(m),a.push(m)}else Bd(s,n,d>-1?d:p,Bb(t[r?p:d],c,!r&&i));!r&&i&&v&&t[p].componentProviders++}}}function Bd(n,e,t,i){const r=Vs(e),s=function hH(n){return!!n.useClass}(e);if(r||s){const c=(s?o1(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function Bb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Gd(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Jk(n,e,t,i){return Wd(this.multi,[])}function Qk(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=Ns(t,t[Ve],this.providerFactory.index,i);s=o.slice(0,a),Wd(r,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],Wd(r,s);return s}function Wd(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Mt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Kk(n,e,t){const i=rt();if(i.firstCreatePass){const r=Xe(n);Ud(t,i.data,i.blueprint,r,!0),Ud(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class qo{}class Gb{}class Wb extends qo{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aC(this);const i=wn(e);this._bootstrapComponents=b4(i.bootstrap),this._r3Injector=Fx(e,t,[{provide:qo,useValue:this},{provide:pc,useValue:this.componentFactoryResolver}],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jd extends Gb{constructor(e){super(),this.moduleType=e}create(e){return new Wb(this.moduleType,e)}}class nU extends qo{constructor(e,t,i){super(),this.componentFactoryResolver=new aC(this),this.instance=null;const r=new bx([...e,{provide:qo,useValue:this},{provide:pc,useValue:this.componentFactoryResolver}],t||El(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function jl(n,e,t=null){return new nU(n,e,t).injector}let iU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=_x(0,t.type),r=i.length>0?jl([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Ze({token:n,providedIn:"environment",factory:()=>new n(Ge(jr))}),n})();function jb(n){n.getStandaloneInjector=e=>e.get(iU).getOrCreateStandaloneInjector(n)}function Xi(n,e,t){const i=zn()+n,r=de();return r[i]===b1?Zr(r,i,t?e.call(t):e()):function _c(n,e){return n[e]}(r,i)}function qd(n,e,t,i){return function Jb(n,e,t,i,r,s){const a=e+t;return un(n,a,r)?Zr(n,a+1,s?i.call(s,r):i(r)):function Ec(n,e){const t=n[e];return t===b1?void 0:t}(n,a+1)}(de(),zn(),n,e,t,i)}function Zd(n){return e=>{setTimeout(n,void 0,e)}}const Kt=class AU extends jn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),a=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=Zd(s),r&&(r=Zd(r)),a&&(a=Zd(a)));const o=super.subscribe({next:r,error:s,complete:a});return e instanceof ui&&e.add(o),o}};function EU(){return this._results[Symbol.iterator]()}class Xd{get changes(){return this._changes||(this._changes=new Kt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Xd.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=EU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function qi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function VR(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let S4=(()=>{class n{}return n.__NG_ELEMENT_ID__=DU,n})();const TU=S4,LU=class extends TU{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tView,r=Ll(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[C3]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[ji];return null!==a&&(r[ji]=a.createEmbeddedView(i)),gd(i,r,e),new vc(r)}};function DU(){return $l(K2(),de())}function $l(n,e){return 4&n.type?new LU(e,n,Eo(n,e)):null}let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=NU,n})();function NU(){return sw(K2(),de())}const PU=Cr,iw=class extends PU{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const e=bh(this._hostTNode,this._hostLView);if(oM(e)){const t=ul(e,this._hostLView),i=ll(e);return new vo(t[Ve].data[i+8],t)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=rw(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-X2}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedView(t||{},s);return this.insert(a,r),a}createComponent(e,t,i,r,s){const a=e&&!function ic(n){return"function"==typeof n}(e);let o;if(a)o=t;else{const f=t||{};o=f.index,i=f.injector,r=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const c=a?e:new yc(ut(e)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const h=(a?l:this.parentInjector).get(jr,null);h&&(s=h)}const u=c.create(l,r,void 0,s);return this.insert(u.hostView,o),u}insert(e,t){const i=e._lView,r=i[Ve];if(function sR(n){return M(n[Vt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const f=i[Vt],h=new iw(f,f[R2],f[Vt]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;!function wV(n,e,t,i){const r=X2+i,s=t.length;i>0&&(t[r-1][gi]=e),i<s-X2?(e[gi]=t[r],_M(t,X2+i,e)):(t.push(e),e[gi]=null),e[Vt]=t;const a=e[C3];null!==a&&t!==a&&function SV(n,e){const t=n[w3];e[V2]!==e[Vt][Vt][V2]&&(n[nl]=!0),null===t?n[w3]=[e]:t.push(e)}(a,e);const o=e[ji];null!==o&&o.insertView(n),e[z1]|=64}(r,i,a,s);const o=$h(s,a),c=i[A1],l=_l(c,a[fo]);return null!==l&&function xV(n,e,t,i,r,s){i[Gi]=r,i[R2]=e,fc(n,i,t,1,r,s)}(r,a[R2],c,i,l,o),e.attachToViewContainerRef(),_M(Yd(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=rw(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Gh(this._lContainer,t);i&&(ml(Yd(this._lContainer),t),GM(i[Ve],i))}detach(e){const t=this._adjustIndex(e,-1),i=Gh(this._lContainer,t);return i&&null!=ml(Yd(this._lContainer),t)?new vc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function rw(n){return n[ho]}function Yd(n){return n[ho]||(n[ho]=[])}function sw(n,e){let t;const i=e[n.index];if(M(i))t=i;else{let r;if(8&n.type)r=Y2(i);else{const s=e[A1];r=s.createComment("");const a=vi(n,e);Is(s,_l(s,a),r,function TV(n,e){return n.nextSibling(e)}(s,a),!1)}e[n.index]=t=tC(i,e,r,n),Nl(e,t)}return new iw(t,n,e)}class Kd{constructor(e){this.queryList=e,this.matches=null}clone(){return new Kd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Jd{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const a=t.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new Jd(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==fw(e,t).matches&&this.queries[t].setDirty()}}class aw{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Qd{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Qd(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ep{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ep(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,IU(t,s)),this.matchTNodeWithReadOption(e,t,dl(t,e,s,!1,!1))}else i===S4?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,dl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ln||r===Cr||r===S4&&4&t.type)this.addMatch(t.index,-2);else{const s=dl(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function IU(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function VU(n,e,t,i){return-1===t?function RU(n,e){return 11&n.type?Eo(n,e):4&n.type?$l(n,e):null}(e,n):-2===t?function HU(n,e,t){return t===ln?Eo(e,n):t===S4?$l(e,n):t===Cr?sw(e,n):void 0}(n,e,i):Ns(n,n[Ve],t,e)}function ow(n,e,t,i){const r=e[ji].queries[i];if(null===r.matches){const s=n.data,a=t.matches,o=[];for(let c=0;c<a.length;c+=2){const l=a[c];o.push(l<0?null:VU(e,s[l],a[c+1],t.metadata.read))}r.matches=o}return r.matches}function tp(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const a=ow(n,e,r,t);for(let o=0;o<s.length;o+=2){const c=s[o];if(c>0)i.push(a[o/2]);else{const l=s[o+1],u=e[-c];for(let f=X2;f<u.length;f++){const h=u[f];h[C3]===h[Vt]&&tp(h[Ve],h,l,i)}if(null!==u[w3]){const f=u[w3];for(let h=0;h<f.length;h++){const d=f[h];tp(d[Ve],d,l,i)}}}}}return i}function Tn(n){const e=de(),t=rt(),i=Y_();mh(i+1);const r=fw(t,i);if(n.dirty&&function rR(n){return 4==(4&n[z1])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?tp(t,e,i,[]):ow(t,e,r,i);n.reset(s,bH),n.notifyOnChanges()}return!0}return!1}function Jn(n,e,t){const i=rt();i.firstCreatePass&&(uw(i,new aw(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),lw(i,de(),e)}function Ln(){return function OU(n,e){return n[ji].queries[e].queryList}(de(),Y_())}function lw(n,e,t){const i=new Xd(4==(4&t));Yx(n,e,i,i.destroy),null===e[ji]&&(e[ji]=new Jd),e[ji].queries.push(new Kd(i))}function uw(n,e,t){null===n.queries&&(n.queries=new Qd),n.queries.track(new ep(e,t))}function fw(n,e){return n.queries.getByIndex(e)}function Zl(...n){}const Xl=new Qe("Application Initializer");let Yl=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Zl,this.reject=Zl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Mc(s))t.push(s);else if(Nd(s)){const a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});t.push(a)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ge(Xl,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dc=new Qe("AppId",{providedIn:"root",factory:function Tw(){return`${op()}${op()}${op()}`}});function op(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lw=new Qe("Platform Initializer"),cp=new Qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let aB=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const z4=new Qe("LocaleId",{providedIn:"root",factory:()=>S1(z4,c1.Optional|c1.SkipSelf)||function oB(){return typeof $localize<"u"&&$localize.locale||$o}()});class lB{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Dw=(()=>{class n{compileModuleSync(t){return new jd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=b4(wn(t).declarations).reduce((a,o)=>{const c=ut(o);return c&&a.push(new yc(c)),a},[]);return new lB(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hB=(()=>Promise.resolve(0))();function lp(n){typeof Zone>"u"?hB.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class n2{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new ye(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function dB(){let n=wt.requestAnimationFrame,e=wt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function gB(n){const e=()=>{!function mB(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(wt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,fp(n),n.isCheckStableRunning=!0,up(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),fp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,a,o)=>{try{return Iw(n),t.invokeTask(r,s,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Rw(n)}},onInvoke:(t,i,r,s,a,o,c)=>{try{return Iw(n),t.invoke(r,s,a,o,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),Rw(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fp(n),up(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!n2.isInAngularZone())throw new ye(909,!1)}static assertNotInAngularZone(){if(n2.isInAngularZone())throw new ye(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,e,pB,Zl,Zl);try{return s.runTask(a,t,i)}finally{s.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const pB={};function up(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Iw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Rw(n){n._nesting--,up(n)}class vB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const Vw=new Qe(""),Kl=new Qe("");let pp,hp=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pp||(function yB(n){pp=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{n2.assertNotInAngularZone(),lp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lp(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ge(n2),Ge(dp),Ge(Kl))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),dp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return pp?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const A4=!1;let T3=null;const Hw=new Qe("AllowMultipleToken"),mp=new Qe("PlatformDestroyListeners"),Ow=new Qe("appBootstrapListener");class Fw{constructor(e,t){this.name=e,this.token=t}}function Uw(n,e,t=[]){const i=`Platform: ${e}`,r=new Qe(i);return(s=[])=>{let a=gp();if(!a||a.injector.get(Hw,!1)){const o=[...t,...s,{provide:r,useValue:!0}];n?n(o):function xB(n){if(T3&&!T3.get(Hw,!1))throw new ye(400,!1);T3=n;const e=n.get(Gw);(function kw(n){const e=n.get(Lw,null);e&&e.forEach(t=>t())})(n)}(function Bw(n=[],e){return yr.create({name:e,providers:[{provide:rd,useValue:"platform"},{provide:mp,useValue:new Set([()=>T3=null])},...n]})}(o,i))}return function bB(n){const e=gp();if(!e)throw new ye(401,!1);return e}()}}function gp(){return T3?.get(Gw)??null}let Gw=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function jw(n,e){let t;return t="noop"===n?new vB:("zone.js"===n?void 0:n)||new n2(e),t}(i?.ngZone,function Ww(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:n2,useValue:r}];return r.run(()=>{const a=yr.create({providers:s,parent:this.injector,name:t.moduleType.name}),o=t.create(a),c=o.injector.get(To,null);if(!c)throw new ye(402,!1);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:u=>{c.handleError(u)}});o.onDestroy(()=>{Ql(this._modules,o),l.unsubscribe()})}),function $w(n,e,t){try{const i=t();return Mc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const l=o.injector.get(Yl);return l.runInitializers(),l.donePromise.then(()=>(function yb(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(vb=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(z4,$o)||$o),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=qw({},i);return function _B(n,e,t){const i=new jd(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Jl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new ye(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ye(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(mp,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ge(yr))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function qw(n,e){return Array.isArray(e)?e.reduce(qw,n):{...n,...e}}let Jl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new pt(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),a=new pt(o=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{n2.assertNotInAngularZone(),lp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{n2.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function jf(...n){const e=m3(n),t=function Ff(n,e){return"number"==typeof Ka(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?hi(i[0]):p3(t)(Xt(i,e)):di}(s,a.pipe(function g3(n={}){const{connector:e=(()=>new jn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,o,c,l=0,u=!1,f=!1;const h=()=>{o?.unsubscribe(),o=void 0},d=()=>{h(),a=c=void 0,u=f=!1},p=()=>{const g=a;d(),g?.unsubscribe()};return Zt((g,v)=>{l++,!f&&!u&&h();const m=c=c??e();v.add(()=>{l--,0===l&&!f&&!u&&(o=Ja(p,r))}),m.subscribe(v),!a&&l>0&&(a=new hr({next:x=>m.next(x),error:x=>{f=!0,h(),o=Ja(d,t,x),m.error(x)},complete:()=>{u=!0,h(),o=Ja(d,i),m.complete()}}),hi(g).subscribe(a))})(s)}}()))}bootstrap(t,i){const r=t instanceof Sx;if(!this._injector.get(Yl).done){!r&&function Ur(n){const e=ut(n)||I2(n)||Z2(n);return null!==e&&e.standalone}(t);throw new ye(405,A4)}let a;a=r?t:this._injector.get(pc).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const o=function MB(n){return n.isBoundToModule}(a)?void 0:this._injector.get(qo),l=a.create(yr.NULL,[],i||a.selector,o),u=l.location.nativeElement,f=l.injector.get(Vw,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ql(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ye(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Ql(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Ow,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ql(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ye(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(Ge(n2),Ge(jr),Ge(To))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ql(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let e7=(()=>{class n{}return n.__NG_ELEMENT_ID__=SB,n})();function SB(n){return function zB(n,e,t){if(R(n)&&!t){const i=Xn(n.index,e);return new vc(i,i)}return 47&n.type?new vc(e[V2],e):null}(K2(),de(),16==(16&n))}class Jw{constructor(){}supports(e){return Hl(e)}create(e){return new NB(e)}}const DB=(n,e)=>e;class NB{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||DB}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const a=!i||t&&t.currentIndex<eS(i,r,s)?t:i,o=eS(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{s||(s=[]);const l=o-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const d=h<s.length?s[h]:s[h]=0,p=d+h;u<=p&&p<l&&(s[h]=d+1)}s[a.previousIndex]=u-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Hl(e))throw new ye(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,o),i=!0),t=t._next}else r=0,function aF(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,o=>{a=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new PB(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Qw),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class PB{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IB{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Qw{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new IB,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eS(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function nS(){return new i7([new Jw])}let i7=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||nS()),deps:[[n,new ac,new sc]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new ye(901,!1)}}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:nS}),n})();const FB=Uw(null,"core",[]);let kB=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ge(Jl))},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({}),n})();function Yo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let xp=null;function E4(){return xp}class GB{}const Q2=new Qe("DocumentToken");let Cp=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return function WB(){return Ge(rS)}()},providedIn:"platform"}),n})();const jB=new Qe("Location Initialized");let rS=(()=>{class n extends Cp{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E4().getBaseHref(this._doc)}onPopState(t){const i=E4().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=E4().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){sS()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){sS()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:function(){return function $B(){return new rS(Ge(Q2))}()},providedIn:"platform"}),n})();function sS(){return!!window.history.pushState}function bp(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function aS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function T4(n){return n&&"?"!==n[0]?"?"+n:n}let Bs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return S1(cS)},providedIn:"root"}),n})();const oS=new Qe("appBaseHref");let cS=(()=>{class n extends Bs{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??S1(Q2).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bp(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+T4(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+T4(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+T4(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ge(Cp),Ge(oS,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qB=(()=>{class n extends Bs{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=bp(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+T4(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+T4(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ge(Cp),Ge(oS,8))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),wp=(()=>{class n{constructor(t){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function YB(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(aS(lS(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+T4(i))}normalize(t){return n.stripTrailingSlash(function XB(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,lS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T4(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+T4(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=T4,n.joinWithSlash=bp,n.stripTrailingSlash=aS,n.\u0275fac=function(t){return new(t||n)(Ge(Bs))},n.\u0275prov=Ze({token:n,factory:function(){return function ZB(){return new wp(Ge(Bs))}()},providedIn:"root"}),n})();function lS(n){return n.replace(/\/index.html$/,"")}function yS(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class RG{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let CS=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new RG(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),bS(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{bS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(Cr),le(S4),le(i7))},n.\u0275dir=f1({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function bS(n,e){n.context.$implicit=e.item}let Rc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new HG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(Cr),le(S4))},n.\u0275dir=f1({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class HG{constructor(){this.$implicit=null,this.ngIf=null}}function wS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${yt(e)}'.`)}let cW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({}),n})();let hW=(()=>{class n{}return n.\u0275prov=Ze({token:n,providedIn:"root",factory:()=>new dW(Ge(Q2),window)}),n})();class dW{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function pW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ES(this.window.history)||ES(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ES(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class TS{}class UW extends GB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Up extends UW{static makeCurrent(){!function BB(n){xp||(xp=n)}(new Up)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function BW(){return Hc=Hc||document.querySelector("base"),Hc?Hc.getAttribute("href"):null}();return null==t?null:function GW(n){m7=m7||document.createElement("a"),m7.setAttribute("href",n);const e=m7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return yS(document.cookie,e)}}let m7,Hc=null;const IS=new Qe("TRANSITION_ID"),jW=[{provide:Xl,useFactory:function WW(n,e,t){return()=>{t.get(Yl).donePromise.then(()=>{const i=E4(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[IS,Q2,yr],multi:!0}];let qW=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const g7=new Qe("EventManagerPlugins");let v7=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(t))return this._eventNameToPlugin.set(t,a),a}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ge(g7),Ge(n2))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class RS{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=E4().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let VS=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,i){const r=this.usageCount;let s=r.get(t)??0;return s+=i,s>0?r.set(t,s):r.delete(t),s}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),Oc=(()=>{class n extends VS{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.forEach(s=>s.remove()),i.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,i){const r=this.doc.createElement("style");r.textContent=i,t.appendChild(r);const s=this.styleRef.get(i);s?s.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gp=/%COMP%/g,FS=new Qe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function kS(n,e){return e.flat(100).map(t=>t.replace(Gp,n))}function US(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wp=(()=>{class n{constructor(t,i,r,s){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new jp(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(t,i);return r instanceof WS?r.applyToHost(t):r instanceof $p&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.eventManager,o=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(i.encapsulation){case pi.Emulated:s=new WS(a,o,i,this.appId,c);break;case pi.ShadowDom:return new ej(a,o,t,i);default:s=new $p(a,o,i,c)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ge(v7),Ge(Oc),Ge(Dc),Ge(FS))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();class jp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(GS(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(GS(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Bp[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Bp[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Yn.DashCase|Yn.Important)?e.style.setProperty(t,i,r&Yn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,US(i)):this.eventManager.addEventListener(e,t,US(i))}}function GS(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ej extends jp{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=kS(r.id,r.styles);for(const a of s){const o=document.createElement("style");o.textContent=a,this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $p extends jp{constructor(e,t,i,r,s=i.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=kS(s,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class WS extends $p{constructor(e,t,i,r,s){const a=r+"-"+i.id;super(e,t,i,s,a),this.contentAttr=function KW(n){return"_ngcontent-%COMP%".replace(Gp,n)}(a),this.hostAttr=function JW(n){return"_nghost-%COMP%".replace(Gp,n)}(a)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let tj=(()=>{class n extends RS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const jS=["alt","control","meta","shift"],nj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ij={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rj=(()=>{class n extends RS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>E4().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),jS.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(t,i){let r=nj[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jS.forEach(a=>{a!==r&&(0,ij[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const qS=[{provide:cp,useValue:"browser"},{provide:Lw,useValue:function sj(){Up.makeCurrent()},multi:!0},{provide:Q2,useFactory:function oj(){return function HV(n){Yh=n}(document),document},deps:[]}],cj=Uw(FB,"browser",qS),ZS=new Qe(""),XS=[{provide:Kl,useClass:class $W{addToWindow(e){wt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},wt.getAllAngularTestabilities=()=>e.getAllTestabilities(),wt.getAllAngularRootElements=()=>e.getAllRootElements(),wt.frameworkStabilizers||(wt.frameworkStabilizers=[]),wt.frameworkStabilizers.push(i=>{const r=wt.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(function(c){c.whenStable(o)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?E4().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Vw,useClass:hp,deps:[n2,dp,Kl]},{provide:hp,useClass:hp,deps:[n2,dp,Kl]}],YS=[{provide:rd,useValue:"root"},{provide:To,useFactory:function aj(){return new To},deps:[]},{provide:g7,useClass:tj,multi:!0,deps:[Q2,n2,cp]},{provide:g7,useClass:rj,multi:!0,deps:[Q2]},{provide:Wp,useClass:Wp,deps:[v7,Oc,Dc,FS]},{provide:Ax,useExisting:Wp},{provide:VS,useExisting:Oc},{provide:Oc,useClass:Oc,deps:[Q2]},{provide:v7,useClass:v7,deps:[g7,n2]},{provide:TS,useClass:qW,deps:[]},[]];let lj=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Dc,useValue:t.appId},{provide:IS,useExisting:Dc},jW]}}}return n.\u0275fac=function(t){return new(t||n)(Ge(ZS,12))},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({providers:[...YS,...XS],imports:[cW,kB]}),n})(),KS=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:function(t){let i=null;return i=t?new t:function fj(){return new KS(Ge(Q2))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(t){let i=null;return i=t?new(t||n):Ge(tz),i},providedIn:"root"}),n})(),tz=(()=>{class n extends ez{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Tt.NONE:return i;case Tt.HTML:return Wr(i,"HTML")?_i(i):hx(this._doc,String(i)).toString();case Tt.STYLE:return Wr(i,"Style")?_i(i):i;case Tt.SCRIPT:if(Wr(i,"Script"))return _i(i);throw new Error("unsafe value used in a script context");case Tt.URL:return Wr(i,"URL")?_i(i):wl(String(i));case Tt.RESOURCE_URL:if(Wr(i,"ResourceURL"))return _i(i);throw new Error(`unsafe value used in a resource URL context (see ${eo})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${eo})`)}}bypassSecurityTrustHtml(t){return function WV(n){return new OV(n)}(t)}bypassSecurityTrustStyle(t){return function jV(n){return new FV(n)}(t)}bypassSecurityTrustScript(t){return function $V(n){return new kV(n)}(t)}bypassSecurityTrustUrl(t){return function qV(n){return new UV(n)}(t)}bypassSecurityTrustResourceUrl(t){return function ZV(n){return new BV(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2))},n.\u0275prov=Ze({token:n,factory:function(t){let i=null;return i=t?new t:function gj(n){return new tz(n.get(Q2))}(Ge(yr)),i},providedIn:"root"}),n})();function l1(...n){return Xt(n,m3(n))}function D3(n,e){return it(e)?w2(n,e,1):w2(n,1)}function Kr(n,e){return Zt((t,i)=>{let r=0;t.subscribe(Ft(i,s=>n.call(e,s,r++)&&i.next(s)))})}class y7{}class Xp{}class en{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(s=>s.toString()),r.length>0){const s=t.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(t,s)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof en?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new en;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof en?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class vj{encodeKey(e){return nz(e)}encodeValue(e){return nz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _j=/%(\d[a-f0-9])/gi,Mj={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nz(n){return encodeURIComponent(n).replace(_j,(e,t)=>Mj[t]??e)}function _7(n){return`${n}`}class N3{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new vj,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yj(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,o]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(a)||[];c.push(o),t.set(a,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(_7):[_7(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new N3({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(_7(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(_7(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class xj{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function iz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rz(n){return typeof Blob<"u"&&n instanceof Blob}function sz(n){return typeof FormData<"u"&&n instanceof FormData}class Fc{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Cj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new en),this.context||(this.context=new xj),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+a}}else this.params=new N3,this.urlWithParams=t}serializeBody(){return null===this.body?null:iz(this.body)||rz(this.body)||sz(this.body)||function bj(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof N3?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sz(this.body)?null:rz(this.body)?this.body.type||null:iz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof N3?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),l)),new Fc(t,i,s,{params:l,headers:c,context:u,reportProgress:o,responseType:r,withCredentials:a})}}var g2=(()=>((g2=g2||{})[g2.Sent=0]="Sent",g2[g2.UploadProgress=1]="UploadProgress",g2[g2.ResponseHeader=2]="ResponseHeader",g2[g2.DownloadProgress=3]="DownloadProgress",g2[g2.Response=4]="Response",g2[g2.User=5]="User",g2))();class Yp{constructor(e,t=200,i="OK"){this.headers=e.headers||new en,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Kp extends Yp{constructor(e={}){super(e),this.type=g2.ResponseHeader}clone(e={}){return new Kp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class M7 extends Yp{constructor(e={}){super(e),this.type=g2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new M7({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class az extends Yp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Jp(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let x7=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Fc)s=t;else{let c,l;c=r.headers instanceof en?r.headers:new en(r.headers),r.params&&(l=r.params instanceof N3?r.params:new N3({fromObject:r.params})),s=new Fc(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=l1(s).pipe(D3(c=>this.handler.handle(c)));if(t instanceof Fc||"events"===r.observe)return a;const o=a.pipe(Kr(c=>c instanceof M7));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(w1(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return o.pipe(w1(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return o.pipe(w1(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return o.pipe(w1(c=>c.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new N3).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Jp(r,i))}post(t,i,r={}){return this.request("POST",t,Jp(r,i))}put(t,i,r={}){return this.request("PUT",t,Jp(r,i))}}return n.\u0275fac=function(t){return new(t||n)(Ge(y7))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function oz(n,e){return e(n)}function wj(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const zj=new Qe("HTTP_INTERCEPTORS"),kc=new Qe("HTTP_INTERCEPTOR_FNS");function Aj(){let n=null;return(e,t)=>(null===n&&(n=(S1(zj,{optional:!0})??[]).reduceRight(wj,oz)),n(e,t))}let cz=(()=>{class n extends y7{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(kc)));this.chain=i.reduceRight((r,s)=>function Sj(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),oz)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(Ge(Xp),Ge(jr))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Dj=/^\)\]\}',?\n/;let uz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new pt(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((d,p)=>r.setRequestHeader(d,p.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const d=t.detectContentTypeHeader();null!==d&&r.setRequestHeader("Content-Type",d)}if(t.responseType){const d=t.responseType.toLowerCase();r.responseType="json"!==d?d:"text"}const s=t.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const d=r.statusText||"OK",p=new en(r.getAllResponseHeaders()),g=function Nj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return a=new Kp({headers:p,status:r.status,statusText:d,url:g}),a},c=()=>{let{headers:d,status:p,statusText:g,url:v}=o(),m=null;204!==p&&(m=typeof r.response>"u"?r.responseText:r.response),0===p&&(p=m?200:0);let x=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof m){const _=m;m=m.replace(Dj,"");try{m=""!==m?JSON.parse(m):null}catch(C){m=_,x&&(x=!1,m={error:C,text:m})}}x?(i.next(new M7({body:m,headers:d,status:p,statusText:g,url:v||void 0})),i.complete()):i.error(new az({error:m,headers:d,status:p,statusText:g,url:v||void 0}))},l=d=>{const{url:p}=o(),g=new az({error:d,status:r.status||0,statusText:r.statusText||"Unknown Error",url:p||void 0});i.error(g)};let u=!1;const f=d=>{u||(i.next(o()),u=!0);let p={type:g2.DownloadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),"text"===t.responseType&&r.responseText&&(p.partialText=r.responseText),i.next(p)},h=d=>{let p={type:g2.UploadProgress,loaded:d.loaded};d.lengthComputable&&(p.total=d.total),i.next(p)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==s&&r.upload&&r.upload.addEventListener("progress",h)),r.send(s),i.next({type:g2.Sent}),()=>{r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==s&&r.upload&&r.upload.removeEventListener("progress",h)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(Ge(TS))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Qp=new Qe("XSRF_ENABLED"),fz=new Qe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hz=new Qe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dz{}let Rj=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yS(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Ge(Q2),Ge(cp),Ge(fz))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function Vj(n,e){const t=n.url.toLowerCase();if(!S1(Qp)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=S1(dz).getToken(),r=S1(hz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var a2=(()=>((a2=a2||{})[a2.Interceptors=0]="Interceptors",a2[a2.LegacyInterceptors=1]="LegacyInterceptors",a2[a2.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",a2[a2.NoXsrfProtection=3]="NoXsrfProtection",a2[a2.JsonpSupport=4]="JsonpSupport",a2[a2.RequestsMadeViaParent=5]="RequestsMadeViaParent",a2))();function Ko(n,e){return{\u0275kind:n,\u0275providers:e}}function Hj(...n){const e=[x7,uz,cz,{provide:y7,useExisting:cz},{provide:Xp,useExisting:uz},{provide:kc,useValue:Vj,multi:!0},{provide:Qp,useValue:!0},{provide:dz,useClass:Rj}];for(const t of n)e.push(...t.\u0275providers);return function lH(n){return{\u0275providers:n}}(e)}const pz=new Qe("LEGACY_INTERCEPTOR_FN");let Fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({providers:[Hj(Ko(a2.LegacyInterceptors,[{provide:pz,useFactory:Aj},{provide:kc,useExisting:pz,multi:!0}]))]}),n})();const{isArray:kj}=Array,{getPrototypeOf:Uj,prototype:Bj,keys:Gj}=Object;function mz(n){if(1===n.length){const e=n[0];if(kj(e))return{args:e,keys:null};if(function Wj(n){return n&&"object"==typeof n&&Uj(n)===Bj}(e)){const t=Gj(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:jj}=Array;function gz(n){return w1(e=>function $j(n,e){return jj(e)?n(...e):n(e)}(n,e))}function vz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let yz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(ln))},n.\u0275dir=f1({type:n}),n})(),Gs=(()=>{class n extends yz{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=J2(n)))(i||n)}}(),n.\u0275dir=f1({type:n,features:[_t]}),n})();const Jr=new Qe("NgValueAccessor"),Xj={provide:Jr,useExisting:xt(()=>Ws),multi:!0},Kj=new Qe("CompositionEventMode");let Ws=(()=>{class n extends yz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Yj(){const n=E4()?E4().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(ln),le(Kj,8))},n.\u0275dir=f1({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&x1("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Mt([Xj]),_t]}),n})();const Jj=!1;const fn=new Qe("NgValidators"),I3=new Qe("NgAsyncValidators");function bz(n){return function P3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function C7(n){return null}function Tz(n){return null!=n}function Lz(n){const e=Mc(n)?Xt(n):n;if(Jj&&!Nd(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new ye(-1101,t)}return e}function Dz(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Nz(n,e){return e.map(t=>t(n))}function Pz(n){return n.map(e=>function e$(n){return!n.validate}(e)?e:t=>e.validate(t))}function em(n){return null!=n?function Iz(n){if(!n)return null;const e=n.filter(Tz);return 0==e.length?null:function(t){return Dz(Nz(t,e))}}(Pz(n)):null}function tm(n){return null!=n?function Rz(n){if(!n)return null;const e=n.filter(Tz);return 0==e.length?null:function(t){return function qj(...n){const e=k5(n),{args:t,keys:i}=mz(n),r=new pt(s=>{const{length:a}=t;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let f=!1;hi(t[u]).subscribe(Ft(s,h=>{f||(f=!0,l--),o[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(i?vz(i,o):o),s.complete())}))}});return e?r.pipe(gz(e)):r}(Nz(t,e).map(Lz)).pipe(w1(Dz))}}(Pz(n)):null}function Vz(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nm(n){return n?Array.isArray(n)?n:[n]:[]}function b7(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fz(n,e){const t=nm(e);return nm(n).forEach(r=>{b7(t,r)||t.push(r)}),t}function kz(n,e){return nm(e).filter(t=>!b7(n,t))}class Uz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nn extends Uz{get formDirective(){return null}get path(){return null}}class R3 extends Uz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bz{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uc=(()=>{class n extends Bz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(R3,2))},n.\u0275dir=f1({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_t]}),n})(),w7=(()=>{class n extends Bz{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Nn,10))},n.\u0275dir=f1({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&xc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_t]}),n})();function Gz(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const sm=!1,Bc="VALID",z7="INVALID",Jo="PENDING",Gc="DISABLED";function am(n){return(A7(n)?n.validators:n)||null}function om(n,e){return(A7(e)?e.asyncValidators:n)||null}function A7(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $z{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Bc}get invalid(){return this.status===z7}get pending(){return this.status==Jo}get disabled(){return this.status===Gc}get enabled(){return this.status!==Gc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Fz(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fz(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kz(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kz(e,this._rawAsyncValidators))}hasValidator(e){return b7(this._rawValidators,e)}hasAsyncValidator(e){return b7(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Jo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bc||this.status===Jo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gc:Bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Jo,this._hasOwnPendingAsyncValidator=!0;const t=Lz(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?Gc:this.errors?z7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jo)?Jo:this._anyControlsHaveStatus(z7)?z7:Bc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){A7(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function o$(n){return Array.isArray(n)?em(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function c$(n){return Array.isArray(n)?tm(n):n||null}(this._rawAsyncValidators)}}class cm extends $z{constructor(e,t,i){super(am(t),om(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function jz(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new ye(1002,sm?function a$(n,e){return`Must supply a value for form control ${Gz(n,e)}`}(e,r):"")})})(this,!0,e),Object.keys(e).forEach(i=>{(function Wz(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new ye(1e3,sm?function r$(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!i[t])throw new ye(1001,sm?function s$(n,e){return`Cannot find form control ${Gz(n,e)}`}(e,t):"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Qo=new Qe("CallSetDisabledState",{providedIn:"root",factory:()=>E7}),E7="always";function Wc(n,e,t=E7){lm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function f$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qz(n,e)})}(n,e),function d$(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function h$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qz(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function u$(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function D7(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lm(n,e){const t=function Hz(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Vz(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function Oz(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Vz(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();D7(e._rawValidators,r),D7(e._rawAsyncValidators,r)}function qz(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const y$={provide:Nn,useExisting:xt(()=>e6)},jc=(()=>Promise.resolve())();let e6=(()=>{class n extends Nn{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new cm({},em(t),tm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){jc.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Wc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){jc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){jc.then(()=>{const i=this._findContainer(t.path),r=new cm({});(function Zz(n,e){lm(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){jc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){jc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Xz(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(le(fn,10),le(I3,10),le(Qo,8))},n.\u0275dir=f1({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&x1("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mt([y$]),_t]}),n})();function Yz(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Kz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jz=class extends $z{constructor(e=null,t,i){super(am(t),om(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),A7(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Kz(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Yz(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Yz(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Kz(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},x$={provide:R3,useExisting:xt(()=>t6)},tA=(()=>Promise.resolve())();let t6=(()=>{class n extends R3{constructor(t,i,r,s,a,o){super(),this._changeDetectorRef=a,this.callSetDisabledState=o,this.control=new Jz,this._registered=!1,this.update=new Kt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function hm(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Ws?t=s:function g$(n){return Object.getPrototypeOf(n.constructor)===Gs}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Yo(i);tA.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function T7(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(le(Nn,9),le(fn,10),le(I3,10),le(Jr,10),le(e7,8),le(Qo,8))},n.\u0275dir=f1({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Mt([x$]),_t,Sn]}),n})(),P7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f1({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),iA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({}),n})(),js=(()=>{class n{constructor(){this._validator=C7}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):C7,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f1({type:n,features:[Sn]}),n})();const F$={provide:fn,useExisting:xt(()=>n6),multi:!0};let n6=(()=>{class n extends js{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Yo,this.createValidator=t=>bz}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=J2(n)))(i||n)}}(),n.\u0275dir=f1({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&_r("required",i._enabled?"":null)},inputs:{required:"required"},features:[Mt([F$]),_t]}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({imports:[iA]}),n})(),q$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qo,useValue:t.callSetDisabledState??E7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({imports:[j$]}),n})();class zr extends jn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const I7=Ba(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xA(...n){const e=m3(n),t=k5(n),{args:i,keys:r}=mz(n);if(0===i.length)return Xt([],e);const s=new pt(function Z$(n,e,t=ki){return i=>{CA(e,()=>{const{length:r}=n,s=new Array(r);let a=r,o=r;for(let c=0;c<r;c++)CA(e,()=>{const l=Xt(n[c],e);let u=!1;l.subscribe(Ft(i,f=>{s[c]=f,u||(u=!0,o--),o||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>vz(r,a):ki));return t?s.pipe(gz(t)):s}function CA(n,e,t){n?Rt(t,n,e):e()}function ym(...n){return function X$(){return p3(1)}()(Xt(n,m3(n)))}function bA(n){return new pt(e=>{hi(n()).subscribe(e)})}function $c(n,e){const t=it(n)?n:()=>n,i=r=>r.error(t());return new pt(e?r=>e.schedule(i,0,r):i)}function _m(){return Zt((n,e)=>{let t=null;n._refCount++;const i=Ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class wA extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,S5(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ui;const t=this.getSubject();e.add(this.source.subscribe(Ft(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ui.EMPTY)}return e}refCount(){return _m()(this)}}function Qr(n,e){return Zt((t,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();t.subscribe(Ft(i,c=>{r?.unsubscribe();let l=0;const u=s++;hi(n(c,u)).subscribe(r=Ft(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,o()}))},()=>{a=!0,o()}))})}function i6(n){return n<=0?()=>di:Zt((e,t)=>{let i=0;e.subscribe(Ft(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function R7(n){return Zt((e,t)=>{let i=!1;e.subscribe(Ft(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function SA(n=K$){return Zt((e,t)=>{let i=!1;e.subscribe(Ft(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function K$(){return new I7}function V3(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Kr((r,s)=>n(r,s,i)):ki,i6(1),t?R7(e):SA(()=>new I7))}function hn(n,e,t){const i=it(n)||e||t?{next:n,error:e,complete:t}:n;return i?Zt((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;r.subscribe(Ft(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;o=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;o=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;o&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):ki}function H3(n){return Zt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Ft(t,void 0,void 0,a=>{s=hi(n(a,H3(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function zA(n,e){return Zt(function J$(n,e,t,i,r){return(s,a)=>{let o=t,c=e,l=0;s.subscribe(Ft(a,u=>{const f=l++;c=o?n(c,u,f):(o=!0,u),i&&a.next(c)},r&&(()=>{o&&a.next(c),a.complete()})))}}(n,e,arguments.length>=2,!0))}function Mm(n){return n<=0?()=>di:Zt((e,t)=>{let i=[];e.subscribe(Ft(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function AA(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Kr((r,s)=>n(r,s,i)):ki,Mm(1),t?R7(e):SA(()=>new I7))}function xm(n){return Zt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const E1="primary",qc=Symbol("RouteTitle");class tq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function r6(n){return new tq(n)}function nq(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],o=n[s];if(a.startsWith(":"))r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function e4(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!EA(n[r],e[r]))return!1;return!0}function EA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function TA(n){return Array.prototype.concat.apply([],n)}function LA(n){return n.length>0?n[n.length-1]:null}function tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function O3(n){return Nd(n)?n:Mc(n)?Xt(Promise.resolve(n)):l1(n)}const V7=!1,rq={exact:function PA(n,e,t){if(!$s(n.segments,e.segments)||!H7(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!PA(n.children[i],e.children[i],t))return!1;return!0},subset:IA},DA={exact:function sq(n,e){return e4(n,e)},subset:function aq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EA(n[t],e[t]))},ignored:()=>!0};function NA(n,e,t){return rq[t.paths](n.root,e.root,t.matrixParams)&&DA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function IA(n,e,t){return RA(n,e,e.segments,t)}function RA(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!$s(r,t)||e.hasChildren()||!H7(r,t,i))}if(n.segments.length===t.length){if(!$s(n.segments,t)||!H7(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!IA(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!($s(n.segments,r)&&H7(n.segments,r,i)&&n.children[E1])&&RA(n.children[E1],e,s,i)}}function H7(n,e,t){return e.every((i,r)=>DA[t](n[r].parameters,i.parameters))}class F3{constructor(e=new k1([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r6(this.queryParams)),this._queryParamMap}toString(){return lq.serialize(this)}}class k1{constructor(e,t){this.segments=e,this.children=t,this.parent=null,tn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return O7(this)}}class Zc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=r6(this.parameters)),this._parameterMap}toString(){return OA(this)}}function $s(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return new Cm},providedIn:"root"}),n})();class Cm{parse(e){const t=new yq(e);return new F3(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yc(e.root,!0)}`,i=function hq(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${F7(t)}=${F7(r)}`).join("&"):`${F7(t)}=${F7(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function uq(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lq=new Cm;function O7(n){return n.segments.map(e=>OA(e)).join("/")}function Yc(n,e){if(!n.hasChildren())return O7(n);if(e){const t=n.children[E1]?Yc(n.children[E1],!1):"",i=[];return tn(n.children,(r,s)=>{s!==E1&&i.push(`${s}:${Yc(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function cq(n,e){let t=[];return tn(n.children,(i,r)=>{r===E1&&(t=t.concat(e(i,r)))}),tn(n.children,(i,r)=>{r!==E1&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===E1?[Yc(n.children[E1],!1)]:[`${r}:${Yc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[E1]?`${O7(n)}/${t[0]}`:`${O7(n)}/(${t.join("//")})`}}function VA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function F7(n){return VA(n).replace(/%3B/gi,";")}function bm(n){return VA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function k7(n){return decodeURIComponent(n)}function HA(n){return k7(n.replace(/\+/g,"%20"))}function OA(n){return`${bm(n.path)}${function fq(n){return Object.keys(n).map(e=>`;${bm(e)}=${bm(n[e])}`).join("")}(n.parameters)}`}const dq=/^[^\/()?;=#]+/;function U7(n){const e=n.match(dq);return e?e[0]:""}const pq=/^[^=?&#]+/,gq=/^[^&#]+/;class yq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new k1([],{}):new k1([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[E1]=new k1(e,t)),i}parseSegment(){const e=U7(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new ye(4009,V7);return this.capture(e),new Zc(k7(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=U7(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=U7(this.remaining);r&&(i=r,this.capture(i))}e[k7(t)]=k7(i)}parseQueryParam(e){const t=function mq(n){const e=n.match(pq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function vq(n){const e=n.match(gq);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=HA(t),s=HA(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=U7(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ye(4010,V7);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=E1);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[E1]:new k1([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new ye(4011,V7)}}function wm(n){return n.segments.length>0?new k1([],{[E1]:n}):n}function B7(n){const e={};for(const i of Object.keys(n.children)){const s=B7(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function _q(n){if(1===n.numberOfChildren&&n.children[E1]){const e=n.children[E1];return new k1(n.segments.concat(e.segments),e.children)}return n}(new k1(n.segments,e))}function qs(n){return n instanceof F3}const Sm=!1;function Mq(n,e,t,i,r){if(0===t.length)return s6(e.root,e.root,e.root,i,r);const s=function GA(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new BA(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return tn(s.outlets,(c,l)=>{o[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:o}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((o,c)=>{0==c&&"."===o||(0==c&&""===o?t=!0:".."===o?e++:""!=o&&r.push(o))}),r):[...r,s]},[]);return new BA(t,e,i)}(t);return s.toRoot()?s6(e.root,e.root,new k1([],{}),i,r):function a(c){const l=function Cq(n,e,t,i){if(n.isAbsolute)return new a6(e.root,!0,0);if(-1===i)return new a6(t,t===e.root,0);return function WA(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ye(4005,Sm&&"Invalid number of '../'");r=i.segments.length}return new a6(i,!1,r-s)}(t,i+(Kc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),u=l.processChildren?o6(l.segmentGroup,l.index,s.commands):zm(l.segmentGroup,l.index,s.commands);return s6(e.root,l.segmentGroup,u,i,r)}(n.snapshot?._lastPathIndex)}function Kc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Jc(n){return"object"==typeof n&&null!=n&&n.outlets}function s6(n,e,t,i,r){let a,s={};i&&tn(i,(c,l)=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=n===e?t:UA(n,e,t);const o=wm(B7(a));return new F3(o,s,r)}function UA(n,e,t){const i={};return tn(n.children,(r,s)=>{i[s]=r===e?t:UA(r,e,t)}),new k1(n.segments,i)}class BA{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Kc(i[0]))throw new ye(4003,Sm&&"Root segment cannot have matrix parameters");const r=i.find(Jc);if(r&&r!==LA(i))throw new ye(4004,Sm&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class a6{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function zm(n,e,t){if(n||(n=new k1([],{})),0===n.segments.length&&n.hasChildren())return o6(n,e,t);const i=function wq(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],o=t[i];if(Jc(o))break;const c=`${o}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!$A(c,l,a))return s;i+=2}else{if(!$A(c,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new k1(n.segments.slice(0,i.pathIndex),{});return s.children[E1]=new k1(n.segments.slice(i.pathIndex),n.children),o6(s,0,r)}return i.match&&0===r.length?new k1(n.segments,{}):i.match&&!n.hasChildren()?Am(n,e,t):i.match?o6(n,0,r):Am(n,e,t)}function o6(n,e,t){if(0===t.length)return new k1(n.segments,{});{const i=function bq(n){return Jc(n[0])?n[0].outlets:{[E1]:n}}(t),r={};if(!i[E1]&&n.children[E1]&&1===n.numberOfChildren&&0===n.children[E1].segments.length){const s=o6(n.children[E1],e,t);return new k1(n.segments,s.children)}return tn(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=zm(n.children[a],e,s))}),tn(n.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new k1(n.segments,r)}}function Am(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Jc(s)){const c=Sq(s.outlets);return new k1(i,c)}if(0===r&&Kc(t[0])){i.push(new Zc(n.segments[e].path,jA(t[0]))),r++;continue}const a=Jc(s)?s.outlets[E1]:`${s}`,o=r<t.length-1?t[r+1]:null;a&&o&&Kc(o)?(i.push(new Zc(a,jA(o))),r+=2):(i.push(new Zc(a,{})),r++)}return new k1(i,{})}function Sq(n){const e={};return tn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=Am(new k1([],{}),0,t))}),e}function jA(n){const e={};return tn(n,(t,i)=>e[i]=`${t}`),e}function $A(n,e,t){return n==t.path&&e4(e,t.parameters)}const Qc="imperative";class t4{constructor(e,t){this.id=e,this.url=t}}class Em extends t4{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class k3 extends t4{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class G7 extends t4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class W7 extends t4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class Tm extends t4{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zq extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Aq extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eq extends t4{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tq extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lq extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dq{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nq{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qA{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Fq=(()=>{class n{createUrlTree(t,i,r,s,a,o){return Mq(t||i.root,r,s,a,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})(),Uq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(e){return Fq.\u0275fac(e)},providedIn:"root"}),n})();class ZA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Lm(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Lm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Dm(e,this._root).map(t=>t.value)}}function Lm(n,e){if(n===e.value)return e;for(const t of e.children){const i=Lm(n,t);if(i)return i}return null}function Dm(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Dm(n,t);if(i.length)return i.unshift(e),i}return[]}class D4{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function c6(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class XA extends ZA{constructor(e,t){super(e),this.snapshot=t,Nm(this,e)}toString(){return this.snapshot.toString()}}function YA(n,e){const t=function Bq(n,e){const a=new j7([],{},{},"",{},E1,e,null,n.root,-1,{});return new JA("",new D4(a,[]))}(n,e),i=new zr([new Zc("",{})]),r=new zr({}),s=new zr({}),a=new zr({}),o=new zr(""),c=new U3(i,r,a,o,s,E1,e,t.root);return c.snapshot=t.root,new XA(new D4(c,[]),t)}class U3{constructor(e,t,i,r,s,a,o,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.title=this.data?.pipe(w1(l=>l[qc]))??l1(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(w1(e=>r6(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(w1(e=>r6(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function KA(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Gq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class j7{get title(){return this.data?.[qc]}constructor(e,t,i,r,s,a,o,c,l,u,f){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=r6(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r6(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class JA extends ZA{constructor(e,t){super(t),this.url=e,Nm(this,t)}toString(){return QA(this._root)}}function Nm(n,e){e.value._routerState=n,e.children.forEach(t=>Nm(n,t))}function QA(n){const e=n.children.length>0?` { ${n.children.map(QA).join(", ")} } `:"";return`${n.value}${e}`}function Pm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,e4(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),e4(e.params,t.params)||n.params.next(t.params),function iq(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!e4(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),e4(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Im(n,e){const t=e4(n.params,e.params)&&function oq(n,e){return $s(n,e)&&n.every((t,i)=>e4(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Im(n.parent,e.parent))}function e8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function jq(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return e8(n,i,r);return e8(n,i)})}(n,e,t);return new D4(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(o=>e8(n,o)),a}}const i=function $q(n){return new U3(new zr(n.url),new zr(n.params),new zr(n.queryParams),new zr(n.fragment),new zr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>e8(n,s));return new D4(i,r)}}const Rm="ngNavigationCancelingError";function eE(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=tE(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function tE(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Rm]=!0,i.cancellationCode=e,t&&(i.url=t),i}function nE(n){return iE(n)&&qs(n.url)}function iE(n){return n&&n[Rm]}class qq{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new t8,this.attachRef=null}}let t8=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new qq,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $7=!1;let Vm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=E1,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=S1(t8),this.location=S1(Cr),this.changeDetector=S1(e7),this.environmentInjector=S1(jr)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ye(4012,$7);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ye(4012,$7);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ye(4012,$7);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new ye(4013,$7);this._activatedRoute=t;const r=this.location,a=t.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,c=new Zq(t,o,r.injector);if(i&&function Xq(n){return!!n.resolveComponentFactory}(i)){const l=i.resolveComponentFactory(a);this.activated=r.createComponent(l,r.length,c)}else this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f1({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Sn]}),n})();class Zq{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===U3?this.route:e===t8?this.childContexts:this.parent.get(e,t)}}let Hm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["ng-component"]],standalone:!0,features:[jb],decls:1,vars:0,template:function(t,i){1&t&&ge(0,"router-outlet")},dependencies:[Vm],encapsulation:2}),n})();function rE(n,e){return n.providers&&!n._injector&&(n._injector=jl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fm(n){const e=n.children&&n.children.map(Fm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==E1&&(t.component=Hm),t}function Ji(n){return n.outlet||E1}function sE(n,e){const t=n.filter(i=>Ji(i)===e);return t.push(...n.filter(i=>Ji(i)!==e)),t}function n8(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eZ{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Pm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=c6(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),tn(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=c6(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=c6(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=c6(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Vq(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Iq(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Pm(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Pm(o.route.value),this.activateChildRoutes(e,null,a.children)}else{const o=n8(r.snapshot),c=o?.get(pc)??null;a.attachRef=null,a.route=r,a.resolver=c,a.injector=o,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class aE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class q7{constructor(e,t){this.component=e,this.route=t}}function tZ(n,e,t){const i=n._root;return i8(i,e?e._root:null,t,[i.value])}function l6(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function Jf(n){return null!==io(n)}(n)?e.get(n):n:i}function i8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=c6(e);return n.children.forEach(a=>{(function iZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,o=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function rZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!$s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!$s(n.url,e.url)||!e4(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Im(n,e)||!e4(n.queryParams,e.queryParams);default:return!Im(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new aE(i)):(s.data=a.data,s._resolvedData=a._resolvedData),i8(n,e,s.component?o?o.children:null:t,i,r),c&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new q7(o.outlet.component,a))}else a&&r8(e,o,r),r.canActivateChecks.push(new aE(i)),i8(n,null,s.component?o?o.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),tn(s,(a,o)=>r8(a,t.getContext(o),r)),r}function r8(n,e,t){const i=c6(n),r=n.value;tn(i,(s,a)=>{r8(s,r.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new q7(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function s8(n){return"function"==typeof n}function km(n){return n instanceof I7||"EmptyError"===n?.name}const Z7=Symbol("INITIAL_VALUE");function u6(){return Qr(n=>xA(n.map(e=>e.pipe(i6(1),function Y$(...n){const e=m3(n);return Zt((t,i)=>{(e?ym(n,t,e):ym(n,t)).subscribe(i)})}(Z7)))).pipe(w1(e=>{for(const t of e)if(!0!==t){if(t===Z7)return Z7;if(!1===t||t instanceof F3)return t}return!0}),Kr(e=>e!==Z7),i6(1)))}function oE(n){return function fi(...n){return Fr(n)}(hn(e=>{if(qs(e))throw eE(0,e)}),w1(e=>!0===e))}const Um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cE(n,e,t,i,r){const s=Bm(n,e,t);return s.matched?function xZ(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?l1(r.map(a=>{const o=l6(a,n);return O3(function uZ(n){return n&&s8(n.canMatch)}(o)?o.canMatch(e,t):n.runInContext(()=>o(e,t)))})).pipe(u6(),oE()):l1(!0)}(i=rE(e,i),e,t).pipe(w1(a=>!0===a?s:{...Um})):l1(s)}function Bm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Um}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||nq)(t,n,e);if(!r)return{...Um};const s={};tn(r.posParams,(o,c)=>{s[c]=o.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function X7(n,e,t,i){if(t.length>0&&function wZ(n,e,t){return t.some(i=>Y7(n,e,i)&&Ji(i)!==E1)}(n,t,i)){const s=new k1(e,function bZ(n,e,t,i){const r={};r[E1]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Ji(s)!==E1){const a=new k1([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,r[Ji(s)]=a}return r}(n,e,i,new k1(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function SZ(n,e,t){return t.some(i=>Y7(n,e,i))}(n,t,i)){const s=new k1(n.segments,function CZ(n,e,t,i,r){const s={};for(const a of i)if(Y7(n,t,a)&&!r[Ji(a)]){const o=new k1([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,s[Ji(a)]=o}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new k1(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function Y7(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lE(n,e,t,i){return!!(Ji(n)===i||i!==E1&&Y7(e,t,n))&&("**"===n.path||Bm(e,n,t).matched)}function uE(n,e,t){return 0===e.length&&!n.children[t]}const K7=!1;class J7{constructor(e){this.segmentGroup=e||null}}class fE{constructor(e){this.urlTree=e}}function a8(n){return $c(new J7(n))}function hE(n){return $c(new fE(n))}class TZ{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=X7(this.urlTree.root,[],[],this.config).segmentGroup,t=new k1(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,E1).pipe(w1(s=>this.createUrlTree(B7(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(H3(s=>{if(s instanceof fE)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof J7?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,E1).pipe(w1(r=>this.createUrlTree(B7(r),e.queryParams,e.fragment))).pipe(H3(r=>{throw r instanceof J7?this.noMatchError(r):r}))}noMatchError(e){return new ye(4002,K7)}createUrlTree(e,t,i){const r=wm(e);return new F3(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(w1(s=>new k1([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Xt(r).pipe(D3(s=>{const a=i.children[s],o=sE(t,s);return this.expandSegmentGroup(e,o,a,s).pipe(w1(c=>({segment:c,outlet:s})))}),zA((s,a)=>(s[a.outlet]=a.segment,s),{}),AA())}expandSegment(e,t,i,r,s,a){return Xt(i).pipe(D3(o=>this.expandSegmentAgainstRoute(e,t,i,o,r,s,a).pipe(H3(l=>{if(l instanceof J7)return l1(null);throw l}))),V3(o=>!!o),H3((o,c)=>{if(km(o))return uE(t,r,s)?l1(new k1([],{})):a8(t);throw o}))}expandSegmentAgainstRoute(e,t,i,r,s,a,o){return lE(r,t,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a):a8(t):a8(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hE(s):this.lineralizeSegments(i,s).pipe(w2(a=>{const o=new k1(a,{});return this.expandSegment(e,o,t,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:o,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Bm(t,r,s);if(!o)return a8(t);const f=this.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?hE(f):this.lineralizeSegments(r,f).pipe(w2(h=>this.expandSegment(e,t,i,h.concat(l),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=rE(i,e),i.loadChildren?(i._loadedRoutes?l1({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(w1(o=>(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,new k1(r,{})))):l1(new k1(r,{}))):cE(t,i,r,e).pipe(Qr(({matched:a,consumedSegments:o,remainingSegments:c})=>a?this.getChildConfig(e=i._injector??e,i,r).pipe(w2(u=>{const f=u.injector??e,h=u.routes,{segmentGroup:d,slicedSegments:p}=X7(t,o,c,h),g=new k1(d.segments,d.children);if(0===p.length&&g.hasChildren())return this.expandChildren(f,h,g).pipe(w1(_=>new k1(o,_)));if(0===h.length&&0===p.length)return l1(new k1(o,{}));const v=Ji(i)===s;return this.expandSegment(f,g,h,p,v?E1:s,!0).pipe(w1(x=>new k1(o.concat(x.segments),x.children)))})):a8(t)))}getChildConfig(e,t,i){return t.children?l1({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?l1({routes:t._loadedRoutes,injector:t._loadedInjector}):function MZ(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?l1(!0):l1(r.map(a=>{const o=l6(a,n);return O3(function aZ(n){return n&&s8(n.canLoad)}(o)?o.canLoad(e,t):n.runInContext(()=>o(e,t)))})).pipe(u6(),oE())}(e,t,i).pipe(w2(r=>r?this.configLoader.loadChildren(e,t).pipe(hn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function AZ(n){return $c(tE(K7,3))}())):l1({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return l1(i);if(r.numberOfChildren>1||!r.children[E1])return e.redirectTo,$c(new ye(4e3,K7));r=r.children[E1]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new F3(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return tn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const o=r.substring(1);i[s]=t[o]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return tn(t.children,(o,c)=>{a[c]=this.createSegmentGroup(e,o,i,r)}),new k1(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new ye(4001,K7);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class DZ{}class IZ{constructor(e,t,i,r,s,a,o){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o}recognize(){const e=X7(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,E1).pipe(w1(t=>{if(null===t)return null;const i=new j7([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},E1,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new D4(i,t),s=new JA(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=KA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return Xt(Object.keys(i.children)).pipe(D3(r=>{const s=i.children[r],a=sE(t,r);return this.processSegmentGroup(e,a,s,r)}),zA((r,s)=>r&&s?(r.push(...s),r):null),function Q$(n,e=!1){return Zt((t,i)=>{let r=0;t.subscribe(Ft(i,s=>{const a=n(s,r++);(a||e)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),R7(null),AA(),w1(r=>{if(null===r)return null;const s=pE(r);return function RZ(n){n.sort((e,t)=>e.value.outlet===E1?-1:t.value.outlet===E1?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return Xt(t).pipe(D3(a=>this.processSegmentAgainstRoute(a._injector??e,a,i,r,s)),V3(a=>!!a),H3(a=>{if(km(a))return uE(i,r,s)?l1([]):l1(null);throw a}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!lE(t,i,r,s))return l1(null);let a;if("**"===t.path){const o=r.length>0?LA(r).parameters:{},c=gE(i)+r.length;a=l1({snapshot:new j7(r,o,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vE(t),Ji(t),t.component??t._loadedComponent??null,t,mE(i),c,yE(t)),consumedSegments:[],remainingSegments:[]})}else a=cE(i,t,r,e).pipe(w1(({matched:o,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!o)return null;const f=gE(i)+c.length;return{snapshot:new j7(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,vE(t),Ji(t),t.component??t._loadedComponent??null,t,mE(i),f,yE(t)),consumedSegments:c,remainingSegments:l}}));return a.pipe(Qr(o=>{if(null===o)return l1(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=o;e=t._injector??e;const f=t._loadedInjector??e,h=function VZ(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:d,slicedSegments:p}=X7(i,l,u,h.filter(v=>void 0===v.redirectTo));if(0===p.length&&d.hasChildren())return this.processChildren(f,h,d).pipe(w1(v=>null===v?null:[new D4(c,v)]));if(0===h.length&&0===p.length)return l1([new D4(c,[])]);const g=Ji(t)===s;return this.processSegment(f,h,d,p,g?E1:s).pipe(w1(v=>null===v?null:[new D4(c,v)]))}))}}function HZ(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pE(n){const e=[],t=new Set;for(const i of n){if(!HZ(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=pE(i.children);e.push(new D4(i.value,r))}return e.filter(i=>!t.has(i))}function mE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function vE(n){return n.data||{}}function yE(n){return n.resolve||{}}function _E(n){return"string"==typeof n.title||null===n.title}function Gm(n){return Qr(e=>{const t=n(e);return t?Xt(t).pipe(w1(()=>e)):l1(e)})}const f6=new Qe("ROUTES");let Wm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S1(Dw)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return l1(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=O3(t.loadComponent()).pipe(w1(xE),hn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xm(()=>{this.componentLoaders.delete(t)})),r=new wA(i,()=>new jn).pipe(_m());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return l1({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(w1(o=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l,u=!1;Array.isArray(o)?l=o:(c=o.create(t).injector,l=TA(c.get(f6,[],c1.Self|c1.Optional)));return{routes:l.map(Fm),injector:c}}),xm(()=>{this.childrenLoaders.delete(i)})),a=new wA(s,()=>new jn).pipe(_m());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return O3(t()).pipe(w1(xE),w2(i=>i instanceof Gb||Array.isArray(i)?l1(i):Xt(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xE(n){return function jZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let e9=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new jn,this.configLoader=S1(Wm),this.environmentInjector=S1(jr),this.urlSerializer=S1(Xc),this.rootContexts=S1(t8),this.navigationId=0,this.afterPreactivation=()=>l1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Nq(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Dq(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new zr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kr(i=>0!==i.id),w1(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Qr(i=>{let r=!1,s=!1;return l1(i).pipe(hn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(a=>{const o=t.browserUrlTree.toString(),c=!t.navigated||a.extractedUrl.toString()!==o||o!==t.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new W7(a.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),di}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return CE(a.source)&&(t.browserUrlTree=a.extractedUrl),l1(a).pipe(Qr(u=>{const f=this.transitions?.getValue();return this.events.next(new Em(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?di:Promise.resolve(u)}),function LZ(n,e,t,i){return Qr(r=>function EZ(n,e,t,i,r){return new TZ(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(w1(s=>({...r,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),hn(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function FZ(n,e,t,i,r){return w2(s=>function PZ(n,e,t,i,r,s,a="emptyOnly"){return new IZ(n,e,t,i,r,a,s).recognize().pipe(Qr(o=>null===o?function NZ(n){return new pt(e=>e.error(n))}(new DZ):l1(o)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(w1(a=>({...s,targetSnapshot:a}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),hn(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const f=new zq(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:f,source:h,restoredState:d,extras:p}=a,g=new Em(u,this.urlSerializer.serialize(f),h,d);this.events.next(g);const v=YA(f,this.rootComponentType).snapshot;return l1(i={...a,targetSnapshot:v,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new W7(a.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),di}}),hn(a=>{const o=new Aq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(o)}),w1(a=>i={...a,guards:tZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function hZ(n,e){return w2(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?l1({...t,guardsResult:!0}):function dZ(n,e,t,i){return Xt(n).pipe(w2(r=>function _Z(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return l1(!0);const a=s.map(o=>{const c=n8(e)??r,l=l6(o,c);return O3(function lZ(n){return n&&s8(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(V3())});return l1(a).pipe(u6())}(r.component,r.route,t,e,i)),V3(r=>!0!==r,!0))}(a,i,r,n).pipe(w2(o=>o&&function sZ(n){return"boolean"==typeof n}(o)?function pZ(n,e,t,i){return Xt(e).pipe(D3(r=>ym(function gZ(n,e){return null!==n&&e&&e(new Pq(n)),l1(!0)}(r.route.parent,i),function mZ(n,e){return null!==n&&e&&e(new Rq(n)),l1(!0)}(r.route,i),function yZ(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function nZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>bA(()=>l1(a.guards.map(c=>{const l=n8(a.node)??t,u=l6(c,l);return O3(function cZ(n){return n&&s8(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(V3())})).pipe(u6())));return l1(s).pipe(u6())}(n,r.path,t),function vZ(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return l1(!0);const r=i.map(s=>bA(()=>{const a=n8(e)??t,o=l6(s,a);return O3(function oZ(n){return n&&s8(n.canActivate)}(o)?o.canActivate(e,n):a.runInContext(()=>o(e,n))).pipe(V3())}));return l1(r).pipe(u6())}(n,r.route,t))),V3(r=>!0!==r,!0))}(i,s,n,e):l1(o)),w1(o=>({...t,guardsResult:o})))})}(this.environmentInjector,a=>this.events.next(a)),hn(a=>{if(i.guardsResult=a.guardsResult,qs(a.guardsResult))throw eE(0,a.guardsResult);const o=new Eq(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(o)}),Kr(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Gm(a=>{if(a.guards.canActivateChecks.length)return l1(a).pipe(hn(o=>{const c=new Tq(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Qr(o=>{let c=!1;return l1(o).pipe(function kZ(n,e){return w2(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return l1(t);let s=0;return Xt(r).pipe(D3(a=>function UZ(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!_E(r)&&(s[qc]=r.title),function BZ(n,e,t,i){const r=function GZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return l1({});const s={};return Xt(r).pipe(w2(a=>function WZ(n,e,t,i){const r=n8(e)??i,s=l6(n,r);return O3(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(V3(),hn(o=>{s[a]=o}))),Mm(1),function eq(n){return w1(()=>n)}(s),H3(a=>km(a)?di:$c(a)))}(s,n,e,i).pipe(w1(a=>(n._resolvedData=a,n.data=KA(n,t).resolve,r&&_E(r)&&(n.data[qc]=r.title),null)))}(a.route,i,n,e)),hn(()=>s++),Mm(1),w2(a=>s===r.length?l1(t):di))})}(t.paramsInheritanceStrategy,this.environmentInjector),hn({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",2))}}))}),hn(o=>{const c=new Lq(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}))}),Gm(a=>{const o=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(hn(u=>{c.component=u}),w1(()=>{})));for(const u of c.children)l.push(...o(u));return l};return xA(o(a.targetSnapshot.root)).pipe(R7(),i6(1))}),Gm(()=>this.afterPreactivation()),w1(a=>{const o=function Wq(n,e,t){const i=e8(n,e._root,t?t._root:void 0);return new XA(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:o}}),hn(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>w1(i=>(new eZ(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a)),i6(1),hn({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new k3(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),xm(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),H3(a=>{if(s=!0,iE(a)){nE(a)||(t.navigated=!0,t.restoreHistory(i,!0));const o=new G7(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(o),nE(a)){const c=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||CE(i.source)};t.scheduleNavigation(c,Qc,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const o=new Tm(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(o);try{i.resolve(t.errorHandler(a))}catch(c){i.reject(c)}}return di}))}))}cancelNavigationTransition(t,i,r){const s=new G7(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function CE(n){return n!==Qc}let bE=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===E1);return i}getResolvedTitleForRoute(t){return t.data[qc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return S1($Z)},providedIn:"root"}),n})(),$Z=(()=>{class n extends bE{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(Ge(KS))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return S1(XZ)},providedIn:"root"}),n})();class ZZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let XZ=(()=>{class n extends ZZ{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=J2(n)))(i||n)}}(),n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t9=new Qe("",{providedIn:"root",factory:()=>({})});let KZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:function(){return S1(JZ)},providedIn:"root"}),n})(),JZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QZ(n){throw n}function eX(n,e,t){return e.parse("/")}const tX={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nX={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S1(aB),this.isNgZoneEnabled=!1,this.options=S1(t9,{optional:!0})||{},this.errorHandler=this.options.errorHandler||QZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||eX,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S1(KZ),this.routeReuseStrategy=S1(qZ),this.urlCreationStrategy=S1(Uq),this.titleStrategy=S1(bE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=TA(S1(f6,{optional:!0})??[]),this.navigationTransitions=S1(e9),this.urlSerializer=S1(Xc),this.location=S1(wp),this.isNgZoneEnabled=S1(n2)instanceof n2&&n2.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new F3,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=YA(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const o=this.parseUrl(t);this.scheduleNavigation(o,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Fm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let u=null;switch(o){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=qs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Qc,null,i)}navigate(t,i={skipLocationChange:!1}){return function iX(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new ye(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...tX}:!1===i?{...nX}:i,qs(t))return NA(this.currentUrlTree,t,r);const s=this.parseUrl(t);return NA(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let o,c,l,u;return a?(o=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{o=f,c=h}),u="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:o,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),B3=(()=>{class n{constructor(t,i,r,s,a,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=o,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new jn;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof k3&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Yo(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Yo(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Yo(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function mx(n,e,t){return function cH(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?px:zo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(le(dn),le(U3),function pl(n){return function LR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(rM(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(K2(),n)}("tabindex"),le($r),le(ln),le(Bs))},n.\u0275dir=f1({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&x1("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&_r("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Sn]}),n})(),wE=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,a){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Kt,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof k3&&this.update()})}ngAfterContentInit(){l1(this.links.changes,l1(null)).pipe(p3()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Xt(t).pipe(p3()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function rX(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(le(dn),le(ln),le($r),le(e7),le(B3,8))},n.\u0275dir=f1({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&function cw(n,e,t,i){const r=rt();if(r.firstCreatePass){const s=K2();uw(r,new aw(e,t,i),s.index),function FU(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}lw(r,de(),t)}(r,B3,5),2&t){let s;Tn(s=Ln())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Sn]}),n})();class SE{}let sX=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Kr(t=>t instanceof k3),D3(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=jl(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,o=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(o,s.children??s._loadedRoutes))}return Xt(r).pipe(p3())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):l1(null);const s=r.pipe(w2(a=>null===a?l1(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return i.loadComponent&&!i._loadedComponent?Xt([s,this.loader.loadComponent(i)]).pipe(p3()):s})}}return n.\u0275fac=function(t){return new(t||n)(Ge(dn),Ge(Dw),Ge(jr),Ge(SE),Ge(Wm))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $m=new Qe("");let zE=(()=>{class n{constructor(t,i,r,s,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof k3&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function $x(){throw new Error("invalid")}()},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();var xi=(()=>((xi=xi||{})[xi.COMPLETE=0]="COMPLETE",xi[xi.FAILED=1]="FAILED",xi[xi.REDIRECTING=2]="REDIRECTING",xi))();const h6=!1;function G3(n,e){return{\u0275kind:n,\u0275providers:e}}const qm=new Qe("",{providedIn:"root",factory:()=>!1});function EE(){const n=S1(yr);return e=>{const t=n.get(Jl);if(e!==t.components[0])return;const i=n.get(dn),r=n.get(TE);1===n.get(Zm)&&i.initialNavigation(),n.get(LE,null,c1.Optional)?.setUpPreloading(),n.get($m,null,c1.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const TE=new Qe(h6?"bootstrap done indicator":"",{factory:()=>new jn}),Zm=new Qe(h6?"initial navigation":"",{providedIn:"root",factory:()=>1});function uX(){let n=[];return n=h6?[{provide:zl,multi:!0,useFactory:()=>{const e=S1(dn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Hq(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],G3(1,n)}const LE=new Qe(h6?"router preloader":"");function fX(n){return G3(0,[{provide:LE,useExisting:sX},{provide:SE,useExisting:n}])}const o8=!1,DE=new Qe(o8?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),hX=[wp,{provide:Xc,useClass:Cm},dn,t8,{provide:U3,useFactory:function AE(n){return n.routerState.root},deps:[dn]},Wm,o8?{provide:qm,useValue:!0}:[]];function dX(){return new Fw("Router",dn)}let n9=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[hX,o8&&i?.enableTracing?uX().\u0275providers:[],{provide:f6,multi:!0,useValue:t},{provide:DE,useFactory:vX,deps:[[dn,new sc,new ac]]},{provide:t9,useValue:i||{}},i?.useHash?{provide:Bs,useClass:qB}:{provide:Bs,useClass:cS},{provide:$m,useFactory:()=>{const n=S1(hW),e=S1(n2),t=S1(t9),i=S1(e9),r=S1(Xc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zE(r,i,n,e,t)}},i?.preloadingStrategy?fX(i.preloadingStrategy).\u0275providers:[],{provide:Fw,multi:!0,useFactory:dX},i?.initialNavigation?yX(i):[],[{provide:NE,useFactory:EE},{provide:Ow,multi:!0,useExisting:NE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:f6,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Ge(DE,8))},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({imports:[Hm]}),n})();function vX(n){if(o8&&n)throw new ye(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function yX(n){return["disabled"===n.initialNavigation?G3(3,[{provide:Xl,multi:!0,useFactory:()=>{const e=S1(dn);return()=>{e.setUpLocationChangeListener()}}},{provide:Zm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?G3(2,[{provide:Zm,useValue:0},{provide:Xl,multi:!0,deps:[yr],useFactory:e=>{const t=e.get(jB,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(dn),s=e.get(TE);(function aX(n,e){n.events.pipe(Kr(t=>t instanceof k3||t instanceof G7||t instanceof Tm||t instanceof W7),w1(t=>t instanceof k3||t instanceof W7?xi.COMPLETE:t instanceof G7&&(0===t.code||1===t.code)?xi.REDIRECTING:xi.FAILED),Kr(t=>t!==xi.REDIRECTING),i6(1)).subscribe(()=>{e()})})(r,()=>{i(!0)}),e.get(e9).afterPreactivation=()=>(i(!0),s.closed?l1(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const NE=new Qe(o8?"Router Initializer":"");var Xm={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},PE={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},c8={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},Ym={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},IE={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},RE={prefix:"fas",iconName:"coffee",icon:[640,512,[],"f0f4","M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"]},i9={prefix:"fas",iconName:"folder-open",icon:[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"]},VE={prefix:"fas",iconName:"mail-bulk",icon:[576,512,[],"f674","M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"]},HE={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]},OE={prefix:"fas",iconName:"moon",icon:[512,512,[],"f186","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"]},FE={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]},kE={prefix:"fas",iconName:"sun",icon:[512,512,[],"f185","M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"]};function N4(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function UE(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Km,pn,Jt,Wt,er,ig,rg,qE,YE,y6,g8,c,l,u,f,h,d,n,e,t,i,r,s,a,o,p,Ci={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},d6={duration:.5,overwrite:!1,delay:0},Qi=1e8,At=1/Qi,Jm=2*Math.PI,O0e=Jm/4,F0e=0,BE=Math.sqrt,k0e=Math.cos,U0e=Math.sin,O2=function(e){return"string"==typeof e},Qt=function(e){return"function"==typeof e},P4=function(e){return"number"==typeof e},Qm=function(e){return typeof e>"u"},n4=function(e){return"object"==typeof e},ei=function(e){return!1!==e},eg=function(){return typeof window<"u"},r9=function(e){return Qt(e)||O2(e)},GE="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},mn=Array.isArray,tg=/(?:-?\.?\d|\.)+/gi,WE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,p6=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ng=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jE=/[+-]=-?[.\d]+/,$E=/[^,'"\[\]\s]+/gi,B0e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bi={},s9={},ZE=function(e){return(s9=Xs(e,bi))&&ri},sg=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},a9=function(e,t){return!t&&console.warn(e)},XE=function(e,t){return e&&(bi[e]=t)&&s9&&(s9[e]=t)||bi},l8=function(){return 0},G0e={suppressEvents:!0,isStart:!0,kill:!1},o9={suppressEvents:!0,kill:!1},W0e={suppressEvents:!0},ag={},W3=[],og={},wi={},cg={},KE=30,c9=[],lg="",ug=function(e){var i,r,t=e[0];if(n4(t)||Qt(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=c9.length;r--&&!c9[r].targetTest(t););i=c9[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new zT(e[r],i)))||e.splice(r,1);return e},Zs=function(e){return e._gsap||ug(ir(e))[0]._gsap},JE=function(e,t,i){return(i=e[t])&&Qt(i)?e[t]():Qm(i)&&e.getAttribute&&e.getAttribute(t)||i},ti=function(e,t){return(e=e.split(",")).forEach(t)||e},o2=function(e){return Math.round(1e5*e)/1e5||0},nn=function(e){return Math.round(1e7*e)/1e7||0},m6=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},j0e=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},l9=function(){var i,r,e=W3.length,t=W3.slice(0);for(og={},W3.length=0,i=0;i<e;i++)(r=t[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},QE=function(e,t,i,r){W3.length&&!pn&&l9(),e.render(t,i,r||pn&&t<0&&(e._initted||e._startAt)),W3.length&&!pn&&l9()},eT=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match($E).length<2?t:O2(e)?e.trim():e},tT=function(e){return e},tr=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Xs=function(e,t){for(var i in t)e[i]=t[i];return e},nT=function n(e,t){for(var i in t)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=n4(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},u9=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},u8=function(e){var t=e.parent||Wt,i=e.keyframes?function(e){return function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}}(mn(e.keyframes)):tr;if(ei(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},iT=function(e,t,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o,a=e[r];if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},f9=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},j3=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ys=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Z0e=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},fg=function(e,t,i,r){return e._startAt&&(pn?e._startAt.revert(o9):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},X0e=function n(e){return!e||e._ts&&n(e.parent)},rT=function(e){return e._repeat?g6(e._tTime,e=e.duration()+e._rDelay)*e:0},g6=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},h9=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},d9=function(e){return e._end=nn(e._start+(e._tDur/Math.abs(e._ts||e._rts||At)||0))},p9=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=nn(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),d9(e),i._dirty||Ys(i,e)),e},sT=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=h9(e.rawTime(),t),(!t._dur||h8(0,t.totalDuration(),i)-t._tTime>At)&&t.render(i,!0)),Ys(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-At}},i4=function(e,t,i,r){return t.parent&&j3(t),t._start=nn((P4(i)?i:i||e!==Wt?nr(e,i,t):e._time)+t._delay),t._end=nn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),iT(e,t,"_first","_last",e._sort?"_start":0),hg(t)||(e._recent=t),r||sT(e,t),e._ts<0&&p9(e,e._tTime),e},aT=function(e,t){return(bi.ScrollTrigger||sg("scrollTrigger",t))&&bi.ScrollTrigger.create(t,e)},oT=function(e,t,i,r,s){return xg(e,t,s),e._initted?!i&&e._pt&&!pn&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&YE!==Si.frame?(W3.push(e),e._lazy=[s,r],1):void 0:1},Y0e=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},hg=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},v6=function(e,t,i,r){var s=e._repeat,a=nn(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:nn(a*(s+1)+e._rDelay*s):a,o>0&&!r&&p9(e,e._tTime=e._tDur*o),e.parent&&d9(e),i||Ys(e.parent,e),e},cT=function(e){return e instanceof ni?Ys(e):v6(e,e._dur)},Q0e={_start:0,endTime:l8,totalDuration:l8},nr=function n(e,t,i){var o,c,l,r=e.labels,s=e._recent||Q0e,a=e.duration()>=Qi?s.endTime(!1):e._dur;return O2(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),l="%"===t.substr(-1),o=t.indexOf("="),"<"===c||">"===c?(o>=0&&(t=t.replace(/=/,"")),("<"===c?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),l&&i&&(c=c/100*(mn(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+c:a+c)):null==t?a:+t},f8=function(e,t,i){var o,c,r=P4(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s];if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,c=i;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=ei(c.vars.inherit)&&c.parent;a.immediateRender=ei(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new v2(t[0],a,t[s+1])},$3=function(e,t){return e||0===e?t(e):t},h8=function(e,t,i){return i<e?e:i>t?t:i},gn=function(e,t){return O2(e)&&(t=B0e.exec(e))?t[1]:""},dg=[].slice,lT=function(e,t){return e&&n4(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&n4(e[0]))&&!e.nodeType&&e!==er},ir=function(e,t,i){return Jt&&!t&&Jt.selector?Jt.selector(e):!O2(e)||i||!ig&&_6()?mn(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(r){var s;return O2(r)&&!t||lT(r,1)?(s=i).push.apply(s,ir(r)):i.push(r)})||i}(e,i):lT(e)?dg.call(e,0):e?[e]:[]:dg.call((t||rg).querySelectorAll(e),0)},pg=function(e){return e=ir(e)[0]||a9("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return ir(t,i.querySelectorAll?i:i===e?a9("Invalid scope")||rg.createElement("div"):e)}},uT=function(e){return e.sort(function(){return.5-Math.random()})},fT=function(e){if(Qt(e))return e;var t=n4(e)?e:{each:e},i=Ks(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,c=isNaN(r)||o,l=t.axis,u=r,f=r;return O2(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(u=r[0],f=r[1]),function(h,d,p){var m,x,_,C,w,z,E,D,b,g=(p||t).length,v=a[g];if(!v){if(!(b="auto"===t.grid?0:(t.grid||[1,Qi])[1])){for(E=-Qi;E<(E=p[b++].getBoundingClientRect().left)&&b<g;);b--}for(v=a[g]=[],m=c?Math.min(b,g)*u-.5:r%b,x=b===Qi?0:c?g*f/b-.5:r/b|0,E=0,D=Qi,z=0;z<g;z++)_=z%b-m,C=x-(z/b|0),v[z]=w=l?Math.abs("y"===l?C:_):BE(_*_+C*C),w>E&&(E=w),w<D&&(D=w);"random"===r&&uT(v),v.max=E-D,v.min=D,v.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(b>g?g-1:l?"y"===l?g/b:b:Math.max(b,g/b))||0)*("edges"===r?-1:1),v.b=g<0?s-g:s,v.u=gn(t.amount||t.each)||0,i=i&&g<0?bT(i):i}return g=(v[h]-v.min)/v.max||0,nn(v.b+(i?i(g):g)*v.v)+v.u}},mg=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=nn(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(P4(i)?0:gn(i))}},hT=function(e,t){var r,s,i=mn(e);return!i&&n4(e)&&(r=i=e.radius||Qi,e.values?(e=ir(e.values),(s=!P4(e[0]))&&(r*=r)):e=mg(e.increment)),$3(t,i?Qt(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var h,d,o=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),l=Qi,u=0,f=e.length;f--;)(h=s?(h=e[f].x-o)*h+(d=e[f].y-c)*d:Math.abs(e[f]-o))<l&&(l=h,u=f);return u=!r||l<=r?e[u]:a,s||u===a||P4(a)?u:u+gn(a)}:mg(e))},dT=function(e,t,i,r){return $3(mn(e)?!t:!0===i?!!(i=0):!r,function(){return mn(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r})},pT=function(e,t,i){return $3(i,function(r){return e[~~t(r)]})},d8=function(e){for(var r,s,a,o,t=0,i="";~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o="["===e.charAt(r+7),s=e.substr(r+7,a-r-7).match(o?$E:tg),i+=e.substr(t,r-t)+dT(o?s:+s[0],o?0:+s[1],+s[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},mT=function(e,t,i,r,s){var a=t-e,o=r-i;return $3(s,function(c){return i+((c-e)/a*o||0)})},gT=function(e,t,i){var a,o,c,r=e.labels,s=Qi;for(a in r)(o=r[a]-t)<0==!!i&&o&&s>(o=Math.abs(o))&&(c=a,s=o);return c},rr=function(e,t,i){var c,l,u,r=e.vars,s=r[t],a=Jt,o=e._ctx;if(s)return c=r[t+"Params"],l=r.callbackScope||e,i&&W3.length&&l9(),o&&(Jt=o),u=c?s.apply(l,c):s.call(l),Jt=a,u},p8=function(e){return j3(e),e.scrollTrigger&&e.scrollTrigger.kill(!!pn),e.progress()<1&&rr(e,"onInterrupt"),e},vT=[],yT=function(e){if(eg()&&e){var t=(e=!e.name&&e.default||e).name,i=Qt(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:l8,render:wg,add:_g,kill:bce,modifier:Cce,rawVars:0},a={targetTest:0,get:0,getSetter:bg,aliases:{},register:0};if(_6(),e!==r){if(wi[t])return;tr(r,tr(u9(e,s),a)),Xs(r.prototype,Xs(s,u9(e,a))),wi[r.prop=t]=r,e.targetTest&&(c9.push(r),ag[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}XE(t,r),e.register&&e.register(ri,r,ii)}else e&&vT.push(e)},Et=255,m8={aqua:[0,Et,Et],lime:[0,Et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Et],navy:[0,0,128],white:[Et,Et,Et],olive:[128,128,0],yellow:[Et,Et,0],orange:[Et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Et,0,0],pink:[Et,192,203],cyan:[0,Et,Et],transparent:[Et,Et,Et,0]},gg=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Et+.5|0},_T=function(e,t,i){var s,a,o,c,l,u,f,h,d,p,r=e?P4(e)?[e>>16,e>>8&Et,e&Et]:0:m8.black;if(!r){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),m8[e])r=m8[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(r=parseInt(e.substr(1,6),16))>>16,r>>8&Et,r&Et,parseInt(e.substr(7),16)/255];r=[(e=parseInt(e.substr(1),16))>>16,e>>8&Et,e&Et]}else if("hsl"===e.substr(0,3))if(r=p=e.match(tg),t){if(~e.indexOf("="))return r=e.match(WE),i&&r.length<4&&(r[3]=1),r}else c=+r[0]%360/360,l=+r[1]/100,s=2*(u=+r[2]/100)-(a=u<=.5?u*(l+1):u+l-u*l),r.length>3&&(r[3]*=1),r[0]=gg(c+1/3,s,a),r[1]=gg(c,s,a),r[2]=gg(c-1/3,s,a);else r=e.match(tg)||m8.transparent;r=r.map(Number)}return t&&!p&&(s=r[0]/Et,a=r[1]/Et,o=r[2]/Et,u=((f=Math.max(s,a,o))+(h=Math.min(s,a,o)))/2,f===h?c=l=0:(d=f-h,l=u>.5?d/(2-f-h):d/(f+h),c=f===s?(a-o)/d+(a<o?6:0):f===a?(o-s)/d+2:(s-a)/d+4,c*=60),r[0]=~~(c+.5),r[1]=~~(100*l+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},MT=function(e){var t=[],i=[],r=-1;return e.split(q3).forEach(function(s){var a=s.match(p6)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},xT=function(e,t,i){var c,l,u,f,r="",s=(e+r).match(q3),a=t?"hsla(":"rgba(",o=0;if(!s)return e;if(s=s.map(function(h){return(h=_T(h,t,1))&&a+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=MT(e),(c=i.c).join(r)!==u.c.join(r)))for(f=(l=e.replace(q3,"1").split(p6)).length-1;o<f;o++)r+=l[o]+(~c.indexOf(o)?s.shift()||a+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!l)for(f=(l=e.split(q3)).length-1;o<f;o++)r+=l[o]+s[o];return r+l[f]},q3=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in m8)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),cce=/hsl[a]?\(/,CT=function(e){var i,t=e.join(" ");if(q3.lastIndex=0,q3.test(t))return i=cce.test(t),e[1]=xT(e[1],i),e[0]=xT(e[0],i,MT(e[1])),!0},Si=(n=Date.now,e=500,t=33,i=n(),r=i,a=s=1e3/240,p=function g(v){var _,C,w,z,m=n()-r,x=!0===v;if(m>e&&(i+=m-t),((_=(w=(r+=m)-i)-a)>0||x)&&(z=++f.frame,h=w-1e3*f.time,f.time=w/=1e3,a+=_+(_>=s?4:s-_),C=1),x||(c=l(g)),C)for(d=0;d<o.length;d++)o[d](w,h,z,v)},f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(v){return h/(1e3/(v||60))},wake:function(){qE&&(!ig&&eg()&&(er=ig=window,rg=er.document||{},bi.gsap=ri,(er.gsapVersions||(er.gsapVersions=[])).push(ri.version),ZE(s9||er.GreenSockGlobals||!er.gsap&&er||{}),u=er.requestAnimationFrame,vT.forEach(yT)),c&&f.sleep(),l=u||function(v){return setTimeout(v,a-1e3*f.time+1|0)},g8=1,p(2))},sleep:function(){(u?er.cancelAnimationFrame:clearTimeout)(c),g8=0,l=l8},lagSmoothing:function(v,m){e=v||1/0,t=Math.min(m||33,e)},fps:function(v){a=1e3*f.time+(s=1e3/(v||240))},add:function(v,m,x){var _=m?function(C,w,z,E){v(C,w,z,E),f.remove(_)}:v;return f.remove(v),o[x?"unshift":"push"](_),_6(),_},remove:function(v,m){~(m=o.indexOf(v))&&o.splice(m,1)&&d>=m&&d--},_listeners:o=[]}),_6=function(){return!g8&&Si.wake()},et={},lce=/^[\d.\-M][\d.\-,\s]/,uce=/["']/g,fce=function(e){for(var o,c,l,t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length;s<a;s++)c=i[s],o=s!==a-1?c.lastIndexOf(","):c.length,l=c.substr(0,o),t[r]=isNaN(l)?l.replace(uce,"").trim():+l,r=c.substr(o+1).trim();return t},bT=function(e){return function(t){return 1-e(1-t)}},wT=function n(e,t){for(var r,i=e._first;i;)i instanceof ni?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Ks=function(e,t){return e&&(Qt(e)?e:et[e]||function(e){var t=(e+"").split("("),i=et[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[fce(t[1])]:function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)}(e).split(",").map(eT)):et._CE&&lce.test(e)?et._CE("",e):i}(e))||t},Js=function(e,t,i,r){void 0===i&&(i=function(c){return 1-t(1-c)}),void 0===r&&(r=function(c){return c<.5?t(2*c)/2:1-t(2*(1-c))/2});var a,s={easeIn:t,easeOut:i,easeInOut:r};return ti(e,function(o){for(var c in et[o]=bi[o]=s,et[a=o.toLowerCase()]=i,s)et[a+("easeIn"===c?".in":"easeOut"===c?".out":".inOut")]=et[o+"."+c]=s[c]}),s},ST=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},vg=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/Jm*(Math.asin(1/r)||0),o=function(u){return 1===u?1:r*Math.pow(2,-10*u)*U0e((u-a)*s)+1},c="out"===e?o:"in"===e?function(l){return 1-o(1-l)}:ST(o);return s=Jm/s,c.config=function(l,u){return n(e,l,u)},c},yg=function n(e,t){void 0===t&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r="out"===e?i:"in"===e?function(s){return 1-i(1-s)}:ST(i);return r.config=function(s){return n(e,s)},r};ti("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Js(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(2*i,t)/2:1-Math.pow(2*(1-i),t)/2})}),et.Linear.easeNone=et.none=et.Linear.easeIn,Js("Elastic",vg("in"),vg("out"),vg()),function(n,e){var s=function(o){return o<.36363636363636365?n*o*o:o<.7272727272727273?n*Math.pow(o-1.5/e,2)+.75:o<.9090909090909092?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};Js("Bounce",function(a){return 1-s(1-a)},s)}(7.5625,2.75),Js("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Js("Circ",function(n){return-(BE(1-n*n)-1)}),Js("Sine",function(n){return 1===n?1:1-k0e(n*O0e)}),Js("Back",yg("in"),yg("out"),yg()),et.SteppedEase=et.steps=bi.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,a=1-At;return function(o){return((r*h8(0,a,o)|0)+s)*i}}},d6.ease=et["quad.out"],ti("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return lg+=n+","+n+"Params,"});var zT=function(e,t){this.id=F0e++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:JE,this.set=t?t.getSetter:bg},v8=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,v6(this,+t.duration,1,1),this.data=t.data,Jt&&(this._ctx=Jt,Jt.data.push(this)),g8||Si.wake()}var e=n.prototype;return e.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,v6(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(_6(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(p9(this,i),!s._dp||s.parent||sT(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&i4(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===At||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),QE(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+rT(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+rT(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?g6(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-At?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?h9(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-At?0:this._rts,this.totalTime(h8(-Math.abs(this._delay),this._tDur,r),!0),d9(this),Z0e(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_6(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==At&&(this._tTime-=At)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&i4(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ei(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?h9(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){void 0===i&&(i=W0e);var r=pn;return pn=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),pn=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,cT(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,cT(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(nr(this,i),ei(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ei(r))},e.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-At:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-At,this},e.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-At))},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(s){var a=Qt(i)?i:tT,o=function(){var l=r.then;r.then=null,Qt(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=l),s(a),r.then=l};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){p8(this)},n}();tr(v8.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-At,_prom:0,_ps:!1,_rts:1});var ni=function(n){function e(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=ei(i.sortChildren),Wt&&i4(i.parent||Wt,N4(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&aT(N4(s),i.scrollTrigger),s}UE(e,n);var t=e.prototype;return t.to=function(r,s,a){return f8(0,arguments,this),this},t.from=function(r,s,a){return f8(1,arguments,this),this},t.fromTo=function(r,s,a,o){return f8(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,u8(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new v2(r,s,nr(this,a),1),this},t.call=function(r,s,a){return i4(this,v2.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,c,l,u){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=l,a.onCompleteParams=u,a.parent=this,new v2(r,a,nr(this,c)),this},t.staggerFrom=function(r,s,a,o,c,l,u){return a.runBackwards=1,u8(a).immediateRender=ei(a.immediateRender),this.staggerTo(r,s,a,o,c,l,u)},t.staggerFromTo=function(r,s,a,o,c,l,u,f){return o.startAt=a,u8(o).immediateRender=ei(o.immediateRender),this.staggerTo(r,s,o,c,l,u,f)},t.render=function(r,s,a){var h,d,p,g,v,m,x,_,C,w,z,E,o=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=r<=0?0:nn(r),f=this._zTime<0!=r<0&&(this._initted||!l);if(this!==Wt&&u>c&&r>=0&&(u=c),u!==this._tTime||a||f){if(o!==this._time&&l&&(u+=this._time-o,r+=this._time-o),h=u,C=this._start,m=!(_=this._ts),f&&(l||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(z=this._yoyo,v=l+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*v+r,s,a);if(h=nn(u%v),u===c?(g=this._repeat,h=l):((g=~~(u/v))&&g===u/v&&(h=l,g--),h>l&&(h=l)),w=g6(this._tTime,v),!o&&this._tTime&&w!==g&&this._tTime-w*v-this._dur<=0&&(w=g),z&&1&g&&(h=l-h,E=1),g!==w&&!this._lock){var D=z&&1&w,b=D===(z&&1&g);if(g<w&&(D=!D),o=D?0:u%l?l:u,this._lock=1,this.render(o||(E?0:nn(g*v)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&rr(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),o&&o!==this._time||m!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,b&&(this._lock=2,this.render(o=D?l:-1e-4,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!m)return this;wT(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,nn(o),nn(h)),x&&(u-=h-(h=x._start))),this._tTime=u,this._time=h,this._act=!_,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&!s&&!g&&(rr(this,"onStart"),this._tTime!==u))return this;if(h>=o&&r>=0)for(d=this._first;d;){if(p=d._next,(d._act||h>=d._start)&&d._ts&&x!==d){if(d.parent!==this)return this.render(r,s,a);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,s,a),h!==this._time||!this._ts&&!m){x=0,p&&(u+=this._zTime=-At);break}}d=p}else{d=this._last;for(var A=r<0?r:h;d;){if(p=d._prev,(d._act||A<=d._end)&&d._ts&&x!==d){if(d.parent!==this)return this.render(r,s,a);if(d.render(d._ts>0?(A-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(A-d._start)*d._ts,s,a||pn&&(d._initted||d._startAt)),h!==this._time||!this._ts&&!m){x=0,p&&(u+=this._zTime=A?-At:At);break}}d=p}}if(x&&!s&&(this.pause(),x.render(h>=o?0:-At)._zTime=h>=o?1:-1,this._ts))return this._start=C,d9(this),this.render(r,s,a);this._onUpdate&&!s&&rr(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&o)&&(C===this._start||Math.abs(_)!==Math.abs(this._ts))&&(this._lock||((r||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&j3(this,1),!s&&(!(r<0)||o)&&(u||o||!c)&&(rr(this,u===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(P4(s)||(s=nr(this,s,r)),!(r instanceof v8)){if(mn(r))return r.forEach(function(o){return a.add(o,s)}),this;if(O2(r))return this.addLabel(r,s);if(!Qt(r))return this;r=v2.delayedCall(0,r)}return this!==r?i4(this,r,s):this},t.getChildren=function(r,s,a,o){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===o&&(o=-Qi);for(var c=[],l=this._first;l;)l._start>=o&&(l instanceof v2?s&&c.push(l):(a&&c.push(l),r&&c.push.apply(c,l.getChildren(!0,s,a)))),l=l._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return O2(r)?this.removeLabel(r):Qt(r)?this.killTweensOf(r):(f9(this,r),r===this._recent&&(this._recent=this._last),Ys(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=nn(Si.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=nr(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=v2.delayedCall(0,s||l8,a);return o.data="isPause",this._hasPause=1,i4(this,o,nr(this,r))},t.removePause=function(r){var s=this._first;for(r=nr(this,r);s;)s._start===r&&"isPause"===s.data&&j3(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),c=o.length;c--;)Z3!==o[c]&&o[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var u,a=[],o=ir(r),c=this._first,l=P4(s);c;)c instanceof v2?j0e(c._targets,o)&&(l?(!Z3||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(u=c.getTweensOf(o,s)).length&&a.push.apply(a,u),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var d,a=this,o=nr(a,r),l=s.startAt,u=s.onStart,f=s.onStartParams,h=s.immediateRender,p=v2.to(a,tr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale())||At,onStart:function(){if(a.pause(),!d){var v=s.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale());p._dur!==v&&v6(p,v,0,1).render(p._time,!0,!0),d=1}u&&u.apply(p,f||[])}},s));return h?p.render(0):p},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,tr({startAt:{time:nr(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return void 0===r&&(r=this._time),gT(this,nr(this,r))},t.previousLabel=function(r){return void 0===r&&(r=this._time),gT(this,nr(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+At)},t.shiftChildren=function(r,s,a){void 0===a&&(a=0);for(var l,o=this._first,c=this.labels;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(l in c)c[l]>=a&&(c[l]+=r);return Ys(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){void 0===r&&(r=!0);for(var a,s=this._first;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Ys(this)},t.totalDuration=function(r){var l,u,f,s=0,a=this,o=a._last,c=Qi;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(f=a.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),(u=o._start)>c&&a._sort&&o._ts&&!a._lock?(a._lock=1,i4(a,o,u-o._delay,1)._lock=0):c=u,u<0&&o._ts&&(s-=u,(!f&&!a._dp||f&&f.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),c=0),o._end>s&&o._ts&&(s=o._end),o=l;v6(a,a===Wt&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(Wt._ts&&(QE(Wt,h9(r,Wt)),YE=Si.frame),Si.frame>=KE){KE+=Ci.autoSleep||120;var s=Wt._first;if((!s||!s._ts)&&Ci.autoSleep&&Si._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Si.sleep()}}},e}(v8);tr(ni.prototype,{_lock:0,_hasPause:0,_forcing:0});var Z3,Mg,pce=function(e,t,i,r,s,a,o){var f,h,d,p,g,v,m,x,c=new ii(this._pt,e,t,0,1,NT,null,s),l=0,u=0;for(c.b=i,c.e=r,i+="",(m=~(r+="").indexOf("random("))&&(r=d8(r)),a&&(a(x=[i,r],e,t),i=x[0],r=x[1]),h=i.match(ng)||[];f=ng.exec(r);)p=f[0],g=r.substring(l,f.index),d?d=(d+1)%5:"rgba("===g.substr(-5)&&(d=1),p!==h[u++]&&(v=parseFloat(h[u-1])||0,c._pt={_next:c._pt,p:g||1===u?g:",",s:v,c:"="===p.charAt(1)?m6(v,p)-v:parseFloat(p)-v,m:d&&d<4?Math.round:0},l=ng.lastIndex);return c.c=l<r.length?r.substring(l,r.length):"",c.fp=o,(jE.test(r)||m)&&(c.e=0),this._pt=c,c},_g=function(e,t,i,r,s,a,o,c,l,u){Qt(r)&&(r=r(s||0,e,a));var p,f=e[t],h="get"!==i?i:Qt(f)?l?e[t.indexOf("set")||!Qt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():f,d=Qt(f)?l?_ce:LT:Cg;if(O2(r)&&(~r.indexOf("random(")&&(r=d8(r)),"="===r.charAt(1)&&((p=m6(h,r)+(gn(h)||0))||0===p)&&(r=p)),!u||h!==r||Mg)return isNaN(h*r)||""===r?(!f&&!(t in e)&&sg(t,r),pce.call(this,e,t,h,r,d,c||Ci.stringFilter,l)):(p=new ii(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof f?xce:DT,0,d),l&&(p.fp=l),o&&p.modifier(o,this,e),this._pt=p)},AT=function(e,t,i,r,s,a){var o,c,l,u;if(wi[e]&&!1!==(o=new wi[e]).init(s,o.rawVars?t[e]:function(e,t,i,r,s){if(Qt(e)&&(e=y8(e,s,t,i,r)),!n4(e)||e.style&&e.nodeType||mn(e)||GE(e))return O2(e)?y8(e,s,t,i,r):e;var o,a={};for(o in e)a[o]=y8(e[o],s,t,i,r);return a}(t[e],r,s,a,i),i,r,a)&&(i._pt=c=new ii(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==y6))for(l=i._ptLookup[i._targets.indexOf(s)],u=o._props.length;u--;)l[o._props[u]]=c;return o},xg=function n(e,t,i){var E,D,b,A,F,Z,B,O,W,ne,X,K,oe,r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,c=r.lazy,l=r.onUpdate,u=r.onUpdateParams,f=r.callbackScope,h=r.runBackwards,d=r.yoyoEase,p=r.keyframes,g=r.autoRevert,v=e._dur,m=e._startAt,x=e._targets,_=e.parent,C=_&&"nested"===_.data?_.vars.targets:x,w="auto"===e._overwrite&&!Km,z=e.timeline;if(z&&(!p||!s)&&(s="none"),e._ease=Ks(s,d6.ease),e._yEase=d?bT(Ks(!0===d?s:d,d6.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!z&&!!r.runBackwards,!z||p&&!r.stagger){if(K=(O=x[0]?Zs(x[0]).harness:0)&&r[O.prop],E=u9(r,ag),m&&(m._zTime<0&&m.progress(1),t<0&&h&&o&&!g?m.render(-1,!0):m.revert(h&&v?o9:G0e),m._lazy=0),a){if(j3(e._startAt=v2.set(x,tr({data:"isStart",overwrite:!1,parent:_,immediateRender:!0,lazy:!m&&ei(c),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:f,stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pn||!o&&!g)&&e._startAt.revert(o9),o&&v&&t<=0&&i<=0)return void(t&&(e._zTime=t))}else if(h&&v&&!m)if(t&&(o=!1),b=tr({overwrite:!1,data:"isFromStart",lazy:o&&!m&&ei(c),immediateRender:o,stagger:0,parent:_},E),K&&(b[O.prop]=K),j3(e._startAt=v2.set(x,b)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(pn?e._startAt.revert(o9):e._startAt.render(-1,!0)),e._zTime=t,o){if(!t)return}else n(e._startAt,At,At);for(e._pt=e._ptCache=0,c=v&&ei(c)||c&&!v,D=0;D<x.length;D++){if(B=(F=x[D])._gsap||ug(x)[D]._gsap,e._ptLookup[D]=ne={},og[B.id]&&W3.length&&l9(),X=C===x?D:C.indexOf(F),O&&!1!==(W=new O).init(F,K||E,e,X,C)&&(e._pt=A=new ii(e._pt,F,W.name,0,1,W.render,W,0,W.priority),W._props.forEach(function(P){ne[P]=A}),W.priority&&(Z=1)),!O||K)for(b in E)wi[b]&&(W=AT(b,E,e,X,F,C))?W.priority&&(Z=1):ne[b]=A=_g.call(e,F,b,"get",E[b],X,C,0,r.stringFilter);e._op&&e._op[D]&&e.kill(F,e._op[D]),w&&e._pt&&(Z3=e,Wt.killTweensOf(F,ne,e.globalTime(t)),oe=!e.parent,Z3=0),e._pt&&c&&(og[B.id]=1)}Z&&PT(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!oe,p&&t<=0&&z.render(Qi,!0,!0)},yce=function(e,t,i,r){var a,o,s=t.ease||r||"power1.inOut";if(mn(t))o=i[e]||(i[e]=[]),t.forEach(function(c,l){return o.push({t:l/(t.length-1)*100,v:c,e:s})});else for(a in t)o=i[a]||(i[a]=[]),"ease"===a||o.push({t:parseFloat(e),v:t[a],e:s})},y8=function(e,t,i,r,s){return Qt(e)?e.call(t,i,r,s):O2(e)&&~e.indexOf("random(")?d8(e):e},ET=lg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",TT={};ti(ET+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return TT[n]=1});var v2=function(n){function e(i,r,s,a){var o;"number"==typeof r&&(s.duration=r,r=s,s=null);var C,w,z,E,D,b,A,F,c=(o=n.call(this,a?r:u8(r))||this).vars,l=c.duration,u=c.delay,f=c.immediateRender,h=c.stagger,d=c.overwrite,p=c.keyframes,g=c.defaults,v=c.scrollTrigger,m=c.yoyoEase,x=r.parent||Wt,_=(mn(i)||GE(i)?P4(i[0]):"length"in r)?[i]:ir(i);if(o._targets=_.length?ug(_):a9("GSAP target "+i+" not found. https://greensock.com",!Ci.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,p||h||r9(l)||r9(u)){if(r=o.vars,(C=o.timeline=new ni({data:"nested",defaults:g||{},targets:x&&"nested"===x.data?x.vars.targets:_})).kill(),C.parent=C._dp=N4(o),C._start=0,h||r9(l)||r9(u)){if(E=_.length,A=h&&fT(h),n4(h))for(D in h)~ET.indexOf(D)&&(F||(F={}),F[D]=h[D]);for(w=0;w<E;w++)(z=u9(r,TT)).stagger=0,m&&(z.yoyoEase=m),F&&Xs(z,F),b=_[w],z.duration=+y8(l,N4(o),w,b,_),z.delay=(+y8(u,N4(o),w,b,_)||0)-o._delay,!h&&1===E&&z.delay&&(o._delay=u=z.delay,o._start+=u,z.delay=0),C.to(b,z,A?A(w,b,_):0),C._ease=et.none;C.duration()?l=u=0:o.timeline=0}else if(p){u8(tr(C.vars.defaults,{ease:"none"})),C._ease=Ks(p.ease||r.ease||"none");var B,O,W,Z=0;if(mn(p))p.forEach(function(ne){return C.to(_,ne,">")}),C.duration();else{for(D in z={},p)"ease"===D||"easeEach"===D||yce(D,p[D],z,p.easeEach);for(D in z)for(B=z[D].sort(function(ne,X){return ne.t-X.t}),Z=0,w=0;w<B.length;w++)(W={ease:(O=B[w]).e,duration:(O.t-(w?B[w-1].t:0))/100*l})[D]=O.v,C.to(_,W,Z),Z+=W.duration;C.duration()<l&&C.to({},{duration:l-C.duration()})}}l||o.duration(l=C.duration())}else o.timeline=0;return!0===d&&!Km&&(Z3=N4(o),Wt.killTweensOf(_),Z3=0),i4(x,N4(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(f||!l&&!p&&o._start===nn(x._time)&&ei(f)&&X0e(N4(o))&&"nested"!==x.data)&&(o._tTime=-At,o.render(Math.max(0,-u)||0)),v&&aT(N4(o),v),o}UE(e,n);var t=e.prototype;return t.render=function(r,s,a){var h,d,p,g,v,m,x,_,C,o=this._time,c=this._tDur,l=this._dur,u=r<0,f=r>c-At&&!u?c:r<At?0:r;if(l){if(f!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,_=this.timeline,this._repeat){if(g=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*g+r,s,a);if(h=nn(f%g),f===c?(p=this._repeat,h=l):((p=~~(f/g))&&p===f/g&&(h=l,p--),h>l&&(h=l)),(m=this._yoyo&&1&p)&&(C=this._yEase,h=l-h),v=g6(this._tTime,g),h===o&&!a&&this._initted)return this._tTime=f,this;p!==v&&(_&&this._yEase&&wT(_,m),this.vars.repeatRefresh&&!m&&!this._lock&&(this._lock=a=1,this.render(nn(g*p),!0).invalidate()._lock=0))}if(!this._initted){if(oT(this,u?r:h,a,s,f))return this._tTime=0,this;if(o!==this._time)return this;if(l!==this._dur)return this.render(r,s,a)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(C||this._ease)(h/l),this._from&&(this.ratio=x=1-x),h&&!o&&!s&&!p&&(rr(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(x,d.d),d=d._next;_&&_.render(r<0?r:!h&&m?-At:_._dur*_._ease(h/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&fg(this,r,0,a),rr(this,"onUpdate")),this._repeat&&p!==v&&this.vars.onRepeat&&!s&&this.parent&&rr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&fg(this,r,0,!0),(r||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&j3(this,1),!s&&(!u||o)&&(f||o||m)&&(rr(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var l,u,f,s=e.ratio,a=t<0||!t&&(!e._start&&Y0e(e)&&(e._initted||!hg(e))||(e._ts<0||e._dp._ts<0)&&!hg(e))?0:1,o=e._rDelay,c=0;if(o&&e._repeat&&(c=h8(0,e._tDur,t),u=g6(c,o),e._yoyo&&1&u&&(a=1-a),u!==g6(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||pn||r||e._zTime===At||!t&&e._zTime){if(!e._initted&&oT(e,t,r,i,c))return;for(f=e._zTime,e._zTime=t||(i?At:0),i||(i=t&&!f),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,l=e._pt;l;)l.r(a,l.d),l=l._next;t<0&&fg(e,t,0,!0),e._onUpdate&&!i&&rr(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&rr(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&j3(e,1),!i&&!pn&&(rr(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,r,s,a);return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o){g8||Si.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||xg(this,c),function(e,t,i,r,s,a,o){var l,u,f,h,c=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!c)for(c=e._ptCache[t]=[],f=e._ptLookup,h=e._targets.length;h--;){if((l=f[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return Mg=1,e.vars[t]="+=0",xg(e,o),Mg=0,1;c.push(l)}for(h=c.length;h--;)(l=(u=c[h])._pt||u).s=!r&&0!==r||s?l.s+(r||0)+a*l.c:r,l.c=i-l.s,u.e&&(u.e=o2(i)+gn(u.e)),u.b&&(u.b=l.s+gn(u.b))}(this,r,s,a,o,this._ease(c/this._dur),c)?this.resetTo(r,s,a,o):(p9(this,0),this.parent||iT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?p8(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Z3&&!0!==Z3.vars.overwrite)._first||p8(this),this.parent&&a!==this.timeline.totalDuration()&&v6(this,this._dur*this.timeline._tDur/a,0,1),this}var f,h,d,p,g,v,m,o=this._targets,c=r?ir(r):o,l=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(o,c))return"all"===s&&(this._pt=0),p8(this);for(f=this._op=this._op||[],"all"!==s&&(O2(s)&&(g={},ti(s,function(x){return g[x]=1}),s=g),s=function(e,t){var s,a,o,c,i=e[0]?Zs(e[0]).harness:0,r=i&&i.aliases;if(!r)return t;for(a in s=Xs({},t),r)if(a in s)for(o=(c=r[a].split(",")).length;o--;)s[c[o]]=s[a];return s}(o,s)),m=o.length;m--;)if(~c.indexOf(o[m]))for(g in h=l[m],"all"===s?(f[m]=s,p=h,d={}):(d=f[m]=f[m]||{},p=s),p)(v=h&&h[g])&&((!("kill"in v.d)||!0===v.d.kill(g))&&f9(this,v,"_pt"),delete h[g]),"all"!==d&&(d[g]=1);return this._initted&&!this._pt&&u&&p8(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return f8(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return f8(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return Wt.killTweensOf(r,s,a)},e}(v8);tr(v2.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ti("staggerTo,staggerFrom,staggerFromTo",function(n){v2[n]=function(){var e=new ni,t=dg.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var Cg=function(e,t,i){return e[t]=i},LT=function(e,t,i){return e[t](i)},_ce=function(e,t,i,r){return e[t](r.fp,i)},Mce=function(e,t,i){return e.setAttribute(t,i)},bg=function(e,t){return Qt(e[t])?LT:Qm(e[t])&&e.setAttribute?Mce:Cg},DT=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},xce=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},NT=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},wg=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Cce=function(e,t,i,r){for(var a,s=this._pt;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},bce=function(e){for(var i,r,t=this._pt;t;)r=t._next,t.p===e&&!t.op||t.op===e?f9(this,t,"_pt"):t.dep||(i=1),t=r;return!i},wce=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},PT=function(e){for(var i,r,s,a,t=e._pt;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},ii=function(){function n(t,i,r,s,a,o,c,l,u){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||DT,this.d=c||this,this.set=l||Cg,this.pr=u||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=wce,this.m=i,this.mt=s,this.tween=r},n}();ti(lg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return ag[n]=1}),bi.TweenMax=bi.TweenLite=v2,bi.TimelineLite=bi.TimelineMax=ni,Wt=new ni({sortChildren:!1,defaults:d6,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ci.stringFilter=CT;var Qs=[],m9={},Sce=[],IT=0,zce=0,Sg=function(e){return(m9[e]||Sce).map(function(t){return t()})},zg=function(){var e=Date.now(),t=[];e-IT>2&&(Sg("matchMediaInit"),Qs.forEach(function(i){var a,o,c,l,r=i.queries,s=i.conditions;for(o in r)(a=er.matchMedia(r[o]).matches)&&(c=1),a!==s[o]&&(s[o]=a,l=1);l&&(i.revert(),c&&t.push(i))}),Sg("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),IT=e,Sg("matchMedia"))},RT=function(){function n(t,i){this.selector=i&&pg(i),this.data=[],this._r=[],this.isReverted=!1,this.id=zce++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){Qt(i)&&(s=r,r=i,i=Qt);var a=this,o=function(){var f,l=Jt,u=a.selector;return l&&l!==a&&l.data.push(a),s&&(a.selector=pg(s)),Jt=a,f=r.apply(a,arguments),Qt(f)&&a._r.push(f),Jt=l,a.selector=u,a.isReverted=!1,f};return a.last=o,i===Qt?o(a):i?a[i]=o:o},e.ignore=function(i){var r=Jt;Jt=null,i(this),Jt=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof v2&&!(r.parent&&"nested"===r.parent.data)&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var a=this.getTweens();this.data.forEach(function(c){"isFlip"===c.data&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(l){return a.splice(a.indexOf(l),1)}))}),a.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,l){return l.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),this.data.forEach(function(c){return!(c instanceof v2)&&c.revert&&c.revert(i)}),this._r.forEach(function(c){return c(i,s)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),r)for(var o=Qs.length;o--;)Qs[o].id===this.id&&Qs.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),Ace=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){n4(i)||(i={matches:i});var c,l,u,a=new RT(0,s||this.scope),o=a.conditions={};for(l in Jt&&!a.selector&&(a.selector=Jt.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i,i)"all"===l?u=1:(c=er.matchMedia(i[l]))&&(Qs.indexOf(a)<0&&Qs.push(a),(o[l]=c.matches)&&(u=1),c.addListener?c.addListener(zg):c.addEventListener("change",zg));return u&&r(a),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),g9={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return yT(r)})},timeline:function(e){return new ni(e)},getTweensOf:function(e,t){return Wt.getTweensOf(e,t)},getProperty:function(e,t,i,r){O2(e)&&(e=ir(e)[0]);var s=Zs(e||{}).get,a=i?tT:eT;return"native"===i&&(i=""),e&&(t?a((wi[t]&&wi[t].get||s)(e,t,i,r)):function(o,c,l){return a((wi[o]&&wi[o].get||s)(e,o,c,l))})},quickSetter:function(e,t,i){if((e=ir(e)).length>1){var r=e.map(function(u){return ri.quickSetter(u,t,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}var a=wi[t],o=Zs(e=e[0]||{}),c=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(u){var f=new a;y6._pt=0,f.init(e,i?u+i:u,y6,0,[e]),f.render(1,f),y6._pt&&wg(1,y6)}:o.set(e,c);return a?l:function(u){return l(e,c,i?u+i:u,o,1)}},quickTo:function(e,t,i){var r,s=ri.to(e,Xs(((r={})[t]="+=0.1",r.paused=!0,r),i||{})),a=function(c,l,u){return s.resetTo(t,c,l,u)};return a.tween=s,a},isTweening:function(e){return Wt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ks(e.ease,d6.ease)),nT(d6,e||{})},config:function(e){return nT(Ci,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.defaults,a=e.extendTimeline;(e.plugins||"").split(",").forEach(function(o){return o&&!wi[o]&&!bi[o]&&a9(t+" effect requires "+o+" plugin.")}),cg[t]=function(o,c,l){return i(ir(o),tr(c||{},s),l)},a&&(ni.prototype[t]=function(o,c,l){return this.add(cg[t](o,n4(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){et[e]=Ks(t)},parseEase:function(e,t){return arguments.length?Ks(e,t):et},getById:function(e){return Wt.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,s,i=new ni(e);for(i.smoothChildTiming=ei(e.smoothChildTiming),Wt.remove(i),i._dp=0,i._time=i._tTime=Wt._time,r=Wt._first;r;)s=r._next,(t||!(!r._dur&&r instanceof v2&&r.vars.onComplete===r._targets[0]))&&i4(i,r,r._start-r._delay),r=s;return i4(Wt,i,0),i},context:function(e,t){return e?new RT(e,t):Jt},matchMedia:function(e){return new Ace(e)},matchMediaRefresh:function(){return Qs.forEach(function(e){var i,r,t=e.conditions;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||zg()},addEventListener:function(e,t){var i=m9[e]||(m9[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=m9[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:function n(e,t,i){var r=t-e;return mn(e)?pT(e,n(0,e.length),t):$3(i,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo:function n(e,t,i){var r=t-e,s=2*r;return mn(e)?pT(e,n(0,e.length-1),t):$3(i,function(a){return e+((a=(s+(a-e)%s)%s||0)>r?s-a:a)})},distribute:fT,random:dT,snap:hT,normalize:function(e,t,i){return mT(e,t,0,1,i)},getUnit:gn,clamp:function(e,t,i){return $3(i,function(r){return h8(e,t,r)})},splitColor:_T,toArray:ir,selector:pg,mapRange:mT,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||gn(i))}},interpolate:function n(e,t,i,r){var s=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!s){var c,l,u,f,h,a=O2(e),o={};if(!0===i&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(mn(e)&&!mn(t)){for(u=[],h=(f=e.length)-2,l=1;l<f;l++)u.push(n(e[l-1],e[l]));f--,s=function(p){p*=f;var g=Math.min(h,~~p);return u[g](p-g)},i=t}else r||(e=Xs(mn(e)?[]:{},e));if(!u){for(c in t)_g.call(o,e,c,"get",t[c]);s=function(p){return wg(p,o)||(a?e.p:e)}}}return $3(i,s)},shuffle:uT},install:ZE,effects:cg,ticker:Si,updateRoot:ni.updateRoot,plugins:wi,globalTimeline:Wt,core:{PropTween:ii,globals:XE,Tween:v2,Timeline:ni,Animation:v8,getCache:Zs,_removeLinkedListItem:f9,reverting:function(){return pn},context:function(e){return e&&Jt&&(Jt.data.push(e),e._ctx=Jt),Jt},suppressOverwrites:function(e){return Km=e}}};ti("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return g9[n]=v2[n]}),Si.add(ni.updateRoot),y6=g9.to({},{duration:0});var Ece=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Ag=function(e,t){return{name:e,rawVars:1,init:function(r,s,a){a._onInit=function(o){var c,l;if(O2(s)&&(c={},ti(s,function(u){return c[u]=1}),s=c),t){for(l in c={},s)c[l]=t(s[l]);s=c}!function(e,t){var r,s,a,i=e._targets;for(r in t)for(s=i.length;s--;)(a=e._ptLookup[s][r])&&(a=a.d)&&(a._pt&&(a=Ece(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))}(o,s)}}}},ri=g9.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,c;for(a in this.tween=i,t)c=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a)).op=a,o.b=c,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)pn?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Ag("roundProps",mg),Ag("modifiers"),Ag("snap",hT))||g9;v2.version=ni.version=ri.version="3.12.2",qE=1,eg()&&_6();var VT,X3,M6,Eg,ea,HT,Tg,GT,I4={},ta=180/Math.PI,x6=Math.PI/180,C6=Math.atan2,OT=1e8,Lg=/([A-Z])/g,Nce=/(left|right|width|margin|padding|x)/i,Pce=/[\s,\(]\S/,r4={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Dg=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Ice=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Rce=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Vce=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},FT=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},kT=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Hce=function(e,t,i){return e.style[t]=i},Oce=function(e,t,i){return e.style.setProperty(t,i)},Fce=function(e,t,i){return e._gsap[t]=i},kce=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Uce=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},Bce=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},jt="transform",Ar=jt+"Origin",Gce=function n(e,t){var i=this,r=this.target,s=r.style;if(e in I4&&s){if(this.tfm=this.tfm||{},"transform"===e)return r4.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(~(e=r4[e]||e).indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=R4(r,a)}):this.tfm[e]=r._gsap.x?r._gsap[e]:R4(r,e),this.props.indexOf(jt)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Ar,t,"")),e=jt}(s||t)&&this.props.push(e,t,s[e])},UT=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Wce=function(){var s,a,e=this.props,t=this.target,i=t.style,r=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(Lg,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=Tg())||!s.isStart)&&!i[jt]&&(UT(i),r.uncache=1)}},BT=function(e,t){var i={target:e,props:[],revert:Wce,save:Gce};return e._gsap||ri.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},Ng=function(e,t){var i=X3.createElementNS?X3.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):X3.createElement(e);return i.style?i:X3.createElement(e)},s4=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(Lg,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,b6(t)||t,1)||""},WT="O,Moz,ms,Ms,Webkit".split(","),b6=function(e,t,i){var s=(t||ea).style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(WT[a]+e in s););return a<0?null:(3===a?"ms":a>=0?WT[a]:"")+e},Pg=function(){typeof window<"u"&&window.document&&(VT=window,M6=(X3=VT.document).documentElement,ea=Ng("div")||{style:{}},Ng("div"),jt=b6(jt),Ar=jt+"Origin",ea.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",GT=!!b6("perspective"),Tg=ri.core.reverting,Eg=1)},Ig=function n(e){var a,t=Ng("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(M6.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),M6.removeChild(t),this.style.cssText=s,a},jT=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},$T=function(e){var t;try{t=e.getBBox()}catch{t=Ig.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Ig||(t=Ig.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+jT(e,["x","cx","x1"])||0,y:+jT(e,["y","cy","y1"])||0,width:0,height:0}},qT=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!$T(e))},_8=function(e,t){if(t){var i=e.style;t in I4&&t!==Ar&&(t=jt),i.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),i.removeProperty(t.replace(Lg,"-$1").toLowerCase())):i.removeAttribute(t)}},Y3=function(e,t,i,r,s,a){var o=new ii(e._pt,t,i,0,1,a?kT:FT);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},ZT={deg:1,rad:1,turn:1},jce={grid:1,flex:1},K3=function n(e,t,i,r){var p,g,v,m,s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=ea.style,c=Nce.test(t),l="svg"===e.tagName.toLowerCase(),u=(l?"client":"offset")+(c?"Width":"Height"),f=100,h="px"===r,d="%"===r;return r===a||!s||ZT[r]||ZT[a]?s:("px"!==a&&!h&&(s=n(e,t,i,"px")),m=e.getCTM&&qT(e),!d&&"%"!==a||!I4[t]&&!~t.indexOf("adius")?(o[c?"width":"height"]=f+(h?a:r),g=~t.indexOf("adius")||"em"===r&&e.appendChild&&!l?e:e.parentNode,m&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===X3||!g.appendChild)&&(g=X3.body),(v=g._gsap)&&d&&v.width&&c&&v.time===Si.time&&!v.uncache?o2(s/v.width*f):((d||"%"===a)&&!jce[s4(g,"display")]&&(o.position=s4(e,"position")),g===e&&(o.position="static"),g.appendChild(ea),p=ea[u],g.removeChild(ea),o.position="absolute",c&&d&&((v=Zs(g)).time=Si.time,v.width=g[u]),o2(h?p*s/f:p&&s?f/p*s:0))):(p=m?e.getBBox()[c?"width":"height"]:e[u],o2(d?s/p*f:s/100*p)))},R4=function(e,t,i,r){var s;return Eg||Pg(),t in r4&&"transform"!==t&&~(t=r4[t]).indexOf(",")&&(t=t.split(",")[0]),I4[t]&&"transform"!==t?(s=x8(e,r),s="transformOrigin"!==t?s[t]:s.svg?s.origin:y9(s4(e,Ar))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=v9[t]&&v9[t](e,t,i)||s4(e,t)||JE(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?K3(e,t,s,i)+i:s},$ce=function(e,t,i,r){if(!i||"none"===i){var s=b6(t,e,1),a=s&&s4(e,s,1);a&&a!==i?(t=s,i=a):"borderColor"===t&&(i=s4(e,"borderTopColor"))}var u,f,h,d,p,g,v,m,x,_,C,o=new ii(this._pt,e.style,t,0,1,NT),c=0,l=0;if(o.b=i,o.e=r,i+="","auto"==(r+="")&&(e.style[t]=r,r=s4(e,t)||r,e.style[t]=i),CT(u=[i,r]),r=u[1],h=(i=u[0]).match(p6)||[],(r.match(p6)||[]).length){for(;f=p6.exec(r);)v=f[0],x=r.substring(c,f.index),p?p=(p+1)%5:("rgba("===x.substr(-5)||"hsla("===x.substr(-5))&&(p=1),v!==(g=h[l++]||"")&&(d=parseFloat(g)||0,C=g.substr((d+"").length),"="===v.charAt(1)&&(v=m6(d,v)+C),m=parseFloat(v),_=v.substr((m+"").length),c=p6.lastIndex-_.length,_||(_=_||Ci.units[t]||C,c===r.length&&(r+=_,o.e+=_)),C!==_&&(d=K3(e,t,g,_)||0),o._pt={_next:o._pt,p:x||1===l?x:",",s:d,c:m-d,m:p&&p<4||"zIndex"===t?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r="display"===t&&"none"===r?kT:FT;return jE.test(r)&&(o.e=0),this._pt=o,o},XT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},qce=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(e=i,i=r,r=e),t[0]=XT[i]||i,t[1]=XT[r]||r,t.join(" ")},Zce=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var o,c,l,i=t.t,r=i.style,s=t.u,a=i._gsap;if("all"===s||!0===s)r.cssText="",c=1;else for(l=(s=s.split(",")).length;--l>-1;)I4[o=s[l]]&&(c=1,o="transformOrigin"===o?Ar:jt),_8(i,o);c&&(_8(i,jt),a&&(a.svg&&i.removeAttribute("transform"),x8(i,1),a.uncache=1,UT(r)))}},v9={clearProps:function(e,t,i,r,s){if("isFromStart"!==s.data){var a=e._pt=new ii(e._pt,t,i,0,0,Zce);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},M8=[1,0,0,1,0,0],YT={},KT=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},JT=function(e){var t=s4(e,jt);return KT(t)?M8:t.substr(7).match(WE).map(o2)},Rg=function(e,t){var a,o,c,l,i=e._gsap||Zs(e),r=e.style,s=JT(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(c=e.transform.baseVal.consolidate().matrix).a,c.b,c.c,c.d,c.e,c.f]).join(",")?M8:s:(s===M8&&!e.offsetParent&&e!==M6&&!i.svg&&(c=r.display,r.display="block",(!(a=e.parentNode)||!e.offsetParent)&&(l=1,o=e.nextElementSibling,M6.appendChild(e)),s=JT(e),c?r.display=c:_8(e,"display"),l&&(o?a.insertBefore(e,o):a?a.appendChild(e):M6.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Vg=function(e,t,i,r,s,a){var z,E,b,o=e._gsap,c=s||Rg(e,!0),l=o.xOrigin||0,u=o.yOrigin||0,f=o.xOffset||0,h=o.yOffset||0,d=c[0],p=c[1],g=c[2],v=c[3],m=c[4],x=c[5],_=t.split(" "),C=parseFloat(_[0])||0,w=parseFloat(_[1])||0;i?c!==M8&&(E=d*v-p*g)&&(b=C*(-p/E)+w*(d/E)-(d*x-p*m)/E,C=C*(v/E)+w*(-g/E)+(g*x-v*m)/E,w=b):(C=(z=$T(e)).x+(~_[0].indexOf("%")?C/100*z.width:C),w=z.y+(~(_[1]||_[0]).indexOf("%")?w/100*z.height:w)),r||!1!==r&&o.smooth?(o.xOffset=f+((m=C-l)*d+(x=w-u)*g)-m,o.yOffset=h+(m*p+x*v)-x):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=w,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[Ar]="0px 0px",a&&(Y3(a,o,"xOrigin",l,C),Y3(a,o,"yOrigin",u,w),Y3(a,o,"xOffset",f,o.xOffset),Y3(a,o,"yOffset",h,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+w)},x8=function(e,t){var i=e._gsap||new zT(e);if("x"in i&&!t&&!i.uncache)return i;var u,f,h,d,p,g,v,m,x,_,C,w,z,E,D,b,A,F,Z,B,O,W,ne,X,K,oe,P,G,ce,xe,_e,Ce,r=e.style,s=i.scaleX<0,a="px",o="deg",c=getComputedStyle(e),l=s4(e,Ar)||"0";return u=f=h=g=v=m=x=_=C=0,d=p=1,i.svg=!(!e.getCTM||!qT(e)),c.translate&&(("none"!==c.translate||"none"!==c.scale||"none"!==c.rotate)&&(r[jt]=("none"!==c.translate?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==c.rotate?"rotate("+c.rotate+") ":"")+("none"!==c.scale?"scale("+c.scale.split(" ").join(",")+") ":"")+("none"!==c[jt]?c[jt]:"")),r.scale=r.rotate=r.translate="none"),E=Rg(e,i.svg),i.svg&&(i.uncache?(K=e.getBBox(),l=i.xOrigin-K.x+"px "+(i.yOrigin-K.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),Vg(e,X||l,!!X||i.originIsAbsolute,!1!==i.smooth,E)),w=i.xOrigin||0,z=i.yOrigin||0,E!==M8&&(F=E[0],Z=E[1],B=E[2],O=E[3],u=W=E[4],f=ne=E[5],6===E.length?(d=Math.sqrt(F*F+Z*Z),p=Math.sqrt(O*O+B*B),g=F||Z?C6(Z,F)*ta:0,(x=B||O?C6(B,O)*ta+g:0)&&(p*=Math.abs(Math.cos(x*x6))),i.svg&&(u-=w-(w*F+z*B),f-=z-(w*Z+z*O))):(xe=E[7],P=E[8],G=E[9],_e=E[11],u=E[12],f=E[13],h=E[14],v=(D=C6(Ce=E[6],ce=E[10]))*ta,D&&(X=W*(b=Math.cos(-D))+P*(A=Math.sin(-D)),K=ne*b+G*A,oe=Ce*b+ce*A,P=W*-A+P*b,G=ne*-A+G*b,ce=Ce*-A+ce*b,_e=xe*-A+_e*b,W=X,ne=K,Ce=oe),m=(D=C6(-B,ce))*ta,D&&(b=Math.cos(-D),_e=O*(A=Math.sin(-D))+_e*b,F=X=F*b-P*A,Z=K=Z*b-G*A,B=oe=B*b-ce*A),g=(D=C6(Z,F))*ta,D&&(X=F*(b=Math.cos(D))+Z*(A=Math.sin(D)),K=W*b+ne*A,Z=Z*b-F*A,ne=ne*b-W*A,F=X,W=K),v&&Math.abs(v)+Math.abs(g)>359.9&&(v=g=0,m=180-m),d=o2(Math.sqrt(F*F+Z*Z+B*B)),p=o2(Math.sqrt(ne*ne+Ce*Ce)),D=C6(W,ne),x=Math.abs(D)>2e-4?D*ta:0,C=_e?1/(_e<0?-_e:_e):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!KT(s4(e,jt)),X&&e.setAttribute("transform",X))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(d*=-1,x+=g<=0?180:-180,g+=g<=0?180:-180):(p*=-1,x+=x<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=h+a,i.scaleX=o2(d),i.scaleY=o2(p),i.rotation=o2(g)+o,i.rotationX=o2(v)+o,i.rotationY=o2(m)+o,i.skewX=x+o,i.skewY=_+o,i.transformPerspective=C+a,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[Ar]=y9(l)),i.xOffset=i.yOffset=0,i.force3D=Ci.force3D,i.renderTransform=i.svg?Yce:GT?QT:Xce,i.uncache=0,i},y9=function(e){return(e=e.split(" "))[0]+" "+e[1]},Hg=function(e,t,i){var r=gn(t);return o2(parseFloat(t)+parseFloat(K3(e,"x",i+"px",r)))+r},Xce=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,QT(e,t)},na="0deg",C8="0px",ia=") ",QT=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.z,l=i.rotation,u=i.rotationY,f=i.rotationX,h=i.skewX,d=i.skewY,p=i.scaleX,g=i.scaleY,v=i.transformPerspective,m=i.force3D,x=i.target,_=i.zOrigin,C="",w="auto"===m&&e&&1!==e||!0===m;if(_&&(f!==na||u!==na)){var b,z=parseFloat(u)*x6,E=Math.sin(z),D=Math.cos(z);z=parseFloat(f)*x6,b=Math.cos(z),a=Hg(x,a,E*b*-_),o=Hg(x,o,-Math.sin(z)*-_),c=Hg(x,c,D*b*-_+_)}v!==C8&&(C+="perspective("+v+ia),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(w||a!==C8||o!==C8||c!==C8)&&(C+=c!==C8||w?"translate3d("+a+", "+o+", "+c+") ":"translate("+a+", "+o+ia),l!==na&&(C+="rotate("+l+ia),u!==na&&(C+="rotateY("+u+ia),f!==na&&(C+="rotateX("+f+ia),(h!==na||d!==na)&&(C+="skew("+h+", "+d+ia),(1!==p||1!==g)&&(C+="scale("+p+", "+g+ia),x.style[jt]=C||"translate(0, 0)"},Yce=function(e,t){var w,z,E,D,b,i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.rotation,l=i.skewX,u=i.skewY,f=i.scaleX,h=i.scaleY,d=i.target,p=i.xOrigin,g=i.yOrigin,v=i.xOffset,m=i.yOffset,x=i.forceCSS,_=parseFloat(a),C=parseFloat(o);c=parseFloat(c),l=parseFloat(l),(u=parseFloat(u))&&(l+=u=parseFloat(u),c+=u),c||l?(c*=x6,l*=x6,w=Math.cos(c)*f,z=Math.sin(c)*f,E=Math.sin(c-l)*-h,D=Math.cos(c-l)*h,l&&(u*=x6,b=Math.tan(l-u),E*=b=Math.sqrt(1+b*b),D*=b,u&&(b=Math.tan(u),w*=b=Math.sqrt(1+b*b),z*=b)),w=o2(w),z=o2(z),E=o2(E),D=o2(D)):(w=f,D=h,z=E=0),(_&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(_=K3(d,"x",a,"px"),C=K3(d,"y",o,"px")),(p||g||v||m)&&(_=o2(_+p-(p*w+g*E)+v),C=o2(C+g-(p*z+g*D)+m)),(r||s)&&(b=d.getBBox(),_=o2(_+r/100*b.width),C=o2(C+s/100*b.height)),d.setAttribute("transform",b="matrix("+w+","+z+","+E+","+D+","+_+","+C+")"),x&&(d.style[jt]=b)},Kce=function(e,t,i,r,s){var f,h,a=360,o=O2(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?ta:1)-r,u=r+l+"deg";return o&&("short"===(f=s.split("_")[1])&&(l%=a)!=l%180&&(l+=l<0?a:-a),"cw"===f&&l<0?l=(l+a*OT)%a-~~(l/a)*a:"ccw"===f&&l>0&&(l=(l-a*OT)%a-~~(l/a)*a)),e._pt=h=new ii(e._pt,t,i,r,l,Ice),h.e=u,h.u="deg",e._props.push(i),h},eL=function(e,t){for(var i in t)e[i]=t[i];return e},Jce=function(e,t,i){var o,c,l,u,f,h,p,r=eL({},i._gsap),a=i.style;for(c in r.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),a[jt]=t,o=x8(i,1),_8(i,jt),i.setAttribute("transform",l)):(l=getComputedStyle(i)[jt],a[jt]=t,o=x8(i,1),a[jt]=l),I4)(l=r[c])!==(u=o[c])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(c)<0&&(f=gn(l)!==(p=gn(u))?K3(i,c,l,p):parseFloat(l),h=parseFloat(u),e._pt=new ii(e._pt,o,c,f,h-f,Dg),e._pt.u=p||0,e._props.push(c));eL(o,r)};ti("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});v9[e>1?"border"+n:n]=function(o,c,l,u,f){var h,d;if(arguments.length<4)return h=a.map(function(p){return R4(o,p,l)}),5===(d=h.join(" ")).split(h[0]).length?h[0]:d;h=(u+"").split(" "),d={},a.forEach(function(p,g){return d[p]=h[g]=h[g]||h[(g-1)/2|0]}),o.init(c,d,f)}});var tL={name:"css",register:Pg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var l,u,f,h,d,p,g,v,m,x,_,C,w,z,E,D,a=this._props,o=e.style,c=i.vars.startAt;for(g in Eg||Pg(),this.styles=this.styles||BT(e),D=this.styles.props,this.tween=i,t)if("autoRound"!==g&&(u=t[g],!wi[g]||!AT(g,t,i,r,e,s)))if(p=v9[g],"function"==(d=typeof u)&&(d=typeof(u=u.call(i,r,e,s))),"string"===d&&~u.indexOf("random(")&&(u=d8(u)),p)p(this,e,g,u,i)&&(E=1);else if("--"===g.substr(0,2))l=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",q3.lastIndex=0,q3.test(l)||(v=gn(l),m=gn(u)),m?v!==m&&(l=K3(e,g,l,m)+m):v&&(u+=v),this.add(o,"setProperty",l,u,r,s,0,0,g),a.push(g),D.push(g,0,o[g]);else if("undefined"!==d){if(c&&g in c?(l="function"==typeof c[g]?c[g].call(i,r,e,s):c[g],O2(l)&&~l.indexOf("random(")&&(l=d8(l)),gn(l+"")||(l+=Ci.units[g]||gn(R4(e,g))||""),"="===(l+"").charAt(1)&&(l=R4(e,g))):l=R4(e,g),h=parseFloat(l),(x="string"===d&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),f=parseFloat(u),g in r4&&("autoAlpha"===g&&(1===h&&"hidden"===R4(e,"visibility")&&f&&(h=0),D.push("visibility",0,o.visibility),Y3(this,o,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),"scale"!==g&&"transform"!==g&&~(g=r4[g]).indexOf(",")&&(g=g.split(",")[0])),_=g in I4)if(this.styles.save(g),C||((w=e._gsap).renderTransform&&!t.parseTransform||x8(e,t.parseTransform),z=!1!==t.smoothOrigin&&w.smooth,(C=this._pt=new ii(this._pt,o,jt,0,1,w.renderTransform,w,0,-1)).dep=1),"scale"===g)this._pt=new ii(this._pt,w,"scaleY",w.scaleY,(x?m6(w.scaleY,x+f):f)-w.scaleY||0,Dg),this._pt.u=0,a.push("scaleY",g),g+="X";else{if("transformOrigin"===g){D.push(Ar,0,o[Ar]),u=qce(u),w.svg?Vg(e,u,0,z,0,this):((m=parseFloat(u.split(" ")[2])||0)!==w.zOrigin&&Y3(this,w,"zOrigin",w.zOrigin,m),Y3(this,o,g,y9(l),y9(u)));continue}if("svgOrigin"===g){Vg(e,u,1,z,0,this);continue}if(g in YT){Kce(this,w,g,h,x?m6(h,x+u):u);continue}if("smoothOrigin"===g){Y3(this,w,"smooth",w.smooth,u);continue}if("force3D"===g){w[g]=u;continue}if("transform"===g){Jce(this,u,e);continue}}else g in o||(g=b6(g)||g);if(_||(f||0===f)&&(h||0===h)&&!Pce.test(u)&&g in o)f||(f=0),(v=(l+"").substr((h+"").length))!==(m=gn(u)||(g in Ci.units?Ci.units[g]:v))&&(h=K3(e,g,l,m)),this._pt=new ii(this._pt,_?w:o,g,h,(x?m6(h,x+f):f)-h,_||"px"!==m&&"zIndex"!==g||!1===t.autoRound?Dg:Vce),this._pt.u=m||0,v!==m&&"%"!==m&&(this._pt.b=l,this._pt.r=Rce);else if(g in o)$ce.call(this,e,g,l,x?x+u:u);else if(g in e)this.add(e,g,l||e[g],x?x+u:u,r,s);else if("parseTransform"!==g){sg(g,u);continue}_||(g in o?D.push(g,0,o[g]):D.push(g,1,l||e[g])),a.push(g)}E&&PT(this)},render:function(e,t){if(t.tween._time||!Tg())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:R4,aliases:r4,getSetter:function(e,t,i){var r=r4[t];return r&&r.indexOf(",")<0&&(t=r),t in I4&&t!==Ar&&(e._gsap.x||R4(e,"x"))?i&&HT===i?"scale"===t?kce:Fce:(HT=i||{})&&("scale"===t?Uce:Bce):e.style&&!Qm(e.style[t])?Hce:~t.indexOf("-")?Oce:bg(e,t)},core:{_removeProperty:_8,_getMatrix:Rg}};ri.utils.checkPrefix=b6,ri.core.getStyleSaver=BT,function(n,e,t,i){var r=ti(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){I4[s]=1});ti(e,function(s){Ci.units[s]="deg",YT[s]=1}),r4[r[13]]=n+","+e,ti("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var a=s.split(":");r4[a[1]]=r[a[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ti("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ci.units[n]="px"}),ri.registerPlugin(tL);var Og=ri.registerPlugin(tL)||ri;function nL(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var rn,Fg,zi,J3,Q3,w6,iL,ra,b8,rL,V4,Er,sL,aL=function(){return rn||typeof window<"u"&&(rn=window.gsap)&&rn.registerPlugin&&rn},oL=1,S6=[],X1=[],a4=[],w8=Date.now,kg=function(e,t){return t},es=function(e,t){return~a4.indexOf(e)&&a4[a4.indexOf(e)+1][t]},S8=function(e){return!!~rL.indexOf(e)},Pn=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},In=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},_9="scrollLeft",M9="scrollTop",Ug=function(){return V4&&V4.isPressed||X1.cache++},x9=function(e,t){var i=function r(s){if(s||0===s){oL&&(zi.history.scrollRestoration="manual");var a=V4&&V4.isPressed;s=r.v=Math.round(s)||(V4&&V4.iOS?1:0),e(s),r.cacheID=X1.cache,a&&kg("ss",s)}else(t||X1.cache!==r.cacheID||kg("ref"))&&(r.cacheID=X1.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Rn={s:_9,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:x9(function(n){return arguments.length?zi.scrollTo(n,T2.sc()):zi.pageXOffset||J3[_9]||Q3[_9]||w6[_9]||0})},T2={s:M9,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Rn,sc:x9(function(n){return arguments.length?zi.scrollTo(Rn.sc(),n):zi.pageYOffset||J3[M9]||Q3[M9]||w6[M9]||0})},si=function(e,t){return(t&&t._ctx&&t._ctx.selector||rn.utils.toArray)(e)[0]||("string"==typeof e&&!1!==rn.config().nullTargetWarn?console.warn("Element not found:",e):null)},ts=function(e,t){var i=t.s,r=t.sc;S8(e)&&(e=J3.scrollingElement||Q3);var s=X1.indexOf(e),a=r===T2.sc?1:2;!~s&&(s=X1.push(e)-1),X1[s+a]||Pn(e,"scroll",Ug);var o=X1[s+a],c=o||(X1[s+a]=x9(es(e,i),!0)||(S8(e)?r:x9(function(l){return arguments.length?e[i]=l:e[i]})));return c.target=e,o||(c.smooth="smooth"===rn.getProperty(e,"scrollBehavior")),c},Bg=function(e,t,i){var r=e,s=e,a=w8(),o=a,c=t||50,l=Math.max(500,3*c),u=function(p,g){var v=w8();g||v-a>c?(s=r,r=p,o=a,a=v):i?r+=p:r=s+(p-s)/(v-o)*(a-o)};return{update:u,reset:function(){s=r=i?0:r,o=a=0},getVelocity:function(p){var g=o,v=s,m=w8();return(p||0===p)&&p!==r&&u(p),a===o||m-o>l?0:(r+(i?v:-v))/((i?m:a)-g)*1e3}}},z8=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},cL=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},lL=function(){(b8=rn.core.globals().ScrollTrigger)&&b8.core&&function(){var e=b8.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,X1),r.push.apply(r,a4),X1=i,a4=r,kg=function(a,o){return t[a](o)}}()},uL=function(e){return(rn=e||aL())&&typeof document<"u"&&document.body&&(zi=window,J3=document,rL=[zi,J3,Q3=J3.documentElement,w6=J3.body],sL=rn.core.context||function(){},ra="onpointerenter"in w6?"pointer":"mouse",iL=y2.isTouch=zi.matchMedia&&zi.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in zi||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Er=y2.eventTypes=("ontouchstart"in Q3?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Q3?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return oL=0},500),lL(),Fg=1),Fg};Rn.op=T2,X1.cache=0;var y2=function(){function n(t){this.init(t)}return n.prototype.init=function(i){Fg||uL(rn)||console.warn("Please gsap.registerPlugin(Observer)"),b8||lL();var r=i.tolerance,s=i.dragMinimum,a=i.type,o=i.target,c=i.lineHeight,l=i.debounce,u=i.preventDefault,f=i.onStop,h=i.onStopDelay,d=i.ignore,p=i.wheelSpeed,g=i.event,v=i.onDragStart,m=i.onDragEnd,x=i.onDrag,_=i.onPress,C=i.onRelease,w=i.onRight,z=i.onLeft,E=i.onUp,D=i.onDown,b=i.onChangeX,A=i.onChangeY,F=i.onChange,Z=i.onToggleX,B=i.onToggleY,O=i.onHover,W=i.onHoverEnd,ne=i.onMove,X=i.ignoreCheck,K=i.isNormalizer,oe=i.onGestureStart,P=i.onGestureEnd,G=i.onWheel,ce=i.onEnable,xe=i.onDisable,_e=i.onClick,Ce=i.scrollSpeed,Oe=i.capture,Ne=i.allowClicks,Fe=i.lockAxis,g1=i.onLockAxis;this.target=o=si(o)||Q3,this.vars=i,d&&(d=rn.utils.toArray(d)),r=r||1e-9,s=s||0,p=p||1,Ce=Ce||1,a=a||"wheel,touch,pointer",l=!1!==l,c||(c=parseFloat(zi.getComputedStyle(w6).lineHeight)||22);var at,e1,V,fe,re,me,ue,k=this,Ae=0,Re=0,d1=ts(o,Rn),r1=ts(o,T2),mt=d1(),I=r1(),T=~a.indexOf("touch")&&!~a.indexOf("pointer")&&"pointerdown"===Er[0],ee=S8(o),he=o.ownerDocument||J3,ve=[0,0,0],be=[0,0,0],Ye=0,we=function(){return Ye=w8()},ae=function(Pe,N1){return(k.event=Pe)&&d&&~d.indexOf(Pe.target)||N1&&T&&"touch"!==Pe.pointerType||X&&X(Pe,N1)},i1=function(){var Pe=k.deltaX=cL(ve),N1=k.deltaY=cL(be),W1=Math.abs(Pe)>=r,Ue=Math.abs(N1)>=r;F&&(W1||Ue)&&F(k,Pe,N1,ve,be),W1&&(w&&k.deltaX>0&&w(k),z&&k.deltaX<0&&z(k),b&&b(k),Z&&k.deltaX<0!=Ae<0&&Z(k),Ae=k.deltaX,ve[0]=ve[1]=ve[2]=0),Ue&&(D&&k.deltaY>0&&D(k),E&&k.deltaY<0&&E(k),A&&A(k),B&&k.deltaY<0!=Re<0&&B(k),Re=k.deltaY,be[0]=be[1]=be[2]=0),(fe||V)&&(ne&&ne(k),V&&(x(k),V=!1),fe=!1),me&&!(me=!1)&&g1&&g1(k),re&&(G(k),re=!1),at=0},s1=function(Pe,N1,W1){ve[W1]+=Pe,be[W1]+=N1,k._vx.update(Pe),k._vy.update(N1),l?at||(at=requestAnimationFrame(i1)):i1()},We=function(Pe,N1){Fe&&!ue&&(k.axis=ue=Math.abs(Pe)>Math.abs(N1)?"x":"y",me=!0),"y"!==ue&&(ve[2]+=Pe,k._vx.update(Pe,!0)),"x"!==ue&&(be[2]+=N1,k._vy.update(N1,!0)),l?at||(at=requestAnimationFrame(i1)):i1()},ke=function(Pe){if(!ae(Pe,1)){var N1=(Pe=z8(Pe,u)).clientX,W1=Pe.clientY,Ue=N1-k.x,Y1=W1-k.y,m1=k.isDragging;k.x=N1,k.y=W1,(m1||Math.abs(k.startX-N1)>=s||Math.abs(k.startY-W1)>=s)&&(x&&(V=!0),m1||(k.isDragging=!0),We(Ue,Y1),m1||v&&v(k))}},M1=k.onPress=function(a1){ae(a1,1)||a1&&a1.button||(k.axis=ue=null,e1.pause(),k.isPressed=!0,a1=z8(a1),Ae=Re=0,k.startX=k.x=a1.clientX,k.startY=k.y=a1.clientY,k._vx.reset(),k._vy.reset(),Pn(K?o:he,Er[1],ke,u,!0),k.deltaX=k.deltaY=0,_&&_(k))},nt=k.onRelease=function(a1){if(!ae(a1,1)){In(K?o:he,Er[1],ke,!0);var Pe=!isNaN(k.y-k.startY),N1=k.isDragging&&(Math.abs(k.x-k.startX)>3||Math.abs(k.y-k.startY)>3),W1=z8(a1);!N1&&Pe&&(k._vx.reset(),k._vy.reset(),u&&Ne&&rn.delayedCall(.08,function(){if(w8()-Ye>300&&!a1.defaultPrevented)if(a1.target.click)a1.target.click();else if(he.createEvent){var Ue=he.createEvent("MouseEvents");Ue.initMouseEvent("click",!0,!0,zi,1,W1.screenX,W1.screenY,W1.clientX,W1.clientY,!1,!1,!1,!1,0,null),a1.target.dispatchEvent(Ue)}})),k.isDragging=k.isGesturing=k.isPressed=!1,f&&!K&&e1.restart(!0),m&&N1&&m(k),C&&C(k,N1)}},H=function(Pe){return Pe.touches&&Pe.touches.length>1&&(k.isGesturing=!0)&&oe(Pe,k.isDragging)},ze=function(){return(k.isGesturing=!1)||P(k)},Q=function(Pe){if(!ae(Pe)){var N1=d1(),W1=r1();s1((N1-mt)*Ce,(W1-I)*Ce,1),mt=N1,I=W1,f&&e1.restart(!0)}},Me=function(Pe){if(!ae(Pe)){Pe=z8(Pe,u),G&&(re=!0);var N1=(1===Pe.deltaMode?c:2===Pe.deltaMode?zi.innerHeight:1)*p;s1(Pe.deltaX*N1,Pe.deltaY*N1,0),f&&!K&&e1.restart(!0)}},Se=function(Pe){if(!ae(Pe)){var N1=Pe.clientX,W1=Pe.clientY,Ue=N1-k.x,Y1=W1-k.y;k.x=N1,k.y=W1,fe=!0,(Ue||Y1)&&We(Ue,Y1)}},O1=function(Pe){k.event=Pe,O(k)},gt=function(Pe){k.event=Pe,W(k)},bt=function(Pe){return ae(Pe)||z8(Pe,u)&&_e(k)};e1=k._dc=rn.delayedCall(h||.25,function(){k._vx.reset(),k._vy.reset(),e1.pause(),f&&f(k)}).pause(),k.deltaX=k.deltaY=0,k._vx=Bg(0,50,!0),k._vy=Bg(0,50,!0),k.scrollX=d1,k.scrollY=r1,k.isDragging=k.isGesturing=k.isPressed=!1,sL(this),k.enable=function(a1){return k.isEnabled||(Pn(ee?he:o,"scroll",Ug),a.indexOf("scroll")>=0&&Pn(ee?he:o,"scroll",Q,u,Oe),a.indexOf("wheel")>=0&&Pn(o,"wheel",Me,u,Oe),(a.indexOf("touch")>=0&&iL||a.indexOf("pointer")>=0)&&(Pn(o,Er[0],M1,u,Oe),Pn(he,Er[2],nt),Pn(he,Er[3],nt),Ne&&Pn(o,"click",we,!1,!0),_e&&Pn(o,"click",bt),oe&&Pn(he,"gesturestart",H),P&&Pn(he,"gestureend",ze),O&&Pn(o,ra+"enter",O1),W&&Pn(o,ra+"leave",gt),ne&&Pn(o,ra+"move",Se)),k.isEnabled=!0,a1&&a1.type&&M1(a1),ce&&ce(k)),k},k.disable=function(){k.isEnabled&&(S6.filter(function(a1){return a1!==k&&S8(a1.target)}).length||In(ee?he:o,"scroll",Ug),k.isPressed&&(k._vx.reset(),k._vy.reset(),In(K?o:he,Er[1],ke,!0)),In(ee?he:o,"scroll",Q,Oe),In(o,"wheel",Me,Oe),In(o,Er[0],M1,Oe),In(he,Er[2],nt),In(he,Er[3],nt),In(o,"click",we,!0),In(o,"click",bt),In(he,"gesturestart",H),In(he,"gestureend",ze),In(o,ra+"enter",O1),In(o,ra+"leave",gt),In(o,ra+"move",Se),k.isEnabled=k.isPressed=k.isDragging=!1,xe&&xe(k))},k.kill=k.revert=function(){k.disable();var a1=S6.indexOf(k);a1>=0&&S6.splice(a1,1),V4===k&&(V4=0)},S6.push(k),K&&S8(o)&&(V4=k),k.enable(g)},function Qce(n,e,t){e&&nL(n.prototype,e),t&&nL(n,t)}(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();y2.version="3.12.2",y2.create=function(n){return new y2(n)},y2.register=uL,y2.getAll=function(){return S6.slice()},y2.getById=function(n){return S6.filter(function(e){return e.vars.id===n})[0]},aL()&&rn.registerPlugin(y2);var $e,z6,tt,$t,Tr,Dt,fL,C9,b9,A6,w9,S9,vn,z9,Gg,Vn,hL,dL,E6,pL,Wg,mL,Ai,gL,vL,yL,ns,jg,$g,T6,qg,Zg,I8,Fn,VL,V8,A9=1,Hn=Date.now,Xg=Hn(),sr=0,A8=0,_L=function(e,t,i){var r=Ei(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},ML=function(e,t){return!t||Ei(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},n8e=function n(){return A8&&requestAnimationFrame(n)},xL=function(){return z9=1},CL=function(){return z9=0},o4=function(e){return e},E8=function(e){return Math.round(1e5*e)/1e5||0},bL=function(){return typeof window<"u"},wL=function(){return $e||bL()&&($e=window.gsap)&&$e.registerPlugin&&$e},sa=function(e){return!!~fL.indexOf(e)},SL=function(e){return("Height"===e?qg:tt["inner"+e])||Tr["client"+e]||Dt["client"+e]},zL=function(e){return es(e,"getBoundingClientRect")||(sa(e)?function(){return k9.width=tt.innerWidth,k9.height=qg,k9}:function(){return O4(e)})},H4=function(e,t){var i,r=t.d2,s=t.d,a=t.a;return Math.max(0,(i="scroll"+r)&&(a=es(e,i))?a()-zL(e)()[s]:sa(e)?(Tr[i]||Dt[i])-SL(r):e[i]-e["offset"+r])},E9=function(e,t){for(var i=0;i<E6.length;i+=3)(!t||~t.indexOf(E6[i+1]))&&e(E6[i],E6[i+1],E6[i+2])},Ei=function(e){return"string"==typeof e},On=function(e){return"function"==typeof e},T9=function(e){return"number"==typeof e},aa=function(e){return"object"==typeof e},T8=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},Yg=function(e,t){if(e.enabled){var i=t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},L6=Math.abs,Kg="right",Jg="bottom",oa="width",ca="height",L8="Right",D8="Left",N8="Top",P8="Bottom",_2="padding",ar="margin",D6="Width",Qg="Height",sn="px",or=function(e){return tt.getComputedStyle(e)},TL=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},O4=function(e,t){var i=t&&"matrix(1, 0, 0, 1, 0, 0)"!==or(e)[Gg]&&$e.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},ev=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},LL=function(e){var s,t=[],i=e.labels,r=e.duration();for(s in i)t.push(i[s]/r);return t},tv=function(e){var t=$e.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,a){var o;if(void 0===a&&(a=.001),!s)return t(r);if(s>0){for(r-=a,o=0;o<i.length;o++)if(i[o]>=r)return i[o];return i[o-1]}for(o=i.length,r+=a;o--;)if(i[o]<=r)return i[o];return i[0]}:function(r,s,a){void 0===a&&(a=.001);var o=t(r);return!s||Math.abs(o-r)<a||o-r<0==s<0?o:t(s<0?r-e:r+e)}},L9=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},F2=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},k2=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},D9=function(e,t,i){(i=i&&i.wheelHandler)&&(e(t,"wheel",i),e(t,"touchmove",i))},DL={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},N9={toggleActions:"play",anticipatePin:0},P9={top:0,left:0,center:.5,bottom:1,right:1},I9=function(e,t){if(Ei(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in P9?P9[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},R9=function(e,t,i,r,s,a,o,c){var l=s.startColor,u=s.endColor,f=s.fontSize,h=s.indent,d=s.fontWeight,p=$t.createElement("div"),g=sa(i)||"fixed"===es(i,"pinType"),v=-1!==e.indexOf("scroller"),m=g?Dt:i,x=-1!==e.indexOf("start"),_=x?l:u,C="border-color:"+_+";font-size:"+f+";color:"+_+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((v||c)&&g?"fixed;":"absolute;"),(v||c||!g)&&(C+=(r===T2?Kg:Jg)+":"+(a+parseFloat(h))+"px;"),o&&(C+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),p._isStart=x,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=C,p.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+r.op.d2],V9(p,0,r,x),p},V9=function(e,t,i,r){var s={display:"block"},a=i[r?"os2":"p2"],o=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+a+D6]=1,s["border"+o+D6]=0,s[i.p]=t+"px",$e.set(e,s)},G1=[],nv={},NL=function(){return Hn()-sr>34&&(I8||(I8=requestAnimationFrame(F4)))},N6=function(){(!Ai||!Ai.isPressed||Ai.startX>Dt.clientWidth)&&(X1.cache++,Ai?I8||(I8=requestAnimationFrame(F4)):F4(),sr||ua("scrollStart"),sr=Hn())},iv=function(){yL=tt.innerWidth,vL=tt.innerHeight},R8=function(){X1.cache++,!vn&&!mL&&!$t.fullscreenElement&&!$t.webkitFullscreenElement&&(!gL||yL!==tt.innerWidth||Math.abs(tt.innerHeight-vL)>.25*tt.innerHeight)&&C9.restart(!0)},la={},c8e=[],PL=function n(){return k2(K1,"scrollEnd",n)||ha(!0)},ua=function(e){return la[e]&&la[e].map(function(t){return t()})||c8e},Ti=[],IL=function(e){for(var t=0;t<Ti.length;t+=5)(!e||Ti[t+4]&&Ti[t+4].query===e)&&(Ti[t].style.cssText=Ti[t+1],Ti[t].getBBox&&Ti[t].setAttribute("transform",Ti[t+2]||""),Ti[t+3].uncache=1)},rv=function(e,t){var i;for(Vn=0;Vn<G1.length;Vn++)(i=G1[Vn])&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));t&&IL(t),t||ua("revert")},RL=function(e,t){X1.cache++,(t||!Fn)&&X1.forEach(function(i){return On(i)&&i.cacheID++&&(i.rec=0)}),Ei(e)&&(tt.history.scrollRestoration=$g=e)},fa=0,HL=function(){Dt.appendChild(T6),qg=T6.offsetHeight||tt.innerHeight,Dt.removeChild(T6)},ha=function(e,t){if(!sr||e){HL(),Fn=K1.isRefreshing=!0,X1.forEach(function(r){return On(r)&&++r.cacheID&&(r.rec=r())});var i=ua("refreshInit");pL&&K1.sort(),t||rv(),X1.forEach(function(r){On(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),G1.slice(0).forEach(function(r){return r.refresh()}),G1.forEach(function(r,s){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-o),r.refresh()}}),G1.forEach(function(r){var s=H4(r.scroller,r._dir);("max"===r.vars.end||r._endClamp&&r.end>s)&&r.setPositions(r.start,Math.max(r.start+1,s),!0)}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),X1.forEach(function(r){On(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),RL($g,1),C9.pause(),fa++,Fn=2,F4(2),G1.forEach(function(r){return On(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Fn=K1.isRefreshing=!1,ua("refresh")}else F2(K1,"scrollEnd",PL)},sv=0,H9=1,F4=function(e){if(!Fn||2===e){K1.isUpdating=!0,V8&&V8.update(0);var t=G1.length,i=Hn(),r=i-Xg>=50,s=t&&G1[0].scroll();if(H9=sv>s?-1:1,Fn||(sv=s),r&&(sr&&!z9&&i-sr>200&&(sr=0,ua("scrollEnd")),w9=Xg,Xg=i),H9<0){for(Vn=t;Vn-- >0;)G1[Vn]&&G1[Vn].update(0,r);H9=1}else for(Vn=0;Vn<t;Vn++)G1[Vn]&&G1[Vn].update(0,r);K1.isUpdating=!1}I8=0},av=["left","top",Jg,Kg,ar+P8,ar+L8,ar+N8,ar+D8,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],O9=av.concat([oa,ca,"boxSizing","max"+D6,"max"+Qg,"position",ar,_2,_2+N8,_2+L8,_2+P8,_2+D8]),ov=function(e,t,i,r){if(!e._gsap.swappedIn){for(var c,s=av.length,a=t.style,o=e.style;s--;)a[c=av[s]]=i[c];a.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(a.display="inline-block"),o[Jg]=o[Kg]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[oa]=ev(e,Rn)+sn,a[ca]=ev(e,T2)+sn,a[_2]=o[ar]=o.top=o.left="0",P6(r),o[oa]=o["max"+D6]=i[oa],o[ca]=o["max"+Qg]=i[ca],o[_2]=i[_2],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},f8e=/([A-Z])/g,P6=function(e){if(e){var s,a,t=e.t.style,i=e.length,r=0;for((e.t._gsap||$e.core.getCache(e.t)).uncache=1;r<i;r+=2)s=e[r],(a=e[r+1])?t[s]=a:t[s]&&t.removeProperty(s.replace(f8e,"-$1").toLowerCase())}},F9=function(e){for(var t=O9.length,i=e.style,r=[],s=0;s<t;s++)r.push(O9[s],i[O9[s]]);return r.t=e,r},k9={left:0,top:0},OL=function(e,t,i,r,s,a,o,c,l,u,f,h,d,p){On(e)&&(e=e(c)),Ei(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?I9("0"+e.substr(3),i):0));var v,m,x,g=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),T9(e))d&&(e=$e.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&V9(o,i,r,!0);else{On(t)&&(t=t(c));var C,w,z,E,_=(e||"0").split(" ");x=si(t,c)||Dt,(!(C=O4(x)||{})||!C.left&&!C.top)&&"none"===or(x).display&&(E=x.style.display,x.style.display="block",C=O4(x),E?x.style.display=E:x.style.removeProperty("display")),w=I9(_[0],C[r.d]),z=I9(_[1]||"0",i),e=C[r.p]-l[r.p]-u+w+s-z,o&&V9(o,z,r,i-z<20||o._isStart&&z>20),i-=i-z}if(p&&(c[p]=e||-.001,e<0&&(e=0)),a){var D=e+i,b=a._isStart;v="scroll"+r.d2,V9(a,D,r,b&&D>20||!b&&(f?Math.max(Dt[v],Tr[v]):a.parentNode[v])<=D+1),f&&(l=O4(o),f&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+sn))}return d&&x&&(v=O4(x),d.seek(h),m=O4(x),d._caScrollDist=v[r.p]-m[r.p],e=e/d._caScrollDist*h),d&&d.seek(g),d?e:Math.round(e)},d8e=/(webkit|moz|length|cssText|inset)/i,FL=function(e,t,i,r){if(e.parentNode!==t){var a,o,s=e.style;if(t===Dt){for(a in e._stOrig=s.cssText,o=or(e))!+a&&!d8e.test(a)&&o[a]&&"string"==typeof s[a]&&"0"!==a&&(s[a]=o[a]);s.top=i,s.left=r}else s.cssText=e._stOrig;$e.core.getCache(e).uncache=1,t.appendChild(e)}},kL=function(e,t,i){var r=t,s=r;return function(a){var o=Math.round(e());return o!==r&&o!==s&&Math.abs(o-r)>3&&Math.abs(o-s)>3&&(a=o,i&&i()),s=r,r=a,a}},U9=function(e,t,i){var r={};r[t.p]="+="+i,$e.set(e,r)},UL=function(e,t){var i=ts(e,t),r="_scroll"+t.p2,s=function a(o,c,l,u,f){var h=a.tween,d=c.onComplete,p={};l=l||i();var g=kL(i,l,function(){h.kill(),a.tween=0});return f=u&&f||0,u=u||o-l,h&&h.kill(),c[r]=o,c.modifiers=p,p[r]=function(){return g(l+u*h.ratio+f*h.ratio*h.ratio)},c.onUpdate=function(){X1.cache++,F4()},c.onComplete=function(){a.tween=0,d&&d.call(h)},h=a.tween=$e.to(e,c)};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},F2(e,"wheel",i.wheelHandler),K1.isTouch&&F2(e,"touchmove",i.wheelHandler),s},K1=function(){function n(t,i){z6||n.register($e)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),jg(this),this.init(t,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),A8){var Fe,g1,at,e1,V,fe,re,me,ue,k,Ae,Re,d1,r1,mt,I,T,ee,he,ve,be,Ye,we,ae,qe,i1,s1,We,ke,M1,nt,H,ze,Q,Me,Se,O1,gt,bt,a=(i=TL(Ei(i)||T9(i)||i.nodeType?{trigger:i}:i,N9)).onUpdate,o=i.toggleClass,c=i.id,l=i.onToggle,u=i.onRefresh,f=i.scrub,h=i.trigger,d=i.pin,p=i.pinSpacing,g=i.invalidateOnRefresh,v=i.anticipatePin,m=i.onScrubComplete,x=i.onSnapComplete,_=i.once,C=i.snap,w=i.pinReparent,z=i.pinSpacer,E=i.containerAnimation,D=i.fastScrollEnd,b=i.preventOverlaps,A=i.horizontal||i.containerAnimation&&!1!==i.horizontal?Rn:T2,F=!f&&0!==f,Z=si(i.scroller||tt),B=$e.core.getCache(Z),O=sa(Z),W="fixed"===("pinType"in i?i.pinType:es(Z,"pinType")||O&&"fixed"),ne=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],X=F&&i.toggleActions.split(" "),K="markers"in i?i.markers:N9.markers,oe=O?0:parseFloat(or(Z)["border"+A.p2+D6])||0,P=this,G=i.onRefreshInit&&function(){return i.onRefreshInit(P)},ce=function(e,t,i){var r=i.d,s=i.d2,a=i.a;return(a=es(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?SL(s):e["client"+s])||0}}(Z,O,A),xe=function(e,t){return!t||~a4.indexOf(e)?zL(e):function(){return k9}}(Z,O),_e=0,Ce=0,Oe=0,Ne=ts(Z,A);if(P._startClamp=P._endClamp=!1,P._dir=A,v*=45,P.scroller=Z,P.scroll=E?E.time.bind(E):Ne,e1=Ne(),P.vars=i,r=r||i.animation,"refreshPriority"in i&&(pL=1,-9999===i.refreshPriority&&(V8=P)),B.tweenScroll=B.tweenScroll||{top:UL(Z,T2),left:UL(Z,Rn)},P.tweenTo=Fe=B.tweenScroll[A.p],P.scrubDuration=function(Ue){(ze=T9(Ue)&&Ue)?H?H.duration(Ue):H=$e.to(r,{ease:"expo",totalProgress:"+=0",duration:ze,paused:!0,onComplete:function(){return m&&m(P)}}):(H&&H.progress(1).kill(),H=0)},r&&(r.vars.lazy=!1,r._initted&&!P.isReverted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.duration()&&r.render(0,!0,!0),P.animation=r.pause(),r.scrollTrigger=P,P.scrubDuration(f),M1=0,c||(c=r.vars.id)),C&&((!aa(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Dt.style&&$e.set(O?[Dt,Tr]:Z,{scrollBehavior:"auto"}),X1.forEach(function(Ue){return On(Ue)&&Ue.target===(O?$t.scrollingElement||Tr:Z)&&(Ue.smooth=!1)}),at=On(C.snapTo)?C.snapTo:"labels"===C.snapTo?function(e){return function(t){return $e.utils.snap(LL(e),t)}}(r):"labelsDirectional"===C.snapTo?function(e){return function(t,i){return tv(LL(e))(t,i.direction)}}(r):!1!==C.directional?function(Ue,Y1){return tv(C.snapTo)(Ue,Hn()-Ce<500?0:Y1.direction)}:$e.utils.snap(C.snapTo),Q=aa(Q=C.duration||{min:.1,max:2})?A6(Q.min,Q.max):A6(Q,Q),Me=$e.delayedCall(C.delay||ze/2||.1,function(){var Ue=Ne(),Y1=Hn()-Ce<500,m1=Fe.tween;if(!(Y1||Math.abs(P.getVelocity())<10)||m1||z9||_e===Ue)P.isActive&&_e!==Ue&&Me.restart(!0);else{var P1=(Ue-fe)/r1,l2=r&&!F?r.totalProgress():P1,j1=Y1?0:(l2-nt)/(Hn()-w9)*1e3||0,Ht=$e.utils.clamp(-P1,1-P1,L6(j1/2)*j1/.185),an=P1+(!1===C.inertia?0:Ht),N2=A6(0,1,at(an,P)),Pt=Math.round(fe+N2*r1),Y=C.onStart,J=C.onInterrupt,q=C.onComplete;if(Ue<=re&&Ue>=fe&&Pt!==Ue){if(m1&&!m1._initted&&m1.data<=L6(Pt-Ue))return;!1===C.inertia&&(Ht=N2-P1),Fe(Pt,{duration:Q(L6(.185*Math.max(L6(an-l2),L6(N2-l2))/j1/.05||0)),ease:C.ease||"power3",data:L6(Pt-Ue),onInterrupt:function(){return Me.restart(!0)&&J&&J(P)},onComplete:function(){P.update(),_e=Ne(),M1=nt=r&&!F?r.totalProgress():P.progress,x&&x(P),q&&q(P)}},Ue,Ht*r1,Pt-Ue-Ht*r1),Y&&Y(P,Fe.tween)}}}).pause()),c&&(nv[c]=P),(bt=(h=P.trigger=si(h||!0!==d&&d))&&h._gsap&&h._gsap.stRevert)&&(bt=bt(P)),d=!0===d?h:si(d),Ei(o)&&(o={targets:h,className:o}),d&&(!1===p||p===ar||(p=!(!p&&d.parentNode&&d.parentNode.style&&"flex"===or(d.parentNode).display)&&_2),P.pin=d,(g1=$e.core.getCache(d)).spacer?mt=g1.pinState:(z&&((z=si(z))&&!z.nodeType&&(z=z.current||z.nativeElement),g1.spacerIsNative=!!z,z&&(g1.spacerState=F9(z))),g1.spacer=ee=z||$t.createElement("div"),ee.classList.add("pin-spacer"),c&&ee.classList.add("pin-spacer-"+c),g1.pinState=mt=F9(d)),!1!==i.force3D&&$e.set(d,{force3D:!0}),P.spacer=ee=g1.spacer,ke=or(d),ae=ke[p+A.os2],ve=$e.getProperty(d),be=$e.quickSetter(d,A.a,sn),ov(d,ee,ke),T=F9(d)),K){Re=aa(K)?TL(K,DL):DL,k=R9("scroller-start",c,Z,A,Re,0),Ae=R9("scroller-end",c,Z,A,Re,0,k),he=k["offset"+A.op.d2];var a1=si(es(Z,"content")||Z);me=this.markerStart=R9("start",c,a1,A,Re,he,0,E),ue=this.markerEnd=R9("end",c,a1,A,Re,he,0,E),E&&(gt=$e.quickSetter([me,ue],A.a,sn)),!W&&(!a4.length||!0!==es(Z,"fixedMarkers"))&&(function(e){var t=or(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(O?Dt:Z),$e.set([k,Ae],{force3D:!0}),i1=$e.quickSetter(k,A.a,sn),We=$e.quickSetter(Ae,A.a,sn))}if(E){var Pe=E.vars.onUpdate,N1=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){P.update(0,0,1),Pe&&Pe.apply(E,N1||[])})}if(P.previous=function(){return G1[G1.indexOf(P)-1]},P.next=function(){return G1[G1.indexOf(P)+1]},P.revert=function(Ue,Y1){if(!Y1)return P.kill(!0);var m1=!1!==Ue||!P.enabled,P1=vn;m1!==P.isReverted&&(m1&&(Se=Math.max(Ne(),P.scroll.rec||0),Oe=P.progress,O1=r&&r.progress()),me&&[me,ue,k,Ae].forEach(function(l2){return l2.style.display=m1?"none":"block"}),m1&&(vn=P,P.update(m1)),d&&(!w||!P.isActive)&&(m1?function(e,t,i){P6(i);var r=e._gsap;if(r.spacerIsNative)P6(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1}(d,ee,mt):ov(d,ee,or(d),qe)),m1||P.update(m1),vn=P1,P.isReverted=m1)},P.refresh=function(Ue,Y1,m1,P1){if(!vn&&P.enabled||Y1){if(d&&Ue&&sr)return void F2(n,"scrollEnd",PL);!Fn&&G&&G(P),vn=P,Fe.tween&&!m1&&(Fe.tween.kill(),Fe.tween=0),H&&H.pause(),g&&r&&r.revert({kill:!1}).invalidate(),P.isReverted||P.revert(!0,!0),P._subPinOffset=!1;var Be,Je,u1,I1,n1,t1,ot,It,li,Gn,dt,F1,ps,l2=ce(),j1=xe(),Ht=E?E.duration():H4(Z,A),an=r1<=.01,N2=0,Pt=P1||0,L=aa(m1)?m1.end:i.end,Y=i.endTrigger||h,J=aa(m1)?m1.start:i.start||(0!==i.start&&h?d?"0 0":"0 100%":0),q=P.pinnedContainer=i.pinnedContainer&&si(i.pinnedContainer,P),se=h&&Math.max(0,G1.indexOf(P))||0,Te=se;for(K&&aa(m1)&&(F1=$e.getProperty(k,A.p),ps=$e.getProperty(Ae,A.p));Te--;)(t1=G1[Te]).end||t1.refresh(0,1)||(vn=P),(ot=t1.pin)&&(ot===h||ot===d||ot===q)&&!t1.isReverted&&(Gn||(Gn=[]),Gn.unshift(t1),t1.revert(!0,!0)),t1!==G1[Te]&&(se--,Te--);for(On(J)&&(J=J(P)),J=_L(J,"start",P),fe=OL(J,h,l2,A,Ne(),me,k,P,j1,oe,W,Ht,E,P._startClamp&&"_startClamp")||(d?-.001:0),On(L)&&(L=L(P)),Ei(L)&&!L.indexOf("+=")&&(~L.indexOf(" ")?L=(Ei(J)?J.split(" ")[0]:"")+L:(N2=I9(L.substr(2),l2),L=Ei(J)?J:(E?$e.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,fe):fe)+N2,Y=h)),L=_L(L,"end",P),re=Math.max(fe,OL(L||(Y?"100% 0":Ht),Y,l2,A,Ne()+N2,ue,Ae,P,j1,oe,W,Ht,E,P._endClamp&&"_endClamp"))||-.001,N2=0,Te=se;Te--;)(ot=(t1=G1[Te]).pin)&&t1.start-t1._pinPush<=fe&&!E&&t1.end>0&&(Be=t1.end-(P._startClamp?Math.max(0,t1.start):t1.start),(ot===h&&t1.start-t1._pinPush<fe||ot===q)&&isNaN(J)&&(N2+=Be*(1-t1.progress)),ot===d&&(Pt+=Be));if(fe+=N2,re+=N2,P._startClamp&&(P._startClamp+=N2),P._endClamp&&!Fn&&(P._endClamp=re||-.001,re=Math.min(re,H4(Z,A))),r1=re-fe||(fe-=.01)&&.001,an&&(Oe=$e.utils.clamp(0,1,$e.utils.normalize(fe,re,Se))),P._pinPush=Pt,me&&N2&&((Be={})[A.a]="+="+N2,q&&(Be[A.p]="-="+Ne()),$e.set([me,ue],Be)),d)Be=or(d),I1=A===T2,u1=Ne(),Ye=parseFloat(ve(A.a))+Pt,!Ht&&re>1&&(dt={style:dt=(O?$t.scrollingElement||Tr:Z).style,value:dt["overflow"+A.a.toUpperCase()]},O&&"scroll"!==or(Dt)["overflow"+A.a.toUpperCase()]&&(dt.style["overflow"+A.a.toUpperCase()]="scroll")),ov(d,ee,Be),T=F9(d),Je=O4(d,!0),It=W&&ts(Z,I1?Rn:T2)(),p&&((qe=[p+A.os2,r1+Pt+sn]).t=ee,(Te=p===_2?ev(d,A)+r1+Pt:0)&&qe.push(A.d,Te+sn),P6(qe),q&&G1.forEach(function(Ot){Ot.pin===q&&!1!==Ot.vars.pinSpacing&&(Ot._subPinOffset=!0)}),W&&Ne(Se)),W&&((n1={top:Je.top+(I1?u1-fe:It)+sn,left:Je.left+(I1?It:u1-fe)+sn,boxSizing:"border-box",position:"fixed"})[oa]=n1["max"+D6]=Math.ceil(Je.width)+sn,n1[ca]=n1["max"+Qg]=Math.ceil(Je.height)+sn,n1[ar]=n1[ar+N8]=n1[ar+L8]=n1[ar+P8]=n1[ar+D8]="0",n1[_2]=Be[_2],n1[_2+N8]=Be[_2+N8],n1[_2+L8]=Be[_2+L8],n1[_2+P8]=Be[_2+P8],n1[_2+D8]=Be[_2+D8],I=function(e,t,i){for(var o,r=[],s=e.length,a=i?8:0;a<s;a+=2)r.push(o=e[a],o in t?t[o]:e[a+1]);return r.t=e.t,r}(mt,n1,w),Fn&&Ne(0)),r?(li=r._initted,Wg(1),r.render(r.duration(),!0,!0),we=ve(A.a)-Ye+r1+Pt,s1=Math.abs(r1-we)>1,W&&s1&&I.splice(I.length-2,2),r.render(0,!0,!0),li||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Wg(0)):we=r1,dt&&(dt.value?dt.style["overflow"+A.a.toUpperCase()]=dt.value:dt.style.removeProperty("overflow-"+A.a));else if(h&&Ne()&&!E)for(Je=h.parentNode;Je&&Je!==Dt;)Je._pinOffset&&(fe-=Je._pinOffset,re-=Je._pinOffset),Je=Je.parentNode;Gn&&Gn.forEach(function(Ot){return Ot.revert(!1,!0)}),P.start=fe,P.end=re,e1=V=Fn?Se:Ne(),!E&&!Fn&&(e1<Se&&Ne(Se),P.scroll.rec=0),P.revert(!1,!0),Ce=Hn(),Me&&(_e=-1,Me.restart(!0)),vn=0,r&&F&&(r._initted||O1)&&r.progress()!==O1&&r.progress(O1||0,!0).render(r.time(),!0,!0),(an||Oe!==P.progress||E)&&(r&&!F&&r.totalProgress(E&&fe<-.001&&!Oe?$e.utils.normalize(fe,re,0):Oe,!0),P.progress=an||(e1-fe)/r1===Oe?0:Oe),d&&p&&(ee._pinOffset=Math.round(P.progress*we)),H&&H.invalidate(),isNaN(F1)||(F1-=$e.getProperty(k,A.p),ps-=$e.getProperty(Ae,A.p),U9(k,A,F1),U9(me,A,F1-(P1||0)),U9(Ae,A,ps),U9(ue,A,ps-(P1||0))),an&&!Fn&&P.update(),u&&!Fn&&!d1&&(d1=!0,u(P),d1=!1)}},P.getVelocity=function(){return(Ne()-V)/(Hn()-w9)*1e3||0},P.endAnimation=function(){T8(P.callbackAnimation),r&&(H?H.progress(1):r.paused()?F||T8(r,P.direction<0,1):T8(r,r.reversed()))},P.labelToScroll=function(Ue){return r&&r.labels&&(fe||P.refresh()||fe)+r.labels[Ue]/r.duration()*r1||0},P.getTrailing=function(Ue){var Y1=G1.indexOf(P),m1=P.direction>0?G1.slice(0,Y1).reverse():G1.slice(Y1+1);return(Ei(Ue)?m1.filter(function(P1){return P1.vars.preventOverlaps===Ue}):m1).filter(function(P1){return P.direction>0?P1.end<=fe:P1.start>=re})},P.update=function(Ue,Y1,m1){if(!E||m1||Ue){var an,Pt,L,Y,J,q,se,P1=!0===Fn?Se:P.scroll(),l2=Ue?0:(P1-fe)/r1,j1=l2<0?0:l2>1?1:l2||0,Ht=P.progress;if(Y1&&(V=e1,e1=E?Ne():P1,C&&(nt=M1,M1=r&&!F?r.totalProgress():j1)),v&&!j1&&d&&!vn&&!A9&&sr&&fe<P1+(P1-V)/(Hn()-w9)*v&&(j1=1e-4),j1!==Ht&&P.enabled){if(Y=(J=(an=P.isActive=!!j1&&j1<1)!=(!!Ht&&Ht<1))||!!j1!=!!Ht,P.direction=j1>Ht?1:-1,P.progress=j1,Y&&!vn&&(Pt=j1&&!Ht?0:1===j1?1:1===Ht?2:3,F&&(L=!J&&"none"!==X[Pt+1]&&X[Pt+1]||X[Pt],se=r&&("complete"===L||"reset"===L||L in r))),b&&(J||se)&&(se||f||!r)&&(On(b)?b(P):P.getTrailing(b).forEach(function(u1){return u1.endAnimation()})),F||(!H||vn||A9?r&&r.totalProgress(j1,!(!vn||!Ce&&!Ue)):(H._dp._time-H._start!==H._time&&H.render(H._dp._time-H._start),H.resetTo?H.resetTo("totalProgress",j1,r._tTime/r._tDur):(H.vars.totalProgress=j1,H.invalidate().restart()))),d)if(Ue&&p&&(ee.style[p+A.os2]=ae),W){if(Y){if(q=!Ue&&j1>Ht&&re+1>P1&&P1+1>=H4(Z,A),w)if(Ue||!an&&!q)FL(d,ee);else{var Te=O4(d,!0),Be=P1-fe;FL(d,Dt,Te.top+(A===T2?Be:0)+sn,Te.left+(A===T2?0:Be)+sn)}P6(an||q?I:T),s1&&j1<1&&an||be(Ye+(1!==j1||q?0:we))}}else be(E8(Ye+we*j1));C&&!Fe.tween&&!vn&&!A9&&Me.restart(!0),o&&(J||_&&j1&&(j1<1||!Zg))&&b9(o.targets).forEach(function(u1){return u1.classList[an||_?"add":"remove"](o.className)}),a&&!F&&!Ue&&a(P),Y&&!vn?(F&&(se&&("complete"===L?r.pause().totalProgress(1):"reset"===L?r.restart(!0).pause():"restart"===L?r.restart(!0):r[L]()),a&&a(P)),(J||!Zg)&&(l&&J&&Yg(P,l),ne[Pt]&&Yg(P,ne[Pt]),_&&(1===j1?P.kill(!1,1):ne[Pt]=0),J||ne[Pt=1===j1?1:3]&&Yg(P,ne[Pt])),D&&!an&&Math.abs(P.getVelocity())>(T9(D)?D:2500)&&(T8(P.callbackAnimation),H?H.progress(1):T8(r,"reverse"===L?1:!j1,1))):F&&a&&!vn&&a(P)}if(We){var Je=E?P1/E.duration()*(E._caScrollDist||0):P1;i1(Je+(k._isFlipped?1:0)),We(Je)}gt&&gt(-P1/E.duration()*(E._caScrollDist||0))}},P.enable=function(Ue,Y1){P.enabled||(P.enabled=!0,F2(Z,"resize",R8),O||F2(Z,"scroll",N6),G&&F2(n,"refreshInit",G),!1!==Ue&&(P.progress=Oe=0,e1=V=_e=Ne()),!1!==Y1&&P.refresh())},P.getTween=function(Ue){return Ue&&Fe?Fe.tween:H},P.setPositions=function(Ue,Y1,m1,P1){if(E){var l2=E.scrollTrigger,j1=E.duration(),Ht=l2.end-l2.start;Ue=l2.start+Ht*Ue/j1,Y1=l2.start+Ht*Y1/j1}P.refresh(!1,!1,{start:ML(Ue,m1&&!!P._startClamp),end:ML(Y1,m1&&!!P._endClamp)},P1),P.update()},P.adjustPinSpacing=function(Ue){if(qe&&Ue){var Y1=qe.indexOf(A.d)+1;qe[Y1]=parseFloat(qe[Y1])+Ue+sn,qe[1]=parseFloat(qe[1])+Ue+sn,P6(qe)}},P.disable=function(Ue,Y1){if(P.enabled&&(!1!==Ue&&P.revert(!0,!0),P.enabled=P.isActive=!1,Y1||H&&H.pause(),Se=0,g1&&(g1.uncache=1),G&&k2(n,"refreshInit",G),Me&&(Me.pause(),Fe.tween&&Fe.tween.kill()&&(Fe.tween=0)),!O)){for(var m1=G1.length;m1--;)if(G1[m1].scroller===Z&&G1[m1]!==P)return;k2(Z,"resize",R8),O||k2(Z,"scroll",N6)}},P.kill=function(Ue,Y1){P.disable(Ue,Y1),H&&!Y1&&H.kill(),c&&delete nv[c];var m1=G1.indexOf(P);m1>=0&&G1.splice(m1,1),m1===Vn&&H9>0&&Vn--,m1=0,G1.forEach(function(P1){return P1.scroller===P.scroller&&(m1=1)}),m1||Fn||(P.scroll.rec=0),r&&(r.scrollTrigger=null,Ue&&r.revert({kill:!1}),Y1||r.kill()),me&&[me,ue,k,Ae].forEach(function(P1){return P1.parentNode&&P1.parentNode.removeChild(P1)}),V8===P&&(V8=0),d&&(g1&&(g1.uncache=1),m1=0,G1.forEach(function(P1){return P1.pin===d&&m1++}),m1||(g1.spacer=0)),i.onKill&&i.onKill(P)},G1.push(P),P.enable(!1,!1),bt&&bt(P),r&&r.add&&!r1){var W1=P.update;P.update=function(){P.update=W1,fe||re||P.refresh()},$e.delayedCall(.01,P.update),r1=.01,fe=re=0}else P.refresh();d&&function(){if(VL!==fa){var e=VL=fa;requestAnimationFrame(function(){return e===fa&&ha(!0)})}}()}else this.update=this.refresh=this.kill=o4},n.register=function(i){return z6||($e=i||wL(),bL()&&window.document&&n.enable(),z6=A8),z6},n.defaults=function(i){if(i)for(var r in i)N9[r]=i[r];return N9},n.disable=function(i,r){A8=0,G1.forEach(function(a){return a[r?"kill":"disable"](i)}),k2(tt,"wheel",N6),k2($t,"scroll",N6),clearInterval(S9),k2($t,"touchcancel",o4),k2(Dt,"touchstart",o4),L9(k2,$t,"pointerdown,touchstart,mousedown",xL),L9(k2,$t,"pointerup,touchend,mouseup",CL),C9.kill(),E9(k2);for(var s=0;s<X1.length;s+=3)D9(k2,X1[s],X1[s+1]),D9(k2,X1[s],X1[s+2])},n.enable=function(){if(tt=window,$t=document,Tr=$t.documentElement,Dt=$t.body,$e&&(b9=$e.utils.toArray,A6=$e.utils.clamp,jg=$e.core.context||o4,Wg=$e.core.suppressOverwrites||o4,$g=tt.history.scrollRestoration||"auto",sv=tt.pageYOffset,$e.core.globals("ScrollTrigger",n),Dt)){A8=1,(T6=document.createElement("div")).style.height="100vh",T6.style.position="absolute",HL(),n8e(),y2.register($e),n.isTouch=y2.isTouch,ns=y2.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),F2(tt,"wheel",N6),fL=[tt,$t,Tr,Dt],$e.matchMedia?(n.matchMedia=function(c){var u,l=$e.matchMedia();for(u in c)l.add(u,c[u]);return l},$e.addEventListener("matchMediaInit",function(){return rv()}),$e.addEventListener("matchMediaRevert",function(){return IL()}),$e.addEventListener("matchMedia",function(){ha(0,1),ua("matchMedia")}),$e.matchMedia("(orientation: portrait)",function(){return iv(),iv})):console.warn("Requires GSAP 3.11.0 or later"),iv(),F2($t,"scroll",N6);var a,o,i=Dt.style,r=i.borderTopStyle,s=$e.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=O4(Dt),T2.m=Math.round(a.top+T2.sc())||0,Rn.m=Math.round(a.left+Rn.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),S9=setInterval(NL,250),$e.delayedCall(.5,function(){return A9=0}),F2($t,"touchcancel",o4),F2(Dt,"touchstart",o4),L9(F2,$t,"pointerdown,touchstart,mousedown",xL),L9(F2,$t,"pointerup,touchend,mouseup",CL),Gg=$e.utils.checkPrefix("transform"),O9.push(Gg),z6=Hn(),C9=$e.delayedCall(.2,ha).pause(),E6=[$t,"visibilitychange",function(){var c=tt.innerWidth,l=tt.innerHeight;$t.hidden?(hL=c,dL=l):(hL!==c||dL!==l)&&R8()},$t,"DOMContentLoaded",ha,tt,"load",ha,tt,"resize",R8],E9(F2),G1.forEach(function(c){return c.enable(0,1)}),o=0;o<X1.length;o+=3)D9(k2,X1[o],X1[o+1]),D9(k2,X1[o],X1[o+2])}},n.config=function(i){"limitCallbacks"in i&&(Zg=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(S9)||(S9=r)&&setInterval(NL,r),"ignoreMobileResize"in i&&(gL=1===n.isTouch&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(E9(k2)||E9(F2,i.autoRefreshEvents||"none"),mL=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=si(i),a=X1.indexOf(s),o=sa(s);~a&&X1.splice(a,o?6:2),r&&(o?a4.unshift(tt,r,Dt,r,Tr,r):a4.unshift(s,r))},n.clearMatchMedia=function(i){G1.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var a=(Ei(i)?si(i):i).getBoundingClientRect(),o=a[s?oa:ca]*r||0;return s?a.right-o>0&&a.left+o<tt.innerWidth:a.bottom-o>0&&a.top+o<tt.innerHeight},n.positionInViewport=function(i,r,s){Ei(i)&&(i=si(i));var a=i.getBoundingClientRect(),o=a[s?oa:ca],c=null==r?o/2:r in P9?P9[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return s?(a.left+c)/tt.innerWidth:(a.top+c)/tt.innerHeight},n.killAll=function(i){if(G1.slice(0).forEach(function(s){return"ScrollSmoother"!==s.vars.id&&s.kill()}),!0!==i){var r=la.killAll||[];la={},r.forEach(function(s){return s()})}},n}();K1.version="3.12.2",K1.saveStyles=function(n){return n?b9(n).forEach(function(e){if(e&&e.style){var t=Ti.indexOf(e);t>=0&&Ti.splice(t,5),Ti.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$e.core.getCache(e),jg())}}):Ti},K1.revert=function(n,e){return rv(!n,e)},K1.create=function(n,e){return new K1(n,e)},K1.refresh=function(n){return n?R8():(z6||K1.register())&&ha(!0)},K1.update=function(n){return++X1.cache&&F4(!0===n?2:0)},K1.clearScrollMemory=RL,K1.maxScroll=function(n,e){return H4(n,e?Rn:T2)},K1.getScrollFunc=function(n,e){return ts(si(n),e?Rn:T2)},K1.getById=function(n){return nv[n]},K1.getAll=function(){return G1.filter(function(n){return"ScrollSmoother"!==n.vars.id})},K1.isScrolling=function(){return!!sr},K1.snapDirectional=tv,K1.addEventListener=function(n,e){var t=la[n]||(la[n]=[]);~t.indexOf(e)||t.push(e)},K1.removeEventListener=function(n,e){var t=la[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},K1.batch=function(n,e){var o,t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,a=function(l,u){var f=[],h=[],d=$e.delayedCall(r,function(){u(f,h),f=[],h=[]}).pause();return function(p){f.length||d.restart(!0),f.push(p.trigger),h.push(p),s<=f.length&&d.progress(1)}};for(o in e)i[o]="on"===o.substr(0,2)&&On(e[o])&&"onRefreshInit"!==o?a(0,e[o]):e[o];return On(s)&&(s=s(),F2(K1,"refresh",function(){return s=e.batchMax()})),b9(n).forEach(function(c){var l={};for(o in i)l[o]=i[o];l.trigger=c,t.push(K1.create(l))}),t};var WL,BL=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},cv=function n(e,t){!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(y2.isTouch?" pinch-zoom":""):"none",e===Tr&&n(Dt,t)},B9={auto:1,scroll:1},p8e=function(e){var c,t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,a=s._gsap||$e.core.getCache(s),o=Hn();if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==Dt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!B9[(c=or(s)).overflowY]&&!B9[c.overflowX]);)s=s.parentNode;a._isScroll=s&&s!==i&&!sa(s)&&(B9[(c=or(s)).overflowY]||B9[c.overflowX]),a._isScrollT=o}(a._isScroll||"x"===r)&&(t.stopPropagation(),t._gsapAllow=!0)},GL=function(e,t,i,r){return y2.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&p8e,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&F2($t,y2.eventTypes[0],jL,!1,!0)},onDisable:function(){return k2($t,y2.eventTypes[0],jL,!0)}})},m8e=/(input|label|select|textarea)/i,jL=function(e){var t=m8e.test(e.target.tagName);(t||WL)&&(e._gsapAllow=!0,WL=t)};function H8(n){return H8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H8(n)}function $L(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _8e(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){_8e(n,r,t[r])})}return n}function lv(n,e){return function x8e(n){if(Array.isArray(n))return n}(n)||function b8e(n,e){var t=[],i=!0,r=!1,s=void 0;try{for(var o,a=n[Symbol.iterator]();!(i=(o=a.next()).done)&&(t.push(o.value),!e||t.length!==e);i=!0);}catch(c){r=!0,s=c}finally{try{!i&&null!=a.return&&a.return()}finally{if(r)throw s}}return t}(n,e)||function S8e(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}K1.sort=function(n){return G1.sort(n||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},K1.observe=function(n){return new y2(n)},K1.normalizeScroll=function(n){if(typeof n>"u")return Ai;if(!0===n&&Ai)return Ai.enable();if(!1===n)return Ai&&Ai.kill();var e=n instanceof y2?n:function(e){aa(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o,c,_,C,Z,B,O,W,i=e.normalizeScrollX,r=e.momentum,s=e.allowNestedScroll,a=e.onRelease,l=si(e.target)||Tr,u=$e.core.globals().ScrollSmoother,f=u&&u.get(),h=ns&&(e.content&&si(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),d=ts(l,T2),p=ts(l,Rn),g=1,v=(y2.isTouch&&tt.visualViewport?tt.visualViewport.scale*tt.visualViewport.width:tt.outerWidth)/tt.innerWidth,m=0,x=On(r)?function(){return r(o)}:function(){return r||2.8},w=GL(l,e.type,!0,s),z=function(){return C=!1},E=o4,D=o4,b=function(){c=H4(l,T2),D=A6(ns?1:0,c),i&&(E=A6(0,H4(l,Rn))),_=fa},A=function(){h._gsap.y=E8(parseFloat(h._gsap.y)+d.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",d.offset=d.cacheID=0},ne=function(){b(),Z.isActive()&&Z.vars.scrollY>c&&(d()>c?Z.progress(1)&&d(c):Z.resetTo("scrollY",c))};return h&&$e.set(h,{y:"+=0"}),e.ignoreCheck=function(X){return ns&&"touchmove"===X.type&&function(){if(C){requestAnimationFrame(z);var K=E8(o.deltaY/2),oe=D(d.v-K);if(h&&oe!==d.v+d.offset){d.offset=oe-d.v;var P=E8((parseFloat(h&&h._gsap.y)||0)-d.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+P+", 0, 1)",h._gsap.y=P+"px",d.cacheID=X1.cache,F4()}return!0}d.offset&&A(),C=!0}()||g>1.05&&"touchstart"!==X.type||o.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){C=!1;var X=g;g=E8((tt.visualViewport&&tt.visualViewport.scale||1)/v),Z.pause(),X!==g&&cv(l,g>1.01||!i&&"x"),B=p(),O=d(),b(),_=fa},e.onRelease=e.onGestureStart=function(X,K){if(d.offset&&A(),K){X1.cache++;var P,G,oe=x();i&&(P=p(),oe*=BL(p,P,G=P+.05*oe*-X.velocityX/.227,H4(l,Rn)),Z.vars.scrollX=E(G)),P=d(),oe*=BL(d,P,G=P+.05*oe*-X.velocityY/.227,H4(l,T2)),Z.vars.scrollY=D(G),Z.invalidate().duration(oe).play(.01),(ns&&Z.vars.scrollY>=c||P>=c-1)&&$e.to({},{onUpdate:ne,duration:oe})}else W.restart(!0);a&&a(X)},e.onWheel=function(){Z._ts&&Z.pause(),Hn()-m>1e3&&(_=0,m=Hn())},e.onChange=function(X,K,oe,P,G){if(fa!==_&&b(),K&&i&&p(E(P[2]===K?B+(X.startX-X.x):p()+K-P[1])),oe){d.offset&&A();var ce=G[2]===oe,xe=ce?O+X.startY-X.y:d()+oe-G[1],_e=D(xe);ce&&xe!==_e&&(O+=_e-xe),d(_e)}(oe||K)&&F4()},e.onEnable=function(){cv(l,!i&&"x"),K1.addEventListener("refresh",ne),F2(tt,"resize",ne),d.smooth&&(d.target.style.scrollBehavior="auto",d.smooth=p.smooth=!1),w.enable()},e.onDisable=function(){cv(l,!0),k2(tt,"resize",ne),K1.removeEventListener("refresh",ne),w.kill()},e.lockAxis=!1!==e.lockAxis,(o=new y2(e)).iOS=ns,ns&&!d()&&d(1),ns&&$e.ticker.add(o4),W=o._dc,Z=$e.to(o,{ease:"power4",paused:!0,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:kL(d,d(),function(){return Z.pause()})},onUpdate:F4,onComplete:W.vars.onComplete}),o}(n);return Ai&&Ai.target===e.target&&Ai.kill(),sa(e.target)&&(Ai=e),e},K1.core={_getVelocityProp:Bg,_inputObserver:GL,_scrollers:X1,_proxies:a4,bridge:{ss:function(){sr||ua("scrollStart"),sr=Hn()},ref:function(){return vn}}},wL()&&$e.registerPlugin(K1);var fv={},ZL={};try{typeof window<"u"&&(fv=window),typeof document<"u"&&(ZL=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var KL=(fv.navigator||{}).userAgent,JL=void 0===KL?"":KL,I6=fv,M2=ZL,k4=!!M2.documentElement&&!!M2.head&&"function"==typeof M2.addEventListener&&"function"==typeof M2.createElement,U4=(~JL.indexOf("MSIE")||JL.indexOf("Trident/"),"___FONT_AWESOME___"),tD="fa",nD="svg-inline--fa",R6="data-fa-i2svg",aD=[1,2,3,4,5,6,7,8,9,10],V8e=aD.concat([11,12,13,14,15,16,17,18,19,20]),da={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},oD=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",da.GROUP,da.SWAP_OPACITY,da.PRIMARY,da.SECONDARY].concat(aD.map(function(n){return"".concat(n,"x")})).concat(V8e.map(function(n){return"w-".concat(n)})),I6.FontAwesomeConfig||{});M2&&"function"==typeof M2.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=lv(n,2),i=e[1],r=function k8e(n){return""===n||"false"!==n&&("true"===n||n)}(function F8e(n){var e=M2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(oD[i]=r)});var pv=J1({},{familyPrefix:tD,replacementClass:nD,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},oD);pv.autoReplaceSvg||(pv.observeMutations=!1);var T1=J1({},pv);I6.FontAwesomeConfig=T1;var B4=I6||{};B4[U4]||(B4[U4]={}),B4[U4].styles||(B4[U4].styles={}),B4[U4].hooks||(B4[U4].hooks={}),B4[U4].shims||(B4[U4].shims=[]);var Lr=B4[U4],cD=[];k4&&((M2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(M2.readyState)||M2.addEventListener("DOMContentLoaded",function n(){M2.removeEventListener("DOMContentLoaded",n),cD.map(function(e){return e()})}));var gv,mv="pending",lD="settled",j9="fulfilled",$9="rejected",j8e=function(){},uD=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,$8e=typeof setImmediate>"u"?setTimeout:setImmediate,O8=[];function q8e(){for(var n=0;n<O8.length;n++)O8[n][0](O8[n][1]);O8=[],gv=!1}function q9(n,e){O8.push([n,e]),gv||(gv=!0,$8e(q8e,0))}function fD(n){var e=n.owner,t=e._state,i=e._data,r=n[t],s=n.then;if("function"==typeof r){t=j9;try{i=r(i)}catch(a){F8(s,a)}}hD(s,i)||(t===j9&&vv(s,i),t===$9&&F8(s,i))}function hD(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===H8(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(r){t||(t=!0,e===r?dD(n,r):vv(n,r))},function(r){t||(t=!0,F8(n,r))}),!0}}catch(r){return t||F8(n,r),!0}return!1}function vv(n,e){(n===e||!hD(n,e))&&dD(n,e)}function dD(n,e){n._state===mv&&(n._state=lD,n._data=e,q9(X8e,n))}function F8(n,e){n._state===mv&&(n._state=lD,n._data=e,q9(Y8e,n))}function pD(n){n._then=n._then.forEach(fD)}function X8e(n){n._state=j9,pD(n)}function Y8e(n){n._state=$9,pD(n),!n._handled&&uD&&global.process.emit("unhandledRejection",n._data,n)}function K8e(n){global.process.emit("rejectionHandled",n)}function Li(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Li))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function Z8e(n,e){function i(r){F8(e,r)}try{n(function t(r){vv(e,r)},i)}catch(r){i(r)}}(n,this)}Li.prototype={constructor:Li,_state:mv,_then:null,_data:void 0,_handled:!1,then:function(e,t){var i={owner:this,then:new this.constructor(j8e),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===$9&&uD&&q9(K8e,this)),this._state===j9||this._state===$9?q9(fD,i):this._then.push(i),i.then},catch:function(e){return this.then(null,e)}},Li.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Li(function(e,t){var i=[],r=0;function s(c){return r++,function(l){i[c]=l,--r||e(i)}}for(var o,a=0;a<n.length;a++)(o=n[a])&&"function"==typeof o.then?o.then(s(a),t):i[a]=o;r||e(i)})},Li.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Li(function(e,t){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(e,t):e(r)})},Li.resolve=function(n){return n&&"object"===H8(n)&&n.constructor===Li?n:new Li(function(e){e(n)})},Li.reject=function(n){return new Li(function(e,t){t(n)})};var G4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Q8e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function k8(){for(var n=12,e="";n-- >0;)e+=Q8e[62*Math.random()|0];return e}function gD(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Z9(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function _v(n){return n.size!==G4.size||n.x!==G4.x||n.y!==G4.y||n.rotate!==G4.rotate||n.flipX||n.flipY}function vD(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var Mv={x:0,y:0,width:"100%",height:"100%"};function yD(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function i5e(n){return"g"===n.tag?n.children:[n]}var wv=function(e,t,i,r){var c,l,u,s=Object.keys(e),a=s.length,o=void 0!==r?function(e,t){return function(i,r,s,a){return e.call(t,i,r,s,a)}}(t,r):t;for(void 0===i?(c=1,u=e[s[0]]):(c=0,u=i);c<a;c++)u=o(u,e[l=s[c]],l,e);return u};function bD(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,s=Object.keys(e).reduce(function(a,o){var c=e[o];return c.icon?a[c.iconName]=c.icon:a[o]=c,a},{});"function"!=typeof Lr.hooks.addPack||r?Lr.styles[n]=J1({},Lr.styles[n]||{},s):Lr.hooks.addPack(n,s),"fas"===n&&bD("fa",e)}var wD=Lr.styles,f5e=Lr.shims,ED=function(){var e=function(r){return wv(wD,function(s,a,o){return s[o]=wv(a,r,{}),s},{})};e(function(i,r,s){return r[3]&&(i[r[3]]=s),i}),e(function(i,r,s){var a=r[2];return i[s]=s,a.forEach(function(o){i[o]=s}),i});var t="far"in wD;wv(f5e,function(i,r){var a=r[1];return"far"===a&&!t&&(a="fas"),i[r[0]]={prefix:a,iconName:r[2]},i},{})};function LD(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function H6(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?gD(n):"<".concat(e," ").concat(function t5e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(gD(n[t]),'" ')},"").trim()}(i),">").concat(s.map(H6).join(""),"</").concat(e,">")}ED();function B8(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(B8.prototype=Object.create(Error.prototype)).constructor=B8;var K9={fill:"currentColor"},VD={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ev=(J1({},K9,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),J1({},VD,{attributeName:"opacity"}));function Lv(n){var e=n[0],t=n[1],s=lv(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(T1.familyPrefix,"-").concat(da.GROUP)},children:[{tag:"path",attributes:{class:"".concat(T1.familyPrefix,"-").concat(da.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(T1.familyPrefix,"-").concat(da.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}J1({},K9,{cx:"256",cy:"364",r:"28"}),J1({},VD,{attributeName:"r",values:"28;14;28;28;14;28;"}),J1({},Ev,{values:"1;0;1;1;0;1;"}),J1({},K9,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),J1({},Ev,{values:"1;0;0;0;0;1;"}),J1({},K9,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),J1({},Ev,{values:"0;0;1;1;0;0;"});var F5e='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var k5e=function(){function n(){(function v8e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function y8e(n,e,t){e&&$L(n.prototype,e),t&&$L(n,t)}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){t.definitions[o]=J1({},t.definitions[o]||{},a[o]),bD(o,a[o]),ED()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],o=a.prefix,c=a.iconName,l=a.icon;t[o]||(t[o]={}),t[o][c]=l}),t}}]),n}();function G8(){T1.autoAddCss&&!Q9&&(function mD(n){if(n&&k4){var e=M2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=M2.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}return M2.head.insertBefore(e,i),n}}(function Nv(){var n=tD,e=nD,t=T1.familyPrefix,i=T1.replacementClass,r=F5e;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(i))}return r}()),Q9=!0)}function Pv(n){var e=n.prefix,t=void 0===e?"fa":e,i=n.iconName;if(i)return LD(UD.definitions,t,i)||LD(Lr.styles,t,i)}var UD=new k5e,Q9=!1,BD_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return i.flipX=!0,i;if(a&&"v"===o)return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(a){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o}return i},t):t}(e)},GD=function U5e(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:Pv(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:Pv(r||{})),n(i,J1({},t,{mask:r}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,i=void 0===t?G4:t,r=e.symbol,s=void 0!==r&&r,a=e.mask,o=void 0===a?null:a,c=e.maskId,l=void 0===c?null:c,u=e.title,f=void 0===u?null:u,h=e.titleId,d=void 0===h?null:h,p=e.classes,g=void 0===p?[]:p,v=e.attributes,m=void 0===v?{}:v,x=e.styles,_=void 0===x?{}:x;if(n){var C=n.prefix,w=n.iconName,z=n.icon;return function J9(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return H6(i)})}}),Object.defineProperty(n,"node",{get:function(){if(k4){var i=M2.createElement("div");return i.innerHTML=n.html,i.children}}}),n}(J1({type:"icon"},n),function(){return G8(),T1.autoA11y&&(f?m["aria-labelledby"]="".concat(T1.replacementClass,"-title-").concat(d||k8()):(m["aria-hidden"]="true",m.focusable="false")),function xv(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,a=n.transform,o=n.symbol,c=n.title,l=n.maskId,u=n.titleId,f=n.extra,h=n.watchable,d=void 0!==h&&h,p=i.found?i:t,g=p.width,v=p.height,m="fak"===r,x=m?"":"fa-w-".concat(Math.ceil(g/v*16)),_=[T1.replacementClass,s?"".concat(T1.familyPrefix,"-").concat(s):"",x].filter(function(A){return-1===f.classes.indexOf(A)}).filter(function(A){return""!==A||!!A}).concat(f.classes).join(" "),C={children:[],attributes:J1({},f.attributes,{"data-prefix":r,"data-icon":s,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(v)})},w=m&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/v*16*.0625,"em")}:{};d&&(C.attributes[R6]=""),c&&C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||k8())},children:[c]});var z=J1({},C,{prefix:r,iconName:s,main:t,mask:i,maskId:l,transform:a,symbol:o,styles:J1({},w,f.styles)}),E=i.found&&t.found?function r5e(n){var e=n.children,t=n.attributes,i=n.main,r=n.mask,s=n.maskId,c=i.icon,u=r.icon,f=vD({transform:n.transform,containerWidth:r.width,iconWidth:i.width}),h={tag:"rect",attributes:J1({},Mv,{fill:"white"})},d=c.children?{children:c.children.map(yD)}:{},p={tag:"g",attributes:J1({},f.inner),children:[yD(J1({tag:c.tag,attributes:J1({},c.attributes,f.path)},d))]},g={tag:"g",attributes:J1({},f.outer),children:[p]},v="mask-".concat(s||k8()),m="clip-".concat(s||k8()),x={tag:"mask",attributes:J1({},Mv,{id:v,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,g]},_={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:i5e(u)},x]};return e.push(_,{tag:"rect",attributes:J1({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(v,")")},Mv)}),{children:e,attributes:t}}(z):function s5e(n){var e=n.children,t=n.attributes,i=n.main,r=n.transform,a=Z9(n.styles);if(a.length>0&&(t.style=a),_v(r)){var o=vD({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:J1({},o.outer),children:[{tag:"g",attributes:J1({},o.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:J1({},i.icon.attributes,o.path)}]}]})}else e.push(i.icon);return{children:e,attributes:t}}(z),b=E.attributes;return z.children=E.children,z.attributes=b,o?function o5e(n){var t=n.iconName,i=n.children,s=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:J1({},n.attributes,{id:!0===s?"".concat(n.prefix,"-").concat(T1.familyPrefix,"-").concat(t):s}),children:i}]}]}(z):function a5e(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,a=n.transform;if(_v(a)&&t.found&&!i.found){var l={x:t.width/t.height/2,y:.5};r.style=Z9(J1({},s,{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(z)}({icons:{main:Lv(z),mask:o?Lv(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:w,transform:J1({},G4,i),symbol:s,title:f,maskId:l,titleId:d,extra:{attributes:m,styles:_,classes:g}})})}});const X5e=["*"],J5e=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let tle=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nle=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ile=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f1({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Sn]}),n})(),rle=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(ln))},n.\u0275cmp=h2({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Sn],ngContentSelectors:X5e,decls:1,vars:0,template:function(t,i){1&t&&(function AC(n){const e=de()[V2][R2];if(!e.projection){const i=e.projection=rc(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const a=n?pF(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}(),function EC(n,e=0,t){const i=de(),r=rt(),s=No(r,y1+n,16,null,t||null);null===s.projection&&(s.projection=e),hh(),32!=(32&s.flags)&&function LV(n,e,t){QM(e[A1],0,e,t,WM(n,t,e),ZM(t.parent||e[R2],t,e))}(r,i,s)}(0))},encapsulation:2}),n})(),O6=(()=>{class n{constructor(t,i,r,s,a){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,t){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?BD_transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...J5e(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=GD(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(le(ez),le(tle),le(nle),le(ile,8),le(rle,8))},n.\u0275cmp=h2({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(Od("innerHTML",i.renderedIconHTML,dx),_r("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Sn],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),sle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({}),n})();const WD=["headerText"],ale=["svgElement"],ole=["playVideoButon"],cle=["headerE1"],lle=["mask"],ule=["containerSubTitleProjectWord"],fle=["videoEl"],hle=function(){return["/projects"]};let dle=(()=>{class n{constructor(t){this.elementRef=t,this.faArrowRight=c8,this.faPlayCircle=FE}ngAfterViewInit(){if(this.containerRef){const t=this.containerRef.nativeElement,i=this.video.nativeElement,r=this.headerTextElementRef.nativeElement,a=this.playVideoButon.nativeElement,o=this.mask.nativeElement;window.addEventListener("click",function(){a.style.opacity="0",o.style.opacity="0.75"}),Og.registerPlugin(K1),Og.to(r,{scrollTrigger:{trigger:r,start:"top top",end:"+=2000",scrub:1,pin:t,onEnter:()=>a.classList.add("diplayOn"),onLeave:()=>a.classList.remove("diplayOn"),onEnterBack:()=>a.classList.add("diplayOn"),onLeaveBack:()=>a.classList.remove("diplayOn")},scale:15,x:-50,transformOrigin:"center center"}),i.load(),document.addEventListener("mousedown",()=>{i.play().catch(c=>{console.log("play error",c),console.log("entra")})}),document.addEventListener("touchstart",()=>{i.play().catch(c=>{console.log("play error",c)})}),window.innerWidth<=768&&(this.containerRef.nativeElement.style.display="none")}}}return n.\u0275fac=function(t){return new(t||n)(le(ln))},n.\u0275cmp=h2({type:n,selectors:[["app-mega-text-video"]],viewQuery:function(t,i){if(1&t&&(Jn(WD,5),Jn(ale,5),Jn(ole,5),Jn(cle,5),Jn(lle,5),Jn(WD,5),Jn(ule,7),Jn(fle,7,ln)),2&t){let r;Tn(r=Ln())&&(i.headerTextElementRef=r.first),Tn(r=Ln())&&(i.svgElementRef=r.first),Tn(r=Ln())&&(i.playVideoButon=r.first),Tn(r=Ln())&&(i.containerRef=r.first),Tn(r=Ln())&&(i.mask=r.first),Tn(r=Ln())&&(i.zoomElement=r.first),Tn(r=Ln())&&(i.containerSubTitleProjectWord=r.first),Tn(r=Ln())&&(i.video=r.first)}},decls:28,vars:4,consts:[[1,"containerSubTitleProjectWord"],["containerSubTitleProjectWord",""],[1,"subTitleProjectWord"],["fragment","projectsTitle",3,"routerLink"],[1,"linkBGdark"],[3,"icon"],[1,"playVideoButon"],["playVideoButon",""],[1,"containerMegavideoText"],["headerE1",""],[1,"mask"],["mask",""],["preload","","autoplay","","loop","","muted","","playsinline",""],["videoEl",""],["src","../../../assets/media/MyWork.mp4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 500 80","preserveAspectRatio","xMidYMid slice"],["svgElement",""],["id","mask","x","0","y","0","width","100%","height","100%"],["x","0","y","0","width","100%","height","100%"],["id","header-text","x","50%","y","50","text-anchor","middle","dominant-baseline","middle"],["headerText",""]],template:function(t,i){1&t&&(ge(0,"div",0),j(1,"div",0,1)(3,"span",2),De(4,"Hi there! I'm Alejandro Alonzo, "),j(5,"a",3)(6,"span",4),De(7,"+3 years coding. // Let me show you "),ge(8,"fa-icon",5),U()()()(),j(9,"span",6,7),ge(11,"fa-icon",5),U(),j(12,"header",8,9),ge(14,"div",10,11),j(16,"video",12,13),ge(18,"source",14),U(),function nM(){C1.lFrame.currentNamespace=k_}(),j(19,"svg",15,16)(21,"defs")(22,"mask",17),ge(23,"rect",18),j(24,"text",19,20),De(26,"WORK"),U()()(),ge(27,"rect",18),U()()),2&t&&(Le(5),je("routerLink",Xi(3,hle)),Le(3),je("icon",i.faArrowRight),Le(3),je("icon",i.faPlayCircle))},dependencies:[B3,O6],styles:["@font-face{font-family:IMPACT;src:url(IMPACT.1a7ecb646e1eba77.TTF)}@font-face{font-family:MavenPro-Regular;src:url(MavenPro-Regular.f5d986a9e3695a5d.ttf)}header[_ngcontent-%COMP%]{width:100%;margin:0 auto;position:relative;max-width:100%;scroll-snap-type:y mandatory}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:120vw!important;object-fit:cover}.mask[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffffd9}svg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;height:100%;scroll-snap-align:start}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-weight:700;text-transform:uppercase;font-size:4.5em;letter-spacing:-2px;text-align:center}svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#fff}svg[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]{-webkit-mask:url(#mask);mask:url(#mask);fill:#35373e}svg[_ngcontent-%COMP%] > text[_ngcontent-%COMP%]{fill:#000;width:100%}#header-text[_ngcontent-%COMP%]{transform-origin:center center;transition:transform .5s ease-out}.containerSubTitleProjectWord[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#2d2f35}.subTitleProjectWord[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;top:160px;left:calc(50% + 136px);z-index:2}.containerSubTitleProjectWord2[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#35373e;justify-content:flex-end}.subTitleProjectWord2[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;bottom:55px;right:calc(50% - 650px);z-index:2}.fixed-height[_ngcontent-%COMP%]{position:fixed;top:0}.playVideoButon[_ngcontent-%COMP%]{font-size:3em;color:#eeeef0;position:fixed;top:40%;left:50%;z-index:10;opacity:0;animation:_ngcontent-%COMP%_faAnimado 2s infinite}.diplayOn[_ngcontent-%COMP%]{opacity:1}.playVideoButon[_ngcontent-%COMP%]:hover{animation-play-state:paused;color:#35373e!important}@keyframes _ngcontent-%COMP%_faAnimado{0%{color:#eeeef0}50%{color:#00adb5}to{color:#eeeef0}}@media (max-width: 1550px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:130px;left:calc(50% + 110px)}.subTitleProjectWord2[_ngcontent-%COMP%]{position:relative;bottom:50px;right:calc(50% - 540px)}}@media (max-width: 845px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:280px;left:10px}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;font-size:1.6em!important;letter-spacing:-1px!important}.playVideoButon[_ngcontent-%COMP%]{display:none}.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:0}.containerMegavideoText[_ngcontent-%COMP%]{display:none}}"]}),n})();const ple=function(){return["/contact"]};let Iv=(()=>{class n{constructor(){this.faArrowUp=Ym}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-footer"]],decls:12,vars:3,consts:[[1,"footerTextContainer"],[1,"footerText","animatedBAckToTop"],[3,"click"],[1,"socialIcons","linkBGdark",3,"icon"],[1,"footerText"],["fragment","createProject",1,"linkBGdark",3,"routerLink"]],template:function(t,i){1&t&&(j(0,"footer")(1,"div",0)(2,"div",1)(3,"a",2),x1("click",function(){return i.scrollToTop()}),ge(4,"fa-icon",3),U()(),j(5,"div",4),De(6," Wanna get in touch or talk about a project? "),U(),j(7,"div",4),De(8," Feel free to drop a line in the form at the "),j(9,"a",5),De(10,"contact page"),U(),De(11,". "),U()()()),2&t&&(Le(4),je("icon",i.faArrowUp),Le(5),je("routerLink",Xi(2,ple)))},dependencies:[B3,O6]}),n})();function jD(n,e,t,i,r,s,a){try{var o=n[s](a),c=o.value}catch(l){return void t(l)}o.done?e(c):Promise.resolve(c).then(i,r)}const gle=0,$D=1,vle=2,qD=1,yle=2,W4=3,rs=0,ai=1,j4=2,ss=0,F6=1,Vv=2,ZD=3,XD=4,_le=5,k6=100,Mle=101,xle=102,YD=103,KD=104,Cle=200,ble=201,wle=202,Sle=203,JD=204,QD=205,zle=206,Ale=207,Ele=208,Tle=209,Lle=210,Dle=0,Nle=1,Ple=2,Hv=3,Ile=4,Rle=5,Vle=6,Hle=7,eu=0,Ole=1,Fle=2,$4=0,kle=1,Ule=2,Ble=3,Gle=4,Wle=5,pa=301,ma=302,tu=303,nu=304,W8=306,iu=1e3,kn=1001,ru=1002,x2=1003,Fv=1004,su=1005,C2=1006,eN=1007,ga=1008,as=1009,jle=1010,$le=1011,kv=1012,tN=1013,os=1014,q4=1015,j8=1016,nN=1017,iN=1018,va=1020,qle=1021,cr=1023,Zle=1024,Xle=1025,ya=1026,U6=1027,Yle=1028,rN=1029,Kle=1030,sN=1031,aN=1033,Uv=33776,Bv=33777,Gv=33778,Wv=33779,oN=35840,cN=35841,lN=35842,uN=35843,Jle=36196,fN=37492,hN=37496,dN=37808,pN=37809,mN=37810,gN=37811,vN=37812,yN=37813,_N=37814,MN=37815,xN=37816,CN=37817,bN=37818,wN=37819,SN=37820,zN=37821,jv=36492,Qle=36283,AN=36284,EN=36285,TN=36286,_a=3001,r7e=3201,Ma=0,s7e=1,xa="",L1="srgb",c4="srgb-linear",NN="display-p3",o7e=512,c7e=513,l7e=514,u7e=515,f7e=516,h7e=517,d7e=518,p7e=519,PN="300 es",Xv=1035,Z4=2e3;class W6{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const yn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ca=Math.PI/180,j6=180/Math.PI;function Di(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(yn[255&n]+yn[n>>8&255]+yn[n>>16&255]+yn[n>>24&255]+"-"+yn[255&e]+yn[e>>8&255]+"-"+yn[e>>16&15|64]+yn[e>>24&255]+"-"+yn[63&t|128]+yn[t>>8&255]+"-"+yn[t>>16&255]+yn[t>>24&255]+yn[255&i]+yn[i>>8&255]+yn[i>>16&255]+yn[i>>24&255]).toLowerCase()}function e2(n,e,t){return Math.max(e,Math.min(t,n))}function $8(n,e,t){return(1-t)*n+t*e}function Kv(n){return 0==(n&n-1)&&0!==n}function fu(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function V1(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(e2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class U1{constructor(e,t,i,r,s,a,o,c,l){U1.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,a,o,c,l)}set(e,t,i,r,s,a,o,c,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=s,u[5]=c,u[6]=i,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],l=i[1],u=i[4],f=i[7],h=i[2],d=i[5],p=i[8],g=r[0],v=r[3],m=r[6],x=r[1],_=r[4],C=r[7],w=r[2],z=r[5],E=r[8];return s[0]=a*g+o*x+c*w,s[3]=a*v+o*_+c*z,s[6]=a*m+o*C+c*E,s[1]=l*g+u*x+f*w,s[4]=l*v+u*_+f*z,s[7]=l*m+u*C+f*E,s[2]=h*g+d*x+p*w,s[5]=h*v+d*_+p*z,s[8]=h*m+d*C+p*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-i*s*u+i*o*c+r*s*l-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8],f=u*a-o*l,h=o*c-u*s,d=l*s-a*c,p=t*f+i*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=f*g,e[1]=(r*l-u*i)*g,e[2]=(o*i-r*a)*g,e[3]=h*g,e[4]=(u*t-r*c)*g,e[5]=(r*s-o*t)*g,e[6]=d*g,e[7]=(i*c-l*t)*g,e[8]=(a*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*a+l*o)+a+e,-r*l,r*c,-r*(-l*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Jv.makeScale(e,t)),this}rotate(e){return this.premultiply(Jv.makeRotation(-e)),this}translate(e,t){return this.premultiply(Jv.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Jv=new U1;function VN(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function q8(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const HN={};function Z8(n){n in HN||(HN[n]=!0,console.warn(n))}function q6(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Qv(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const T7e=(new U1).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),L7e=(new U1).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),P7e={[c4]:n=>n,[L1]:n=>n.convertSRGBToLinear(),[NN]:function D7e(n){return n.convertSRGBToLinear().applyMatrix3(L7e)}},I7e={[c4]:n=>n,[L1]:n=>n.convertLinearToSRGB(),[NN]:function N7e(n){return n.applyMatrix3(T7e).convertLinearToSRGB()}},Nr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return c4},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=P7e[e],r=I7e[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Z6;class ON{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Z6&&(Z6=q8("canvas")),Z6.width=e.width,Z6.height=e.height;const i=Z6.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Z6}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=q8("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=255*q6(s[a]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*q6(t[i]/255)):q6(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let R7e=0;class X6{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:R7e++}),this.uuid=Di(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)s.push(ey(r[a].isDataTexture?r[a].image:r[a]))}else s=ey(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function ey(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?ON.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let V7e=0,l4=(()=>{class n extends W6{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=kn,s=kn,a=C2,o=ga,c=cr,l=as,u=n.DEFAULT_ANISOTROPY,f=xa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:V7e++}),this.uuid=Di(),this.name="",this.source=new X6(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new U1,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof f?this.colorSpace=f:(Z8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===_a?L1:xa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case iu:t.x=t.x-Math.floor(t.x);break;case kn:t.x=t.x<0?0:1;break;case ru:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case iu:t.y=t.y-Math.floor(t.y);break;case kn:t.y=t.y<0?0:1;break;case ru:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Z8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===L1?_a:3e3}set encoding(t){Z8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===_a?L1:xa}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Ct{constructor(e=0,t=0,i=0,r=1){Ct.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,l=c[0],u=c[4],f=c[8],h=c[1],d=c[5],p=c[9],g=c[2],v=c[6],m=c[10];if(Math.abs(u-h)<.01&&Math.abs(f-g)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+g)<.1&&Math.abs(p+v)<.1&&Math.abs(l+d+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const _=(l+1)/2,C=(d+1)/2,w=(m+1)/2,z=(u+h)/4,E=(f+g)/4,D=(p+v)/4;return _>C&&_>w?_<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(_),r=z/i,s=E/i):C>w?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=z/r,s=D/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=E/s,r=D/s),this.set(i,r,s,t),this}let x=Math.sqrt((v-p)*(v-p)+(f-g)*(f-g)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(v-p)/x,this.y=(f-g)/x,this.z=(h-u)/x,this.w=Math.acos((l+d+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ba extends W6{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ct(0,0,e,t),this.scissorTest=!1,this.viewport=new Ct(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(Z8("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===_a?L1:xa),this.texture=new l4(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:C2,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new X6(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ty extends l4{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FN extends l4{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=kn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],l=i[r+1],u=i[r+2],f=i[r+3];const h=s[a+0],d=s[a+1],p=s[a+2],g=s[a+3];if(0===o)return e[t+0]=c,e[t+1]=l,e[t+2]=u,void(e[t+3]=f);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=g);if(f!==g||c!==h||l!==d||u!==p){let v=1-o;const m=c*h+l*d+u*p+f*g,x=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const w=Math.sqrt(_),z=Math.atan2(w,m*x);v=Math.sin(v*z)/w,o=Math.sin(o*z)/w}const C=o*x;if(c=c*v+h*C,l=l*v+d*C,u=u*v+p*C,f=f*v+g*C,v===1-o){const w=1/Math.sqrt(c*c+l*l+u*u+f*f);c*=w,l*=w,u*=w,f*=w}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],l=i[r+2],u=i[r+3],f=s[a],h=s[a+1],d=s[a+2],p=s[a+3];return e[t]=o*p+u*f+c*d-l*h,e[t+1]=c*p+u*h+l*f-o*d,e[t+2]=l*p+u*d+o*h-c*f,e[t+3]=u*p-o*f-c*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,l=o(i/2),u=o(r/2),f=o(s/2),h=c(i/2),d=c(r/2),p=c(s/2);switch(a){case"XYZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"YXZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"ZXY":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"ZYX":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"YZX":this._x=h*u*f+l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f-h*d*p;break;case"XZY":this._x=h*u*f-l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],l=t[2],u=t[6],f=t[10],h=i+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-c)*d,this._y=(s-l)*d,this._z=(a-r)*d}else if(i>o&&i>f){const d=2*Math.sqrt(1+i-o-f);this._w=(u-c)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(s+l)/d}else if(o>f){const d=2*Math.sqrt(1+o-i-f);this._w=(s-l)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(c+u)/d}else{const d=2*Math.sqrt(1+f-i-o);this._w=(a-r)/d,this._x=(s+l)/d,this._y=(c+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(e2(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,l=t._z,u=t._w;return this._x=i*u+a*o+r*l-s*c,this._y=r*u+a*c+s*o-i*l,this._z=s*u+a*l+i*c-r*o,this._w=a*u-i*o-r*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,o),f=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(kN.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kN.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,l=c*t+a*r-o*i,u=c*i+o*t-s*r,f=c*r+s*i-a*t,h=-s*t-a*i-o*r;return this.x=l*c+h*-s+u*-o-f*-a,this.y=u*c+h*-a+f*-s-l*-o,this.z=f*c+h*-o+l*-a-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ny.copy(this).projectOnVector(e),this.sub(ny)}reflect(e){return this.sub(ny.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(e2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ny=new N,kN=new Pi;class X4{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(K4.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(K4.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=K4.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Y6.copy(e.boundingBox),Y6.applyMatrix4(e.matrixWorld),this.union(Y6);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let a=0,o=s.count;a<o;a++)K4.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(K4)}else null===r.boundingBox&&r.computeBoundingBox(),Y6.copy(r.boundingBox),Y6.applyMatrix4(e.matrixWorld),this.union(Y6)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,K4),K4.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(X8),hu.subVectors(this.max,X8),K6.subVectors(e.a,X8),J6.subVectors(e.b,X8),Q6.subVectors(e.c,X8),cs.subVectors(J6,K6),ls.subVectors(Q6,J6),wa.subVectors(K6,Q6);let t=[0,-cs.z,cs.y,0,-ls.z,ls.y,0,-wa.z,wa.y,cs.z,0,-cs.x,ls.z,0,-ls.x,wa.z,0,-wa.x,-cs.y,cs.x,0,-ls.y,ls.x,0,-wa.y,wa.x,0];return!(!iy(t,K6,J6,Q6,hu)||(t=[1,0,0,0,1,0,0,0,1],!iy(t,K6,J6,Q6,hu)))&&(du.crossVectors(cs,ls),t=[du.x,du.y,du.z],iy(t,K6,J6,Q6,hu))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,K4).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(K4).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Y4[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Y4[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Y4[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Y4[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Y4[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Y4[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Y4[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Y4[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Y4)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Y4=[new N,new N,new N,new N,new N,new N,new N,new N],K4=new N,Y6=new X4,K6=new N,J6=new N,Q6=new N,cs=new N,ls=new N,wa=new N,X8=new N,hu=new N,du=new N,Sa=new N;function iy(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Sa.fromArray(n,s);const o=r.x*Math.abs(Sa.x)+r.y*Math.abs(Sa.y)+r.z*Math.abs(Sa.z),c=e.dot(Sa),l=t.dot(Sa),u=i.dot(Sa);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>o)return!1}return!0}const H7e=new X4,Y8=new N,ry=new N;class u4{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):H7e.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Y8.subVectors(e,this.center);const t=Y8.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(Y8,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ry.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Y8.copy(e.center).add(ry)),this.expandByPoint(Y8.copy(e.center).sub(ry))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const J4=new N,sy=new N,pu=new N,us=new N,ay=new N,mu=new N,oy=new N;class K8{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,J4)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=J4.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(J4.copy(this.origin).addScaledVector(this.direction,t),J4.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){sy.copy(e).add(t).multiplyScalar(.5),pu.copy(t).sub(e).normalize(),us.copy(this.origin).sub(sy);const s=.5*e.distanceTo(t),a=-this.direction.dot(pu),o=us.dot(this.direction),c=-us.dot(pu),l=us.lengthSq(),u=Math.abs(1-a*a);let f,h,d,p;if(u>0)if(f=a*c-o,h=a*o-c,p=s*u,f>=0)if(h>=-p)if(h<=p){const g=1/u;f*=g,h*=g,d=f*(f+a*h+2*o)+h*(a*f+h+2*c)+l}else h=s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;else h=-s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;else h<=-p?(f=Math.max(0,-(-a*s+o)),h=f>0?-s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l):h<=p?(f=0,h=Math.min(Math.max(-s,-c),s),d=h*(h+2*c)+l):(f=Math.max(0,-(a*s+o)),h=f>0?s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l);else h=a>0?-s:s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(sy).addScaledVector(pu,h),d}intersectSphere(e,t){J4.subVectors(e.center,this.origin);const i=J4.dot(this.direction),r=J4.dot(J4)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:this.at(o<0?c:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const l=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(s=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),f>=0?(o=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),i>c||o>r)||((o>i||i!=i)&&(i=o),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,J4)}intersectTriangle(e,t,i,r,s){ay.subVectors(t,e),mu.subVectors(i,e),oy.crossVectors(ay,mu);let o,a=this.direction.dot(oy);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}us.subVectors(this.origin,e);const c=o*this.direction.dot(mu.crossVectors(us,mu));if(c<0)return null;const l=o*this.direction.dot(ay.cross(us));if(l<0||c+l>a)return null;const u=-o*us.dot(oy);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class D1{constructor(e,t,i,r,s,a,o,c,l,u,f,h,d,p,g,v){D1.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,a,o,c,l,u,f,h,d,p,g,v)}set(e,t,i,r,s,a,o,c,l,u,f,h,d,p,g,v){const m=this.elements;return m[0]=e,m[4]=t,m[8]=i,m[12]=r,m[1]=s,m[5]=a,m[9]=o,m[13]=c,m[2]=l,m[6]=u,m[10]=f,m[14]=h,m[3]=d,m[7]=p,m[11]=g,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new D1).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/e0.setFromMatrixColumn(e,0).length(),s=1/e0.setFromMatrixColumn(e,1).length(),a=1/e0.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),l=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if("XYZ"===e.order){const h=a*u,d=a*f,p=o*u,g=o*f;t[0]=c*u,t[4]=-c*f,t[8]=l,t[1]=d+p*l,t[5]=h-g*l,t[9]=-o*c,t[2]=g-h*l,t[6]=p+d*l,t[10]=a*c}else if("YXZ"===e.order){const h=c*u,d=c*f,p=l*u,g=l*f;t[0]=h+g*o,t[4]=p*o-d,t[8]=a*l,t[1]=a*f,t[5]=a*u,t[9]=-o,t[2]=d*o-p,t[6]=g+h*o,t[10]=a*c}else if("ZXY"===e.order){const h=c*u,d=c*f,p=l*u,g=l*f;t[0]=h-g*o,t[4]=-a*f,t[8]=p+d*o,t[1]=d+p*o,t[5]=a*u,t[9]=g-h*o,t[2]=-a*l,t[6]=o,t[10]=a*c}else if("ZYX"===e.order){const h=a*u,d=a*f,p=o*u,g=o*f;t[0]=c*u,t[4]=p*l-d,t[8]=h*l+g,t[1]=c*f,t[5]=g*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*c,t[10]=a*c}else if("YZX"===e.order){const h=a*c,d=a*l,p=o*c,g=o*l;t[0]=c*u,t[4]=g-h*f,t[8]=p*f+d,t[1]=f,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=d*f+p,t[10]=h-g*f}else if("XZY"===e.order){const h=a*c,d=a*l,p=o*c,g=o*l;t[0]=c*u,t[4]=-f,t[8]=l*u,t[1]=h*f+g,t[5]=a*u,t[9]=d*f-p,t[2]=p*f-d,t[6]=o*u,t[10]=g*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(O7e,e,F7e)}lookAt(e,t,i){const r=this.elements;return Ii.subVectors(e,t),0===Ii.lengthSq()&&(Ii.z=1),Ii.normalize(),fs.crossVectors(i,Ii),0===fs.lengthSq()&&(1===Math.abs(i.z)?Ii.x+=1e-4:Ii.z+=1e-4,Ii.normalize(),fs.crossVectors(i,Ii)),fs.normalize(),gu.crossVectors(Ii,fs),r[0]=fs.x,r[4]=gu.x,r[8]=Ii.x,r[1]=fs.y,r[5]=gu.y,r[9]=Ii.y,r[2]=fs.z,r[6]=gu.z,r[10]=Ii.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],l=i[12],u=i[1],f=i[5],h=i[9],d=i[13],p=i[2],g=i[6],v=i[10],m=i[14],x=i[3],_=i[7],C=i[11],w=i[15],z=r[0],E=r[4],D=r[8],b=r[12],A=r[1],F=r[5],Z=r[9],B=r[13],O=r[2],W=r[6],ne=r[10],X=r[14],K=r[3],oe=r[7],P=r[11],G=r[15];return s[0]=a*z+o*A+c*O+l*K,s[4]=a*E+o*F+c*W+l*oe,s[8]=a*D+o*Z+c*ne+l*P,s[12]=a*b+o*B+c*X+l*G,s[1]=u*z+f*A+h*O+d*K,s[5]=u*E+f*F+h*W+d*oe,s[9]=u*D+f*Z+h*ne+d*P,s[13]=u*b+f*B+h*X+d*G,s[2]=p*z+g*A+v*O+m*K,s[6]=p*E+g*F+v*W+m*oe,s[10]=p*D+g*Z+v*ne+m*P,s[14]=p*b+g*B+v*X+m*G,s[3]=x*z+_*A+C*O+w*K,s[7]=x*E+_*F+C*W+w*oe,s[11]=x*D+_*Z+C*ne+w*P,s[15]=x*b+_*B+C*X+w*G,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],l=e[13],u=e[2],f=e[6],h=e[10],d=e[14];return e[3]*(+s*c*f-r*l*f-s*o*h+i*l*h+r*o*d-i*c*d)+e[7]*(+t*c*d-t*l*h+s*a*h-r*a*d+r*l*u-s*c*u)+e[11]*(+t*l*f-t*o*d-s*a*f+i*a*d+s*o*u-i*l*u)+e[15]*(-r*o*u-t*c*f+t*o*h+r*a*f-i*a*h+i*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],x=f*v*l-g*h*l+g*c*d-o*v*d-f*c*m+o*h*m,_=p*h*l-u*v*l-p*c*d+a*v*d+u*c*m-a*h*m,C=u*g*l-p*f*l+p*o*d-a*g*d-u*o*m+a*f*m,w=p*f*c-u*g*c-p*o*h+a*g*h+u*o*v-a*f*v,z=t*x+i*_+r*C+s*w;if(0===z)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/z;return e[0]=x*E,e[1]=(g*h*s-f*v*s-g*r*d+i*v*d+f*r*m-i*h*m)*E,e[2]=(o*v*s-g*c*s+g*r*l-i*v*l-o*r*m+i*c*m)*E,e[3]=(f*c*s-o*h*s-f*r*l+i*h*l+o*r*d-i*c*d)*E,e[4]=_*E,e[5]=(u*v*s-p*h*s+p*r*d-t*v*d-u*r*m+t*h*m)*E,e[6]=(p*c*s-a*v*s-p*r*l+t*v*l+a*r*m-t*c*m)*E,e[7]=(a*h*s-u*c*s+u*r*l-t*h*l-a*r*d+t*c*d)*E,e[8]=C*E,e[9]=(p*f*s-u*g*s-p*i*d+t*g*d+u*i*m-t*f*m)*E,e[10]=(a*g*s-p*o*s+p*i*l-t*g*l-a*i*m+t*o*m)*E,e[11]=(u*o*s-a*f*s-u*i*l+t*f*l+a*i*d-t*o*d)*E,e[12]=w*E,e[13]=(u*g*r-p*f*r+p*i*h-t*g*h-u*i*v+t*f*v)*E,e[14]=(p*o*r-a*g*r-p*i*c+t*g*c+a*i*v-t*o*v)*E,e[15]=(a*f*r-u*o*r+u*i*c-t*f*c-a*i*h+t*o*h)*E,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,l=s*a,u=s*o;return this.set(l*a+i,l*o-r*c,l*c+r*o,0,l*o+r*c,u*o+i,u*c-r*a,0,l*c-r*o,u*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,l=s+s,u=a+a,f=o+o,h=s*l,d=s*u,p=s*f,g=a*u,v=a*f,m=o*f,x=c*l,_=c*u,C=c*f,w=i.x,z=i.y,E=i.z;return r[0]=(1-(g+m))*w,r[1]=(d+C)*w,r[2]=(p-_)*w,r[3]=0,r[4]=(d-C)*z,r[5]=(1-(h+m))*z,r[6]=(v+x)*z,r[7]=0,r[8]=(p+_)*E,r[9]=(v-x)*E,r[10]=(1-(h+g))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=e0.set(r[0],r[1],r[2]).length();const a=e0.set(r[4],r[5],r[6]).length(),o=e0.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Pr.copy(this);const l=1/s,u=1/a,f=1/o;return Pr.elements[0]*=l,Pr.elements[1]*=l,Pr.elements[2]*=l,Pr.elements[4]*=u,Pr.elements[5]*=u,Pr.elements[6]*=u,Pr.elements[8]*=f,Pr.elements[9]*=f,Pr.elements[10]*=f,t.setFromRotationMatrix(Pr),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Z4){const c=this.elements,l=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r);let d,p;if(o===Z4)d=-(a+s)/(a-s),p=-2*a*s/(a-s);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);d=-a/(a-s),p=-a*s/(a-s)}return c[0]=l,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=u,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=d,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Z4){const c=this.elements,l=1/(t-e),u=1/(i-r),f=1/(a-s),h=(t+e)*l,d=(i+r)*u;let p,g;if(o===Z4)p=(a+s)*f,g=-2*f;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=s*f,g=-1*f}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-d,c[2]=0,c[6]=0,c[10]=g,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const e0=new N,Pr=new D1,O7e=new N(0,0,0),F7e=new N(1,1,1),fs=new N,gu=new N,Ii=new N,UN=new D1,BN=new Pi;let k7e=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,a=s[0],o=s[4],c=s[8],l=s[1],u=s[5],f=s[9],h=s[2],d=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(e2(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-e2(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(e2(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-e2(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(e2(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-e2(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-f,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return UN.makeRotationFromQuaternion(t),this.setFromRotationMatrix(UN,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return BN.setFromEuler(this),this.setFromQuaternion(BN,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class cy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let U7e=0;const GN=new N,t0=new Pi,Q4=new D1,vu=new N,J8=new N,B7e=new N,G7e=new Pi,WN=new N(1,0,0),jN=new N(0,1,0),$N=new N(0,0,1),W7e={type:"added"},qN={type:"removed"};let Ri=(()=>{class n extends W6{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:U7e++}),this.uuid=Di(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new N,i=new k7e,r=new Pi,s=new N(1,1,1);i._onChange(function a(){r.setFromEuler(i,!1)}),r._onChange(function o(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new D1},normalMatrix:{value:new U1}}),this.matrix=new D1,this.matrixWorld=new D1,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new cy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return t0.setFromAxisAngle(t,i),this.quaternion.multiply(t0),this}rotateOnWorldAxis(t,i){return t0.setFromAxisAngle(t,i),this.quaternion.premultiply(t0),this}rotateX(t){return this.rotateOnAxis(WN,t)}rotateY(t){return this.rotateOnAxis(jN,t)}rotateZ(t){return this.rotateOnAxis($N,t)}translateOnAxis(t,i){return GN.copy(t).applyQuaternion(this.quaternion),this.position.add(GN.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(WN,t)}translateY(t){return this.translateOnAxis(jN,t)}translateZ(t){return this.translateOnAxis($N,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Q4.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?vu.copy(t):vu.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),J8.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Q4.lookAt(J8,vu,this.up):Q4.lookAt(vu,J8,this.up),this.quaternion.setFromRotationMatrix(Q4),s&&(Q4.extractRotation(s.matrixWorld),t0.setFromRotationMatrix(Q4),this.quaternion.premultiply(t0.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(W7e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(qN)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(qN)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Q4.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Q4.multiply(t.parent.matrixWorld)),t.applyMatrix4(Q4),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(t,i);if(void 0!==o)return o}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,a=this.children.length;s<a;s++){const o=this.children[s].getObjectsByProperty(t,i);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(J8,t,B7e),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(J8,G7e,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const a=i[r];(!0===a.matrixWorldAutoUpdate||!0===t)&&a.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let a=0,o=s.length;a<o;a++){const c=s[a];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function a(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++)a(t.shapes,l[u]);else a(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(a(t.materials,this.material[l]));s.material=c}else s.material=a(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(a(t.animations,this.animations[c]))}if(i){const c=o(t.geometries),l=o(t.materials),u=o(t.textures),f=o(t.images),h=o(t.shapes),d=o(t.skeletons),p=o(t.animations),g=o(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),g.length>0&&(r.nodes=g)}return r.object=s,r;function o(c){const l=[];for(const u in c){const f=c[u];delete f.metadata,l.push(f)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new N(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Ir=new N,e3=new N,ly=new N,t3=new N,n0=new N,r0=new N,ZN=new N,uy=new N,fy=new N,hy=new N;let yu=!1;class Vi{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ir.subVectors(e,t),r.cross(Ir);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ir.subVectors(r,t),e3.subVectors(i,t),ly.subVectors(e,t);const a=Ir.dot(Ir),o=Ir.dot(e3),c=Ir.dot(ly),l=e3.dot(e3),u=e3.dot(ly),f=a*l-o*o;if(0===f)return s.set(-2,-1,-1);const h=1/f,d=(l*c-o*u)*h,p=(a*u-o*c)*h;return s.set(1-d-p,p,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,t3),t3.x>=0&&t3.y>=0&&t3.x+t3.y<=1}static getUV(e,t,i,r,s,a,o,c){return!1===yu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),yu=!0),this.getInterpolation(e,t,i,r,s,a,o,c)}static getInterpolation(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,t3),c.setScalar(0),c.addScaledVector(s,t3.x),c.addScaledVector(a,t3.y),c.addScaledVector(o,t3.z),c}static isFrontFacing(e,t,i,r){return Ir.subVectors(i,t),e3.subVectors(e,t),Ir.cross(e3).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ir.subVectors(this.c,this.b),e3.subVectors(this.a,this.b),.5*Ir.cross(e3).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Vi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===yu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),yu=!0),Vi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Vi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Vi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;n0.subVectors(r,i),r0.subVectors(s,i),uy.subVectors(e,i);const c=n0.dot(uy),l=r0.dot(uy);if(c<=0&&l<=0)return t.copy(i);fy.subVectors(e,r);const u=n0.dot(fy),f=r0.dot(fy);if(u>=0&&f<=u)return t.copy(r);const h=c*f-u*l;if(h<=0&&c>=0&&u<=0)return a=c/(c-u),t.copy(i).addScaledVector(n0,a);hy.subVectors(e,s);const d=n0.dot(hy),p=r0.dot(hy);if(p>=0&&d<=p)return t.copy(s);const g=d*l-c*p;if(g<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(i).addScaledVector(r0,o);const v=u*p-d*f;if(v<=0&&f-u>=0&&d-p>=0)return ZN.subVectors(s,r),o=(f-u)/(f-u+(d-p)),t.copy(r).addScaledVector(ZN,o);const m=1/(v+g+h);return a=g*m,o=h*m,t.copy(i).addScaledVector(n0,a).addScaledVector(r0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let j7e=0;class s0 extends W6{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:j7e++}),this.uuid=Di(),this.name="",this.type="Material",this.blending=F6,this.side=rs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=JD,this.blendDst=QD,this.blendEquation=k6,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Hv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==F6&&(i.blending=this.blending),this.side!==rs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const XN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rr={h:0,s:0,l:0},_u={h:0,s:0,l:0};function dy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class He{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=L1){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Nr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Nr.workingColorSpace){return this.r=e,this.g=t,this.b=i,Nr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Nr.workingColorSpace){if(e=function Yv(n,e){return(n%e+e)%e}(e,1),t=e2(t,0,1),i=e2(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=dy(a,s,e+1/3),this.g=dy(a,s,e),this.b=dy(a,s,e-1/3)}return Nr.toWorkingColorSpace(this,r),this}setStyle(e,t=L1){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(3===a)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===a)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=L1){const i=XN[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=q6(e.r),this.g=q6(e.g),this.b=q6(e.b),this}copyLinearToSRGB(e){return this.r=Qv(e.r),this.g=Qv(e.g),this.b=Qv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=L1){return Nr.fromWorkingColorSpace(_n.copy(this),e),65536*Math.round(e2(255*_n.r,0,255))+256*Math.round(e2(255*_n.g,0,255))+Math.round(e2(255*_n.b,0,255))}getHexString(e=L1){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Nr.workingColorSpace){Nr.fromWorkingColorSpace(_n.copy(this),t);const i=_n.r,r=_n.g,s=_n.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,l;const u=(o+a)/2;if(o===a)c=0,l=0;else{const f=a-o;switch(l=u<=.5?f/(a+o):f/(2-a-o),a){case i:c=(r-s)/f+(r<s?6:0);break;case r:c=(s-i)/f+2;break;case s:c=(i-r)/f+4}c/=6}return e.h=c,e.s=l,e.l=u,e}getRGB(e,t=Nr.workingColorSpace){return Nr.fromWorkingColorSpace(_n.copy(this),t),e.r=_n.r,e.g=_n.g,e.b=_n.b,e}getStyle(e=L1){Nr.fromWorkingColorSpace(_n.copy(this),e);const t=_n.r,i=_n.g,r=_n.b;return e!==L1?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Rr),Rr.h+=e,Rr.s+=t,Rr.l+=i,this.setHSL(Rr.h,Rr.s,Rr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Rr),e.getHSL(_u);const i=$8(Rr.h,_u.h,t),r=$8(Rr.s,_u.s,t),s=$8(Rr.l,_u.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _n=new He;He.NAMES=XN;class hs extends s0{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new He(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=eu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const b2=new N,Mu=new pe;class U2{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=q4,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Mu.fromBufferAttribute(this,t),Mu.applyMatrix3(e),this.setXY(t,Mu.x,Mu.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix3(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix4(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyNormalMatrix(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.transformDirection(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=V1(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=V1(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=V1(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=V1(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=V1(t,this.array),i=V1(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=V1(t,this.array),i=V1(i,this.array),r=V1(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=V1(t,this.array),i=V1(i,this.array),r=V1(r,this.array),s=V1(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class YN extends U2{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class KN extends U2{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Ke extends U2{constructor(e,t,i){super(new Float32Array(e),t,i)}}let q7e=0;const lr=new D1,py=new Ri,a0=new N,Hi=new X4,e5=new X4,B2=new N;class B1 extends W6{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:q7e++}),this.uuid=Di(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(VN(e)?KN:YN)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new U1).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return lr.makeRotationFromQuaternion(e),this.applyMatrix4(lr),this}rotateX(e){return lr.makeRotationX(e),this.applyMatrix4(lr),this}rotateY(e){return lr.makeRotationY(e),this.applyMatrix4(lr),this}rotateZ(e){return lr.makeRotationZ(e),this.applyMatrix4(lr),this}translate(e,t,i){return lr.makeTranslation(e,t,i),this.applyMatrix4(lr),this}scale(e,t,i){return lr.makeScale(e,t,i),this.applyMatrix4(lr),this}lookAt(e){return py.lookAt(e),py.updateMatrix(),this.applyMatrix4(py.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(a0).negate(),this.translate(a0.x,a0.y,a0.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new X4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Hi.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(B2.addVectors(this.boundingBox.min,Hi.min),this.boundingBox.expandByPoint(B2),B2.addVectors(this.boundingBox.max,Hi.max),this.boundingBox.expandByPoint(B2)):(this.boundingBox.expandByPoint(Hi.min),this.boundingBox.expandByPoint(Hi.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new u4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new N,1/0);if(e){const i=this.boundingSphere.center;if(Hi.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++)e5.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(B2.addVectors(Hi.min,e5.min),Hi.expandByPoint(B2),B2.addVectors(Hi.max,e5.max),Hi.expandByPoint(B2)):(Hi.expandByPoint(e5.min),Hi.expandByPoint(e5.max));Hi.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)B2.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(B2));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let l=0,u=o.count;l<u;l++)B2.fromBufferAttribute(o,l),c&&(a0.fromBufferAttribute(e,l),B2.add(a0)),r=Math.max(r,i.distanceToSquared(B2))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new U2(new Float32Array(4*o),4));const c=this.getAttribute("tangent").array,l=[],u=[];for(let A=0;A<o;A++)l[A]=new N,u[A]=new N;const f=new N,h=new N,d=new N,p=new pe,g=new pe,v=new pe,m=new N,x=new N;function _(A,F,Z){f.fromArray(r,3*A),h.fromArray(r,3*F),d.fromArray(r,3*Z),p.fromArray(a,2*A),g.fromArray(a,2*F),v.fromArray(a,2*Z),h.sub(f),d.sub(f),g.sub(p),v.sub(p);const B=1/(g.x*v.y-v.x*g.y);isFinite(B)&&(m.copy(h).multiplyScalar(v.y).addScaledVector(d,-g.y).multiplyScalar(B),x.copy(d).multiplyScalar(g.x).addScaledVector(h,-v.x).multiplyScalar(B),l[A].add(m),l[F].add(m),l[Z].add(m),u[A].add(x),u[F].add(x),u[Z].add(x))}let C=this.groups;0===C.length&&(C=[{start:0,count:i.length}]);for(let A=0,F=C.length;A<F;++A){const Z=C[A],B=Z.start;for(let W=B,ne=B+Z.count;W<ne;W+=3)_(i[W+0],i[W+1],i[W+2])}const w=new N,z=new N,E=new N,D=new N;function b(A){E.fromArray(s,3*A),D.copy(E);const F=l[A];w.copy(F),w.sub(E.multiplyScalar(E.dot(F))).normalize(),z.crossVectors(D,F);const B=z.dot(u[A])<0?-1:1;c[4*A]=w.x,c[4*A+1]=w.y,c[4*A+2]=w.z,c[4*A+3]=B}for(let A=0,F=C.length;A<F;++A){const Z=C[A],B=Z.start;for(let W=B,ne=B+Z.count;W<ne;W+=3)b(i[W+0]),b(i[W+1]),b(i[W+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new U2(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new N,s=new N,a=new N,o=new N,c=new N,l=new N,u=new N,f=new N;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),g=e.getX(h+1),v=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,g),a.fromBufferAttribute(t,v),u.subVectors(a,s),f.subVectors(r,s),u.cross(f),o.fromBufferAttribute(i,p),c.fromBufferAttribute(i,g),l.fromBufferAttribute(i,v),o.add(u),c.add(u),l.add(u),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(g,c.x,c.y,c.z),i.setXYZ(v,l.x,l.y,l.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),a.fromBufferAttribute(t,h+2),u.subVectors(a,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)B2.fromBufferAttribute(e,t),B2.normalize(),e.setXYZ(t,B2.x,B2.y,B2.z)}toNonIndexed(){function e(o,c){const l=o.array,u=o.itemSize,f=o.normalized,h=new l.constructor(c.length*u);let d=0,p=0;for(let g=0,v=c.length;g<v;g++){d=o.isInterleavedBufferAttribute?c[g]*o.data.stride+o.offset:c[g]*u;for(let m=0;m<u;m++)h[p++]=l[d++]}return new U2(h,u,f)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new B1,i=this.index.array,r=this.attributes;for(const o in r){const l=e(r[o],i);t.setAttribute(o,l)}const s=this.morphAttributes;for(const o in s){const c=[],l=s[o];for(let u=0,f=l.length;u<f;u++){const d=e(l[u],i);c.push(d)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const l=a[o];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let f=0,h=l.length;f<h;f++)u.push(l[f].toJSON(e.data));u.length>0&&(r[c]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const u=[],f=s[l];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,u=a.length;l<u;l++){const f=a[l];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const JN=new D1,za=new K8,xu=new u4,QN=new N,o0=new N,c0=new N,l0=new N,my=new N,Cu=new N,bu=new pe,wu=new pe,Su=new pe,eP=new N,tP=new N,nP=new N,zu=new N,Au=new N;class ci extends Ri{constructor(e=new B1,t=new hs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const o=this.morphTargetInfluences;if(s&&o){Cu.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const u=o[c];0!==u&&(my.fromBufferAttribute(s[c],e),Cu.addScaledVector(a?my:my.sub(t),u))}t.add(Cu)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),xu.copy(i.boundingSphere),xu.applyMatrix4(s),za.copy(e.ray).recast(e.near),(!1!==xu.containsPoint(za.origin)||!(null===za.intersectSphere(xu,QN)||za.origin.distanceToSquared(QN)>(e.far-e.near)**2))&&(JN.copy(s).invert(),za.copy(e.ray).applyMatrix4(JN),(null===i.boundingBox||!1!==za.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,za)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,l=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const v=h[p],m=a[v.materialIndex];for(let C=Math.max(v.start,d.start),w=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));C<w;C+=3)r=Eu(this,m,e,i,l,u,f,o.getX(C),o.getX(C+1),o.getX(C+2)),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,d.start),m=Math.min(o.count,d.start+d.count);v<m;v+=3)r=Eu(this,a,e,i,l,u,f,o.getX(v),o.getX(v+1),o.getX(v+2)),r&&(r.faceIndex=Math.floor(v/3),t.push(r));else if(void 0!==c)if(Array.isArray(a))for(let p=0,g=h.length;p<g;p++){const v=h[p],m=a[v.materialIndex];for(let C=Math.max(v.start,d.start),w=Math.min(c.count,Math.min(v.start+v.count,d.start+d.count));C<w;C+=3)r=Eu(this,m,e,i,l,u,f,C,C+1,C+2),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,d.start),m=Math.min(c.count,d.start+d.count);v<m;v+=3)r=Eu(this,a,e,i,l,u,f,v,v+1,v+2),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}function Eu(n,e,t,i,r,s,a,o,c,l){n.getVertexPosition(o,o0),n.getVertexPosition(c,c0),n.getVertexPosition(l,l0);const u=function Z7e(n,e,t,i,r,s,a,o){let c;if(c=e.side===ai?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,e.side===rs,o),null===c)return null;Au.copy(o),Au.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(Au);return l<t.near||l>t.far?null:{distance:l,point:Au.clone(),object:n}}(n,e,t,i,o0,c0,l0,zu);if(u){r&&(bu.fromBufferAttribute(r,o),wu.fromBufferAttribute(r,c),Su.fromBufferAttribute(r,l),u.uv=Vi.getInterpolation(zu,o0,c0,l0,bu,wu,Su,new pe)),s&&(bu.fromBufferAttribute(s,o),wu.fromBufferAttribute(s,c),Su.fromBufferAttribute(s,l),u.uv1=Vi.getInterpolation(zu,o0,c0,l0,bu,wu,Su,new pe),u.uv2=u.uv1),a&&(eP.fromBufferAttribute(a,o),tP.fromBufferAttribute(a,c),nP.fromBufferAttribute(a,l),u.normal=Vi.getInterpolation(zu,o0,c0,l0,eP,tP,nP,new N),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:c,c:l,normal:new N,materialIndex:0};Vi.getNormal(o0,c0,l0,f.normal),u.face=f}return u}class u0 extends B1{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],l=[],u=[],f=[];let h=0,d=0;function p(g,v,m,x,_,C,w,z,E,D,b){const A=C/E,F=w/D,Z=C/2,B=w/2,O=z/2,W=E+1,ne=D+1;let X=0,K=0;const oe=new N;for(let P=0;P<ne;P++){const G=P*F-B;for(let ce=0;ce<W;ce++)oe[g]=(ce*A-Z)*x,oe[v]=G*_,oe[m]=O,l.push(oe.x,oe.y,oe.z),oe[g]=0,oe[v]=0,oe[m]=z>0?1:-1,u.push(oe.x,oe.y,oe.z),f.push(ce/E),f.push(1-P/D),X+=1}for(let P=0;P<D;P++)for(let G=0;G<E;G++){const xe=h+G+W*(P+1),_e=h+(G+1)+W*(P+1),Ce=h+(G+1)+W*P;c.push(h+G+W*P,xe,Ce),c.push(xe,_e,Ce),K+=6}o.addGroup(d,K,b),d+=K,h+=X}p("z","y","x",-1,-1,i,t,e,a,s,0),p("z","y","x",1,-1,i,t,-e,a,s,1),p("x","z","y",1,1,e,i,t,r,a,2),p("x","z","y",1,-1,e,i,-t,r,a,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(u,3)),this.setAttribute("uv",new Ke(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new u0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function f0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Un(n){const e={};for(let t=0;t<n.length;t++){const i=f0(n[t]);for(const r in i)e[r]=i[r]}return e}function iP(n){return null===n.getRenderTarget()?n.outputColorSpace:c4}const Y7e={clone:f0,merge:Un};class i3 extends s0{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=f0(e.uniforms),this.uniformsGroups=function X7e(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;t.uniforms[r]=a&&a.isTexture?{type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class gy extends Ri{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new D1,this.projectionMatrix=new D1,this.projectionMatrixInverse=new D1,this.coordinateSystem=Z4}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class G2 extends gy{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*j6*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Ca*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*j6*Math.atan(Math.tan(.5*Ca*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Ca*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const c=a.fullWidth,l=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/l,r*=a.width/c,i*=a.height/l}const o=this.filmOffset;0!==o&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class Q7e extends Ri{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new G2(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new G2(-90,1,e,t);s.layers=this.layers,this.add(s);const a=new G2(-90,1,e,t);a.layers=this.layers,this.add(a);const o=new G2(-90,1,e,t);o.layers=this.layers,this.add(o);const c=new G2(-90,1,e,t);c.layers=this.layers,this.add(c);const l=new G2(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,c]=t;for(const l of t)this.remove(l);if(e===Z4)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,a,o,c,l]=this.children,u=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=$4,e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class Tu extends l4{constructor(e,t,i,r,s,a,o,c,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:pa,i,r,s,a,o,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class e9e extends ba{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(Z8("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===_a?L1:xa),this.texture=new Tu(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:C2}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new u0(5,5,5),s=new i3({name:"CubemapFromEquirect",uniforms:f0(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:ai,blending:ss});s.uniforms.tEquirect.value=t;const a=new ci(r,s),o=t.minFilter;return t.minFilter===ga&&(t.minFilter=C2),new Q7e(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}const vy=new N,t9e=new N,n9e=new U1;class Aa{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=vy.subVectors(i,t).cross(t9e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(vy),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||n9e.getNormalMatrix(e),r=this.coplanarPoint(vy).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Ea=new u4,Lu=new N;class yy{constructor(e=new Aa,t=new Aa,i=new Aa,r=new Aa,s=new Aa,a=new Aa){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Z4){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],c=r[3],l=r[4],u=r[5],f=r[6],h=r[7],d=r[8],p=r[9],g=r[10],v=r[11],m=r[12],x=r[13],_=r[14],C=r[15];if(i[0].setComponents(c-s,h-l,v-d,C-m).normalize(),i[1].setComponents(c+s,h+l,v+d,C+m).normalize(),i[2].setComponents(c+a,h+u,v+p,C+x).normalize(),i[3].setComponents(c-a,h-u,v-p,C-x).normalize(),i[4].setComponents(c-o,h-f,v-g,C-_).normalize(),t===Z4)i[5].setComponents(c+o,h+f,v+g,C+_).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(o,f,g,_).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Ea.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Ea.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ea)}intersectsSprite(e){return Ea.center.set(0,0,0),Ea.radius=.7071067811865476,Ea.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ea)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Lu.x=r.normal.x>0?e.max.x:e.min.x,Lu.y=r.normal.y>0?e.max.y:e.min.y,Lu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Lu)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function rP(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function i9e(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function o(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u&&(n.deleteBuffer(u.buffer),i.delete(l))},update:function c(l,u){if(l.isGLBufferAttribute){const h=i.get(l);return void((!h||h.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const f=i.get(l);void 0===f?i.set(l,function r(l,u){const f=l.array,h=l.usage,d=n.createBuffer();let p;if(n.bindBuffer(u,d),n.bufferData(u,f,h),l.onUploadCallback(),f instanceof Float32Array)p=n.FLOAT;else if(f instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)p=n.SHORT;else if(f instanceof Uint32Array)p=n.UNSIGNED_INT;else if(f instanceof Int32Array)p=n.INT;else if(f instanceof Int8Array)p=n.BYTE;else if(f instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(f instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);p=n.UNSIGNED_BYTE}return{buffer:d,type:p,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version}}(l,u)):f.version<l.version&&(function s(l,u,f){const h=u.array,d=u.updateRange;n.bindBuffer(f,l),-1===d.count?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),u.onUploadCallback()}(f.buffer,l,u),f.version=l.version)}}}class t5 extends B1{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),l=o+1,u=c+1,f=e/o,h=t/c,d=[],p=[],g=[],v=[];for(let m=0;m<u;m++){const x=m*h-a;for(let _=0;_<l;_++)p.push(_*f-s,-x,0),g.push(0,0,1),v.push(_/o),v.push(1-m/c)}for(let m=0;m<c;m++)for(let x=0;x<o;x++){const C=x+l*(m+1),w=x+1+l*(m+1),z=x+1+l*m;d.push(x+l*m,C,z),d.push(C,w,z)}this.setIndex(d),this.setAttribute("position",new Ke(p,3)),this.setAttribute("normal",new Ke(g,3)),this.setAttribute("uv",new Ke(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t5(e.width,e.height,e.widthSegments,e.heightSegments)}}const H1={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ee={common:{diffuse:{value:new He(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new U1},alphaMap:{value:null},alphaMapTransform:{value:new U1},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new U1}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new U1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new U1}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new U1},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new U1},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new U1},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new U1}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new U1}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new U1}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new He(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new He(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new U1},alphaTest:{value:0},uvTransform:{value:new U1}},sprite:{diffuse:{value:new He(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new U1},alphaMap:{value:null},alphaMapTransform:{value:new U1},alphaTest:{value:0}}},f4={basic:{uniforms:Un([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.fog]),vertexShader:H1.meshbasic_vert,fragmentShader:H1.meshbasic_frag},lambert:{uniforms:Un([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new He(0)}}]),vertexShader:H1.meshlambert_vert,fragmentShader:H1.meshlambert_frag},phong:{uniforms:Un([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new He(0)},specular:{value:new He(1118481)},shininess:{value:30}}]),vertexShader:H1.meshphong_vert,fragmentShader:H1.meshphong_frag},standard:{uniforms:Un([Ee.common,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.roughnessmap,Ee.metalnessmap,Ee.fog,Ee.lights,{emissive:{value:new He(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:H1.meshphysical_vert,fragmentShader:H1.meshphysical_frag},toon:{uniforms:Un([Ee.common,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.gradientmap,Ee.fog,Ee.lights,{emissive:{value:new He(0)}}]),vertexShader:H1.meshtoon_vert,fragmentShader:H1.meshtoon_frag},matcap:{uniforms:Un([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,{matcap:{value:null}}]),vertexShader:H1.meshmatcap_vert,fragmentShader:H1.meshmatcap_frag},points:{uniforms:Un([Ee.points,Ee.fog]),vertexShader:H1.points_vert,fragmentShader:H1.points_frag},dashed:{uniforms:Un([Ee.common,Ee.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:H1.linedashed_vert,fragmentShader:H1.linedashed_frag},depth:{uniforms:Un([Ee.common,Ee.displacementmap]),vertexShader:H1.depth_vert,fragmentShader:H1.depth_frag},normal:{uniforms:Un([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,{opacity:{value:1}}]),vertexShader:H1.meshnormal_vert,fragmentShader:H1.meshnormal_frag},sprite:{uniforms:Un([Ee.sprite,Ee.fog]),vertexShader:H1.sprite_vert,fragmentShader:H1.sprite_frag},background:{uniforms:{uvTransform:{value:new U1},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:H1.background_vert,fragmentShader:H1.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:H1.backgroundCube_vert,fragmentShader:H1.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:H1.cube_vert,fragmentShader:H1.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:H1.equirect_vert,fragmentShader:H1.equirect_frag},distanceRGBA:{uniforms:Un([Ee.common,Ee.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:H1.distanceRGBA_vert,fragmentShader:H1.distanceRGBA_frag},shadow:{uniforms:Un([Ee.lights,Ee.fog,{color:{value:new He(0)},opacity:{value:1}}]),vertexShader:H1.shadow_vert,fragmentShader:H1.shadow_frag}};f4.physical={uniforms:Un([f4.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new U1},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new U1},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new U1},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new U1},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new U1},sheen:{value:0},sheenColor:{value:new He(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new U1},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new U1},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new U1},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new U1},attenuationDistance:{value:0},attenuationColor:{value:new He(0)},specularColor:{value:new He(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new U1},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new U1},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new U1}}]),vertexShader:H1.meshphysical_vert,fragmentShader:H1.meshphysical_frag};const Du={r:0,b:0,g:0};function tfe(n,e,t,i,r,s,a){const o=new He(0);let l,u,c=!0===s?0:1,f=null,h=0,d=null;function g(v,m){v.getRGB(Du,iP(n)),i.buffers.color.setClear(Du.r,Du.g,Du.b,m,a)}return{getClearColor:function(){return o},setClearColor:function(v,m=1){o.set(v),c=m,g(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(v){c=v,g(o,c)},render:function p(v,m){let x=!1,_=!0===m.isScene?m.background:null;switch(_&&_.isTexture&&(_=(m.backgroundBlurriness>0?t:e).get(_)),null===_?g(o,c):_&&_.isColor&&(g(_,1),x=!0),n.xr.getEnvironmentBlendMode()){case"opaque":x=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,a),x=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,a),x=!0}(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),_&&(_.isCubeTexture||_.mapping===W8)?(void 0===u&&(u=new ci(new u0(1,1,1),new i3({name:"BackgroundCubeMaterial",uniforms:f0(f4.backgroundCube.uniforms),vertexShader:f4.backgroundCube.vertexShader,fragmentShader:f4.backgroundCube.fragmentShader,side:ai,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(z,E,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=_.colorSpace!==L1,(f!==_||h!==_.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=_,h=_.version,d=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(void 0===l&&(l=new ci(new t5(2,2),new i3({name:"BackgroundMaterial",uniforms:f0(f4.background.uniforms),vertexShader:f4.background.vertexShader,fragmentShader:f4.background.fragmentShader,side:rs,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=_,l.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,l.material.toneMapped=_.colorSpace!==L1,!0===_.matrixAutoUpdate&&_.updateMatrix(),l.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||h!==_.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,f=_,h=_.version,d=n.toneMapping),l.layers.enableAll(),v.unshift(l,l.geometry,l.material,0,0,null))}}}function nfe(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==s,o={},c=v(null);let l=c,u=!1;function d(O){return i.isWebGL2?n.bindVertexArray(O):s.bindVertexArrayOES(O)}function p(O){return i.isWebGL2?n.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function v(O){const W=[],ne=[],X=[];for(let K=0;K<r;K++)W[K]=0,ne[K]=0,X[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:ne,attributeDivisors:X,object:O,attributes:{},index:null}}function _(){const O=l.newAttributes;for(let W=0,ne=O.length;W<ne;W++)O[W]=0}function C(O){w(O,0)}function w(O,W){const X=l.enabledAttributes,K=l.attributeDivisors;l.newAttributes[O]=1,0===X[O]&&(n.enableVertexAttribArray(O),X[O]=1),K[O]!==W&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,W),K[O]=W)}function z(){const O=l.newAttributes,W=l.enabledAttributes;for(let ne=0,X=W.length;ne<X;ne++)W[ne]!==O[ne]&&(n.disableVertexAttribArray(ne),W[ne]=0)}function E(O,W,ne,X,K,oe,P){!0===P?n.vertexAttribIPointer(O,W,ne,K,oe):n.vertexAttribPointer(O,W,ne,X,K,oe)}function Z(){B(),u=!0,l!==c&&(l=c,d(l.object))}function B(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function f(O,W,ne,X,K){let oe=!1;if(a){const P=function g(O,W,ne){const X=!0===ne.wireframe;let K=o[O.id];void 0===K&&(K={},o[O.id]=K);let oe=K[W.id];void 0===oe&&(oe={},K[W.id]=oe);let P=oe[X];return void 0===P&&(P=v(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),oe[X]=P),P}(X,ne,W);l!==P&&(l=P,d(l.object)),oe=function m(O,W,ne,X){const K=l.attributes,oe=W.attributes;let P=0;const G=ne.getAttributes();for(const ce in G)if(G[ce].location>=0){const _e=K[ce];let Ce=oe[ce];if(void 0===Ce&&("instanceMatrix"===ce&&O.instanceMatrix&&(Ce=O.instanceMatrix),"instanceColor"===ce&&O.instanceColor&&(Ce=O.instanceColor)),void 0===_e||_e.attribute!==Ce||Ce&&_e.data!==Ce.data)return!0;P++}return l.attributesNum!==P||l.index!==X}(O,X,ne,K),oe&&function x(O,W,ne,X){const K={},oe=W.attributes;let P=0;const G=ne.getAttributes();for(const ce in G)if(G[ce].location>=0){let _e=oe[ce];void 0===_e&&("instanceMatrix"===ce&&O.instanceMatrix&&(_e=O.instanceMatrix),"instanceColor"===ce&&O.instanceColor&&(_e=O.instanceColor));const Ce={};Ce.attribute=_e,_e&&_e.data&&(Ce.data=_e.data),K[ce]=Ce,P++}l.attributes=K,l.attributesNum=P,l.index=X}(O,X,ne,K)}else{const P=!0===W.wireframe;(l.geometry!==X.id||l.program!==ne.id||l.wireframe!==P)&&(l.geometry=X.id,l.program=ne.id,l.wireframe=P,oe=!0)}null!==K&&t.update(K,n.ELEMENT_ARRAY_BUFFER),(oe||u)&&(u=!1,function D(O,W,ne,X){if(!1===i.isWebGL2&&(O.isInstancedMesh||X.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;_();const K=X.attributes,oe=ne.getAttributes(),P=W.defaultAttributeValues;for(const G in oe){const ce=oe[G];if(ce.location>=0){let xe=K[G];if(void 0===xe&&("instanceMatrix"===G&&O.instanceMatrix&&(xe=O.instanceMatrix),"instanceColor"===G&&O.instanceColor&&(xe=O.instanceColor)),void 0!==xe){const _e=xe.normalized,Ce=xe.itemSize,Oe=t.get(xe);if(void 0===Oe)continue;const Ne=Oe.buffer,Fe=Oe.type,g1=Oe.bytesPerElement,at=!0===i.isWebGL2&&(Fe===n.INT||Fe===n.UNSIGNED_INT||xe.gpuType===tN);if(xe.isInterleavedBufferAttribute){const e1=xe.data,V=e1.stride,fe=xe.offset;if(e1.isInstancedInterleavedBuffer){for(let re=0;re<ce.locationSize;re++)w(ce.location+re,e1.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=e1.meshPerAttribute*e1.count)}else for(let re=0;re<ce.locationSize;re++)C(ce.location+re);n.bindBuffer(n.ARRAY_BUFFER,Ne);for(let re=0;re<ce.locationSize;re++)E(ce.location+re,Ce/ce.locationSize,Fe,_e,V*g1,(fe+Ce/ce.locationSize*re)*g1,at)}else{if(xe.isInstancedBufferAttribute){for(let e1=0;e1<ce.locationSize;e1++)w(ce.location+e1,xe.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let e1=0;e1<ce.locationSize;e1++)C(ce.location+e1);n.bindBuffer(n.ARRAY_BUFFER,Ne);for(let e1=0;e1<ce.locationSize;e1++)E(ce.location+e1,Ce/ce.locationSize,Fe,_e,Ce*g1,Ce/ce.locationSize*e1*g1,at)}}else if(void 0!==P){const _e=P[G];if(void 0!==_e)switch(_e.length){case 2:n.vertexAttrib2fv(ce.location,_e);break;case 3:n.vertexAttrib3fv(ce.location,_e);break;case 4:n.vertexAttrib4fv(ce.location,_e);break;default:n.vertexAttrib1fv(ce.location,_e)}}}}z()}(O,W,ne,X),null!==K&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(K).buffer))},reset:Z,resetDefaultState:B,dispose:function b(){Z();for(const O in o){const W=o[O];for(const ne in W){const X=W[ne];for(const K in X)p(X[K].object),delete X[K];delete W[ne]}delete o[O]}},releaseStatesOfGeometry:function A(O){if(void 0===o[O.id])return;const W=o[O.id];for(const ne in W){const X=W[ne];for(const K in X)p(X[K].object),delete X[K];delete W[ne]}delete o[O.id]},releaseStatesOfProgram:function F(O){for(const W in o){const ne=o[W];if(void 0===ne[O.id])continue;const X=ne[O.id];for(const K in X)p(X[K].object),delete X[K];delete ne[O.id]}},initAttributes:_,enableAttribute:C,disableUnusedAttributes:z}}function ife(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function a(l){s=l},this.render=function o(l,u){n.drawArrays(s,l,u),t.update(u,s,1)},this.renderInstances=function c(l,u,f){if(0===f)return;let h,d;if(r)h=n,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](s,l,u,f),t.update(u,s,f)}}function rfe(n,e,t){let i;function s(E){if("highp"===E){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return"mediump"===E&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let o=void 0!==t.precision?t.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const l=a||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),m=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),_=h>0,C=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const E=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:x,vertexTextures:_,floatFragmentTextures:C,floatVertexTextures:_&&C,maxSamples:a?n.getParameter(n.MAX_SAMPLES):0}}function sfe(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Aa,o=new U1,c={value:null,needsUpdate:!1};function u(f,h,d,p){const g=null!==f?f.length:0;let v=null;if(0!==g){if(v=c.value,!0!==p||null===v){const m=d+4*g,x=h.matrixWorldInverse;o.getNormalMatrix(x),(null===v||v.length<m)&&(v=new Float32Array(m));for(let _=0,C=d;_!==g;++_,C+=4)a.copy(f[_]).applyMatrix4(x,o),a.normal.toArray(v,C),v[C+3]=a.constant}c.value=v,c.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=0!==f.length||h||0!==i||r;return r=h,i=f.length,d},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,g=f.clipIntersection,v=f.clipShadows,m=n.get(f);if(!r||null===p||0===p.length||s&&!v)s?u(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const x=s?0:i,_=4*x;let C=m.clippingState||null;c.value=C,C=u(p,h,_,d);for(let w=0;w!==_;++w)C[w]=t[w];m.clippingState=C,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}}}function afe(n){let e=new WeakMap;function t(a,o){return o===tu?a.mapping=pa:o===nu&&(a.mapping=ma),a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);void 0!==c&&(e.delete(o),c.dispose())}return{get:function i(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const o=a.mapping;if(o===tu||o===nu){if(e.has(a))return t(e.get(a).texture,a.mapping);{const c=a.image;if(c&&c.height>0){const l=new e9e(c.height/2);return l.fromEquirectangularTexture(n,a),e.set(a,l),a.addEventListener("dispose",r),t(l.texture,a.mapping)}return null}}}return a},dispose:function s(){e=new WeakMap}}}class _y extends gy{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,a=s+l*this.view.width,o-=u*this.view.offsetY,c=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const sP=[.125,.215,.35,.446,.526,.582],My=new _y,aP=new He;let xy=null;const La=(1+Math.sqrt(5))/2,m0=1/La,oP=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,La,m0),new N(0,La,-m0),new N(m0,0,La),new N(-m0,0,La),new N(La,m0,0),new N(-La,m0,0)];class cP{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){xy=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=fP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=uP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(xy),e.scissorTest=!1,Nu(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===pa||e.mapping===ma?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),xy=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:C2,minFilter:C2,generateMipmaps:!1,type:j8,format:cr,colorSpace:c4,depthBuffer:!1},r=lP(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=lP(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function ofe(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+sP.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-4?c=sP[a-n+4-1]:0===a&&(c=0),i.push(c);const l=1/(o-2),u=-l,f=1+l,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,p=6,g=3,v=2,m=1,x=new Float32Array(g*p*d),_=new Float32Array(v*p*d),C=new Float32Array(m*p*d);for(let z=0;z<d;z++){const E=z%3*2/3-1,D=z>2?0:-1;x.set([E,D,0,E+2/3,D,0,E+2/3,D+1,0,E,D,0,E+2/3,D+1,0,E,D+1,0],g*p*z),_.set(h,v*p*z),C.set([z,z,z,z,z,z],m*p*z)}const w=new B1;w.setAttribute("position",new U2(x,g)),w.setAttribute("uv",new U2(_,v)),w.setAttribute("faceIndex",new U2(C,m)),e.push(w),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function cfe(n,e,t){const i=new Float32Array(20),r=new N(0,1,0);return new i3({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:ss,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new ci(this._lodPlanes[0],e);this._renderer.compile(t,My)}_sceneToCubeUV(e,t,i,r){const o=new G2(90,1,t,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(aP),u.toneMapping=$4,u.autoClear=!1;const d=new hs({name:"PMREM.Background",side:ai,depthWrite:!1,depthTest:!1}),p=new ci(new u0,d);let g=!1;const v=e.background;v?v.isColor&&(d.color.copy(v),e.background=null,g=!0):(d.color.copy(aP),g=!0);for(let m=0;m<6;m++){const x=m%3;0===x?(o.up.set(0,c[m],0),o.lookAt(l[m],0,0)):1===x?(o.up.set(0,0,c[m]),o.lookAt(0,l[m],0)):(o.up.set(0,c[m],0),o.lookAt(0,0,l[m]));const _=this._cubeSize;Nu(r,x*_,m>2?_:0,_,_),u.setRenderTarget(r),g&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===pa||e.mapping===ma;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=fP()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=uP());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new ci(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const c=this._cubeSize;Nu(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,My)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,oP[(r-1)%oP.length])}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const f=new ci(this._lodPlanes[r],l),h=l.uniforms,d=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,g=s/p,v=isFinite(s)?1+Math.floor(3*g):20;v>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to 20`);const m=[];let x=0;for(let E=0;E<20;++E){const D=E/g,b=Math.exp(-D*D/2);m.push(b),0===E?x+=b:E<v&&(x+=2*b)}for(let E=0;E<m.length;E++)m[E]=m[E]/x;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=m,h.latitudinal.value="latitudinal"===a,o&&(h.poleAxis.value=o);const{_lodMax:_}=this;h.dTheta.value=p,h.mipInt.value=_-i;const C=this._sizeLods[r];Nu(t,3*C*(r>_-4?r-_+4:0),4*(this._cubeSize-C),3*C,2*C),c.setRenderTarget(t),c.render(f,My)}}function lP(n,e,t){const i=new ba(n,e,t);return i.texture.mapping=W8,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Nu(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function uP(){return new i3({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:ss,depthTest:!1,depthWrite:!1})}function fP(){return new i3({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:ss,depthTest:!1,depthWrite:!1})}function lfe(n){let e=new WeakMap,t=null;function s(o){const c=o.target;c.removeEventListener("dispose",s);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const c=o.mapping,l=c===tu||c===nu,u=c===pa||c===ma;if(l||u){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let f=e.get(o);return null===t&&(t=new cP(n)),f=l?t.fromEquirectangular(o,f):t.fromCubemap(o,f),e.set(o,f),f.texture}if(e.has(o))return e.get(o).texture;{const f=o.image;if(l&&f&&f.height>0||u&&f&&function r(o){let c=0;for(let u=0;u<6;u++)void 0!==o[u]&&c++;return 6===c}(f)){null===t&&(t=new cP(n));const h=l?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,h),o.addEventListener("dispose",s),h.texture}return null}}}return o},dispose:function a(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function ufe(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function ffe(n,e,t,i){const r={},s=new WeakMap;function a(f){const h=f.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const g=h.morphAttributes[p];for(let v=0,m=g.length;v<m;v++)e.remove(g[v])}h.removeEventListener("dispose",a),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function l(f){const h=[],d=f.index,p=f.attributes.position;let g=0;if(null!==d){const x=d.array;g=d.version;for(let _=0,C=x.length;_<C;_+=3){const w=x[_+0],z=x[_+1],E=x[_+2];h.push(w,z,z,E,E,w)}}else{g=p.version;for(let _=0,C=p.array.length/3-1;_<C;_+=3){const w=_+0,z=_+1,E=_+2;h.push(w,z,z,E,E,w)}}const v=new(VN(h)?KN:YN)(h,1);v.version=g;const m=s.get(f);m&&e.remove(m),s.set(f,v)}return{get:function o(f,h){return!0===r[h.id]||(h.addEventListener("dispose",a),r[h.id]=!0,t.memory.geometries++),h},update:function c(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const d=f.morphAttributes;for(const p in d){const g=d[p];for(let v=0,m=g.length;v<m;v++)e.update(g[v],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(f){const h=s.get(f);if(h){const d=f.index;null!==d&&h.version<d.version&&l(f)}else l(f);return s.get(f)}}}function hfe(n,e,t,i){const r=i.isWebGL2;let s,o,c;this.setMode=function a(h){s=h},this.setIndex=function l(h){o=h.type,c=h.bytesPerElement},this.render=function u(h,d){n.drawElements(s,d,o,h*c),t.update(d,s,1)},this.renderInstances=function f(h,d,p){if(0===p)return;let g,v;if(r)g=n,v="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[v](s,d,o,h*c,p),t.update(d,s,p)}}function dfe(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function pfe(n,e){return n[0]-e[0]}function mfe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function gfe(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,a=new Ct,o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function c(l,u,f){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const d=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==d?d.length:0;let g=s.get(u);if(void 0===g||g.count!==p){let O=function(){Z.dispose(),s.delete(u),u.removeEventListener("dispose",O)};void 0!==g&&g.texture.dispose();const x=void 0!==u.morphAttributes.position,_=void 0!==u.morphAttributes.normal,C=void 0!==u.morphAttributes.color,w=u.morphAttributes.position||[],z=u.morphAttributes.normal||[],E=u.morphAttributes.color||[];let D=0;!0===x&&(D=1),!0===_&&(D=2),!0===C&&(D=3);let b=u.attributes.position.count*D,A=1;b>e.maxTextureSize&&(A=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);const F=new Float32Array(b*A*4*p),Z=new ty(F,b,A,p);Z.type=q4,Z.needsUpdate=!0;const B=4*D;for(let W=0;W<p;W++){const ne=w[W],X=z[W],K=E[W],oe=b*A*4*W;for(let P=0;P<ne.count;P++){const G=P*B;!0===x&&(a.fromBufferAttribute(ne,P),F[oe+G+0]=a.x,F[oe+G+1]=a.y,F[oe+G+2]=a.z,F[oe+G+3]=0),!0===_&&(a.fromBufferAttribute(X,P),F[oe+G+4]=a.x,F[oe+G+5]=a.y,F[oe+G+6]=a.z,F[oe+G+7]=0),!0===C&&(a.fromBufferAttribute(K,P),F[oe+G+8]=a.x,F[oe+G+9]=a.y,F[oe+G+10]=a.z,F[oe+G+11]=4===K.itemSize?a.w:1)}}g={count:p,texture:Z,size:new pe(b,A)},s.set(u,g),u.addEventListener("dispose",O)}let v=0;for(let x=0;x<h.length;x++)v+=h[x];const m=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",m),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",g.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const d=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==d){p=[];for(let _=0;_<d;_++)p[_]=[_,0];i[u.id]=p}for(let _=0;_<d;_++){const C=p[_];C[0]=_,C[1]=h[_]}p.sort(mfe);for(let _=0;_<8;_++)_<d&&p[_][1]?(o[_][0]=p[_][0],o[_][1]=p[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(pfe);const g=u.morphAttributes.position,v=u.morphAttributes.normal;let m=0;for(let _=0;_<8;_++){const C=o[_],w=C[0],z=C[1];w!==Number.MAX_SAFE_INTEGER&&z?(g&&u.getAttribute("morphTarget"+_)!==g[w]&&u.setAttribute("morphTarget"+_,g[w]),v&&u.getAttribute("morphNormal"+_)!==v[w]&&u.setAttribute("morphNormal"+_,v[w]),r[_]=z,m+=z):(g&&!0===u.hasAttribute("morphTarget"+_)&&u.deleteAttribute("morphTarget"+_),v&&!0===u.hasAttribute("morphNormal"+_)&&u.deleteAttribute("morphNormal"+_),r[_]=0)}const x=u.morphTargetsRelative?1:1-m;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function vfe(n,e,t,i){let r=new WeakMap;function o(c){const l=c.target;l.removeEventListener("dispose",o),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,f=e.get(c,c.geometry);if(r.get(f)!==l&&(e.update(f),r.set(f,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",o)&&c.addEventListener("dispose",o),r.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return f},dispose:function a(){r=new WeakMap}}}const hP=new l4,dP=new ty,pP=new FN,mP=new Tu,gP=[],vP=[],yP=new Float32Array(16),_P=new Float32Array(9),MP=new Float32Array(4);function g0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=gP[r];if(void 0===s&&(s=new Float32Array(r),gP[r]=s),0!==e){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function L2(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function D2(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Pu(n,e){let t=vP[e];void 0===t&&(t=new Int32Array(e),vP[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function yfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function _fe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2fv(this.addr,e),D2(t,e)}}function Mfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(L2(t,e))return;n.uniform3fv(this.addr,e),D2(t,e)}}function xfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4fv(this.addr,e),D2(t,e)}}function Cfe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),D2(t,e)}else{if(L2(t,i))return;MP.set(i),n.uniformMatrix2fv(this.addr,!1,MP),D2(t,i)}}function bfe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),D2(t,e)}else{if(L2(t,i))return;_P.set(i),n.uniformMatrix3fv(this.addr,!1,_P),D2(t,i)}}function wfe(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),D2(t,e)}else{if(L2(t,i))return;yP.set(i),n.uniformMatrix4fv(this.addr,!1,yP),D2(t,i)}}function Sfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function zfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2iv(this.addr,e),D2(t,e)}}function Afe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3iv(this.addr,e),D2(t,e)}}function Efe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4iv(this.addr,e),D2(t,e)}}function Tfe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Lfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2uiv(this.addr,e),D2(t,e)}}function Dfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3uiv(this.addr,e),D2(t,e)}}function Nfe(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4uiv(this.addr,e),D2(t,e)}}function Pfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||hP,r)}function Ife(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||pP,r)}function Rfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||mP,r)}function Vfe(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||dP,r)}function Ofe(n,e){n.uniform1fv(this.addr,e)}function Ffe(n,e){const t=g0(e,this.size,2);n.uniform2fv(this.addr,t)}function kfe(n,e){const t=g0(e,this.size,3);n.uniform3fv(this.addr,t)}function Ufe(n,e){const t=g0(e,this.size,4);n.uniform4fv(this.addr,t)}function Bfe(n,e){const t=g0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Gfe(n,e){const t=g0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Wfe(n,e){const t=g0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function jfe(n,e){n.uniform1iv(this.addr,e)}function $fe(n,e){n.uniform2iv(this.addr,e)}function qfe(n,e){n.uniform3iv(this.addr,e)}function Zfe(n,e){n.uniform4iv(this.addr,e)}function Xfe(n,e){n.uniform1uiv(this.addr,e)}function Yfe(n,e){n.uniform2uiv(this.addr,e)}function Kfe(n,e){n.uniform3uiv(this.addr,e)}function Jfe(n,e){n.uniform4uiv(this.addr,e)}function Qfe(n,e,t){const i=this.cache,r=e.length,s=Pu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),D2(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||hP,s[a])}function ehe(n,e,t){const i=this.cache,r=e.length,s=Pu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),D2(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||pP,s[a])}function the(n,e,t){const i=this.cache,r=e.length,s=Pu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),D2(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||mP,s[a])}function nhe(n,e,t){const i=this.cache,r=e.length,s=Pu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),D2(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||dP,s[a])}class rhe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Hfe(n){switch(n){case 5126:return yfe;case 35664:return _fe;case 35665:return Mfe;case 35666:return xfe;case 35674:return Cfe;case 35675:return bfe;case 35676:return wfe;case 5124:case 35670:return Sfe;case 35667:case 35671:return zfe;case 35668:case 35672:return Afe;case 35669:case 35673:return Efe;case 5125:return Tfe;case 36294:return Lfe;case 36295:return Dfe;case 36296:return Nfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Pfe;case 35679:case 36299:case 36307:return Ife;case 35680:case 36300:case 36308:case 36293:return Rfe;case 36289:case 36303:case 36311:case 36292:return Vfe}}(t.type)}}class she{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function ihe(n){switch(n){case 5126:return Ofe;case 35664:return Ffe;case 35665:return kfe;case 35666:return Ufe;case 35674:return Bfe;case 35675:return Gfe;case 35676:return Wfe;case 5124:case 35670:return jfe;case 35667:case 35671:return $fe;case 35668:case 35672:return qfe;case 35669:case 35673:return Zfe;case 5125:return Xfe;case 36294:return Yfe;case 36295:return Kfe;case 36296:return Jfe;case 35678:case 36198:case 36298:case 36306:case 35682:return Qfe;case 35679:case 36299:case 36307:return ehe;case 35680:case 36300:case 36308:case 36293:return the;case 36289:case 36303:case 36311:case 36292:return nhe}}(t.type)}}class ahe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const by=/(\w+)(\])?(\[|\.)?/g;function xP(n,e){n.seq.push(e),n.map[e.id]=e}function ohe(n,e,t){const i=n.name,r=i.length;for(by.lastIndex=0;;){const s=by.exec(i);let o=s[1];const l=s[3];if("]"===s[2]&&(o|=0),void 0===l||"["===l&&by.lastIndex+2===r){xP(t,void 0===l?new rhe(o,n,e):new she(o,n,e));break}{let f=t.map[o];void 0===f&&(f=new ahe(o),xP(t,f)),t=f}}}class Iu{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);ohe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];!1!==c.needsUpdate&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function CP(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let che=0;function bP(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function lhe(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join("\n")}(n.getShaderSource(e),a)}return r}function fhe(n,e){const t=function uhe(n){switch(n){case c4:return["Linear","( value )"];case L1:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function hhe(n,e){let t;switch(e){case kle:t="Linear";break;case Ule:t="Reinhard";break;case Ble:t="OptimizedCineon";break;case Gle:t="ACESFilmic";break;case Wle:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function n5(n){return""!==n}function wP(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function SP(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ghe=/^[ \t]*#include +<([\w\d./]+)>/gm;function wy(n){return n.replace(ghe,yhe)}const vhe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function yhe(n,e){let t=H1[e];if(void 0===t){const i=vhe.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=H1[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return wy(t)}const _he=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zP(n){return n.replace(_he,Mhe)}function Mhe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function AP(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function zhe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=function xhe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===qD?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===yle?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===W4&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function Che(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case pa:case ma:e="ENVMAP_TYPE_CUBE";break;case W8:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function bhe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===ma&&(e="ENVMAP_MODE_REFRACTION"),e}(t),f=function whe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case eu:e="ENVMAP_BLENDING_MULTIPLY";break;case Ole:e="ENVMAP_BLENDING_MIX";break;case Fle:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function She(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),d=t.isWebGL2?"":function dhe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(n5).join("\n")}(t),p=function phe(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),g=r.createProgram();let v,m,x=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(n5).join("\n"),v.length>0&&(v+="\n"),m=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(n5).join("\n"),m.length>0&&(m+="\n")):(v=[AP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(n5).join("\n"),m=[d,AP(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$4?"#define TONE_MAPPING":"",t.toneMapping!==$4?H1.tonemapping_pars_fragment:"",t.toneMapping!==$4?hhe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",H1.colorspace_pars_fragment,fhe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(n5).join("\n")),a=wy(a),a=wP(a,t),a=SP(a,t),o=wy(o),o=wP(o,t),o=SP(o,t),a=zP(a),o=zP(o),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(x="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,m=["#define varying in",t.glslVersion===PN?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===PN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m);const C=x+m+o,w=CP(r,r.VERTEX_SHADER,x+v+a),z=CP(r,r.FRAGMENT_SHADER,C);if(r.attachShader(g,w),r.attachShader(g,z),void 0!==t.index0AttributeName?r.bindAttribLocation(g,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),n.debug.checkShaderErrors){const b=r.getProgramInfoLog(g).trim(),A=r.getShaderInfoLog(w).trim(),F=r.getShaderInfoLog(z).trim();let Z=!0,B=!0;if(!1===r.getProgramParameter(g,r.LINK_STATUS))if(Z=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,g,w,z);else{const O=bP(r,w,"vertex"),W=bP(r,z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+b+"\n"+O+"\n"+W)}else""!==b?console.warn("THREE.WebGLProgram: Program Info Log:",b):(""===A||""===F)&&(B=!1);B&&(this.diagnostics={runnable:Z,programLog:b,vertexShader:{log:A,prefix:v},fragmentShader:{log:F,prefix:m}})}let E,D;return r.deleteShader(w),r.deleteShader(z),this.getUniforms=function(){return void 0===E&&(E=new Iu(r,g)),E},this.getAttributes=function(){return void 0===D&&(D=function mhe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}(r,g)),D},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=che++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=z,this}let Ahe=0;class Ehe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new The(e),t.set(e,i)),i}}class The{constructor(e){this.id=Ahe++,this.code=e,this.usedTimes=0}}function Lhe(n,e,t,i,r,s,a){const o=new cy,c=new Ehe,l=[],u=r.isWebGL2,f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(b){return 0===b?"uv":`uv${b}`}return{getParameters:function v(b,A,F,Z,B){const O=Z.fog,W=B.geometry,X=(b.isMeshStandardMaterial?t:e).get(b.envMap||(b.isMeshStandardMaterial?Z.environment:null)),K=X&&X.mapping===W8?X.image.height:null,oe=p[b.type];null!==b.precision&&(d=r.getMaxPrecision(b.precision),d!==b.precision&&console.warn("THREE.WebGLProgram.getParameters:",b.precision,"not supported, using",d,"instead."));const P=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,G=void 0!==P?P.length:0;let xe,_e,Ce,Oe,ce=0;if(void 0!==W.morphAttributes.position&&(ce=1),void 0!==W.morphAttributes.normal&&(ce=2),void 0!==W.morphAttributes.color&&(ce=3),oe){const a1=f4[oe];xe=a1.vertexShader,_e=a1.fragmentShader}else xe=b.vertexShader,_e=b.fragmentShader,c.update(b),Ce=c.getVertexShaderID(b),Oe=c.getFragmentShaderID(b);const Ne=n.getRenderTarget(),Fe=!0===B.isInstancedMesh,g1=!!b.map,e1=!!X,V=!!b.aoMap,fe=!!b.lightMap,re=!!b.bumpMap,me=!!b.normalMap,ue=!!b.displacementMap,k=!!b.emissiveMap,Ae=!!b.metalnessMap,Re=!!b.roughnessMap,d1=b.anisotropy>0,r1=b.clearcoat>0,mt=b.iridescence>0,I=b.sheen>0,T=b.transmission>0,ee=d1&&!!b.anisotropyMap,he=r1&&!!b.clearcoatMap,ve=r1&&!!b.clearcoatNormalMap,be=r1&&!!b.clearcoatRoughnessMap,Ye=mt&&!!b.iridescenceMap,we=mt&&!!b.iridescenceThicknessMap,ae=I&&!!b.sheenColorMap,qe=I&&!!b.sheenRoughnessMap,i1=!!b.specularMap,s1=!!b.specularColorMap,We=!!b.specularIntensityMap,ke=T&&!!b.transmissionMap,M1=T&&!!b.thicknessMap,H=!!b.alphaMap,Me=!!b.extensions,Se=!!W.attributes.uv1,O1=!!W.attributes.uv2,gt=!!W.attributes.uv3;return{isWebGL2:u,shaderID:oe,shaderType:b.type,shaderName:b.name,vertexShader:xe,fragmentShader:_e,defines:b.defines,customVertexShaderID:Ce,customFragmentShaderID:Oe,isRawShaderMaterial:!0===b.isRawShaderMaterial,glslVersion:b.glslVersion,precision:d,instancing:Fe,instancingColor:Fe&&null!==B.instanceColor,supportsVertexTextures:h,outputColorSpace:null===Ne?n.outputColorSpace:!0===Ne.isXRRenderTarget?Ne.texture.colorSpace:c4,map:g1,matcap:!!b.matcap,envMap:e1,envMapMode:e1&&X.mapping,envMapCubeUVHeight:K,aoMap:V,lightMap:fe,bumpMap:re,normalMap:me,displacementMap:h&&ue,emissiveMap:k,normalMapObjectSpace:me&&b.normalMapType===s7e,normalMapTangentSpace:me&&b.normalMapType===Ma,metalnessMap:Ae,roughnessMap:Re,anisotropy:d1,anisotropyMap:ee,clearcoat:r1,clearcoatMap:he,clearcoatNormalMap:ve,clearcoatRoughnessMap:be,iridescence:mt,iridescenceMap:Ye,iridescenceThicknessMap:we,sheen:I,sheenColorMap:ae,sheenRoughnessMap:qe,specularMap:i1,specularColorMap:s1,specularIntensityMap:We,transmission:T,transmissionMap:ke,thicknessMap:M1,gradientMap:!!b.gradientMap,opaque:!1===b.transparent&&b.blending===F6,alphaMap:H,alphaTest:b.alphaTest>0,alphaHash:!!b.alphaHash,combine:b.combine,mapUv:g1&&g(b.map.channel),aoMapUv:V&&g(b.aoMap.channel),lightMapUv:fe&&g(b.lightMap.channel),bumpMapUv:re&&g(b.bumpMap.channel),normalMapUv:me&&g(b.normalMap.channel),displacementMapUv:ue&&g(b.displacementMap.channel),emissiveMapUv:k&&g(b.emissiveMap.channel),metalnessMapUv:Ae&&g(b.metalnessMap.channel),roughnessMapUv:Re&&g(b.roughnessMap.channel),anisotropyMapUv:ee&&g(b.anisotropyMap.channel),clearcoatMapUv:he&&g(b.clearcoatMap.channel),clearcoatNormalMapUv:ve&&g(b.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&g(b.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&g(b.iridescenceMap.channel),iridescenceThicknessMapUv:we&&g(b.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&g(b.sheenColorMap.channel),sheenRoughnessMapUv:qe&&g(b.sheenRoughnessMap.channel),specularMapUv:i1&&g(b.specularMap.channel),specularColorMapUv:s1&&g(b.specularColorMap.channel),specularIntensityMapUv:We&&g(b.specularIntensityMap.channel),transmissionMapUv:ke&&g(b.transmissionMap.channel),thicknessMapUv:M1&&g(b.thicknessMap.channel),alphaMapUv:H&&g(b.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(me||d1),vertexColors:b.vertexColors,vertexAlphas:!0===b.vertexColors&&!!W.attributes.color&&4===W.attributes.color.itemSize,vertexUv1s:Se,vertexUv2s:O1,vertexUv3s:gt,pointsUvs:!0===B.isPoints&&!!W.attributes.uv&&(g1||H),fog:!!O,useFog:!0===b.fog,fogExp2:O&&O.isFogExp2,flatShading:!0===b.flatShading,sizeAttenuation:!0===b.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===B.isSkinnedMesh,morphTargets:void 0!==W.morphAttributes.position,morphNormals:void 0!==W.morphAttributes.normal,morphColors:void 0!==W.morphAttributes.color,morphTargetsCount:G,morphTextureStride:ce,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:b.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:b.toneMapped?n.toneMapping:$4,useLegacyLights:n.useLegacyLights,premultipliedAlpha:b.premultipliedAlpha,doubleSided:b.side===j4,flipSided:b.side===ai,useDepthPacking:b.depthPacking>=0,depthPacking:b.depthPacking||0,index0AttributeName:b.index0AttributeName,extensionDerivatives:Me&&!0===b.extensions.derivatives,extensionFragDepth:Me&&!0===b.extensions.fragDepth,extensionDrawBuffers:Me&&!0===b.extensions.drawBuffers,extensionShaderTextureLOD:Me&&!0===b.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:b.customProgramCacheKey()}},getProgramCacheKey:function m(b){const A=[];if(b.shaderID?A.push(b.shaderID):(A.push(b.customVertexShaderID),A.push(b.customFragmentShaderID)),void 0!==b.defines)for(const F in b.defines)A.push(F),A.push(b.defines[F]);return!1===b.isRawShaderMaterial&&(function x(b,A){b.push(A.precision),b.push(A.outputColorSpace),b.push(A.envMapMode),b.push(A.envMapCubeUVHeight),b.push(A.mapUv),b.push(A.alphaMapUv),b.push(A.lightMapUv),b.push(A.aoMapUv),b.push(A.bumpMapUv),b.push(A.normalMapUv),b.push(A.displacementMapUv),b.push(A.emissiveMapUv),b.push(A.metalnessMapUv),b.push(A.roughnessMapUv),b.push(A.anisotropyMapUv),b.push(A.clearcoatMapUv),b.push(A.clearcoatNormalMapUv),b.push(A.clearcoatRoughnessMapUv),b.push(A.iridescenceMapUv),b.push(A.iridescenceThicknessMapUv),b.push(A.sheenColorMapUv),b.push(A.sheenRoughnessMapUv),b.push(A.specularMapUv),b.push(A.specularColorMapUv),b.push(A.specularIntensityMapUv),b.push(A.transmissionMapUv),b.push(A.thicknessMapUv),b.push(A.combine),b.push(A.fogExp2),b.push(A.sizeAttenuation),b.push(A.morphTargetsCount),b.push(A.morphAttributeCount),b.push(A.numDirLights),b.push(A.numPointLights),b.push(A.numSpotLights),b.push(A.numSpotLightMaps),b.push(A.numHemiLights),b.push(A.numRectAreaLights),b.push(A.numDirLightShadows),b.push(A.numPointLightShadows),b.push(A.numSpotLightShadows),b.push(A.numSpotLightShadowsWithMaps),b.push(A.shadowMapType),b.push(A.toneMapping),b.push(A.numClippingPlanes),b.push(A.numClipIntersection),b.push(A.depthPacking)}(A,b),function _(b,A){o.disableAll(),A.isWebGL2&&o.enable(0),A.supportsVertexTextures&&o.enable(1),A.instancing&&o.enable(2),A.instancingColor&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),b.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.skinning&&o.enable(4),A.morphTargets&&o.enable(5),A.morphNormals&&o.enable(6),A.morphColors&&o.enable(7),A.premultipliedAlpha&&o.enable(8),A.shadowMapEnabled&&o.enable(9),A.useLegacyLights&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.transmission&&o.enable(15),A.sheen&&o.enable(16),A.opaque&&o.enable(17),A.pointsUvs&&o.enable(18),b.push(o.mask)}(A,b),A.push(n.outputColorSpace)),A.push(b.customProgramCacheKey),A.join()},getUniforms:function C(b){const A=p[b.type];let F;return F=A?Y7e.clone(f4[A].uniforms):b.uniforms,F},acquireProgram:function w(b,A){let F;for(let Z=0,B=l.length;Z<B;Z++){const O=l[Z];if(O.cacheKey===A){F=O,++F.usedTimes;break}}return void 0===F&&(F=new zhe(n,A,b,s),l.push(F)),F},releaseProgram:function z(b){if(0==--b.usedTimes){const A=l.indexOf(b);l[A]=l[l.length-1],l.pop(),b.destroy()}},releaseShaderCache:function E(b){c.remove(b)},programs:l,dispose:function D(){c.dispose()}}}function Dhe(){let n=new WeakMap;return{get:function e(s){let a=n.get(s);return void 0===a&&(a={},n.set(s,a)),a},remove:function t(s){n.delete(s)},update:function i(s,a,o){n.get(s)[a]=o},dispose:function r(){n=new WeakMap}}}function Nhe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function EP(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function TP(){const n=[];let e=0;const t=[],i=[],r=[];function a(f,h,d,p,g,v){let m=n[e];return void 0===m?(m={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:g,group:v},n[e]=m):(m.id=f.id,m.object=f,m.geometry=h,m.material=d,m.groupOrder=p,m.renderOrder=f.renderOrder,m.z=g,m.group=v),e++,m}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function o(f,h,d,p,g,v){const m=a(f,h,d,p,g,v);d.transmission>0?i.push(m):!0===d.transparent?r.push(m):t.push(m)},unshift:function c(f,h,d,p,g,v){const m=a(f,h,d,p,g,v);d.transmission>0?i.unshift(m):!0===d.transparent?r.unshift(m):t.unshift(m)},finish:function u(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(null===d.id)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}},sort:function l(f,h){t.length>1&&t.sort(f||Nhe),i.length>1&&i.sort(h||EP),r.length>1&&r.sort(h||EP)}}}function Phe(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let a;return void 0===s?(a=new TP,n.set(i,[a])):r>=s.length?(a=new TP,s.push(a)):a=s[r],a},dispose:function t(){n=new WeakMap}}}function Ihe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new He};break;case"SpotLight":t={position:new N,direction:new N,color:new He,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new He,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new He,groundColor:new He};break;case"RectAreaLight":t={color:new He,position:new N,halfWidth:new N,halfHeight:new N}}return n[e.id]=t,t}}}let Vhe=0;function Hhe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ohe(n,e){const t=new Ihe,i=function Rhe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new N);const s=new N,a=new D1,o=new D1;return{setup:function c(u,f){let h=0,d=0,p=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let g=0,v=0,m=0,x=0,_=0,C=0,w=0,z=0,E=0,D=0;u.sort(Hhe);const b=!0===f?Math.PI:1;for(let F=0,Z=u.length;F<Z;F++){const B=u[F],O=B.color,W=B.intensity,ne=B.distance,X=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=O.r*W*b,d+=O.g*W*b,p+=O.b*W*b;else if(B.isLightProbe)for(let K=0;K<9;K++)r.probe[K].addScaledVector(B.sh.coefficients[K],W);else if(B.isDirectionalLight){const K=t.get(B);if(K.color.copy(B.color).multiplyScalar(B.intensity*b),B.castShadow){const oe=B.shadow,P=i.get(B);P.shadowBias=oe.bias,P.shadowNormalBias=oe.normalBias,P.shadowRadius=oe.radius,P.shadowMapSize=oe.mapSize,r.directionalShadow[g]=P,r.directionalShadowMap[g]=X,r.directionalShadowMatrix[g]=B.shadow.matrix,C++}r.directional[g]=K,g++}else if(B.isSpotLight){const K=t.get(B);K.position.setFromMatrixPosition(B.matrixWorld),K.color.copy(O).multiplyScalar(W*b),K.distance=ne,K.coneCos=Math.cos(B.angle),K.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),K.decay=B.decay,r.spot[m]=K;const oe=B.shadow;if(B.map&&(r.spotLightMap[E]=B.map,E++,oe.updateMatrices(B),B.castShadow&&D++),r.spotLightMatrix[m]=oe.matrix,B.castShadow){const P=i.get(B);P.shadowBias=oe.bias,P.shadowNormalBias=oe.normalBias,P.shadowRadius=oe.radius,P.shadowMapSize=oe.mapSize,r.spotShadow[m]=P,r.spotShadowMap[m]=X,z++}m++}else if(B.isRectAreaLight){const K=t.get(B);K.color.copy(O).multiplyScalar(W),K.halfWidth.set(.5*B.width,0,0),K.halfHeight.set(0,.5*B.height,0),r.rectArea[x]=K,x++}else if(B.isPointLight){const K=t.get(B);if(K.color.copy(B.color).multiplyScalar(B.intensity*b),K.distance=B.distance,K.decay=B.decay,B.castShadow){const oe=B.shadow,P=i.get(B);P.shadowBias=oe.bias,P.shadowNormalBias=oe.normalBias,P.shadowRadius=oe.radius,P.shadowMapSize=oe.mapSize,P.shadowCameraNear=oe.camera.near,P.shadowCameraFar=oe.camera.far,r.pointShadow[v]=P,r.pointShadowMap[v]=X,r.pointShadowMatrix[v]=B.shadow.matrix,w++}r.point[v]=K,v++}else if(B.isHemisphereLight){const K=t.get(B);K.skyColor.copy(B.color).multiplyScalar(W*b),K.groundColor.copy(B.groundColor).multiplyScalar(W*b),r.hemi[_]=K,_++}}x>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ee.LTC_FLOAT_1,r.rectAreaLTC2=Ee.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Ee.LTC_HALF_1,r.rectAreaLTC2=Ee.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==g||A.pointLength!==v||A.spotLength!==m||A.rectAreaLength!==x||A.hemiLength!==_||A.numDirectionalShadows!==C||A.numPointShadows!==w||A.numSpotShadows!==z||A.numSpotMaps!==E)&&(r.directional.length=g,r.spot.length=m,r.rectArea.length=x,r.point.length=v,r.hemi.length=_,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=z,r.spotShadowMap.length=z,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=z+E-D,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=D,A.directionalLength=g,A.pointLength=v,A.spotLength=m,A.rectAreaLength=x,A.hemiLength=_,A.numDirectionalShadows=C,A.numPointShadows=w,A.numSpotShadows=z,A.numSpotMaps=E,r.version=Vhe++)},setupView:function l(u,f){let h=0,d=0,p=0,g=0,v=0;const m=f.matrixWorldInverse;for(let x=0,_=u.length;x<_;x++){const C=u[x];if(C.isDirectionalLight){const w=r.directional[h];w.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(m),h++}else if(C.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(m),w.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(m),p++}else if(C.isRectAreaLight){const w=r.rectArea[g];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(m),o.identity(),a.copy(C.matrixWorld),a.premultiply(m),o.extractRotation(a),w.halfWidth.set(.5*C.width,0,0),w.halfHeight.set(0,.5*C.height,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),g++}else if(C.isPointLight){const w=r.point[d];w.position.setFromMatrixPosition(C.matrixWorld),w.position.applyMatrix4(m),d++}else if(C.isHemisphereLight){const w=r.hemi[v];w.direction.setFromMatrixPosition(C.matrixWorld),w.direction.transformDirection(m),v++}}},state:r}}function LP(n,e){const t=new Ohe(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(f){t.setup(i,f)},setupLightsView:function l(f){t.setupView(i,f)},pushLight:function a(f){i.push(f)},pushShadow:function o(f){r.push(f)}}}function Fhe(n,e){let t=new WeakMap;return{get:function i(s,a=0){const o=t.get(s);let c;return void 0===o?(c=new LP(n,e),t.set(s,[c])):a>=o.length?(c=new LP(n,e),o.push(c)):c=o[a],c},dispose:function r(){t=new WeakMap}}}class DP extends s0{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class NP extends s0{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const khe="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Uhe="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Bhe(n,e,t){let i=new yy;const r=new pe,s=new pe,a=new Ct,o=new DP({depthPacking:r7e}),c=new NP,l={},u=t.maxTextureSize,f={[rs]:ai,[ai]:rs,[j4]:j4},h=new i3({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:khe,fragmentShader:Uhe}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new B1;p.setAttribute("position",new U2(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new ci(p,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=qD;let m=this.type;function x(w,z){const E=e.update(g);h.defines.VSM_SAMPLES!==w.blurSamples&&(h.defines.VSM_SAMPLES=w.blurSamples,d.defines.VSM_SAMPLES=w.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),null===w.mapPass&&(w.mapPass=new ba(r.x,r.y)),h.uniforms.shadow_pass.value=w.map.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,n.setRenderTarget(w.mapPass),n.clear(),n.renderBufferDirect(z,null,E,h,g,null),d.uniforms.shadow_pass.value=w.mapPass.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,n.setRenderTarget(w.map),n.clear(),n.renderBufferDirect(z,null,E,d,g,null)}function _(w,z,E,D){let b=null;const A=!0===E.isPointLight?w.customDistanceMaterial:w.customDepthMaterial;if(void 0!==A)b=A;else if(b=!0===E.isPointLight?c:o,n.localClippingEnabled&&!0===z.clipShadows&&Array.isArray(z.clippingPlanes)&&0!==z.clippingPlanes.length||z.displacementMap&&0!==z.displacementScale||z.alphaMap&&z.alphaTest>0||z.map&&z.alphaTest>0){const F=b.uuid,Z=z.uuid;let B=l[F];void 0===B&&(B={},l[F]=B);let O=B[Z];void 0===O&&(O=b.clone(),B[Z]=O),b=O}return b.visible=z.visible,b.wireframe=z.wireframe,b.side=D===W4?null!==z.shadowSide?z.shadowSide:z.side:null!==z.shadowSide?z.shadowSide:f[z.side],b.alphaMap=z.alphaMap,b.alphaTest=z.alphaTest,b.map=z.map,b.clipShadows=z.clipShadows,b.clippingPlanes=z.clippingPlanes,b.clipIntersection=z.clipIntersection,b.displacementMap=z.displacementMap,b.displacementScale=z.displacementScale,b.displacementBias=z.displacementBias,b.wireframeLinewidth=z.wireframeLinewidth,b.linewidth=z.linewidth,!0===E.isPointLight&&!0===b.isMeshDistanceMaterial&&(n.properties.get(b).light=E),b}function C(w,z,E,D,b){if(!1===w.visible)return;if(w.layers.test(z.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&b===W4)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,w.matrixWorld);const Z=e.update(w),B=w.material;if(Array.isArray(B)){const O=Z.groups;for(let W=0,ne=O.length;W<ne;W++){const X=O[W],K=B[X.materialIndex];if(K&&K.visible){const oe=_(w,K,D,b);n.renderBufferDirect(E,null,Z,oe,w,X)}}}else if(B.visible){const O=_(w,B,D,b);n.renderBufferDirect(E,null,Z,O,w,null)}}const F=w.children;for(let Z=0,B=F.length;Z<B;Z++)C(F[Z],z,E,D,b)}this.render=function(w,z,E){if(!1===v.enabled||!1===v.autoUpdate&&!1===v.needsUpdate||0===w.length)return;const D=n.getRenderTarget(),b=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),F=n.state;F.setBlending(ss),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const Z=m!==W4&&this.type===W4,B=m===W4&&this.type!==W4;for(let O=0,W=w.length;O<W;O++){const ne=w[O],X=ne.shadow;if(void 0===X){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(!1===X.autoUpdate&&!1===X.needsUpdate)continue;r.copy(X.mapSize);const K=X.getFrameExtents();if(r.multiply(K),s.copy(X.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/K.x),r.x=s.x*K.x,X.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/K.y),r.y=s.y*K.y,X.mapSize.y=s.y)),null===X.map||!0===Z||!0===B){const P=this.type!==W4?{minFilter:x2,magFilter:x2}:{};null!==X.map&&X.map.dispose(),X.map=new ba(r.x,r.y,P),X.map.texture.name=ne.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const oe=X.getViewportCount();for(let P=0;P<oe;P++){const G=X.getViewport(P);a.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),F.viewport(a),X.updateMatrices(ne,P),i=X.getFrustum(),C(z,E,X.camera,ne,this.type)}!0!==X.isPointLightShadow&&this.type===W4&&x(X,E),X.needsUpdate=!1}m=this.type,v.needsUpdate=!1,n.setRenderTarget(D,b,A)}}function Ghe(n,e,t){const i=t.isWebGL2,o=new function r(){let H=!1;const ze=new Ct;let Q=null;const Me=new Ct(0,0,0,0);return{setMask:function(Se){Q!==Se&&!H&&(n.colorMask(Se,Se,Se,Se),Q=Se)},setLocked:function(Se){H=Se},setClear:function(Se,O1,gt,bt,a1){!0===a1&&(Se*=bt,O1*=bt,gt*=bt),ze.set(Se,O1,gt,bt),!1===Me.equals(ze)&&(n.clearColor(Se,O1,gt,bt),Me.copy(ze))},reset:function(){H=!1,Q=null,Me.set(-1,0,0,0)}}},c=new function s(){let H=!1,ze=null,Q=null,Me=null;return{setTest:function(Se){Se?Ne(n.DEPTH_TEST):Fe(n.DEPTH_TEST)},setMask:function(Se){ze!==Se&&!H&&(n.depthMask(Se),ze=Se)},setFunc:function(Se){if(Q!==Se){switch(Se){case Dle:n.depthFunc(n.NEVER);break;case Nle:n.depthFunc(n.ALWAYS);break;case Ple:n.depthFunc(n.LESS);break;case Hv:n.depthFunc(n.LEQUAL);break;case Ile:n.depthFunc(n.EQUAL);break;case Rle:n.depthFunc(n.GEQUAL);break;case Vle:n.depthFunc(n.GREATER);break;case Hle:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Q=Se}},setLocked:function(Se){H=Se},setClear:function(Se){Me!==Se&&(n.clearDepth(Se),Me=Se)},reset:function(){H=!1,ze=null,Q=null,Me=null}}},l=new function a(){let H=!1,ze=null,Q=null,Me=null,Se=null,O1=null,gt=null,bt=null,a1=null;return{setTest:function(Pe){H||(Pe?Ne(n.STENCIL_TEST):Fe(n.STENCIL_TEST))},setMask:function(Pe){ze!==Pe&&!H&&(n.stencilMask(Pe),ze=Pe)},setFunc:function(Pe,N1,W1){(Q!==Pe||Me!==N1||Se!==W1)&&(n.stencilFunc(Pe,N1,W1),Q=Pe,Me=N1,Se=W1)},setOp:function(Pe,N1,W1){(O1!==Pe||gt!==N1||bt!==W1)&&(n.stencilOp(Pe,N1,W1),O1=Pe,gt=N1,bt=W1)},setLocked:function(Pe){H=Pe},setClear:function(Pe){a1!==Pe&&(n.clearStencil(Pe),a1=Pe)},reset:function(){H=!1,ze=null,Q=null,Me=null,Se=null,O1=null,gt=null,bt=null,a1=null}}},u=new WeakMap,f=new WeakMap;let h={},d={},p=new WeakMap,g=[],v=null,m=!1,x=null,_=null,C=null,w=null,z=null,E=null,D=null,b=!1,A=null,F=null,Z=null,B=null,O=null;const W=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,X=0;const K=n.getParameter(n.VERSION);-1!==K.indexOf("WebGL")?(X=parseFloat(/^WebGL (\d)/.exec(K)[1]),ne=X>=1):-1!==K.indexOf("OpenGL ES")&&(X=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),ne=X>=2);let oe=null,P={};const G=n.getParameter(n.SCISSOR_BOX),ce=n.getParameter(n.VIEWPORT),xe=(new Ct).fromArray(G),_e=(new Ct).fromArray(ce);function Ce(H,ze,Q,Me){const Se=new Uint8Array(4),O1=n.createTexture();n.bindTexture(H,O1),n.texParameteri(H,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(H,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let gt=0;gt<Q;gt++)!i||H!==n.TEXTURE_3D&&H!==n.TEXTURE_2D_ARRAY?n.texImage2D(ze+gt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Se):n.texImage3D(ze,0,n.RGBA,1,1,Me,0,n.RGBA,n.UNSIGNED_BYTE,Se);return O1}const Oe={};function Ne(H){!0!==h[H]&&(n.enable(H),h[H]=!0)}function Fe(H){!1!==h[H]&&(n.disable(H),h[H]=!1)}Oe[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),Oe[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Oe[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Oe[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),c.setClear(1),l.setClear(0),Ne(n.DEPTH_TEST),c.setFunc(Hv),ue(!1),k($D),Ne(n.CULL_FACE),re(ss);const V={[k6]:n.FUNC_ADD,[Mle]:n.FUNC_SUBTRACT,[xle]:n.FUNC_REVERSE_SUBTRACT};if(i)V[YD]=n.MIN,V[KD]=n.MAX;else{const H=e.get("EXT_blend_minmax");null!==H&&(V[YD]=H.MIN_EXT,V[KD]=H.MAX_EXT)}const fe={[Cle]:n.ZERO,[ble]:n.ONE,[wle]:n.SRC_COLOR,[JD]:n.SRC_ALPHA,[Lle]:n.SRC_ALPHA_SATURATE,[Ele]:n.DST_COLOR,[zle]:n.DST_ALPHA,[Sle]:n.ONE_MINUS_SRC_COLOR,[QD]:n.ONE_MINUS_SRC_ALPHA,[Tle]:n.ONE_MINUS_DST_COLOR,[Ale]:n.ONE_MINUS_DST_ALPHA};function re(H,ze,Q,Me,Se,O1,gt,bt){if(H!==ss){if(!1===m&&(Ne(n.BLEND),m=!0),H===_le)Se=Se||ze,O1=O1||Q,gt=gt||Me,(ze!==_||Se!==z)&&(n.blendEquationSeparate(V[ze],V[Se]),_=ze,z=Se),(Q!==C||Me!==w||O1!==E||gt!==D)&&(n.blendFuncSeparate(fe[Q],fe[Me],fe[O1],fe[gt]),C=Q,w=Me,E=O1,D=gt),x=H,b=!1;else if(H!==x||bt!==b){if((_!==k6||z!==k6)&&(n.blendEquation(n.FUNC_ADD),_=k6,z=k6),bt)switch(H){case F6:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Vv:n.blendFunc(n.ONE,n.ONE);break;case ZD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case XD:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",H)}else switch(H){case F6:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Vv:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case ZD:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case XD:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",H)}C=null,w=null,E=null,D=null,x=H,b=bt}}else!0===m&&(Fe(n.BLEND),m=!1)}function ue(H){A!==H&&(n.frontFace(H?n.CW:n.CCW),A=H)}function k(H){H!==gle?(Ne(n.CULL_FACE),H!==F&&n.cullFace(H===$D?n.BACK:H===vle?n.FRONT:n.FRONT_AND_BACK)):Fe(n.CULL_FACE),F=H}function Re(H,ze,Q){H?(Ne(n.POLYGON_OFFSET_FILL),(B!==ze||O!==Q)&&(n.polygonOffset(ze,Q),B=ze,O=Q)):Fe(n.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:c,stencil:l},enable:Ne,disable:Fe,bindFramebuffer:function g1(H,ze){return d[H]!==ze&&(n.bindFramebuffer(H,ze),d[H]=ze,i&&(H===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=ze),H===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=ze)),!0)},drawBuffers:function at(H,ze){let Q=g,Me=!1;if(H)if(Q=p.get(ze),void 0===Q&&(Q=[],p.set(ze,Q)),H.isWebGLMultipleRenderTargets){const Se=H.texture;if(Q.length!==Se.length||Q[0]!==n.COLOR_ATTACHMENT0){for(let O1=0,gt=Se.length;O1<gt;O1++)Q[O1]=n.COLOR_ATTACHMENT0+O1;Q.length=Se.length,Me=!0}}else Q[0]!==n.COLOR_ATTACHMENT0&&(Q[0]=n.COLOR_ATTACHMENT0,Me=!0);else Q[0]!==n.BACK&&(Q[0]=n.BACK,Me=!0);Me&&(t.isWebGL2?n.drawBuffers(Q):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Q))},useProgram:function e1(H){return v!==H&&(n.useProgram(H),v=H,!0)},setBlending:re,setMaterial:function me(H,ze){H.side===j4?Fe(n.CULL_FACE):Ne(n.CULL_FACE);let Q=H.side===ai;ze&&(Q=!Q),ue(Q),H.blending===F6&&!1===H.transparent?re(ss):re(H.blending,H.blendEquation,H.blendSrc,H.blendDst,H.blendEquationAlpha,H.blendSrcAlpha,H.blendDstAlpha,H.premultipliedAlpha),c.setFunc(H.depthFunc),c.setTest(H.depthTest),c.setMask(H.depthWrite),o.setMask(H.colorWrite);const Me=H.stencilWrite;l.setTest(Me),Me&&(l.setMask(H.stencilWriteMask),l.setFunc(H.stencilFunc,H.stencilRef,H.stencilFuncMask),l.setOp(H.stencilFail,H.stencilZFail,H.stencilZPass)),Re(H.polygonOffset,H.polygonOffsetFactor,H.polygonOffsetUnits),!0===H.alphaToCoverage?Ne(n.SAMPLE_ALPHA_TO_COVERAGE):Fe(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ue,setCullFace:k,setLineWidth:function Ae(H){H!==Z&&(ne&&n.lineWidth(H),Z=H)},setPolygonOffset:Re,setScissorTest:function d1(H){H?Ne(n.SCISSOR_TEST):Fe(n.SCISSOR_TEST)},activeTexture:function r1(H){void 0===H&&(H=n.TEXTURE0+W-1),oe!==H&&(n.activeTexture(H),oe=H)},bindTexture:function mt(H,ze,Q){void 0===Q&&(Q=null===oe?n.TEXTURE0+W-1:oe);let Me=P[Q];void 0===Me&&(Me={type:void 0,texture:void 0},P[Q]=Me),(Me.type!==H||Me.texture!==ze)&&(oe!==Q&&(n.activeTexture(Q),oe=Q),n.bindTexture(H,ze||Oe[H]),Me.type=H,Me.texture=ze)},unbindTexture:function I(){const H=P[oe];void 0!==H&&void 0!==H.type&&(n.bindTexture(H.type,null),H.type=void 0,H.texture=void 0)},compressedTexImage2D:function T(){try{n.compressedTexImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},compressedTexImage3D:function ee(){try{n.compressedTexImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},texImage2D:function qe(){try{n.texImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},texImage3D:function i1(){try{n.texImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},updateUBOMapping:function ke(H,ze){let Q=f.get(ze);void 0===Q&&(Q=new WeakMap,f.set(ze,Q));let Me=Q.get(H);void 0===Me&&(Me=n.getUniformBlockIndex(ze,H.name),Q.set(H,Me))},uniformBlockBinding:function M1(H,ze){const Me=f.get(ze).get(H);u.get(ze)!==Me&&(n.uniformBlockBinding(ze,Me,H.__bindingPointIndex),u.set(ze,Me))},texStorage2D:function we(){try{n.texStorage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},texStorage3D:function ae(){try{n.texStorage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},texSubImage2D:function he(){try{n.texSubImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},texSubImage3D:function ve(){try{n.texSubImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},compressedTexSubImage2D:function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},compressedTexSubImage3D:function Ye(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(H){console.error("THREE.WebGLState:",H)}},scissor:function s1(H){!1===xe.equals(H)&&(n.scissor(H.x,H.y,H.z,H.w),xe.copy(H))},viewport:function We(H){!1===_e.equals(H)&&(n.viewport(H.x,H.y,H.z,H.w),_e.copy(H))},reset:function nt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},oe=null,P={},d={},p=new WeakMap,g=[],v=null,m=!1,x=null,_=null,C=null,w=null,z=null,E=null,D=null,b=!1,A=null,F=null,Z=null,B=null,O=null,xe.set(0,0,n.canvas.width,n.canvas.height),_e.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),l.reset()}}}function Whe(n,e,t,i,r,s,a){const o=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const v=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function x(I,T){return m?new OffscreenCanvas(I,T):q8("canvas")}function _(I,T,ee,he){let ve=1;if((I.width>he||I.height>he)&&(ve=he/Math.max(I.width,I.height)),ve<1||!0===T){if(typeof HTMLImageElement<"u"&&I instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&I instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&I instanceof ImageBitmap){const be=T?fu:Math.floor,Ye=be(ve*I.width),we=be(ve*I.height);void 0===g&&(g=x(Ye,we));const ae=ee?x(Ye,we):g;return ae.width=Ye,ae.height=we,ae.getContext("2d").drawImage(I,0,0,Ye,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+I.width+"x"+I.height+") to ("+Ye+"x"+we+")."),ae}return"data"in I&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+I.width+"x"+I.height+")."),I}return I}function C(I){return Kv(I.width)&&Kv(I.height)}function z(I,T){return I.generateMipmaps&&T&&I.minFilter!==x2&&I.minFilter!==C2}function E(I){n.generateMipmap(I)}function D(I,T,ee,he,ve=!1){if(!1===o)return T;if(null!==I){if(void 0!==n[I])return n[I];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+I+"'")}let be=T;return T===n.RED&&(ee===n.FLOAT&&(be=n.R32F),ee===n.HALF_FLOAT&&(be=n.R16F),ee===n.UNSIGNED_BYTE&&(be=n.R8)),T===n.RG&&(ee===n.FLOAT&&(be=n.RG32F),ee===n.HALF_FLOAT&&(be=n.RG16F),ee===n.UNSIGNED_BYTE&&(be=n.RG8)),T===n.RGBA&&(ee===n.FLOAT&&(be=n.RGBA32F),ee===n.HALF_FLOAT&&(be=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(be=he===L1&&!1===ve?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)),(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function b(I,T,ee){return!0===z(I,ee)||I.isFramebufferTexture&&I.minFilter!==x2&&I.minFilter!==C2?Math.log2(Math.max(T.width,T.height))+1:void 0!==I.mipmaps&&I.mipmaps.length>0?I.mipmaps.length:I.isCompressedTexture&&Array.isArray(I.image)?T.mipmaps.length:1}function A(I){return I===x2||I===Fv||I===su?n.NEAREST:n.LINEAR}function F(I){const T=I.target;T.removeEventListener("dispose",F),function B(I){const T=i.get(I);if(void 0===T.__webglInit)return;const ee=I.source,he=v.get(ee);if(he){const ve=he[T.__cacheKey];ve.usedTimes--,0===ve.usedTimes&&O(I),0===Object.keys(he).length&&v.delete(ee)}i.remove(I)}(T),T.isVideoTexture&&p.delete(T)}function Z(I){const T=I.target;T.removeEventListener("dispose",Z),function W(I){const T=I.texture,ee=i.get(I),he=i.get(T);if(void 0!==he.__webglTexture&&(n.deleteTexture(he.__webglTexture),a.memory.textures--),I.depthTexture&&I.depthTexture.dispose(),I.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++)n.deleteFramebuffer(ee.__webglFramebuffer[ve]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[ve]);else{if(n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let ve=0;ve<ee.__webglColorRenderbuffer.length;ve++)ee.__webglColorRenderbuffer[ve]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[ve]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(I.isWebGLMultipleRenderTargets)for(let ve=0,be=T.length;ve<be;ve++){const Ye=i.get(T[ve]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),a.memory.textures--),i.remove(T[ve])}i.remove(T),i.remove(I)}(T)}function O(I){const T=i.get(I);n.deleteTexture(T.__webglTexture),delete v.get(I.source)[T.__cacheKey],a.memory.textures--}let ne=0;function P(I,T){const ee=i.get(I);if(I.isVideoTexture&&function r1(I){const T=a.render.frame;p.get(I)!==T&&(p.set(I,T),I.update())}(I),!1===I.isRenderTargetTexture&&I.version>0&&ee.__version!==I.version){const he=I.image;if(null===he)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==he.complete)return void g1(ee,I,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+T)}const _e={[iu]:n.REPEAT,[kn]:n.CLAMP_TO_EDGE,[ru]:n.MIRRORED_REPEAT},Ce={[x2]:n.NEAREST,[Fv]:n.NEAREST_MIPMAP_NEAREST,[su]:n.NEAREST_MIPMAP_LINEAR,[C2]:n.LINEAR,[eN]:n.LINEAR_MIPMAP_NEAREST,[ga]:n.LINEAR_MIPMAP_LINEAR},Oe={[o7e]:n.NEVER,[p7e]:n.ALWAYS,[c7e]:n.LESS,[u7e]:n.LEQUAL,[l7e]:n.EQUAL,[d7e]:n.GEQUAL,[f7e]:n.GREATER,[h7e]:n.NOTEQUAL};function Ne(I,T,ee){if(ee?(n.texParameteri(I,n.TEXTURE_WRAP_S,_e[T.wrapS]),n.texParameteri(I,n.TEXTURE_WRAP_T,_e[T.wrapT]),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,_e[T.wrapR]),n.texParameteri(I,n.TEXTURE_MAG_FILTER,Ce[T.magFilter]),n.texParameteri(I,n.TEXTURE_MIN_FILTER,Ce[T.minFilter])):(n.texParameteri(I,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(I,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(I===n.TEXTURE_3D||I===n.TEXTURE_2D_ARRAY)&&n.texParameteri(I,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(T.wrapS!==kn||T.wrapT!==kn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(I,n.TEXTURE_MAG_FILTER,A(T.magFilter)),n.texParameteri(I,n.TEXTURE_MIN_FILTER,A(T.minFilter)),T.minFilter!==x2&&T.minFilter!==C2&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),T.compareFunction&&(n.texParameteri(I,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(I,n.TEXTURE_COMPARE_FUNC,Oe[T.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const he=e.get("EXT_texture_filter_anisotropic");if(T.magFilter===x2||T.minFilter!==su&&T.minFilter!==ga||T.type===q4&&!1===e.has("OES_texture_float_linear")||!1===o&&T.type===j8&&!1===e.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(n.texParameterf(I,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function Fe(I,T){let ee=!1;void 0===I.__webglInit&&(I.__webglInit=!0,T.addEventListener("dispose",F));const he=T.source;let ve=v.get(he);void 0===ve&&(ve={},v.set(he,ve));const be=function oe(I){const T=[];return T.push(I.wrapS),T.push(I.wrapT),T.push(I.wrapR||0),T.push(I.magFilter),T.push(I.minFilter),T.push(I.anisotropy),T.push(I.internalFormat),T.push(I.format),T.push(I.type),T.push(I.generateMipmaps),T.push(I.premultiplyAlpha),T.push(I.flipY),T.push(I.unpackAlignment),T.push(I.colorSpace),T.join()}(T);if(be!==I.__cacheKey){void 0===ve[be]&&(ve[be]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),ve[be].usedTimes++;const Ye=ve[I.__cacheKey];void 0!==Ye&&(ve[I.__cacheKey].usedTimes--,0===Ye.usedTimes&&O(T)),I.__cacheKey=be,I.__webglTexture=ve[be].texture}return ee}function g1(I,T,ee){let he=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(he=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(he=n.TEXTURE_3D);const ve=Fe(I,T),be=T.source;t.bindTexture(he,I.__webglTexture,n.TEXTURE0+ee);const Ye=i.get(be);if(be.version!==Ye.__version||!0===ve){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const we=function w(I){return!o&&(I.wrapS!==kn||I.wrapT!==kn||I.minFilter!==x2&&I.minFilter!==C2)}(T)&&!1===C(T.image);let ae=_(T.image,we,!1,u);ae=mt(T,ae);const qe=C(ae)||o,i1=s.convert(T.format,T.colorSpace);let ke,s1=s.convert(T.type),We=D(T.internalFormat,i1,s1,T.colorSpace);Ne(he,T,qe);const M1=T.mipmaps,nt=o&&!0!==T.isVideoTexture,H=void 0===Ye.__version||!0===ve,ze=b(T,ae,qe);if(T.isDepthTexture)We=n.DEPTH_COMPONENT,o?We=T.type===q4?n.DEPTH_COMPONENT32F:T.type===os?n.DEPTH_COMPONENT24:T.type===va?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:T.type===q4&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===ya&&We===n.DEPTH_COMPONENT&&T.type!==kv&&T.type!==os&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=os,s1=s.convert(T.type)),T.format===U6&&We===n.DEPTH_COMPONENT&&(We=n.DEPTH_STENCIL,T.type!==va&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=va,s1=s.convert(T.type))),H&&(nt?t.texStorage2D(n.TEXTURE_2D,1,We,ae.width,ae.height):t.texImage2D(n.TEXTURE_2D,0,We,ae.width,ae.height,0,i1,s1,null));else if(T.isDataTexture)if(M1.length>0&&qe){nt&&H&&t.texStorage2D(n.TEXTURE_2D,ze,We,M1[0].width,M1[0].height);for(let Q=0,Me=M1.length;Q<Me;Q++)ke=M1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,ke.width,ke.height,i1,s1,ke.data):t.texImage2D(n.TEXTURE_2D,Q,We,ke.width,ke.height,0,i1,s1,ke.data);T.generateMipmaps=!1}else nt?(H&&t.texStorage2D(n.TEXTURE_2D,ze,We,ae.width,ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ae.width,ae.height,i1,s1,ae.data)):t.texImage2D(n.TEXTURE_2D,0,We,ae.width,ae.height,0,i1,s1,ae.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){nt&&H&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ze,We,M1[0].width,M1[0].height,ae.depth);for(let Q=0,Me=M1.length;Q<Me;Q++)ke=M1[Q],T.format!==cr?null!==i1?nt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,ke.width,ke.height,ae.depth,i1,ke.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Q,We,ke.width,ke.height,ae.depth,0,ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,ke.width,ke.height,ae.depth,i1,s1,ke.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Q,We,ke.width,ke.height,ae.depth,0,i1,s1,ke.data)}else{nt&&H&&t.texStorage2D(n.TEXTURE_2D,ze,We,M1[0].width,M1[0].height);for(let Q=0,Me=M1.length;Q<Me;Q++)ke=M1[Q],T.format!==cr?null!==i1?nt?t.compressedTexSubImage2D(n.TEXTURE_2D,Q,0,0,ke.width,ke.height,i1,ke.data):t.compressedTexImage2D(n.TEXTURE_2D,Q,We,ke.width,ke.height,0,ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,ke.width,ke.height,i1,s1,ke.data):t.texImage2D(n.TEXTURE_2D,Q,We,ke.width,ke.height,0,i1,s1,ke.data)}else if(T.isDataArrayTexture)nt?(H&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ze,We,ae.width,ae.height,ae.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ae.width,ae.height,ae.depth,i1,s1,ae.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,We,ae.width,ae.height,ae.depth,0,i1,s1,ae.data);else if(T.isData3DTexture)nt?(H&&t.texStorage3D(n.TEXTURE_3D,ze,We,ae.width,ae.height,ae.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ae.width,ae.height,ae.depth,i1,s1,ae.data)):t.texImage3D(n.TEXTURE_3D,0,We,ae.width,ae.height,ae.depth,0,i1,s1,ae.data);else if(T.isFramebufferTexture){if(H)if(nt)t.texStorage2D(n.TEXTURE_2D,ze,We,ae.width,ae.height);else{let Q=ae.width,Me=ae.height;for(let Se=0;Se<ze;Se++)t.texImage2D(n.TEXTURE_2D,Se,We,Q,Me,0,i1,s1,null),Q>>=1,Me>>=1}}else if(M1.length>0&&qe){nt&&H&&t.texStorage2D(n.TEXTURE_2D,ze,We,M1[0].width,M1[0].height);for(let Q=0,Me=M1.length;Q<Me;Q++)ke=M1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,i1,s1,ke):t.texImage2D(n.TEXTURE_2D,Q,We,i1,s1,ke);T.generateMipmaps=!1}else nt?(H&&t.texStorage2D(n.TEXTURE_2D,ze,We,ae.width,ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,i1,s1,ae)):t.texImage2D(n.TEXTURE_2D,0,We,i1,s1,ae);z(T,qe)&&E(he),Ye.__version=be.version,T.onUpdate&&T.onUpdate(T)}I.__version=T.version}function e1(I,T,ee,he,ve){const be=s.convert(ee.format,ee.colorSpace),Ye=s.convert(ee.type),we=D(ee.internalFormat,be,Ye,ee.colorSpace);i.get(T).__hasExternalTextures||(ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?t.texImage3D(ve,0,we,T.width,T.height,T.depth,0,be,Ye,null):t.texImage2D(ve,0,we,T.width,T.height,0,be,Ye,null)),t.bindFramebuffer(n.FRAMEBUFFER,I),d1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,he,ve,i.get(ee).__webglTexture,0,Re(T)):(ve===n.TEXTURE_2D||ve>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ve<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,he,ve,i.get(ee).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function V(I,T,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,I),T.depthBuffer&&!T.stencilBuffer){let he=n.DEPTH_COMPONENT16;if(ee||d1(T)){const ve=T.depthTexture;ve&&ve.isDepthTexture&&(ve.type===q4?he=n.DEPTH_COMPONENT32F:ve.type===os&&(he=n.DEPTH_COMPONENT24));const be=Re(T);d1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,he,T.width,T.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,he,T.width,T.height)}else n.renderbufferStorage(n.RENDERBUFFER,he,T.width,T.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,I)}else if(T.depthBuffer&&T.stencilBuffer){const he=Re(T);ee&&!1===d1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):d1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,I)}else{const he=!0===T.isWebGLMultipleRenderTargets?T.texture:[T.texture];for(let ve=0;ve<he.length;ve++){const be=he[ve],Ye=s.convert(be.format,be.colorSpace),we=s.convert(be.type),ae=D(be.internalFormat,Ye,we,be.colorSpace),qe=Re(T);ee&&!1===d1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,qe,ae,T.width,T.height):d1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,qe,ae,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,ae,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function re(I){const T=i.get(I),ee=!0===I.isWebGLCubeRenderTarget;if(I.depthTexture&&!T.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");!function fe(I,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,I),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),P(T.depthTexture,0);const he=i.get(T.depthTexture).__webglTexture,ve=Re(T);if(T.depthTexture.format===ya)d1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0);else{if(T.depthTexture.format!==U6)throw new Error("Unknown depthTexture format");d1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0)}}(T.__webglFramebuffer,I)}else if(ee){T.__webglDepthbuffer=[];for(let he=0;he<6;he++)t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[he]),T.__webglDepthbuffer[he]=n.createRenderbuffer(),V(T.__webglDepthbuffer[he],I,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=n.createRenderbuffer(),V(T.__webglDepthbuffer,I,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Re(I){return Math.min(f,I.samples)}function d1(I){const T=i.get(I);return o&&I.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function mt(I,T){const ee=I.colorSpace,he=I.format,ve=I.type;return!0===I.isCompressedTexture||I.format===Xv||ee!==c4&&ee!==xa&&(ee===L1?!1===o?!0===e.has("EXT_sRGB")&&he===cr?(I.format=Xv,I.minFilter=C2,I.generateMipmaps=!1):T=ON.sRGBToLinear(T):(he!==cr||ve!==as)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),T}this.allocateTextureUnit=function K(){const I=ne;return I>=c&&console.warn("THREE.WebGLTextures: Trying to use "+I+" texture units while this GPU supports only "+c),ne+=1,I},this.resetTextureUnits=function X(){ne=0},this.setTexture2D=P,this.setTexture2DArray=function G(I,T){const ee=i.get(I);I.version>0&&ee.__version!==I.version?g1(ee,I,T):t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+T)},this.setTexture3D=function ce(I,T){const ee=i.get(I);I.version>0&&ee.__version!==I.version?g1(ee,I,T):t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+T)},this.setTextureCube=function xe(I,T){const ee=i.get(I);I.version>0&&ee.__version!==I.version?function at(I,T,ee){if(6!==T.image.length)return;const he=Fe(I,T),ve=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,I.__webglTexture,n.TEXTURE0+ee);const be=i.get(ve);if(ve.version!==be.__version||!0===he){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Ye=T.isCompressedTexture||T.image[0].isCompressedTexture,we=T.image[0]&&T.image[0].isDataTexture,ae=[];for(let Q=0;Q<6;Q++)ae[Q]=Ye||we?we?T.image[Q].image:T.image[Q]:_(T.image[Q],!1,!0,l),ae[Q]=mt(T,ae[Q]);const qe=ae[0],i1=C(qe)||o,s1=s.convert(T.format,T.colorSpace),We=s.convert(T.type),ke=D(T.internalFormat,s1,We,T.colorSpace),M1=o&&!0!==T.isVideoTexture,nt=void 0===be.__version||!0===he;let ze,H=b(T,qe,i1);if(Ne(n.TEXTURE_CUBE_MAP,T,i1),Ye){M1&&nt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,H,ke,qe.width,qe.height);for(let Q=0;Q<6;Q++){ze=ae[Q].mipmaps;for(let Me=0;Me<ze.length;Me++){const Se=ze[Me];T.format!==cr?null!==s1?M1?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Se.width,Se.height,s1,Se.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,ke,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Se.width,Se.height,s1,We,Se.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,ke,Se.width,Se.height,0,s1,We,Se.data)}}}else{ze=T.mipmaps,M1&&nt&&(ze.length>0&&H++,t.texStorage2D(n.TEXTURE_CUBE_MAP,H,ke,ae[0].width,ae[0].height));for(let Q=0;Q<6;Q++)if(we){M1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,ae[Q].width,ae[Q].height,s1,We,ae[Q].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,ke,ae[Q].width,ae[Q].height,0,s1,We,ae[Q].data);for(let Me=0;Me<ze.length;Me++){const O1=ze[Me].image[Q].image;M1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,O1.width,O1.height,s1,We,O1.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,ke,O1.width,O1.height,0,s1,We,O1.data)}}else{M1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,s1,We,ae[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,ke,s1,We,ae[Q]);for(let Me=0;Me<ze.length;Me++){const Se=ze[Me];M1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,s1,We,Se.image[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,ke,s1,We,Se.image[Q])}}}z(T,i1)&&E(n.TEXTURE_CUBE_MAP),be.__version=ve.version,T.onUpdate&&T.onUpdate(T)}I.__version=T.version}(ee,I,T):t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+T)},this.rebindTextures=function me(I,T,ee){const he=i.get(I);void 0!==T&&e1(he.__webglFramebuffer,I,I.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==ee&&re(I)},this.setupRenderTarget=function ue(I){const T=I.texture,ee=i.get(I),he=i.get(T);I.addEventListener("dispose",Z),!0!==I.isWebGLMultipleRenderTargets&&(void 0===he.__webglTexture&&(he.__webglTexture=n.createTexture()),he.__version=T.version,a.memory.textures++);const ve=!0===I.isWebGLCubeRenderTarget,be=!0===I.isWebGLMultipleRenderTargets,Ye=C(I)||o;if(ve){ee.__webglFramebuffer=[];for(let we=0;we<6;we++)ee.__webglFramebuffer[we]=n.createFramebuffer()}else{if(ee.__webglFramebuffer=n.createFramebuffer(),be)if(r.drawBuffers){const we=I.texture;for(let ae=0,qe=we.length;ae<qe;ae++){const i1=i.get(we[ae]);void 0===i1.__webglTexture&&(i1.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&I.samples>0&&!1===d1(I)){const we=be?T:[T];ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let ae=0;ae<we.length;ae++){const qe=we[ae];ee.__webglColorRenderbuffer[ae]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[ae]);const i1=s.convert(qe.format,qe.colorSpace),s1=s.convert(qe.type),We=D(qe.internalFormat,i1,s1,qe.colorSpace,!0===I.isXRRenderTarget),ke=Re(I);n.renderbufferStorageMultisample(n.RENDERBUFFER,ke,We,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.RENDERBUFFER,ee.__webglColorRenderbuffer[ae])}n.bindRenderbuffer(n.RENDERBUFFER,null),I.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),V(ee.__webglDepthRenderbuffer,I,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ve){t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture),Ne(n.TEXTURE_CUBE_MAP,T,Ye);for(let we=0;we<6;we++)e1(ee.__webglFramebuffer[we],I,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we);z(T,Ye)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const we=I.texture;for(let ae=0,qe=we.length;ae<qe;ae++){const i1=we[ae],s1=i.get(i1);t.bindTexture(n.TEXTURE_2D,s1.__webglTexture),Ne(n.TEXTURE_2D,i1,Ye),e1(ee.__webglFramebuffer,I,i1,n.COLOR_ATTACHMENT0+ae,n.TEXTURE_2D),z(i1,Ye)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let we=n.TEXTURE_2D;(I.isWebGL3DRenderTarget||I.isWebGLArrayRenderTarget)&&(o?we=I.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(we,he.__webglTexture),Ne(we,T,Ye),e1(ee.__webglFramebuffer,I,T,n.COLOR_ATTACHMENT0,we),z(T,Ye)&&E(we),t.unbindTexture()}I.depthBuffer&&re(I)},this.updateRenderTargetMipmap=function k(I){const T=C(I)||o,ee=!0===I.isWebGLMultipleRenderTargets?I.texture:[I.texture];for(let he=0,ve=ee.length;he<ve;he++){const be=ee[he];if(z(be,T)){const Ye=I.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,we=i.get(be).__webglTexture;t.bindTexture(Ye,we),E(Ye),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Ae(I){if(o&&I.samples>0&&!1===d1(I)){const T=I.isWebGLMultipleRenderTargets?I.texture:[I.texture],ee=I.width,he=I.height;let ve=n.COLOR_BUFFER_BIT;const be=[],Ye=I.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=i.get(I),ae=!0===I.isWebGLMultipleRenderTargets;if(ae)for(let qe=0;qe<T.length;qe++)t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let qe=0;qe<T.length;qe++){be.push(n.COLOR_ATTACHMENT0+qe),I.depthBuffer&&be.push(Ye);const i1=void 0!==we.__ignoreDepthValues&&we.__ignoreDepthValues;if(!1===i1&&(I.depthBuffer&&(ve|=n.DEPTH_BUFFER_BIT),I.stencilBuffer&&(ve|=n.STENCIL_BUFFER_BIT)),ae&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,we.__webglColorRenderbuffer[qe]),!0===i1&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ye]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ye])),ae){const s1=i.get(T[qe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,s1,0)}n.blitFramebuffer(0,0,ee,he,0,0,ee,he,ve,n.NEAREST),d&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ae)for(let qe=0;qe<T.length;qe++){t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.RENDERBUFFER,we.__webglColorRenderbuffer[qe]);const i1=i.get(T[qe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.TEXTURE_2D,i1,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=e1,this.useMultisampledRTT=d1}function jhe(n,e,t){const i=t.isWebGL2;return{convert:function r(s,a=xa){let o;if(s===as)return n.UNSIGNED_BYTE;if(s===nN)return n.UNSIGNED_SHORT_4_4_4_4;if(s===iN)return n.UNSIGNED_SHORT_5_5_5_1;if(s===jle)return n.BYTE;if(s===$le)return n.SHORT;if(s===kv)return n.UNSIGNED_SHORT;if(s===tN)return n.INT;if(s===os)return n.UNSIGNED_INT;if(s===q4)return n.FLOAT;if(s===j8)return i?n.HALF_FLOAT:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(s===qle)return n.ALPHA;if(s===cr)return n.RGBA;if(s===Zle)return n.LUMINANCE;if(s===Xle)return n.LUMINANCE_ALPHA;if(s===ya)return n.DEPTH_COMPONENT;if(s===U6)return n.DEPTH_STENCIL;if(s===Xv)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(s===Yle)return n.RED;if(s===rN)return n.RED_INTEGER;if(s===Kle)return n.RG;if(s===sN)return n.RG_INTEGER;if(s===aN)return n.RGBA_INTEGER;if(s===Uv||s===Bv||s===Gv||s===Wv)if(a===L1){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(s===Uv)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Bv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Gv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Wv)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(s===Uv)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Bv)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Gv)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Wv)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===oN||s===cN||s===lN||s===uN){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(s===oN)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===cN)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===lN)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===uN)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===Jle)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===fN||s===hN){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(s===fN)return a===L1?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===hN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(s===dN||s===pN||s===mN||s===gN||s===vN||s===yN||s===_N||s===MN||s===xN||s===CN||s===bN||s===wN||s===SN||s===zN){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(s===dN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===pN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===mN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===gN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===vN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===yN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===_N)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===MN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===xN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===CN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===bN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===wN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===SN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===zN)return a===L1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===jv){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(s===jv)return a===L1?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(s===Qle||s===AN||s===EN||s===TN){if(o=e.get("EXT_texture_compression_rgtc"),null===o)return null;if(s===jv)return o.COMPRESSED_RED_RGTC1_EXT;if(s===AN)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===EN)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===TN)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===va?i?n.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class $he extends G2{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class i5 extends Ri{constructor(){super(),this.isGroup=!0,this.type="Group"}}const qhe={type:"move"};class Sy{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new i5,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new i5,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new i5,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const g of e.hand.values()){const v=t.getJointPose(g,i),m=this._getHandJoint(l,g);null!==v&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=null!==v}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),d=.02,p=.005;l.inputState.pinching&&h>d+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=d-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(qhe)))}return null!==o&&(o.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new i5;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Zhe extends l4{constructor(e,t,i,r,s,a,o,c,l,u){if((u=void 0!==u?u:ya)!==ya&&u!==U6)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===ya&&(i=os),void 0===i&&u===U6&&(i=va),super(null,r,s,a,o,c,u,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:x2,this.minFilter=void 0!==c?c:x2,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Xhe extends W6{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,l=null,u=null,f=null,h=null,d=null,p=null;const g=t.getContextAttributes();let v=null,m=null;const x=[],_=[],C=new G2;C.layers.enable(1),C.viewport=new Ct;const w=new G2;w.layers.enable(2),w.viewport=new Ct;const z=[C,w],E=new $he;E.layers.enable(1),E.layers.enable(2);let D=null,b=null;function A(G){const ce=_.indexOf(G.inputSource);if(-1===ce)return;const xe=x[ce];void 0!==xe&&(xe.update(G.inputSource,G.frame,l||a),xe.dispatchEvent({type:G.type,data:G.inputSource}))}function F(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",Z);for(let G=0;G<x.length;G++){const ce=_[G];null!==ce&&(_[G]=null,x[G].disconnect(ce))}D=null,b=null,e.setRenderTarget(v),d=null,h=null,f=null,r=null,m=null,P.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function Z(G){for(let ce=0;ce<G.removed.length;ce++){const xe=G.removed[ce],_e=_.indexOf(xe);_e>=0&&(_[_e]=null,x[_e].disconnect(xe))}for(let ce=0;ce<G.added.length;ce++){const xe=G.added[ce];let _e=_.indexOf(xe);if(-1===_e){for(let Oe=0;Oe<x.length;Oe++){if(Oe>=_.length){_.push(xe),_e=Oe;break}if(null===_[Oe]){_[Oe]=xe,_e=Oe;break}}if(-1===_e)break}const Ce=x[_e];Ce&&Ce.connect(xe)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let ce=x[G];return void 0===ce&&(ce=new Sy,x[G]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(G){let ce=x[G];return void 0===ce&&(ce=new Sy,x[G]=ce),ce.getGripSpace()},this.getHand=function(G){let ce=x[G];return void 0===ce&&(ce=new Sy,x[G]=ce),ce.getHandSpace()},this.setFramebufferScaleFactor=function(G){s=G,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){o=G,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var G=function mle(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(c){jD(s,i,r,a,o,"next",c)}function o(c){jD(s,i,r,a,o,"throw",c)}a(void 0)})}}(function*(ce){if(r=ce,null!==r){if(v=e.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",F),r.addEventListener("inputsourceschange",Z),!0!==g.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)d=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:d}),m=new ba(d.framebufferWidth,d.framebufferHeight,{format:cr,type:as,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil});else{let xe=null,_e=null,Ce=null;g.depth&&(Ce=g.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=g.stencil?U6:ya,_e=g.stencil?va:os);const Oe={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(r,t),h=f.createProjectionLayer(Oe),r.updateRenderState({layers:[h]}),m=new ba(h.textureWidth,h.textureHeight,{format:cr,type:as,depthTexture:new Zhe(h.textureWidth,h.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0}),e.properties.get(m).__ignoreDepthValues=h.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(c),l=null,a=yield r.requestReferenceSpace(o),P.setContext(r),P.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(ce){return G.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const B=new N,O=new N;function ne(G,ce){null===ce?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices(ce.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(null===r)return;E.near=w.near=C.near=G.near,E.far=w.far=C.far=G.far,(D!==E.near||b!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),D=E.near,b=E.far);const ce=G.parent,xe=E.cameras;ne(E,ce);for(let _e=0;_e<xe.length;_e++)ne(xe[_e],ce);2===xe.length?function W(G,ce,xe){B.setFromMatrixPosition(ce.matrixWorld),O.setFromMatrixPosition(xe.matrixWorld);const _e=B.distanceTo(O),Ce=ce.projectionMatrix.elements,Oe=xe.projectionMatrix.elements,Ne=Ce[14]/(Ce[10]-1),Fe=Ce[14]/(Ce[10]+1),g1=(Ce[9]+1)/Ce[5],at=(Ce[9]-1)/Ce[5],e1=(Ce[8]-1)/Ce[0],V=(Oe[8]+1)/Oe[0],fe=Ne*e1,re=Ne*V,me=_e/(-e1+V),ue=me*-e1;ce.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(ue),G.translateZ(me),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const k=Ne+me,Ae=Fe+me;G.projectionMatrix.makePerspective(fe-ue,re+(_e-ue),g1*Fe/Ae*k,at*Fe/Ae*k,k,Ae),G.projectionMatrixInverse.copy(G.projectionMatrix).invert()}(E,C,w):E.projectionMatrix.copy(C.projectionMatrix),function X(G,ce,xe){null===xe?G.matrix.copy(ce.matrixWorld):(G.matrix.copy(xe.matrixWorld),G.matrix.invert(),G.matrix.multiply(ce.matrixWorld)),G.matrix.decompose(G.position,G.quaternion,G.scale),G.updateMatrixWorld(!0);const _e=G.children;for(let Ce=0,Oe=_e.length;Ce<Oe;Ce++)_e[Ce].updateMatrixWorld(!0);G.projectionMatrix.copy(ce.projectionMatrix),G.projectionMatrixInverse.copy(ce.projectionMatrixInverse),G.isPerspectiveCamera&&(G.fov=2*j6*Math.atan(1/G.projectionMatrix.elements[5]),G.zoom=1)}(G,E,ce)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return c},this.setFoveation=function(G){c=G,null!==h&&(h.fixedFoveation=G),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=G)};let K=null;const P=new rP;P.setAnimationLoop(function oe(G,ce){if(u=ce.getViewerPose(l||a),p=ce,null!==u){const xe=u.views;null!==d&&(e.setRenderTargetFramebuffer(m,d.framebuffer),e.setRenderTarget(m));let _e=!1;xe.length!==E.cameras.length&&(E.cameras.length=0,_e=!0);for(let Ce=0;Ce<xe.length;Ce++){const Oe=xe[Ce];let Ne=null;if(null!==d)Ne=d.getViewport(Oe);else{const g1=f.getViewSubImage(h,Oe);Ne=g1.viewport,0===Ce&&(e.setRenderTargetTextures(m,g1.colorTexture,h.ignoreDepthValues?void 0:g1.depthStencilTexture),e.setRenderTarget(m))}let Fe=z[Ce];void 0===Fe&&(Fe=new G2,Fe.layers.enable(Ce),Fe.viewport=new Ct,z[Ce]=Fe),Fe.matrix.fromArray(Oe.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Oe.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),0===Ce&&(E.matrix.copy(Fe.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===_e&&E.cameras.push(Fe)}}for(let xe=0;xe<x.length;xe++){const _e=_[xe],Ce=x[xe];null!==_e&&void 0!==Ce&&Ce.update(_e,ce,l||a)}K&&K(G,ce),ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ce}),p=null}),this.setAnimationLoop=function(G){K=G},this.dispose=function(){}}}function Yhe(n,e){function t(v,m){!0===v.matrixAutoUpdate&&v.updateMatrix(),m.value.copy(v.matrix)}function s(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,t(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,t(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,t(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===ai&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,t(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===ai&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,t(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,t(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,t(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const x=e.get(m).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap){v.lightMap.value=m.lightMap;const _=!0===n.useLegacyLights?Math.PI:1;v.lightMapIntensity.value=m.lightMapIntensity*_,t(m.lightMap,v.lightMapTransform)}m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,t(m.aoMap,v.aoMapTransform))}return{refreshFogUniforms:function i(v,m){m.color.getRGB(v.fogColor.value,iP(n)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)},refreshMaterialUniforms:function r(v,m,x,_,C){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(v,m):m.isMeshToonMaterial?(s(v,m),function f(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}(v,m)):m.isMeshPhongMaterial?(s(v,m),function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}(v,m)):m.isMeshStandardMaterial?(s(v,m),function h(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,t(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,t(m.roughnessMap,v.roughnessMapTransform)),e.get(m).envMap&&(v.envMapIntensity.value=m.envMapIntensity)}(v,m),m.isMeshPhysicalMaterial&&function d(v,m,x){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,t(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,t(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,t(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,t(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,t(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===ai&&v.clearcoatNormalScale.value.negate())),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,t(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,t(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,t(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,t(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,t(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,t(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,t(m.specularIntensityMap,v.specularIntensityMapTransform))}(v,m,C)):m.isMeshMatcapMaterial?(s(v,m),function p(v,m){m.matcap&&(v.matcap.value=m.matcap)}(v,m)):m.isMeshDepthMaterial?s(v,m):m.isMeshDistanceMaterial?(s(v,m),function g(v,m){const x=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(x.matrixWorld),v.nearDistance.value=x.shadow.camera.near,v.farDistance.value=x.shadow.camera.far}(v,m)):m.isMeshNormalMaterial?s(v,m):m.isLineBasicMaterial?(function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,t(m.map,v.mapTransform))}(v,m),m.isLineDashedMaterial&&function o(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}(v,m)):m.isPointsMaterial?function c(v,m,x,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*x,v.scale.value=.5*_,m.map&&(v.map.value=m.map,t(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,t(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}(v,m,x,_):m.isSpriteMaterial?function l(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,t(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,t(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function Khe(n,e,t,i){let r={},s={},a=[];const o=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(x,_,C){const w=x.value;if(void 0===C[_]){if("number"==typeof w)C[_]=w;else{const z=Array.isArray(w)?w:[w],E=[];for(let D=0;D<z.length;D++)E.push(z[D].clone());C[_]=E}return!0}if("number"==typeof w){if(C[_]!==w)return C[_]=w,!0}else{const z=Array.isArray(C[_])?C[_]:[C[_]],E=Array.isArray(w)?w:[w];for(let D=0;D<z.length;D++){const b=z[D];if(!1===b.equals(E[D]))return b.copy(E[D]),!0}}return!1}function g(x){const _={boundary:0,storage:0};return"number"==typeof x?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function v(x){const _=x.target;_.removeEventListener("dispose",v);const C=a.indexOf(_.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[_.id]),delete r[_.id],delete s[_.id]}return{bind:function c(x,_){i.uniformBlockBinding(x,_.program)},update:function l(x,_){let C=r[x.id];void 0===C&&(function p(x){const _=x.uniforms;let C=0;let z=0;for(let E=0,D=_.length;E<D;E++){const b=_[E],A={boundary:0,storage:0},F=Array.isArray(b.value)?b.value:[b.value];for(let Z=0,B=F.length;Z<B;Z++){const W=g(F[Z]);A.boundary+=W.boundary,A.storage+=W.storage}b.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),b.__offset=C,E>0&&(z=C%16,0!==z&&16-z-A.boundary<0&&(C+=16-z,b.__offset=C)),C+=A.storage}z=C%16,z>0&&(C+=16-z),x.__size=C,x.__cache={}}(x),C=function u(x){const _=function f(){for(let x=0;x<o;x++)if(-1===a.indexOf(x))return a.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();x.__bindingPointIndex=_;const C=n.createBuffer(),w=x.__size,z=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,w,z),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,_,C),C}(x),r[x.id]=C,x.addEventListener("dispose",v)),i.updateUBOMapping(x,_.program);const z=e.render.frame;s[x.id]!==z&&(function h(x){const C=x.uniforms,w=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[x.id]);for(let z=0,E=C.length;z<E;z++){const D=C[z];if(!0===d(D,z,w)){const b=D.__offset,A=Array.isArray(D.value)?D.value:[D.value];let F=0;for(let Z=0;Z<A.length;Z++){const B=A[Z],O=g(B);"number"==typeof B?(D.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,b+F,D.__data)):B.isMatrix3?(D.__data[0]=B.elements[0],D.__data[1]=B.elements[1],D.__data[2]=B.elements[2],D.__data[3]=B.elements[0],D.__data[4]=B.elements[3],D.__data[5]=B.elements[4],D.__data[6]=B.elements[5],D.__data[7]=B.elements[0],D.__data[8]=B.elements[6],D.__data[9]=B.elements[7],D.__data[10]=B.elements[8],D.__data[11]=B.elements[0]):(B.toArray(D.__data,F),F+=O.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,b,D.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(x),s[x.id]=z)},dispose:function m(){for(const x in r)n.deleteBuffer(r[x]);a=[],r={},s={}}}}function Jhe(){const n=q8("canvas");return n.style.display="block",n}class zy{constructor(e={}){const{canvas:t=Jhe(),context:i=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:a;const d=new Uint32Array(4),p=new Int32Array(4);let g=null,v=null;const m=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=L1,this.useLegacyLights=!0,this.toneMapping=$4,this.toneMappingExposure=1;const _=this;let C=!1,w=0,z=0,E=null,D=-1,b=null;const A=new Ct,F=new Ct;let Z=null;const B=new He(0);let O=0,W=t.width,ne=t.height,X=1,K=null,oe=null;const P=new Ct(0,0,W,ne),G=new Ct(0,0,W,ne);let ce=!1;const xe=new yy;let _e=!1,Ce=!1,Oe=null;const Ne=new D1,Fe=new pe,g1=new N,at={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function e1(){return null===E?X:1}let re,me,ue,k,Ae,Re,d1,r1,mt,I,T,ee,he,ve,be,Ye,we,ae,qe,i1,s1,We,ke,M1,V=i;function fe(L,Y){for(let J=0;J<L.length;J++){const se=t.getContext(L[J],Y);if(null!==se)return se}return null}try{const L={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r154"),t.addEventListener("webglcontextlost",ze,!1),t.addEventListener("webglcontextrestored",Q,!1),t.addEventListener("webglcontextcreationerror",Me,!1),null===V){const Y=["webgl2","webgl","experimental-webgl"];if(!0===_.isWebGL1Renderer&&Y.shift(),V=fe(Y,L),null===V)throw fe(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&V instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===V.getShaderPrecisionFormat&&(V.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}function nt(){re=new ufe(V),me=new rfe(V,re,e),re.init(me),We=new jhe(V,re,me),ue=new Ghe(V,re,me),k=new dfe(V),Ae=new Dhe,Re=new Whe(V,re,ue,Ae,me,We,k),d1=new afe(_),r1=new lfe(_),mt=new i9e(V,me),ke=new nfe(V,re,mt,me),I=new ffe(V,mt,k,ke),T=new vfe(V,I,mt,k),qe=new gfe(V,me,Re),Ye=new sfe(Ae),ee=new Lhe(_,d1,r1,re,me,ke,Ye),he=new Yhe(_,Ae),ve=new Phe,be=new Fhe(re,me),ae=new tfe(_,d1,r1,ue,T,h,c),we=new Bhe(_,T,me),M1=new Khe(V,k,me,ue),i1=new ife(V,re,k,me),s1=new hfe(V,re,k,me),k.programs=ee.programs,_.capabilities=me,_.extensions=re,_.properties=Ae,_.renderLists=ve,_.shadowMap=we,_.state=ue,_.info=k}nt();const H=new Xhe(_,V);function ze(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Q(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const L=k.autoReset,Y=we.enabled,J=we.autoUpdate,q=we.needsUpdate,se=we.type;nt(),k.autoReset=L,we.enabled=Y,we.autoUpdate=J,we.needsUpdate=q,we.type=se}function Me(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function Se(L){const Y=L.target;Y.removeEventListener("dispose",Se),function O1(L){(function gt(L){const Y=Ae.get(L).programs;void 0!==Y&&(Y.forEach(function(J){ee.releaseProgram(J)}),L.isShaderMaterial&&ee.releaseShaderCache(L))})(L),Ae.remove(L)}(Y)}this.xr=H,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const L=re.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=re.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(L){void 0!==L&&(X=L,this.setSize(W,ne,!1))},this.getSize=function(L){return L.set(W,ne)},this.setSize=function(L,Y,J=!0){H.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(W=L,ne=Y,t.width=Math.floor(L*X),t.height=Math.floor(Y*X),!0===J&&(t.style.width=L+"px",t.style.height=Y+"px"),this.setViewport(0,0,L,Y))},this.getDrawingBufferSize=function(L){return L.set(W*X,ne*X).floor()},this.setDrawingBufferSize=function(L,Y,J){W=L,ne=Y,X=J,t.width=Math.floor(L*J),t.height=Math.floor(Y*J),this.setViewport(0,0,L,Y)},this.getCurrentViewport=function(L){return L.copy(A)},this.getViewport=function(L){return L.copy(P)},this.setViewport=function(L,Y,J,q){L.isVector4?P.set(L.x,L.y,L.z,L.w):P.set(L,Y,J,q),ue.viewport(A.copy(P).multiplyScalar(X).floor())},this.getScissor=function(L){return L.copy(G)},this.setScissor=function(L,Y,J,q){L.isVector4?G.set(L.x,L.y,L.z,L.w):G.set(L,Y,J,q),ue.scissor(F.copy(G).multiplyScalar(X).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(L){ue.setScissorTest(ce=L)},this.setOpaqueSort=function(L){K=L},this.setTransparentSort=function(L){oe=L},this.getClearColor=function(L){return L.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(L=!0,Y=!0,J=!0){let q=0;if(L){let se=!1;if(null!==E){const Te=E.texture.format;se=Te===aN||Te===sN||Te===rN}if(se){const Te=E.texture.type,Be=Te===as||Te===os||Te===kv||Te===va||Te===nN||Te===iN,Je=ae.getClearColor(),u1=ae.getClearAlpha(),I1=Je.r,n1=Je.g,t1=Je.b;Be?(d[0]=I1,d[1]=n1,d[2]=t1,d[3]=u1,V.clearBufferuiv(V.COLOR,0,d)):(p[0]=I1,p[1]=n1,p[2]=t1,p[3]=u1,V.clearBufferiv(V.COLOR,0,p))}else q|=V.COLOR_BUFFER_BIT}Y&&(q|=V.DEPTH_BUFFER_BIT),J&&(q|=V.STENCIL_BUFFER_BIT),V.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ze,!1),t.removeEventListener("webglcontextrestored",Q,!1),t.removeEventListener("webglcontextcreationerror",Me,!1),ve.dispose(),be.dispose(),Ae.dispose(),d1.dispose(),r1.dispose(),T.dispose(),ke.dispose(),M1.dispose(),ee.dispose(),H.dispose(),H.removeEventListener("sessionstart",Pe),H.removeEventListener("sessionend",N1),Oe&&(Oe.dispose(),Oe=null),W1.stop()},this.renderBufferDirect=function(L,Y,J,q,se,Te){null===Y&&(Y=at);const Be=se.isMesh&&se.matrixWorld.determinant()<0,Je=function an(L,Y,J,q,se){!0!==Y.isScene&&(Y=at),Re.resetTextureUnits();const Te=Y.fog,Je=null===E?_.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:c4,u1=(q.isMeshStandardMaterial?r1:d1).get(q.envMap||(q.isMeshStandardMaterial?Y.environment:null)),I1=!0===q.vertexColors&&!!J.attributes.color&&4===J.attributes.color.itemSize,n1=!!J.attributes.tangent&&(!!q.normalMap||q.anisotropy>0),t1=!!J.morphAttributes.position,ot=!!J.morphAttributes.normal,It=!!J.morphAttributes.color,li=q.toneMapped?_.toneMapping:$4,Gn=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,dt=void 0!==Gn?Gn.length:0,F1=Ae.get(q),ps=v.state.lights;!0!==_e||!0!==Ce&&L===b||Ye.setState(q,L,L===b&&q.id===D);let Ot=!1;q.version===F1.__version?(F1.needsLights&&F1.lightsStateVersion!==ps.state.version||F1.outputColorSpace!==Je||se.isInstancedMesh&&!1===F1.instancing||!se.isInstancedMesh&&!0===F1.instancing||se.isSkinnedMesh&&!1===F1.skinning||!se.isSkinnedMesh&&!0===F1.skinning||F1.envMap!==u1||!0===q.fog&&F1.fog!==Te||void 0!==F1.numClippingPlanes&&(F1.numClippingPlanes!==Ye.numPlanes||F1.numIntersection!==Ye.numIntersection)||F1.vertexAlphas!==I1||F1.vertexTangents!==n1||F1.morphTargets!==t1||F1.morphNormals!==ot||F1.morphColors!==It||F1.toneMapping!==li||!0===me.isWebGL2&&F1.morphTargetsCount!==dt)&&(Ot=!0):(Ot=!0,F1.__version=q.version);let ka=F1.currentProgram;!0===Ot&&(ka=j1(q,Y,se));let XI=!1,_5=!1,__=!1;const Wn=ka.getUniforms(),Ua=F1.uniforms;if(ue.useProgram(ka.program)&&(XI=!0,_5=!0,__=!0),q.id!==D&&(D=q.id,_5=!0),XI||b!==L){if(Wn.setValue(V,"projectionMatrix",L.projectionMatrix),me.logarithmicDepthBuffer&&Wn.setValue(V,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),b!==L&&(b=L,_5=!0,__=!0),q.isShaderMaterial||q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshStandardMaterial||q.envMap){const Fi=Wn.map.cameraPosition;void 0!==Fi&&Fi.setValue(V,g1.setFromMatrixPosition(L.matrixWorld))}(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&Wn.setValue(V,"isOrthographic",!0===L.isOrthographicCamera),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial||q.isShadowMaterial||se.isSkinnedMesh)&&Wn.setValue(V,"viewMatrix",L.matrixWorldInverse)}if(se.isSkinnedMesh){Wn.setOptional(V,se,"bindMatrix"),Wn.setOptional(V,se,"bindMatrixInverse");const Fi=se.skeleton;Fi&&(me.floatVertexTextures?(null===Fi.boneTexture&&Fi.computeBoneTexture(),Wn.setValue(V,"boneTexture",Fi.boneTexture,Re),Wn.setValue(V,"boneTextureSize",Fi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const M_=J.morphAttributes;if((void 0!==M_.position||void 0!==M_.normal||void 0!==M_.color&&!0===me.isWebGL2)&&qe.update(se,J,ka),(_5||F1.receiveShadow!==se.receiveShadow)&&(F1.receiveShadow=se.receiveShadow,Wn.setValue(V,"receiveShadow",se.receiveShadow)),q.isMeshGouraudMaterial&&null!==q.envMap&&(Ua.envMap.value=u1,Ua.flipEnvMap.value=u1.isCubeTexture&&!1===u1.isRenderTargetTexture?-1:1),_5&&(Wn.setValue(V,"toneMappingExposure",_.toneMappingExposure),F1.needsLights&&function N2(L,Y){L.ambientLightColor.needsUpdate=Y,L.lightProbe.needsUpdate=Y,L.directionalLights.needsUpdate=Y,L.directionalLightShadows.needsUpdate=Y,L.pointLights.needsUpdate=Y,L.pointLightShadows.needsUpdate=Y,L.spotLights.needsUpdate=Y,L.spotLightShadows.needsUpdate=Y,L.rectAreaLights.needsUpdate=Y,L.hemisphereLights.needsUpdate=Y}(Ua,__),Te&&!0===q.fog&&he.refreshFogUniforms(Ua,Te),he.refreshMaterialUniforms(Ua,q,X,ne,Oe),Iu.upload(V,F1.uniformsList,Ua,Re)),q.isShaderMaterial&&!0===q.uniformsNeedUpdate&&(Iu.upload(V,F1.uniformsList,Ua,Re),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&Wn.setValue(V,"center",se.center),Wn.setValue(V,"modelViewMatrix",se.modelViewMatrix),Wn.setValue(V,"normalMatrix",se.normalMatrix),Wn.setValue(V,"modelMatrix",se.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const Fi=q.uniformsGroups;for(let x_=0,dwe=Fi.length;x_<dwe;x_++)if(me.isWebGL2){const YI=Fi[x_];M1.update(YI,ka),M1.bind(YI,ka)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ka}(L,Y,J,q,se);ue.setMaterial(q,Be);let u1=J.index,I1=1;!0===q.wireframe&&(u1=I.getWireframeAttribute(J),I1=2);const n1=J.drawRange,t1=J.attributes.position;let ot=n1.start*I1,It=(n1.start+n1.count)*I1;null!==Te&&(ot=Math.max(ot,Te.start*I1),It=Math.min(It,(Te.start+Te.count)*I1)),null!==u1?(ot=Math.max(ot,0),It=Math.min(It,u1.count)):null!=t1&&(ot=Math.max(ot,0),It=Math.min(It,t1.count));const li=It-ot;if(li<0||li===1/0)return;ke.setup(se,q,Je,J,u1);let Gn,dt=i1;if(null!==u1&&(Gn=mt.get(u1),dt=s1,dt.setIndex(Gn)),se.isMesh)!0===q.wireframe?(ue.setLineWidth(q.wireframeLinewidth*e1()),dt.setMode(V.LINES)):dt.setMode(V.TRIANGLES);else if(se.isLine){let F1=q.linewidth;void 0===F1&&(F1=1),ue.setLineWidth(F1*e1()),dt.setMode(se.isLineSegments?V.LINES:se.isLineLoop?V.LINE_LOOP:V.LINE_STRIP)}else se.isPoints?dt.setMode(V.POINTS):se.isSprite&&dt.setMode(V.TRIANGLES);if(se.isInstancedMesh)dt.renderInstances(ot,li,se.count);else if(J.isInstancedBufferGeometry){const ps=Math.min(J.instanceCount,void 0!==J._maxInstanceCount?J._maxInstanceCount:1/0);dt.renderInstances(ot,li,ps)}else dt.render(ot,li)},this.compile=function(L,Y){function J(q,se,Te){!0===q.transparent&&q.side===j4&&!1===q.forceSinglePass?(q.side=ai,q.needsUpdate=!0,j1(q,se,Te),q.side=rs,q.needsUpdate=!0,j1(q,se,Te),q.side=j4):j1(q,se,Te)}v=be.get(L),v.init(),x.push(v),L.traverseVisible(function(q){q.isLight&&q.layers.test(Y.layers)&&(v.pushLight(q),q.castShadow&&v.pushShadow(q))}),v.setupLights(_.useLegacyLights),L.traverse(function(q){const se=q.material;if(se)if(Array.isArray(se))for(let Te=0;Te<se.length;Te++)J(se[Te],L,q);else J(se,L,q)}),x.pop(),v=null};let bt=null;function Pe(){W1.stop()}function N1(){W1.start()}const W1=new rP;function Ue(L,Y,J,q){if(!1===L.visible)return;if(L.layers.test(Y.layers))if(L.isGroup)J=L.renderOrder;else if(L.isLOD)!0===L.autoUpdate&&L.update(Y);else if(L.isLight)v.pushLight(L),L.castShadow&&v.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||xe.intersectsSprite(L)){q&&g1.setFromMatrixPosition(L.matrixWorld).applyMatrix4(Ne);const Be=T.update(L),Je=L.material;Je.visible&&g.push(L,Be,Je,J,g1.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||xe.intersectsObject(L))){const Be=T.update(L),Je=L.material;if(q&&(void 0!==L.boundingSphere?(null===L.boundingSphere&&L.computeBoundingSphere(),g1.copy(L.boundingSphere.center)):(null===Be.boundingSphere&&Be.computeBoundingSphere(),g1.copy(Be.boundingSphere.center)),g1.applyMatrix4(L.matrixWorld).applyMatrix4(Ne)),Array.isArray(Je)){const u1=Be.groups;for(let I1=0,n1=u1.length;I1<n1;I1++){const t1=u1[I1],ot=Je[t1.materialIndex];ot&&ot.visible&&g.push(L,Be,ot,J,g1.z,t1)}}else Je.visible&&g.push(L,Be,Je,J,g1.z,null)}const Te=L.children;for(let Be=0,Je=Te.length;Be<Je;Be++)Ue(Te[Be],Y,J,q)}function Y1(L,Y,J,q){const se=L.opaque,Te=L.transmissive,Be=L.transparent;v.setupLightsView(J),!0===_e&&Ye.setGlobalState(_.clippingPlanes,J),Te.length>0&&function m1(L,Y,J,q){const se=me.isWebGL2;null===Oe&&(Oe=new ba(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?j8:as,minFilter:ga,samples:se?4:0})),_.getDrawingBufferSize(Fe),se?Oe.setSize(Fe.x,Fe.y):Oe.setSize(fu(Fe.x),fu(Fe.y));const Te=_.getRenderTarget();_.setRenderTarget(Oe),_.getClearColor(B),O=_.getClearAlpha(),O<1&&_.setClearColor(16777215,.5),_.clear();const Be=_.toneMapping;_.toneMapping=$4,P1(L,J,q),Re.updateMultisampleRenderTarget(Oe),Re.updateRenderTargetMipmap(Oe);let Je=!1;for(let u1=0,I1=Y.length;u1<I1;u1++){const n1=Y[u1],t1=n1.object,ot=n1.geometry,It=n1.material,li=n1.group;if(It.side===j4&&t1.layers.test(q.layers)){const Gn=It.side;It.side=ai,It.needsUpdate=!0,l2(t1,J,q,ot,It,li),It.side=Gn,It.needsUpdate=!0,Je=!0}}!0===Je&&(Re.updateMultisampleRenderTarget(Oe),Re.updateRenderTargetMipmap(Oe)),_.setRenderTarget(Te),_.setClearColor(B,O),_.toneMapping=Be}(se,Te,Y,J),q&&ue.viewport(A.copy(q)),se.length>0&&P1(se,Y,J),Te.length>0&&P1(Te,Y,J),Be.length>0&&P1(Be,Y,J),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function P1(L,Y,J){const q=!0===Y.isScene?Y.overrideMaterial:null;for(let se=0,Te=L.length;se<Te;se++){const Be=L[se],Je=Be.object,u1=Be.geometry,I1=null===q?Be.material:q,n1=Be.group;Je.layers.test(J.layers)&&l2(Je,Y,J,u1,I1,n1)}}function l2(L,Y,J,q,se,Te){L.onBeforeRender(_,Y,J,q,se,Te),L.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),se.onBeforeRender(_,Y,J,q,L,Te),!0===se.transparent&&se.side===j4&&!1===se.forceSinglePass?(se.side=ai,se.needsUpdate=!0,_.renderBufferDirect(J,Y,q,se,L,Te),se.side=rs,se.needsUpdate=!0,_.renderBufferDirect(J,Y,q,se,L,Te),se.side=j4):_.renderBufferDirect(J,Y,q,se,L,Te),L.onAfterRender(_,Y,J,q,se,Te)}function j1(L,Y,J){!0!==Y.isScene&&(Y=at);const q=Ae.get(L),se=v.state.lights,Be=se.state.version,Je=ee.getParameters(L,se.state,v.state.shadowsArray,Y,J),u1=ee.getProgramCacheKey(Je);let I1=q.programs;q.environment=L.isMeshStandardMaterial?Y.environment:null,q.fog=Y.fog,q.envMap=(L.isMeshStandardMaterial?r1:d1).get(L.envMap||q.environment),void 0===I1&&(L.addEventListener("dispose",Se),I1=new Map,q.programs=I1);let n1=I1.get(u1);if(void 0!==n1){if(q.currentProgram===n1&&q.lightsStateVersion===Be)return Ht(L,Je),n1}else Je.uniforms=ee.getUniforms(L),L.onBuild(J,Je,_),L.onBeforeCompile(Je,_),n1=ee.acquireProgram(Je,u1),I1.set(u1,n1),q.uniforms=Je.uniforms;const t1=q.uniforms;(!L.isShaderMaterial&&!L.isRawShaderMaterial||!0===L.clipping)&&(t1.clippingPlanes=Ye.uniform),Ht(L,Je),q.needsLights=function Pt(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&!0===L.lights}(L),q.lightsStateVersion=Be,q.needsLights&&(t1.ambientLightColor.value=se.state.ambient,t1.lightProbe.value=se.state.probe,t1.directionalLights.value=se.state.directional,t1.directionalLightShadows.value=se.state.directionalShadow,t1.spotLights.value=se.state.spot,t1.spotLightShadows.value=se.state.spotShadow,t1.rectAreaLights.value=se.state.rectArea,t1.ltc_1.value=se.state.rectAreaLTC1,t1.ltc_2.value=se.state.rectAreaLTC2,t1.pointLights.value=se.state.point,t1.pointLightShadows.value=se.state.pointShadow,t1.hemisphereLights.value=se.state.hemi,t1.directionalShadowMap.value=se.state.directionalShadowMap,t1.directionalShadowMatrix.value=se.state.directionalShadowMatrix,t1.spotShadowMap.value=se.state.spotShadowMap,t1.spotLightMatrix.value=se.state.spotLightMatrix,t1.spotLightMap.value=se.state.spotLightMap,t1.pointShadowMap.value=se.state.pointShadowMap,t1.pointShadowMatrix.value=se.state.pointShadowMatrix);const ot=n1.getUniforms(),It=Iu.seqWithValue(ot.seq,t1);return q.currentProgram=n1,q.uniformsList=It,n1}function Ht(L,Y){const J=Ae.get(L);J.outputColorSpace=Y.outputColorSpace,J.instancing=Y.instancing,J.skinning=Y.skinning,J.morphTargets=Y.morphTargets,J.morphNormals=Y.morphNormals,J.morphColors=Y.morphColors,J.morphTargetsCount=Y.morphTargetsCount,J.numClippingPlanes=Y.numClippingPlanes,J.numIntersection=Y.numClipIntersection,J.vertexAlphas=Y.vertexAlphas,J.vertexTangents=Y.vertexTangents,J.toneMapping=Y.toneMapping}W1.setAnimationLoop(function a1(L){bt&&bt(L)}),typeof self<"u"&&W1.setContext(self),this.setAnimationLoop=function(L){bt=L,H.setAnimationLoop(L),null===L?W1.stop():W1.start()},H.addEventListener("sessionstart",Pe),H.addEventListener("sessionend",N1),this.render=function(L,Y){if(void 0===Y||!0===Y.isCamera){if(!0!==C){if(!0===L.matrixWorldAutoUpdate&&L.updateMatrixWorld(),null===Y.parent&&!0===Y.matrixWorldAutoUpdate&&Y.updateMatrixWorld(),!0===H.enabled&&!0===H.isPresenting&&(!0===H.cameraAutoUpdate&&H.updateCamera(Y),Y=H.getCamera()),!0===L.isScene&&L.onBeforeRender(_,L,Y,E),v=be.get(L,x.length),v.init(),x.push(v),Ne.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),xe.setFromProjectionMatrix(Ne),Ce=this.localClippingEnabled,_e=Ye.init(this.clippingPlanes,Ce),g=ve.get(L,m.length),g.init(),m.push(g),Ue(L,Y,0,_.sortObjects),g.finish(),!0===_.sortObjects&&g.sort(K,oe),this.info.render.frame++,!0===_e&&Ye.beginShadows(),we.render(v.state.shadowsArray,L,Y),!0===_e&&Ye.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(g,L),v.setupLights(_.useLegacyLights),Y.isArrayCamera){const q=Y.cameras;for(let se=0,Te=q.length;se<Te;se++){const Be=q[se];Y1(g,L,Be,Be.viewport)}}else Y1(g,L,Y);null!==E&&(Re.updateMultisampleRenderTarget(E),Re.updateRenderTargetMipmap(E)),!0===L.isScene&&L.onAfterRender(_,L,Y),ke.resetDefaultState(),D=-1,b=null,x.pop(),v=x.length>0?x[x.length-1]:null,m.pop(),g=m.length>0?m[m.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return z},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(L,Y,J){Ae.get(L.texture).__webglTexture=Y,Ae.get(L.depthTexture).__webglTexture=J;const q=Ae.get(L);q.__hasExternalTextures=!0,q.__hasExternalTextures&&(q.__autoAllocateDepthBuffer=void 0===J,q.__autoAllocateDepthBuffer||!0===re.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(L,Y){const J=Ae.get(L);J.__webglFramebuffer=Y,J.__useDefaultFramebuffer=void 0===Y},this.setRenderTarget=function(L,Y=0,J=0){E=L,w=Y,z=J;let q=!0,se=null,Te=!1,Be=!1;if(L){const u1=Ae.get(L);void 0!==u1.__useDefaultFramebuffer?(ue.bindFramebuffer(V.FRAMEBUFFER,null),q=!1):void 0===u1.__webglFramebuffer?Re.setupRenderTarget(L):u1.__hasExternalTextures&&Re.rebindTextures(L,Ae.get(L.texture).__webglTexture,Ae.get(L.depthTexture).__webglTexture);const I1=L.texture;(I1.isData3DTexture||I1.isDataArrayTexture||I1.isCompressedArrayTexture)&&(Be=!0);const n1=Ae.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(se=n1[Y],Te=!0):se=me.isWebGL2&&L.samples>0&&!1===Re.useMultisampledRTT(L)?Ae.get(L).__webglMultisampledFramebuffer:n1,A.copy(L.viewport),F.copy(L.scissor),Z=L.scissorTest}else A.copy(P).multiplyScalar(X).floor(),F.copy(G).multiplyScalar(X).floor(),Z=ce;if(ue.bindFramebuffer(V.FRAMEBUFFER,se)&&me.drawBuffers&&q&&ue.drawBuffers(L,se),ue.viewport(A),ue.scissor(F),ue.setScissorTest(Z),Te){const u1=Ae.get(L.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+Y,u1.__webglTexture,J)}else if(Be){const u1=Ae.get(L.texture);V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,u1.__webglTexture,J||0,Y||0)}D=-1},this.readRenderTargetPixels=function(L,Y,J,q,se,Te,Be){if(!L||!L.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Je=Ae.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&void 0!==Be&&(Je=Je[Be]),Je){ue.bindFramebuffer(V.FRAMEBUFFER,Je);try{const u1=L.texture,I1=u1.format,n1=u1.type;if(I1!==cr&&We.convert(I1)!==V.getParameter(V.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const t1=n1===j8&&(re.has("EXT_color_buffer_half_float")||me.isWebGL2&&re.has("EXT_color_buffer_float"));if(!(n1===as||We.convert(n1)===V.getParameter(V.IMPLEMENTATION_COLOR_READ_TYPE)||n1===q4&&(me.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float"))||t1))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Y>=0&&Y<=L.width-q&&J>=0&&J<=L.height-se&&V.readPixels(Y,J,q,se,We.convert(I1),We.convert(n1),Te)}finally{const u1=null!==E?Ae.get(E).__webglFramebuffer:null;ue.bindFramebuffer(V.FRAMEBUFFER,u1)}}},this.copyFramebufferToTexture=function(L,Y,J=0){const q=Math.pow(2,-J),se=Math.floor(Y.image.width*q),Te=Math.floor(Y.image.height*q);Re.setTexture2D(Y,0),V.copyTexSubImage2D(V.TEXTURE_2D,J,0,0,L.x,L.y,se,Te),ue.unbindTexture()},this.copyTextureToTexture=function(L,Y,J,q=0){const se=Y.image.width,Te=Y.image.height,Be=We.convert(J.format),Je=We.convert(J.type);Re.setTexture2D(J,0),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,J.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,J.unpackAlignment),Y.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,q,L.x,L.y,se,Te,Be,Je,Y.image.data):Y.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,q,L.x,L.y,Y.mipmaps[0].width,Y.mipmaps[0].height,Be,Y.mipmaps[0].data):V.texSubImage2D(V.TEXTURE_2D,q,L.x,L.y,Be,Je,Y.image),0===q&&J.generateMipmaps&&V.generateMipmap(V.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(L,Y,J,q,se=0){if(_.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Te=L.max.x-L.min.x+1,Be=L.max.y-L.min.y+1,Je=L.max.z-L.min.z+1,u1=We.convert(q.format),I1=We.convert(q.type);let n1;if(q.isData3DTexture)Re.setTexture3D(q,0),n1=V.TEXTURE_3D;else{if(!q.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Re.setTexture2DArray(q,0),n1=V.TEXTURE_2D_ARRAY}V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,q.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,q.unpackAlignment);const t1=V.getParameter(V.UNPACK_ROW_LENGTH),ot=V.getParameter(V.UNPACK_IMAGE_HEIGHT),It=V.getParameter(V.UNPACK_SKIP_PIXELS),li=V.getParameter(V.UNPACK_SKIP_ROWS),Gn=V.getParameter(V.UNPACK_SKIP_IMAGES),dt=J.isCompressedTexture?J.mipmaps[0]:J.image;V.pixelStorei(V.UNPACK_ROW_LENGTH,dt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,dt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,L.min.x),V.pixelStorei(V.UNPACK_SKIP_ROWS,L.min.y),V.pixelStorei(V.UNPACK_SKIP_IMAGES,L.min.z),J.isDataTexture||J.isData3DTexture?V.texSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,Be,Je,u1,I1,dt.data):J.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),V.compressedTexSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,Be,Je,u1,dt.data)):V.texSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,Be,Je,u1,I1,dt),V.pixelStorei(V.UNPACK_ROW_LENGTH,t1),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,ot),V.pixelStorei(V.UNPACK_SKIP_PIXELS,It),V.pixelStorei(V.UNPACK_SKIP_ROWS,li),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Gn),0===se&&q.generateMipmaps&&V.generateMipmap(n1),ue.unbindTexture()},this.initTexture=function(L){L.isCubeTexture?Re.setTextureCube(L,0):L.isData3DTexture?Re.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?Re.setTexture2DArray(L,0):Re.setTexture2D(L,0),ue.unbindTexture()},this.resetState=function(){w=0,z=0,E=null,ue.reset(),ke.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Z4}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===L1?_a:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===_a?L1:c4}}(class Qhe extends zy{}).prototype.isWebGL1Renderer=!0;class Ty extends Ri{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class eI extends s0{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new He(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const tI=new D1,Ry=new K8,Bu=new u4,Gu=new N;class nI extends Ri{constructor(e=new B1,t=new eI){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Bu.copy(i.boundingSphere),Bu.applyMatrix4(r),Bu.radius+=s,!1===e.ray.intersectsSphere(Bu))return;tI.copy(r).invert(),Ry.copy(e.ray).applyMatrix4(tI);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,l=i.index,f=i.attributes.position;if(null!==l)for(let p=Math.max(0,a.start),g=Math.min(l.count,a.start+a.count);p<g;p++){const v=l.getX(p);Gu.fromBufferAttribute(f,v),iI(Gu,v,c,r,e,t,this)}else for(let p=Math.max(0,a.start),g=Math.min(f.count,a.start+a.count);p<g;p++)Gu.fromBufferAttribute(f,p),iI(Gu,p,c,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function iI(n,e,t,i,r,s,a){const o=Ry.distanceSqToPoint(n);if(o<t){const c=new N;Ry.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:a})}}class h4{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;a=t||e*i[s-1];let l,o=0,c=s-1;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),l=i[r]-a,l<0)o=r+1;else{if(!(l>0)){c=r;break}c=r-1}if(r=c,i[r]===a)return r/(s-1);const u=i[r];return(r+(a-u)/(i[r+1]-u))/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new pe:new N);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],a=[],o=new N,c=new D1;for(let d=0;d<=e;d++)r[d]=this.getTangentAt(d/e,new N);s[0]=new N,a[0]=new N;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=l&&(l=u,i.set(1,0,0)),f<=l&&(l=f,i.set(0,1,0)),h<=l&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(e2(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(c.makeRotationAxis(o,p))}a[d].crossVectors(r[d],s[d])}if(!0===t){let d=Math.acos(e2(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(c.makeRotationAxis(r[p],d*p)),a[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Vy extends h4{constructor(e=0,t=0,i=1,r=1,s=0,a=2*Math.PI,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t){const i=t||new pe,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=a?0:r),!0===this.aClockwise&&!a&&(s===r?s=-r:s-=r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,d=l-this.aY;c=h*u-d*f+this.aX,l=h*f+d*u+this.aY}return i.set(c,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function Hy(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,l){r(a,o,l*(o-s),l*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,l,u,f){let h=(a-s)/l-(o-s)/(l+u)+(o-a)/u,d=(o-a)/u-(c-a)/(u+f)+(c-o)/f;h*=u,d*=u,r(a,o,h,d)},calc:function(s){const a=s*s;return n+e*s+t*a+i*(a*s)}}}const Wu=new N,Oy=new Hy,Fy=new Hy,ky=new Hy;function rI(n,e,t,i,r){const s=.5*(i-e),a=.5*(r-t),o=n*n;return(2*t-2*i+s+a)*(n*o)+(-3*t+3*i-2*s-a)*o+s*n+t}function f5(n,e,t,i){return function fde(n,e){const t=1-n;return t*t*e}(n,e)+function hde(n,e){return 2*(1-n)*n*e}(n,t)+function dde(n,e){return n*n*e}(n,i)}function h5(n,e,t,i,r){return function pde(n,e){const t=1-n;return t*t*t*e}(n,e)+function mde(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function gde(n,e){return 3*(1-n)*n*n*e}(n,i)+function vde(n,e){return n*n*n*e}(n,r)}class sI extends h4{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(h5(e,r.x,s.x,a.x,o.x),h5(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Uy extends h4{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aI extends h4{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(f5(e,r.x,s.x,a.x),f5(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class cI extends h4{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],f=r[a>r.length-3?r.length-1:a+2];return i.set(rI(o,c.x,l.x,u.x,f.x),rI(o,c.y,l.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new pe).fromArray(r))}return this}}var By=Object.freeze({__proto__:null,ArcCurve:class lde extends Vy{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class ude extends h4{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l,u,o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:0===c&&o===s-1&&(o=s-2,c=1),this.closed||o>0?l=r[(o-1)%s]:(Wu.subVectors(r[0],r[1]).add(r[0]),l=Wu);const f=r[o%s],h=r[(o+1)%s];if(this.closed||o+2<s?u=r[(o+2)%s]:(Wu.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=Wu),"centripetal"===this.curveType||"chordal"===this.curveType){const d="chordal"===this.curveType?.5:.25;let p=Math.pow(l.distanceToSquared(f),d),g=Math.pow(f.distanceToSquared(h),d),v=Math.pow(h.distanceToSquared(u),d);g<1e-4&&(g=1),p<1e-4&&(p=g),v<1e-4&&(v=g),Oy.initNonuniformCatmullRom(l.x,f.x,h.x,u.x,p,g,v),Fy.initNonuniformCatmullRom(l.y,f.y,h.y,u.y,p,g,v),ky.initNonuniformCatmullRom(l.z,f.z,h.z,u.z,p,g,v)}else"catmullrom"===this.curveType&&(Oy.initCatmullRom(l.x,f.x,h.x,u.x,this.tension),Fy.initCatmullRom(l.y,f.y,h.y,u.y,this.tension),ky.initCatmullRom(l.z,f.z,h.z,u.z,this.tension));return i.set(Oy.calc(c),Fy.calc(c),ky.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new N).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:sI,CubicBezierCurve3:class yde extends h4{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(h5(e,r.x,s.x,a.x,o.x),h5(e,r.y,s.y,a.y,o.y),h5(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:Vy,LineCurve:Uy,LineCurve3:class _de extends h4{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:aI,QuadraticBezierCurve3:class oI extends h4{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(f5(e,r.x,s.x,a.x),f5(e,r.y,s.y,a.y),f5(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:cI});class Mde extends h4{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Uy(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength();return o.getPointAt(0===c?0:1-a/c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],c=a.getPoints(a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e);for(let l=0;l<c.length;l++){const u=c[l];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push((new By[r.type]).fromJSON(r))}return this}}class ju extends Mde{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new Uy(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new aI(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new sI(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new cI(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,c){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,a,o,c),this}absellipse(e,t,i,r,s,a,o,c){const l=new Vy(e,t,i,r,s,a,o,c);if(this.curves.length>0){const f=l.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class w0 extends ju{constructor(e){super(e),this.uuid=Di(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push((new ju).fromJSON(r))}return this}}function lI(n,e,t,i,r){let s,a;if(r===function Ode(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}(n,e,t,i)>0)for(s=e;s<t;s+=i)a=hI(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=hI(s,n[s],n[s+1],a);return a&&Yu(a,a.next)&&(g5(a),a=a.next),a}function Na(n,e){if(!n)return n;e||(e=n);let i,t=n;do{if(i=!1,t.steiner||!Yu(t,t.next)&&0!==qt(t.prev,t,t.next))t=t.next;else{if(g5(t),t=e=t.prev,t===t.next)break;i=!0}}while(i||t!==e);return e}function p5(n,e,t,i,r,s,a){if(!n)return;!a&&s&&function Nde(n,e,t,i){let r=n;do{0===r.z&&(r.z=Zy(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,function Pde(n){let e,t,i,r,s,a,o,c,l=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,o=0,e=0;e<l&&(o++,i=i.nextZ,i);e++);for(c=l;o>0||c>0&&i;)0!==o&&(0===c||!i||t.z<=i.z)?(r=t,t=t.nextZ,o--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,l*=2}while(a>1)}(r)}(n,i,r,s);let c,l,o=n;for(;n.prev!==n.next;)if(c=n.prev,l=n.next,s?wde(n,i,r,s):bde(n))e.push(c.i/t|0),e.push(n.i/t|0),e.push(l.i/t|0),g5(n),n=l.next,o=l.next;else if((n=l)===o){a?1===a?p5(n=Sde(Na(n),e,t),e,t,i,r,s,2):2===a&&zde(n,e,t,i,r,s):p5(Na(n),e,t,i,r,s,1);break}}function bde(n){const e=n.prev,t=n,i=n.next;if(qt(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,c=t.y,l=i.y,u=r<s?r<a?r:a:s<a?s:a,f=o<c?o<l?o:l:c<l?c:l,h=r>s?r>a?r:a:s>a?s:a,d=o>c?o>l?o:l:c>l?c:l;let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&S0(r,o,s,c,a,l,p.x,p.y)&&qt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function wde(n,e,t,i){const r=n.prev,s=n,a=n.next;if(qt(r,s,a)>=0)return!1;const o=r.x,c=s.x,l=a.x,u=r.y,f=s.y,h=a.y,d=o<c?o<l?o:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,g=o>c?o>l?o:l:c>l?c:l,v=u>f?u>h?u:h:f>h?f:h,m=Zy(d,p,e,t,i),x=Zy(g,v,e,t,i);let _=n.prevZ,C=n.nextZ;for(;_&&_.z>=m&&C&&C.z<=x;){if(_.x>=d&&_.x<=g&&_.y>=p&&_.y<=v&&_!==r&&_!==a&&S0(o,u,c,f,l,h,_.x,_.y)&&qt(_.prev,_,_.next)>=0||(_=_.prevZ,C.x>=d&&C.x<=g&&C.y>=p&&C.y<=v&&C!==r&&C!==a&&S0(o,u,c,f,l,h,C.x,C.y)&&qt(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;_&&_.z>=m;){if(_.x>=d&&_.x<=g&&_.y>=p&&_.y<=v&&_!==r&&_!==a&&S0(o,u,c,f,l,h,_.x,_.y)&&qt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;C&&C.z<=x;){if(C.x>=d&&C.x<=g&&C.y>=p&&C.y<=v&&C!==r&&C!==a&&S0(o,u,c,f,l,h,C.x,C.y)&&qt(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Sde(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Yu(r,s)&&uI(r,i,i.next,s)&&m5(r,s)&&m5(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),g5(i),g5(i.next),i=n=s),i=i.next}while(i!==n);return Na(i)}function zde(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Rde(a,o)){let c=fI(a,o);return a=Na(a,a.next),c=Na(c,c.next),p5(a,e,t,i,r,s,0),void p5(c,e,t,i,r,s,0)}o=o.next}a=a.next}while(a!==n)}function Ede(n,e){return n.x-e.x}function Tde(n,e){const t=function Lde(n,e){let r,t=e,i=-1/0;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const h=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>i&&(i=h,r=t.x<t.next.x?t:t.next,h===s))return r}t=t.next}while(t!==e);if(!r)return null;const o=r,c=r.x,l=r.y;let f,u=1/0;t=r;do{s>=t.x&&t.x>=c&&s!==t.x&&S0(a<l?s:i,a,c,l,a<l?i:s,a,t.x,t.y)&&(f=Math.abs(a-t.y)/(s-t.x),m5(t,n)&&(f<u||f===u&&(t.x>r.x||t.x===r.x&&Dde(r,t)))&&(r=t,u=f)),t=t.next}while(t!==o);return r}(n,e);if(!t)return e;const i=fI(t,n);return Na(i,i.next),Na(t,t.next)}function Dde(n,e){return qt(n.prev,n,e.prev)<0&&qt(e.next,n,n.next)<0}function Zy(n,e,t,i,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-t)*r|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ide(n){let e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function S0(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function Rde(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function Vde(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&uI(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(m5(n,e)&&m5(e,n)&&function Hde(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==n);return i}(n,e)&&(qt(n.prev,n,e.prev)||qt(n,e.prev,e))||Yu(n,e)&&qt(n.prev,n,n.next)>0&&qt(e.prev,e,e.next)>0)}function qt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Yu(n,e){return n.x===e.x&&n.y===e.y}function uI(n,e,t,i){const r=Ju(qt(n,e,t)),s=Ju(qt(n,e,i)),a=Ju(qt(t,i,n)),o=Ju(qt(t,i,e));return!!(r!==s&&a!==o||0===r&&Ku(n,t,e)||0===s&&Ku(n,i,e)||0===a&&Ku(t,n,i)||0===o&&Ku(t,e,i))}function Ku(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ju(n){return n>0?1:n<0?-1:0}function m5(n,e){return qt(n.prev,n,n.next)<0?qt(n,e,n.next)>=0&&qt(n,n.prev,e)>=0:qt(n,e,n.prev)<0||qt(n,n.next,e)<0}function fI(n,e){const t=new Xy(n.i,n.x,n.y),i=new Xy(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function hI(n,e,t,i){const r=new Xy(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function g5(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Xy(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class r3{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*i}static isClockWise(e){return r3.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];dI(e),pI(i,e);let a=e.length;t.forEach(dI);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,pI(i,t[c]);const o=function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=lI(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,l,u,f,h,d;if(i&&(s=function Ade(n,e,t,i){const r=[];let s,a,o,c,l;for(s=0,a=e.length;s<a;s++)o=e[s]*i,c=s<a-1?e[s+1]*i:n.length,l=lI(n,o,c,i,!1),l===l.next&&(l.steiner=!0),r.push(Ide(l));for(r.sort(Ede),s=0;s<r.length;s++)t=Tde(r[s],t);return t}(n,e,s,t)),n.length>80*t){o=l=n[0],c=u=n[1];for(let p=t;p<r;p+=t)f=n[p],h=n[p+1],f<o&&(o=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-o,u-c),d=0!==d?32767/d:0}return p5(s,a,t,o,c,d,0),a}(i,r);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function dI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function pI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class ef extends B1{constructor(e=new w0([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,c=0;if(!1===Array.isArray(e))l(e);else for(let u=0;u<e.length;u++)l(e[u]),this.addGroup(o,c,u),o+=c,c=0;function l(u){const f=r.length/3,h=u.extractPoints(t);let d=h.shape;const p=h.holes;!1===r3.isClockWise(d)&&(d=d.reverse());for(let v=0,m=p.length;v<m;v++){const x=p[v];!0===r3.isClockWise(x)&&(p[v]=x.reverse())}const g=r3.triangulateShape(d,p);for(let v=0,m=p.length;v<m;v++)d=d.concat(p[v]);for(let v=0,m=d.length;v<m;v++){const x=d[v];r.push(x.x,x.y,0),s.push(0,0,1),a.push(x.x,x.y)}for(let v=0,m=g.length;v<m;v++){const x=g[v];i.push(x[0]+f,x[1]+f,x[2]+f),c+=3}}this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function Ude(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++)e.shapes.push(n[t].uuid);else e.shapes.push(n.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++)i.push(t[e.shapes[r]]);return new ef(i,e.curveSegments)}}function ur(n,e,t){return i_(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function Pa(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function i_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class nf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(e>=s)break e;{const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0}}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class tpe extends nf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=e,o=2*t-i;break;case 2402:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:a=e,c=2*i-t;break;case 2402:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(c-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-t)/(r-t),g=p*p,v=g*p,m=-h*v+2*h*g-h*p,x=(1+h)*v+(-1.5-2*h)*g+(-.5+h)*p+1,_=(-1-d)*v+(1.5+d)*g+.5*p,C=d*v-d*g;for(let w=0;w!==o;++w)s[w]=m*a[u+w]+x*a[l+w]+_*a[c+w]+C*a[f+w];return s}}class yI extends nf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==o;++h)s[h]=a[l+h]*f+a[c+h]*u;return s}}class npe extends nf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class d4{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pa(t,this.TimeBufferType),this.values=Pa(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Pa(e.times,Array),values:Pa(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new npe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new yI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new tpe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==s||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=ur(i,s,a),this.values=ur(this.values,s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(null!==a&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(void 0!==r&&i_(r))for(let o=0,c=r.length;o!==c;++o){const l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e}optimize(){const e=ur(this.times),t=ur(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)c=!0;else{const f=o*i,h=f-i,d=f+i;for(let p=0;p!==i;++p){const g=t[f+p];if(g!==t[h+p]||g!==t[d+p]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const f=o*i,h=a*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,l=0;l!==i;++l)t[c+l]=t[o+l];++a}return a!==e.length?(this.times=ur(e,0,a),this.values=ur(t,0,a*i)):(this.times=e,this.values=t),this}clone(){const e=ur(this.times,0),t=ur(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}d4.prototype.TimeBufferType=Float32Array,d4.prototype.ValueBufferType=Float32Array,d4.prototype.DefaultInterpolation=2301;class z0 extends d4{}z0.prototype.ValueTypeName="bool",z0.prototype.ValueBufferType=Array,z0.prototype.DefaultInterpolation=2300,z0.prototype.InterpolantFactoryMethodLinear=void 0,z0.prototype.InterpolantFactoryMethodSmooth=void 0;(class _I extends d4{}).prototype.ValueTypeName="color";(class rf extends d4{}).prototype.ValueTypeName="number";class ipe extends nf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let l=e*o;for(let u=l+o;l!==u;l+=4)Pi.slerpFlat(s,0,a,l-o,a,l,c);return s}}class v5 extends d4{InterpolantFactoryMethodLinear(e){return new ipe(this.times,this.values,this.getValueSize(),e)}}v5.prototype.ValueTypeName="quaternion",v5.prototype.DefaultInterpolation=2301,v5.prototype.InterpolantFactoryMethodSmooth=void 0;class A0 extends d4{}A0.prototype.ValueTypeName="string",A0.prototype.ValueBufferType=Array,A0.prototype.DefaultInterpolation=2300,A0.prototype.InterpolantFactoryMethodLinear=void 0,A0.prototype.InterpolantFactoryMethodSmooth=void 0;(class sf extends d4{}).prototype.ValueTypeName="vector";const E0={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class a_{constructor(e,t,i){const r=this;let c,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){o++,!1===s&&void 0!==r.onStart&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,void 0!==r.onProgress&&r.onProgress(u,a,o),a===o&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,f){return l.push(u,f),this},this.removeHandler=function(u){const f=l.indexOf(u);return-1!==f&&l.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=l.length;f<h;f+=2){const d=l[f],p=l[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return p}return null}}}const ape=new a_;let cf=(()=>{class n{constructor(t){this.manager=void 0!==t?t:ape,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,a){r.load(t,s,i,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const s3={};class ope extends Error{constructor(e,t){super(e),this.response=t}}class a3 extends cf{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=E0.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==s3[e])return void s3[e].push({onLoad:t,onProgress:i,onError:r});s3[e]=[],s3[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=s3[e],f=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),d=h?parseInt(h):0,p=0!==d;let g=0;const v=new ReadableStream({start(m){!function x(){f.read().then(({done:_,value:C})=>{if(_)m.close();else{g+=C.byteLength;const w=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:d});for(let z=0,E=u.length;z<E;z++){const D=u[z];D.onProgress&&D.onProgress(w)}m.enqueue(C),x()}})}()}});return new Response(v)}throw new ope(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,o));case"json":return l.json();default:if(void 0===o)return l.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return l.arrayBuffer().then(p=>d.decode(p))}}}).then(l=>{E0.add(e,l);const u=s3[e];delete s3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(l)}}).catch(l=>{const u=s3[e];if(void 0===u)throw this.manager.itemError(e),l;delete s3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class lf extends cf{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=E0.get(e);if(void 0!==a)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=q8("img");function c(){u(),E0.add(e,this),t&&t(this),s.manager.itemEnd(e)}function l(f){u(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",c,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class cpe extends cf{constructor(e){super(e)}load(e,t,i,r){const s=new l4,a=new lf(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}const u_="\\[\\]\\.:\\/",Ape=new RegExp("["+u_+"]","g"),f_="[^"+u_+"]",Epe="[^"+u_.replace("\\.","")+"]",Ppe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",f_)+/(WCOD+)?/.source.replace("WCOD",Epe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",f_)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",f_)+"$"),Ipe=["material","materials","bones","map"];class Rpe{constructor(e,t,i){const r=i||Nt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let Nt=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Ape,"")}static parseTrackName(t){const i=Ppe.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const a=r.nodeName.substring(s+1);-1!==Ipe.indexOf(a)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===u){u=f;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const o=t[s];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Rpe,n})();Nt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Nt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Nt.prototype.GetterByBindingType=[Nt.prototype._getValue_direct,Nt.prototype._getValue_array,Nt.prototype._getValue_arrayElement,Nt.prototype._getValue_toArray],Nt.prototype.SetterByBindingTypeAndVersioning=[[Nt.prototype._setValue_direct,Nt.prototype._setValue_direct_setNeedsUpdate,Nt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_array,Nt.prototype._setValue_array_setNeedsUpdate,Nt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_arrayElement,Nt.prototype._setValue_arrayElement_setNeedsUpdate,Nt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Nt.prototype._setValue_fromArray,Nt.prototype._setValue_fromArray_setNeedsUpdate,Nt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Fpe{constructor(e,t,i=0,r=1/0){this.ray=new K8(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new cy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return h_(e,this,i,t),i.sort(PI),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)h_(e[r],this,i,t);return i.sort(PI),i}}function PI(n,e){return n.distance-e.distance}function h_(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),!0===i){const r=n.children;for(let s=0,a=r.length;s<a;s++)h_(r[s],e,t,!0)}}class Upe{constructor(){this.type="ShapePath",this.color=new He,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new ju,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(m,x){const _=x.length;let C=!1;for(let w=_-1,z=0;z<_;w=z++){let E=x[w],D=x[z],b=D.x-E.x,A=D.y-E.y;if(Math.abs(A)>Number.EPSILON){if(A<0&&(E=x[z],b=-b,D=x[w],A=-A),m.y<E.y||m.y>D.y)continue;if(m.y===E.y){if(m.x===E.x)return!0}else{const F=A*(m.x-E.x)-b*(m.y-E.y);if(0===F)return!0;if(F<0)continue;C=!C}}else{if(m.y!==E.y)continue;if(D.x<=m.x&&m.x<=E.x||E.x<=m.x&&m.x<=D.x)return!0}}return C}const r=r3.isClockWise,s=this.subPaths;if(0===s.length)return[];let a,o,c;const l=[];if(1===s.length)return o=s[0],c=new w0,c.curves=o.curves,l.push(c),l;let u=!r(s[0].getPoints());u=e?!u:u;const f=[],h=[];let g,v,d=[],p=0;h[p]=void 0,d[p]=[];for(let m=0,x=s.length;m<x;m++)o=s[m],g=o.getPoints(),a=r(g),a=e?!a:a,a?(!u&&h[p]&&p++,h[p]={s:new w0,p:g},h[p].s.curves=o.curves,u&&p++,d[p]=[]):d[p].push({h:o,p:g[0]});if(!h[0])return function t(m){const x=[];for(let _=0,C=m.length;_<C;_++){const w=m[_],z=new w0;z.curves=w.curves,x.push(z)}return x}(s);if(h.length>1){let m=!1,x=0;for(let _=0,C=h.length;_<C;_++)f[_]=[];for(let _=0,C=h.length;_<C;_++){const w=d[_];for(let z=0;z<w.length;z++){const E=w[z];let D=!0;for(let b=0;b<h.length;b++)i(E.p,h[b].p)&&(_!==b&&x++,D?(D=!1,f[b].push(E)):m=!0);D&&f[_].push(E)}}x>0&&!1===m&&(d=f)}for(let m=0,x=h.length;m<x;m++){c=h[m].s,l.push(c),v=d[m];for(let _=0,C=v.length;_<C;_++)c.holes.push(v[_].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"154"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="154");class Bpe extends cf{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new a3(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){const c=s.parse(JSON.parse(o));t&&t(c)},i,r)}parse(e){return new m_(e)}}class m_{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=function Gpe(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,a=[];let o=0,c=0;for(let l=0;l<i.length;l++){const u=i[l];if("\n"===u)o=0,c-=s;else{const f=Wpe(u,r,o,c,t);o+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data);for(let s=0,a=r.length;s<a;s++)i.push(...r[s].toShapes());return i}}function Wpe(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");const a=new Upe;let o,c,l,u,f,h,d,p;if(s.o){const g=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let v=0,m=g.length;v<m;)switch(g[v++]){case"m":o=g[v++]*e+t,c=g[v++]*e+i,a.moveTo(o,c);break;case"l":o=g[v++]*e+t,c=g[v++]*e+i,a.lineTo(o,c);break;case"q":l=g[v++]*e+t,u=g[v++]*e+i,f=g[v++]*e+t,h=g[v++]*e+i,a.quadraticCurveTo(f,h,l,u);break;case"b":l=g[v++]*e+t,u=g[v++]*e+i,f=g[v++]*e+t,h=g[v++]*e+i,d=g[v++]*e+t,p=g[v++]*e+i,a.bezierCurveTo(f,h,d,p,l,u)}}return{offsetX:s.ha*e,path:a}}let GI=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jpe=["magic"],g_='@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";.containerThree[_ngcontent-%COMP%]{margin:0;height:100vh;width:100%;overflow:hidden;font-family:Roboto!important;color:#fff;font-size:9px}#magic[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;display:block;top:0;left:0;z-index:-9999}';let $pe=(()=>{class n{constructor(t){this.textThreeService=t,this.preload=()=>{var i=this.magic.nativeElement;let r=new a_;r.onLoad=function(){new qpe(s,c,i)};var s={};new Bpe(r).load("https://res.cloudinary.com/dydre7amr/raw/upload/v1612950355/font_zsd4dr.json",function(l){s=l});const c=new cpe(r).load("https://res.cloudinary.com/dfvtkoboz/image/upload/v1605013866/particle_a64uzf.png")}}ngOnInit(){window.innerWidth>=768&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.scroll?this.preload():document.addEventListener("DOMContentLoaded",()=>{this.preload()}))}}return n.\u0275fac=function(t){return new(t||n)(le(GI))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three"]],viewQuery:function(t,i){if(1&t&&Jn(jpe,7),2&t){let r;Tn(r=Ln())&&(i.magic=r.first)}},decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(j(0,"div",0),ge(1,"div",1,2),U())},styles:[g_]}),n})(),qpe=(()=>{class n{constructor(t,i,r){this.font=t,this.particle=i,this.container=r,this.scene=new Ty,this.createCamera(),this.createRenderer(),this.setup(),this.bindEvents()}bindEvents(){window.addEventListener("resize",this.onWindowResize.bind(this))}setup(){this.createParticles=new Zpe(this.scene,this.font,this.particle,this.camera,this.renderer)}render(){this.createParticles.render(),this.renderer.render(this.scene,this.camera)}createCamera(){this.camera=new G2(65,this.container.clientWidth/this.container.clientHeight,1,1e4),this.camera.position.set(0,0,100)}createRenderer(){this.renderer=new zy,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.outputColorSpace=L1,this.renderer.setClearColor(2961205,1),this.container.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(()=>{this.render()})}onWindowResize(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}}return n.\u0275fac=function(t){return new(t||n)(le(m_),le(l4),le(HTMLElement))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three-Environment"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(j(0,"div",0),ge(1,"div",1,2),U())},styles:[g_]}),n})(),Zpe=(()=>{class n{constructor(t,i,r,s,a){this.scene=t,this.font=i,this.particleImg=r,this.camera=s,this.renderer=a,this.raycaster=new Fpe,this.mouse=new pe(-200,200),this.colorChange=new He,this.buttom=!1,this.data={text:"alex",amount:1500,particleSize:1,particleColor:16777215,textSize:16,area:250,ease:.05},this.setup(),this.bindEvents()}setup(){const t=new t5(this.visibleWidthAtZDepth(100,this.camera),this.visibleHeightAtZDepth(100,this.camera)),i=new hs({color:65280,transparent:!0});this.planeArea=new ci(t,i),this.planeArea.visible=!1,this.createText()}bindEvents(){document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))}onMouseDown(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1;const i=new N(this.mouse.x,this.mouse.y,.5);i.unproject(this.camera);const r=i.sub(this.camera.position).normalize(),s=-this.camera.position.z/r.z;this.currenPosition=this.camera.position.clone().add(r.multiplyScalar(s)),this.buttom=!0,this.data.ease=.01}onMouseUp(){this.buttom=!1,this.data.ease=.05}onMouseMove(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1}render(){const t=.001*performance.now()%12/12,i=(1+Math.sin(2*t*Math.PI))/6;this.raycaster.setFromCamera(this.mouse,this.camera);const r=this.raycaster.intersectObject(this.planeArea);if(r.length>0){const o=this.particles.geometry.attributes.position,c=this.geometryCopy.attributes.position,l=this.particles.geometry.attributes.customColor,u=this.particles.geometry.attributes.size,f=r[0].point.x,h=r[0].point.y;for(var s=0,a=o.count;s<a;s++){const p=c.getX(s),g=c.getY(s),v=c.getZ(s);let m=o.getX(s),x=o.getY(s),_=o.getZ(s);this.colorChange.setHSL(.5,1,1),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize,u.needsUpdate=!0;let C=f-m,w=h-x;const E=this.distance(f,h,m,x);let D=(C=f-m)*C+(w=h-x)*w;const b=-this.data.area/D;if(this.buttom){const A=Math.atan2(w,C);m-=b*Math.cos(A),x-=b*Math.sin(A),this.colorChange.setHSL(.5+i,1,.5),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,(m>p+70||m<p-70||x>g+70||x<g-70)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0)}else if(E<this.data.area){if(s%5==0){const A=Math.atan2(w,C);m-=.03*Math.cos(A),x-=.03*Math.sin(A),this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.2,u.needsUpdate=!0}else{const A=Math.atan2(w,C);m+=b*Math.cos(A),x+=b*Math.sin(A),o.setXYZ(s,m,x,_),o.needsUpdate=!0,u.array[s]=1.3*this.data.particleSize,u.needsUpdate=!0}(m>p+10||m<p-10||x>g+10||x<g-10)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.8,u.needsUpdate=!0)}m+=(p-m)*this.data.ease,x+=(g-x)*this.data.ease,_+=(v-_)*this.data.ease,o.setXYZ(s,m,x,_),o.needsUpdate=!0}}}createText(){let t=[],i=this.font.generateShapes(this.data.text,this.data.textSize),r=new ef(i);r.computeBoundingBox();const s=r.boundingBox;let a=0,o=0;null!==s&&(a=-.5*(s.max.x-s.min.x),o=(s.max.y-s.min.y)/2.85),r.center(),r.center();let c=[];for(let d=0;d<i.length;d++){let p=i[d];if(p.holes&&p.holes.length>0)for(let g=0;g<p.holes.length;g++)c.push(p.holes[g])}i.push.apply(i,c);let l=[],u=[];for(let d=0;d<i.length;d++){let p=i[d];p.getSpacedPoints("Path"==p.type?this.data.amount/2:this.data.amount).forEach((m,x)=>{const _=new N(m.x,m.y,0);t.push(_),l.push(this.colorChange.r,this.colorChange.g,this.colorChange.b),u.push(1)})}let f=(new B1).setFromPoints(t);f.translate(a,o,0),f.setAttribute("customColor",new Ke(l,3)),f.setAttribute("size",new Ke(u,1));const h=new i3({uniforms:{color:{value:new He(16777215)},pointTexture:{value:this.particleImg}},vertexShader:"\n        attribute float size;\n        attribute vec3 customColor;\n        varying vec3 vColor;\n        \n        void main() {\n          vColor = customColor;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size * (300.0 / -mvPosition.z);\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform vec3 color;\n        uniform sampler2D pointTexture;\n        varying vec3 vColor;\n      \n        void main() {\n          gl_FragColor = vec4(color * vColor, 1.0);\n          gl_FragColor = gl_FragColor * texture2D(pointTexture, gl_PointCoord);\n        }\n      ",blending:Vv,depthTest:!1,transparent:!0});this.particles=new nI(f,h),this.scene.add(this.particles),this.geometryCopy=new B1,this.geometryCopy.copy(this.particles.geometry)}visibleHeightAtZDepth(t,i){const r=i.position.z;t<r?t-=r:t+=r;const s=i.fov*Math.PI/180;return 2*Math.tan(s/2)*Math.abs(t)}visibleWidthAtZDepth(t,i){return this.visibleHeightAtZDepth(t,i)*i.aspect}distance(t,i,r,s){var a=t-r,o=i-s;return Math.sqrt(a*a+o*o)}}return n.\u0275fac=function(t){return new(t||n)(le(Ty),le(m_),le(l4),le(G2),le(zy))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three-CreateParticles"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(j(0,"div",0),ge(1,"div",1,2),U())},styles:[g_]}),n})();const Xpe=["webDeveloper"],Ype=["fieldScrollAnimation"];let Kpe=(()=>{class n{constructor(){this.faArrowUp=Ym,this.faArrowDown=Xm,this.faArrowRight=c8}ngOnInit(){}ngAfterViewInit(){this.moveWebDeveloperDown()}moveWebDeveloperDown(){if(window.innerWidth>=768){let t=null;window.addEventListener("scroll",()=>{document.documentElement.scrollTop>0&&this.webDeveloper?(null===t&&(t=this.webDeveloper.nativeElement.style.bottom),this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom="-50px"):null!==t&&(this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom=t,this.fieldScrollAnimation.nativeElement.style.display="block",t=null)})}}hideMouseScroolAnimation(){this.fieldScrollAnimation.nativeElement.style.display="none"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(Jn(Xpe,5),Jn(Ype,5)),2&t){let r;Tn(r=Ln())&&(i.webDeveloper=r.first),Tn(r=Ln())&&(i.fieldScrollAnimation=r.first)}},decls:163,vars:0,consts:[[1,"alexMbile"],["href","/assets/media/ManuelAlejandroCV.pdf","target","blank",1,"webDeveloper"],["webDeveloper",""],[1,"fieldScrollAnimation"],["fieldScrollAnimation",""],[1,"mouseScroll"],["id","aboutMe",1,"aboutMe",3,"mouseenter"],["aboutMe",""],[1,"aboutMeContainer"],["id","imgAbout"],["id","imgAbout1","src","../assets/media/about.jpg","alt","About"],["id","imgAbout2","src","../assets/media/74553037.jpeg","alt","About"],[1,"textAbout"],[1,"titles"],[1,"descriptionAbout"],[1,"skillSetContainer"],[1,"containerTitle"],[1,"slider"],[1,"sliderTrack"],[1,"slide"],["src","../assets/media/java.png","alt","logo java"],["src","../assets/media/javascript.png","alt","logo javascript"],["src","../assets/media/css.png","alt","logo css"],["src","../assets/media/html.png","alt","logo html"],["src","../assets/media/Bootstrap.png","alt","logo bootstrap"],["src","../assets/media/git.png","alt","logo git"],["src","../assets/media/sass.png","alt","logo sass"],["src","../assets/media/wordpress.png","alt","logo wordpress"],["src","../assets/media/php.png","alt","logo php"],["src","../assets/media/mysql.png","alt","logo mysql"],["src","../assets/media/jquery.png","alt","logo jquery"],["src","../assets/media/Angular.png","alt","logo angular"],["src","../assets/media/logoPS.png","alt","logo adobe PS"],["src","../assets/media/adobeXDlogo.png","alt","logo adobe XD"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm","paddingRight200"],[1,"descriptionAbout","marginTop50"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer",1,"linkBGwhite"]],template:function(t,i){1&t&&(ge(0,"app-text-three"),j(1,"div",0),De(2,"alex"),U(),j(3,"div")(4,"a",1,2),De(6,"Web Developer"),U()(),j(7,"div",3,4),ge(9,"div",5),U(),ge(10,"app-mega-text-video"),j(11,"section",6,7),x1("mouseenter",function(){return i.hideMouseScroolAnimation()}),j(13,"div",8)(14,"div",9),ge(15,"img",10)(16,"img",11),U(),j(17,"div",12)(18,"h3",13),De(19," Who's this guy "),U(),j(20,"span",14),De(21," I\u2019m a Web Developer based between Barcelona (Spain) and Los \xc1ngeles CA (USA)."),ge(22,"br"),De(23," My concept is never stop to learn that's why I've got a personal interest for continuous learning and self improvement."),ge(24,"br"),U()()()(),j(25,"div",15)(26,"div",16)(27,"h2"),De(28," Skill Set "),U()()(),j(29,"div",17)(30,"div",18)(31,"div",19),ge(32,"img",20),U(),j(33,"div",19),ge(34,"img",21),U(),j(35,"div",19),ge(36,"img",22),U(),j(37,"div",19),ge(38,"img",23),U(),j(39,"div",19),ge(40,"img",24),U(),j(41,"div",19),ge(42,"img",25),U(),j(43,"div",19),ge(44,"img",26),U(),j(45,"div",19),ge(46,"img",27),U(),j(47,"div",19),ge(48,"img",28),U(),j(49,"div",19),ge(50,"img",29),U(),j(51,"div",19),ge(52,"img",30),U(),j(53,"div",19),ge(54,"img",31),U(),j(55,"div",19),ge(56,"img",32),U(),j(57,"div",19),ge(58,"img",33),U(),j(59,"div",19),ge(60,"img",20),U(),j(61,"div",19),ge(62,"img",21),U(),j(63,"div",19),ge(64,"img",22),U(),j(65,"div",19),ge(66,"img",23),U(),j(67,"div",19),ge(68,"img",24),U(),j(69,"div",19),ge(70,"img",25),U(),j(71,"div",19),ge(72,"img",26),U(),j(73,"div",19),ge(74,"img",27),U(),j(75,"div",19),ge(76,"img",28),U(),j(77,"div",19),ge(78,"img",29),U(),j(79,"div",19),ge(80,"img",30),U(),j(81,"div",19),ge(82,"img",31),U(),j(83,"div",19),ge(84,"img",32),U(),j(85,"div",19),ge(86,"img",33),U(),j(87,"div",19),ge(88,"img",20),U(),j(89,"div",19),ge(90,"img",21),U(),j(91,"div",19),ge(92,"img",22),U(),j(93,"div",19),ge(94,"img",23),U(),j(95,"div",19),ge(96,"img",24),U(),j(97,"div",19),ge(98,"img",25),U(),j(99,"div",19),ge(100,"img",26),U(),j(101,"div",19),ge(102,"img",27),U(),j(103,"div",19),ge(104,"img",28),U(),j(105,"div",19),ge(106,"img",29),U(),j(107,"div",19),ge(108,"img",30),U(),j(109,"div",19),ge(110,"img",31),U(),j(111,"div",19),ge(112,"img",32),U(),j(113,"div",19),ge(114,"img",33),U(),j(115,"div",19),ge(116,"img",20),U(),j(117,"div",19),ge(118,"img",21),U(),j(119,"div",19),ge(120,"img",22),U(),j(121,"div",19),ge(122,"img",23),U(),j(123,"div",19),ge(124,"img",24),U(),j(125,"div",19),ge(126,"img",25),U(),j(127,"div",19),ge(128,"img",26),U(),j(129,"div",19),ge(130,"img",27),U(),j(131,"div",19),ge(132,"img",28),U(),j(133,"div",19),ge(134,"img",29),U(),j(135,"div",19),ge(136,"img",30),U(),j(137,"div",19),ge(138,"img",31),U(),j(139,"div",19),ge(140,"img",32),U(),j(141,"div",19),ge(142,"img",33),U()()(),j(143,"div",34)(144,"div",35)(145,"div",36)(146,"h1"),De(147,"Tech "),ge(148,"br"),De(149,"Skill"),U()()(),j(150,"div",37)(151,"h3",13),De(152,"Background"),U(),j(153,"span",14),De(154," I enjoy creating things that live on the internet. My interest in web development started back a long time ago when I was completing my professional career in graphic design. "),U(),j(155,"span",38),De(156," I'm lucky to have worked with amazing people in Europe for important and ambitious global companies where I learned a lot. My main focus these days is building accessible, inclusive products and digital experiences for a variety of clients. "),U(),j(157,"span",38),De(158," You can check out the whole list of degrees, courses, soft and hard skills in my "),j(159,"a",39),De(160," linkedin "),U(),De(161," profile. "),U()()(),ge(162,"app-footer"))},dependencies:[dle,Iv,$pe]}),n})();var Fa_url="https://alejandroalonzo.com/api";let p4=(()=>{class n{constructor(t){this._http=t,this.url=Fa_url}testsService(){return"Probando la api de Angular"}saveContact(t){let i=JSON.stringify(t),r=(new en).set("Content-type","application/json");return this._http.post(this.url+"/sent-email",i,{headers:r})}saveProject(t){let i=JSON.stringify(t),r=(new en).set("Content-type","application/json");return this._http.post(this.url+"/save-project",i,{headers:r})}getProject(){let t=(new en).set("Content-type","application/json");return this._http.get(this.url+"/projects",{headers:t})}getProjectOne(t){let i=(new en).set("Content-type","application/json");return this._http.get(this.url+"/project/"+t,{headers:i})}deleteProject(t){let i=(new en).set("Content-type","application/json");return this._http.delete(this.url+"/project/"+t,{headers:i})}setProject(t){let i=JSON.stringify(t),r=(new en).set("Content-type","application/json");return this._http.put(this.url+"/project/"+t._id,i,{headers:r})}}return n.\u0275fac=function(t){return new(t||n)(Ge(x7))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Jpe=function(n){return["/project",n]};function Qpe(n,e){if(1&n){const t=Os();j(0,"li",6)(1,"div",7),ge(2,"img",8),j(3,"div",9)(4,"h3",10),De(5),U(),j(6,"span",11),De(7),U()(),j(8,"a",12)(9,"div",13),x1("mouseover",function(){return St(t),zt(ht().changeClass=!0)})("mouseout",function(){return St(t),zt(ht().changeClass=!1)}),U()(),j(10,"span",14),x1("mouseover",function(){return St(t),zt(ht().changeClass=!0)})("mouseout",function(){return St(t),zt(ht().changeClass=!1)}),U()()()}if(2&n){const t=e.$implicit,i=ht();Le(2),xc("backgroundDarkImgPorfolio",i.changeClass),Bo("src",i.url+"/getImage/"+t.image,zo),Le(3),E3(" ",t.name," "),Le(2),E3("",t.langs," "),Le(1),je("routerLink",qd(6,Jpe,t._id))}}let eme=(()=>{class n{constructor(t){this._projectService=t,this.pro=[],this.url=Fa_url,this.changeClass=!1}ngOnInit(){this.getProject()}getProject(){this._projectService.getProject().subscribe(t=>{t.projects&&(this.pro=t.projects,console.log(t))})}}return n.\u0275fac=function(t){return new(t||n)(le(p4))},n.\u0275cmp=h2({type:n,selectors:[["app-projects"]],features:[Mt([p4])],decls:11,vars:1,consts:[[1,"portfolioPage"],[1,"containerTitle"],["id","projectsTitle"],[1,"projectsContainer"],["id","portfolioPage",1,"bgDark"],["class","projectView",4,"ngFor","ngForOf"],[1,"projectView"],[1,"cardsProjects"],["alt","Project image",1,"imgPotfolioPage","dark-img",3,"src"],[1,"infoProjectPorfolioCard"],[1,"hTresPortfolio"],[1,"spanPorfolio"],["fragment","projectDetailContainer",1,"seeProjectLink",3,"routerLink"],[1,"squreTextPorfolio",3,"mouseover","mouseout"],[1,"spanPorfolio2",3,"mouseover","mouseout"]],template:function(t,i){1&t&&(j(0,"div",0)(1,"div",1)(2,"h2",2),De(3," My Projects "),U(),j(4,"span"),De(5," A small gallery of recent projects chosen by me. I've done them all together with amazing people from companies around the globe. "),U()()(),j(6,"div",0)(7,"div",3)(8,"ul",4),Bt(9,Qpe,11,8,"li",5),U()()(),ge(10,"app-footer")),2&t&&(Le(9),je("ngForOf",i.pro))},dependencies:[CS,B3,Iv]}),n})();var tme=v1(226),vf=v1.n(tme);class nme{constructor(e,t,i,r){this.name=e,this.email=t,this.subject=i,this.message=r}}function ime(n,e){1&n&&(j(0,"span",21),De(1,"*"),U())}function rme(n,e){1&n&&(j(0,"span",21),De(1,"*"),U())}function sme(n,e){1&n&&(j(0,"span",21),De(1,"*"),U())}let ame=(()=>{class n{constructor(t){this._projectService=t,this.faArrowRight=c8,this.faMapMarkerAlt=HE,this.status="",this.changeClass=!1,this.title="Get in touch",this.contact=new nme("","","","")}ngOnInit(){}onSubmitContact(t){console.log(this.contact),this._projectService.saveContact(this.contact).subscribe(i=>{i.contact?(this.status="success",this.showModalSwal2successContact(),t.reset()):this.status="failed"})}showModalSwal2successContact(){vf().fire({position:"top-end",icon:"success",title:"Thanks! I'll reply you  as soon as possible",showConfirmButton:!1,timer:3500})}}return n.\u0275fac=function(t){return new(t||n)(le(p4))},n.\u0275cmp=h2({type:n,selectors:[["app-contact"]],features:[Mt([p4])],decls:31,vars:9,consts:[["id","createProject"],["id","imgContactProject"],["width","100%","height","100%","src","https://api.maptiler.com/maps/a4083f5d-329e-41ef-85be-b6cfc48eab48/?key=3ya2S1TEUt3cQkhOpimh#10.2/33.98561/-118.16902"],[1,"containerForm"],[1,"titles"],[1,"textRequirmentsForm"],[1,"red"],[3,"ngSubmit"],["contactForm","ngForm"],["type","text","name","name","placeholder","Name","required","","autofocus","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["type","email","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","subject","placeholder","Subject","required","",3,"ngModel","ngModelChange"],["subject","ngModel"],["name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["message","ngModel"],[1,"OpenAndSubmit"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled"],[1,"formError"]],template:function(t,i){if(1&t){const r=Os();j(0,"div",0)(1,"div",1),ge(2,"iframe",2),U(),j(3,"div",3)(4,"h3",4),De(5),U(),j(6,"span",5),De(7," Fill in the required fields ("),j(8,"span",6),De(9,"*"),U(),De(10,") to unlock the submit button "),U(),j(11,"form",7,8),x1("ngSubmit",function(){St(r);const a=H2(12);return zt(i.onSubmitContact(a))}),j(13,"span")(14,"input",9,10),x1("ngModelChange",function(a){return i.contact.name=a}),U(),Bt(16,ime,2,0,"span",11),U(),j(17,"span")(18,"input",12,13),x1("ngModelChange",function(a){return i.contact.email=a}),U(),Bt(20,rme,2,0,"span",11),U(),j(21,"span")(22,"input",14,15),x1("ngModelChange",function(a){return i.contact.subject=a}),U()(),j(24,"span")(25,"textarea",16,17),x1("ngModelChange",function(a){return i.contact.message=a}),U(),Bt(27,sme,2,0,"span",11),U(),j(28,"div",18)(29,"div",19),ge(30,"input",20),U()()()()()}if(2&t){const r=H2(12),s=H2(15),a=H2(19),o=H2(26);Le(5),Wo(i.title),Le(9),je("ngModel",i.contact.name),Le(2),je("ngIf",s.touched&&!s.valid),Le(2),je("ngModel",i.contact.email),Le(2),je("ngIf",a.touched&&!a.valid),Le(2),je("ngModel",i.contact.subject),Le(3),je("ngModel",i.contact.message),Le(2),je("ngIf",o.touched&&!o.valid),Le(3),je("disabled",!r.form.valid)}},dependencies:[Rc,P7,Ws,Uc,w7,n6,t6,e6]}),n})();class ome{constructor(e,t,i,r,s,a,o,c){this._id=e,this.name=t,this.description=i,this.category=r,this.langs=s,this.image=a,this.repository=o,this.preview=c}}let yf=(()=>{class n{constructor(){this.url=Fa_url}makeFileRequest(t,i,r,s){return new Promise(function(a,o){for(var c=new FormData,l=new XMLHttpRequest,u=0;u<r.length;u++)c.append(s,r[u],r[u].name);l.onreadystatechange=function(){4==l.readyState&&200==l.status&&a(JSON.parse(l.response))},l.open("POST",t,!0),l.send(c)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();function cme(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function lme(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function ume(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function fme(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function hme(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function dme(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function pme(n,e){if(1&n){const t=Os();j(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),De(4,"Another "),ge(5,"br"),De(6,"project"),U()()(),j(7,"div",4)(8,"h2"),De(9),U(),j(10,"form",5,6),x1("ngSubmit",function(){St(t);const r=H2(11);return zt(ht().onSubmit(r))}),j(12,"span")(13,"input",7,8),x1("ngModelChange",function(r){return St(t),zt(ht().project.name=r)}),U(),Bt(15,cme,2,0,"span",9),U(),j(16,"span")(17,"textarea",10,11),x1("ngModelChange",function(r){return St(t),zt(ht().project.description=r)}),U(),Bt(19,lme,2,0,"span",9),U(),j(20,"span")(21,"input",12,13),x1("ngModelChange",function(r){return St(t),zt(ht().project.category=r)}),U(),Bt(23,ume,2,0,"span",9),U(),j(24,"span")(25,"input",14,15),x1("ngModelChange",function(r){return St(t),zt(ht().project.langs=r)}),U(),Bt(27,fme,2,0,"span",9),U(),j(28,"span")(29,"input",16,17),x1("ngModelChange",function(r){return St(t),zt(ht().project.repository=r)}),U(),Bt(31,hme,2,0,"span",9),U(),j(32,"span")(33,"input",18,19),x1("ngModelChange",function(r){return St(t),zt(ht().project.preview=r)}),U(),Bt(35,dme,2,0,"span",9),U(),j(36,"div",20)(37,"div",21)(38,"label",22),De(39,"Open "),ge(40,"fa-icon",23),U(),j(41,"input",24),x1("change",function(r){return St(t),zt(ht().fileChangeEvent(r))}),U()(),j(42,"span",25)(43,"input",26),x1("click",function(){return St(t),zt(ht().showModalSwal2success())}),U()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),a=H2(26),o=ht();Le(9),Wo(o.title),Le(4),je("ngModel",o.project.name),Le(2),je("ngIf",i.touched&&!i.valid),Le(2),je("ngModel",o.project.description),Le(2),je("ngIf",r.touched&&!r.valid),Le(2),je("ngModel",o.project.category),Le(2),je("ngIf",s.touched&&!s.valid),Le(2),je("ngModel",o.project.langs),Le(2),je("ngIf",a.touched&&!a.valid),Le(2),je("ngModel",o.project.repository),Le(2),je("ngIf",a.touched&&!a.valid),Le(2),je("ngModel",o.project.preview),Le(2),je("ngIf",a.touched&&!a.valid),Le(5),je("icon",o.faFolderOpen),Le(3),je("disabled",!t.form.valid)}}let mme=(()=>{class n{constructor(t,i){this._projectService=t,this._uploadService=i,this.faFolderOpen=i9,this.status="",this.title="Create project",this.project=new ome("","","","","","","","")}ngOnInit(){}onSubmit(t){console.log(this.project),this._projectService.saveProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(Fa_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)}),t.reset()):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2Error(){vf().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:'<a href="">Why do I have this issue?</a>'})}showModalSwal2success(){vf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(p4),le(yf))},n.\u0275cmp=h2({type:n,selectors:[["app-create"]],features:[Mt([p4,yf])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Bt(0,pme,44,15,"div",0),2&t&&je("ngIf",i.project)},dependencies:[Rc,P7,Ws,Uc,w7,n6,t6,e6,O6]}),n})(),gme=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,i){1&t&&(j(0,"p"),De(1,"error works!"),U())}}),n})();var v_={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},WI={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},jI={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},y_={prefix:"fab",iconName:"youtube",icon:[576,512,[],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]};function Obe(n,e){if(1&n&&ge(0,"img",17),2&n){const t=ht(2);Bo("src",t.url+"/getImage/"+t.project.image,zo)}}const Fbe=function(n){return["/edit",n]};function kbe(n,e){if(1&n){const t=Os();j(0,"div",18)(1,"a",19)(2,"button"),De(3," Set project "),U()(),j(4,"button",20),x1("click",function(){return St(t),zt(ht(2).setConfirm(!0))}),De(5," Delete project "),U()()}if(2&n){const t=ht(2);Le(1),je("routerLink",qd(1,Fbe,t.project._id))}}function Ube(n,e){if(1&n){const t=Os();j(0,"div",9)(1,"a",20),x1("click",function(){return St(t),zt(ht(2).setConfirm(!1))}),j(2,"button"),De(3," Cancel "),U()(),j(4,"button",20),x1("click",function(){St(t);const r=ht(2);return zt(r.deleteProject(r.project._id))}),De(5," Permanently delete "),U()()}}const Bbe=function(){return["/projects"]};function Gbe(n,e){if(1&n&&(j(0,"div",1)(1,"div",2),Bt(2,Obe,1,1,"img",3),j(3,"div",4)(4,"h3",5),De(5),U(),j(6,"span",6),De(7),U(),j(8,"h3",7),De(9),U(),j(10,"h3",8),De(11,"Languages"),U(),j(12,"span",8),De(13),U(),j(14,"div",9)(15,"a",10)(16,"button"),ge(17,"fa-icon",11),De(18," See this repository "),U()(),j(19,"a",10)(20,"button"),ge(21,"fa-icon",11),De(22," Watch a preview "),U()()(),Bt(23,kbe,6,3,"div",12),Bt(24,Ube,6,0,"div",13),j(25,"a",14)(26,"button",15),ge(27,"fa-icon",16),De(28,"\xa0 \xa0Go back to all projects "),U()()()()()),2&n){const t=ht();Le(2),je("ngIf",t.project.image),Le(3),E3(" ",t.project.name," "),Le(2),E3(" ",t.project.description," "),Le(2),E3("Category: ",t.project.category,""),Le(4),Wo(t.project.langs),Le(2),Bo("href",t.project.repository,zo),Le(2),je("icon",t.faGitHub),Le(2),Bo("href",t.project.preview,zo),Le(2),je("icon",t.faYoutube),Le(2),je("ngIf",0==t.confirm),Le(1),je("ngIf",1==t.confirm),Le(1),je("routerLink",Xi(13,Bbe)),Le(2),je("icon",t.faArrowLeft)}}let Wbe=(()=>{class n{constructor(t,i,r){this._projectService=t,this._router=i,this._route=r,this.faGitHub=v_,this.faYoutube=y_,this.faArrowLeft=PE,this.url=Fa_url,this.confirm=!1}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}deleteProject(t){this._projectService.deleteProject(t).subscribe(i=>{i.project&&this._router.navigate(["/projects"])})}setConfirm(t){this.confirm=t}}return n.\u0275fac=function(t){return new(t||n)(le(p4),le(dn),le(U3))},n.\u0275cmp=h2({type:n,selectors:[["app-detail"]],features:[Mt([p4])],decls:1,vars:1,consts:[["class","aboutMe",4,"ngIf"],[1,"aboutMe"],["id","projectDetailContainer",1,"aboutMeContainer"],["class","imgeLeftMedium","alt","Project image",3,"src",4,"ngIf"],[1,"textAbout"],[1,"titles"],[1,"descriptionAbout"],[1,"category"],[1,"languages"],[1,"bottonsProjecrtsDetail"],["target","_blank","rel","noopener noreferrer",1,"seeProjectLink",3,"href"],[1,"socialIcons",3,"icon"],["class","bottonsProjecrtsDetail displayNone",4,"ngIf"],["class","bottonsProjecrtsDetail",4,"ngIf"],["fragment","portfolioPage",3,"routerLink"],[1,"bottonsGoBack"],[3,"icon"],["alt","Project image",1,"imgeLeftMedium",3,"src"],[1,"bottonsProjecrtsDetail","displayNone"],[3,"routerLink"],[3,"click"]],template:function(t,i){1&t&&Bt(0,Gbe,29,14,"div",0),2&t&&je("ngIf",i.project)},dependencies:[Rc,B3,O6]}),n})();function jbe(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function $be(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function qbe(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function Zbe(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function Xbe(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function Ybe(n,e){1&n&&(j(0,"span",27),De(1,"*"),U())}function Kbe(n,e){if(1&n){const t=Os();j(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),De(4,"Another "),ge(5,"br"),De(6,"project"),U()()(),j(7,"div",4)(8,"h2"),De(9),U(),j(10,"form",5,6),x1("ngSubmit",function(){St(t);const r=H2(11);return zt(ht().onSubmit(r))}),j(12,"span")(13,"input",7,8),x1("ngModelChange",function(r){return St(t),zt(ht().project.name=r)}),U(),Bt(15,jbe,2,0,"span",9),U(),j(16,"span")(17,"textarea",10,11),x1("ngModelChange",function(r){return St(t),zt(ht().project.description=r)}),U(),Bt(19,$be,2,0,"span",9),U(),j(20,"span")(21,"input",12,13),x1("ngModelChange",function(r){return St(t),zt(ht().project.category=r)}),U(),Bt(23,qbe,2,0,"span",9),U(),j(24,"span")(25,"input",14,15),x1("ngModelChange",function(r){return St(t),zt(ht().project.langs=r)}),U(),Bt(27,Zbe,2,0,"span",9),U(),j(28,"span")(29,"input",16,17),x1("ngModelChange",function(r){return St(t),zt(ht().project.repository=r)}),U(),Bt(31,Xbe,2,0,"span",9),U(),j(32,"span")(33,"input",18,19),x1("ngModelChange",function(r){return St(t),zt(ht().project.preview=r)}),U(),Bt(35,Ybe,2,0,"span",9),U(),j(36,"div",20)(37,"div",21)(38,"label",22),De(39,"Open "),ge(40,"fa-icon",23),U(),j(41,"input",24),x1("change",function(r){return St(t),zt(ht().fileChangeEvent(r))}),U()(),j(42,"span",25)(43,"input",26),x1("click",function(){return St(t),zt(ht().showModalSwal2success())}),U()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),a=H2(26),o=ht();Le(9),Wo(o.title),Le(4),je("ngModel",o.project.name),Le(2),je("ngIf",i.touched&&!i.valid),Le(2),je("ngModel",o.project.description),Le(2),je("ngIf",r.touched&&!r.valid),Le(2),je("ngModel",o.project.category),Le(2),je("ngIf",s.touched&&!s.valid),Le(2),je("ngModel",o.project.langs),Le(2),je("ngIf",a.touched&&!a.valid),Le(2),je("ngModel",o.project.repository),Le(2),je("ngIf",a.touched&&!a.valid),Le(2),je("ngModel",o.project.preview),Le(2),je("ngIf",a.touched&&!a.valid),Le(5),je("icon",o.faFolderOpen),Le(3),je("disabled",!t.form.valid)}}let Jbe=(()=>{class n{constructor(t,i,r,s){this._projectService=t,this._uploadService=i,this._route=r,this._router=s,this.faFolderOpen=i9,this.status="",this.title="Edit project"}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}onSubmit(t){this._projectService.setProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(Fa_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)})):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2success(){vf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(p4),le(yf),le(U3),le(dn))},n.\u0275cmp=h2({type:n,selectors:[["app-edit"]],features:[Mt([p4,yf])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Bt(0,Kbe,44,15,"div",0),2&t&&je("ngIf",i.project)},dependencies:[Rc,P7,Ws,Uc,w7,n6,t6,e6,O6]}),n})(),$I=(()=>{class n{constructor(t){this._http=t,this.url=Fa_url}getOpenAI(){let t=(new en).set("Content-type","application/json");return this._http.get(this.url+"/openai-key",{headers:t})}}return n.\u0275fac=function(t){return new(t||n)(Ge(x7))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac}),n})();const Qbe=(new en).set("Content-type","application/json");let qI=(()=>{class n{constructor(t,i){this.http=t,this.openaiService=i,this.openaiService.getOpenAI().subscribe(r=>{this.apiKey=r.key})}getDataFromOpenAI(t){const r={prompt:t,max_tokens:256,temperature:.7},s={headers:Qbe.set("Authorization",`Bearer ${this.apiKey}`)};this.http.post("https://api.openai.com/v1/engines/text-davinci-002/completions",r,s).pipe(Kr(a=>!!a),w1(a=>a.choices[0].text)).subscribe(a=>{$(".response").append(`\n      <ul class="list-group mb-2 response-item">\n        <li class="list-group-item text-dark">${a}</li><br>\n      </ul>\n    `),$(".response .list-group-item").last().css({"list-style":"none","margin-top":"20px","margin-bottom":"20px",border:"1px solid transparent"})})}}return n.\u0275fac=function(t){return new(t||n)(Ge(x7),Ge($I))},n.\u0275prov=Ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ewe=[{path:"",component:Kpe},{path:"contact",component:ame},{path:"projects",component:eme},{path:"create",component:mme},{path:"chatbot",component:(()=>{class n{constructor(t){this.chatgptSvc=t}sendMessage(){this.chatgptSvc.getDataFromOpenAI(this.message),this.message=""}clearMessage(){location.reload()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(le(qI))},n.\u0275cmp=h2({type:n,selectors:[["app-chat"]],decls:18,vars:1,consts:[[1,"my-chatGPT"],[1,"container"],[1,"card","card-header"],[1,"card-header","textAITitle","col-12","col-6"],[1,"subtitleItalic"],[1,"card-body","mt-4"],[1,"row"],[1,"col-12","response"],["type","text","name","messages","placeholder","Ask me anything...",1,"form-control","my-input",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-primary","marginBtns",3,"click"],[1,"btn","btn-outline-danger","marginBtns",3,"click"]],template:function(t,i){1&t&&(j(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),De(5,"alex Chatbot"),U(),j(6,"span",4),De(7,"This is an AI assistant that is powered by ChatGPT model to deliver any AI-powered search, conversation, text completionand other advanced AI features."),U()(),j(8,"div",5)(9,"div",1)(10,"div",6),ge(11,"div",7),U()(),j(12,"input",8),x1("ngModelChange",function(s){return i.message=s}),U(),j(13,"button",9),x1("click",function(){return i.sendMessage()}),De(14,"Submit"),U(),j(15,"button",10),x1("click",function(){return i.clearMessage()}),De(16,"Clear"),U()()()()(),ge(17,"app-footer")),2&t&&(Le(12),je("ngModel",i.message))},dependencies:[Ws,Uc,t6,Iv],styles:[".my-chatGPT[_ngcontent-%COMP%]{background-color:#35373e;width:100%;padding-bottom:100px}.subtitleItalic[_ngcontent-%COMP%]{font-size:medium;color:#acafba}.textAITitle[_ngcontent-%COMP%]{width:50%}.card-header[_ngcontent-%COMP%]{color:#f4f4f6;margin-top:100px}.my-input[_ngcontent-%COMP%]{background-color:#acafba;color:#2d2f35;margin-top:20px;border-color:#00adb5}.response[_ngcontent-%COMP%]{background-color:#fff;color:#4d5159;list-style:none;border-radius:.375rem}input[type=text][_ngcontent-%COMP%]:focus{color:#35373e}.btn-outline-primary[_ngcontent-%COMP%]{background-color:#00adb5;border-color:#00adb5;color:#2d2f35}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:#eeeef0;border-color:#00adb5;color:#00adb5}.btn-outline-danger[_ngcontent-%COMP%]{background-color:#ff2e63;border-color:#ff2e63;color:#2d2f35}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#eeeef0;border-color:#ff2e63;color:#ff2e63}.marginBtns[_ngcontent-%COMP%]{margin:20px 20px 0 0!important}@media (max-width: 845px){.textAITitle[_ngcontent-%COMP%]{width:100%}}"]}),n})()},{path:"project/:id",component:Wbe},{path:"edit/:id",component:Jbe},{path:"**",component:gme}],ZI=[],twe=n9.forRoot(ewe),nwe=[];let iwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=Cn({imports:[n9.forRoot(nwe),n9]}),n})();const rwe=["titleNamed"],swe=["navbar"],awe=function(){return[""]},_f=function(){return["actived"]},owe=function(){return["/projects"]},cwe=function(){return["/contact"]},lwe=function(){return["/chatbot"]};let uwe=(()=>{class n{constructor(t){this.router=t,this.title="portfolioAngular",this.faCoffee=RE,this.faFolderOpen=i9,this.faLinkedinIn=WI,this.faGitHub=v_,this.faYoutube=y_,this.faSun=kE,this.faMoon=OE,this.faArrowDown=Xm,this.faArrowRight=c8,this.faWhatsapp=jI,this.faMailBulk=VE,this.faBars=IE,this.isShown=!1,this.isHomePage=!1,this.titleName="ALE",this.titleArea="WEB",this.titleJob="DEV"}ngOnInit(){const t=document.querySelector(".cursor"),i=document.querySelector(".cursor2");t.style.opacity=i.style.opacity="0",document.addEventListener("mousemove",o=>{o.clientX>=0&&o.clientX<=window.innerWidth&&o.clientY>=0&&o.clientY<=window.innerHeight&&(setTimeout(()=>{t.style.cssText=`left: ${o.clientX}px; top: ${o.clientY}px; opacity: 1;`},50),i.style.cssText=`left: ${o.clientX}px; top: ${o.clientY}px; opacity: 1;`)}),document.body.addEventListener("mouseleave",o=>{t.style.opacity="0",i.style.opacity="0"}),setInterval(()=>{"0"===i.style.opacity&&(t.style.opacity="0")},50),this.router.events.subscribe(o=>{o instanceof k3&&(this.isHomePage="/"===this.router.url)}),$(".hide").on("click",function(){$("nav ul").toggle("slow")});var r=document.documentElement.scrollTop;window.onscroll=function(){window.innerWidth>768&&a()};const a=()=>{var o=document.documentElement.scrollTop;this.navbar.nativeElement.style.top=r>o?"0":"-70px",r=o}}toggleShow(){this.isShown=!this.isShown}}return n.\u0275fac=function(t){return new(t||n)(le(dn))},n.\u0275cmp=h2({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(Jn(rwe,5),Jn(swe,5)),2&t){let r;Tn(r=Ln())&&(i.titleNamed=r.first),Tn(r=Ln())&&(i.navbar=r.first)}},decls:35,vars:21,consts:[[1,"cursor"],[1,"cursor2"],["id","switchColor"],["href","https://api.whatsapp.com/send?phone=16262436274&text=Hello!\xa0Can\xa0you\xa0help\xa0me?","target","_blank","rel","noopener noreferrer"],["id","day",1,"boxSideBars"],[1,"socialIcons",3,"icon"],["href","mailto:alejandro.12w@gmail.com","target","_blank","rel","noopener noreferrer"],["id","night",1,"boxSideBars"],["id","social"],["href","https://www.linkedin.com/in/alejandro-alonzo-69639a38/","target","_blank","rel","noopener noreferrer"],["id","linkedin",1,"boxSideBars"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer"],["id","github",1,"boxSideBars"],["navbar",""],["id","homeBtnMenu"],[3,"routerLink","routerLinkActive"],["id","btnsMenu"],["fragment","projectsTitle",3,"routerLink","routerLinkActive"],["fragment","createProject",3,"routerLink","routerLinkActive"],["fragment","chatbot",3,"routerLink","routerLinkActive"],[1,"hide"],[3,"icon"]],template:function(t,i){1&t&&(ge(0,"div",0)(1,"div",1),j(2,"div",2)(3,"a",3)(4,"div",4),ge(5,"fa-icon",5),U()(),j(6,"a",6)(7,"div",7),ge(8,"fa-icon",5),U()()(),j(9,"div",8)(10,"a",9)(11,"div",10),ge(12,"fa-icon",5),U()(),j(13,"a",11)(14,"div",12),ge(15,"fa-icon",5),U()()(),j(16,"nav",null,13)(18,"ul",14)(19,"li")(20,"a",15),De(21,"alex"),U()()(),j(22,"ul",16)(23,"li")(24,"a",17),De(25,"Projects"),U()(),j(26,"li")(27,"a",18),De(28,"Contact"),U()(),j(29,"li")(30,"a",19),De(31,"alex Chatbot"),U()()(),j(32,"div",20),ge(33,"fa-icon",21),U()(),ge(34,"router-outlet")),2&t&&(Le(5),je("icon",i.faWhatsapp),Le(3),je("icon",i.faMailBulk),Le(4),je("icon",i.faLinkedinIn),Le(3),je("icon",i.faGitHub),Le(5),je("routerLink",Xi(13,awe))("routerLinkActive",Xi(14,_f)),Le(4),je("routerLink",Xi(15,owe))("routerLinkActive",Xi(16,_f)),Le(3),je("routerLink",Xi(17,cwe))("routerLinkActive",Xi(18,_f)),Le(3),je("routerLink",Xi(19,lwe))("routerLinkActive",Xi(20,_f)),Le(3),je("icon",i.faBars))},dependencies:[Vm,B3,wE,O6]}),n})();const fwe={anchorScrolling:"enabled",scrollPositionRestoration:"enabled"};let hwe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n,bootstrap:[uwe]}),n.\u0275inj=Cn({providers:[ZI,$I,qI,GI],imports:[lj,iwe,Fj,q$,twe,sle,n9.forRoot(ZI,fwe)]}),n})();cj().bootstrapModule(hwe).catch(n=>console.error(n))},226:function(T0){T0.exports=function(){"use strict";const v1={},Ba=y=>new Promise(M=>{if(!y)return M();const S=window.scrollX,R=window.scrollY;v1.restoreFocusTimeout=setTimeout(()=>{v1.previousActiveElement instanceof HTMLElement?(v1.previousActiveElement.focus(),v1.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(S,R)});var $1={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ie=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((y,M)=>(y[M]="swal2-"+M,y),{}),o3=["success","warning","info","question","error"].reduce((y,M)=>(y[M]="swal2-"+M,y),{}),Vr="SweetAlert2:",c3=y=>y.charAt(0).toUpperCase()+y.slice(1),W2=y=>{console.warn(`${Vr} ${"object"==typeof y?y.join(" "):y}`)},Hr=y=>{console.error(`${Vr} ${y}`)},M5=[],Cf=(y,M)=>{(y=>{M5.includes(y)||(M5.push(y),W2(y))})(`"${y}" is deprecated and will be removed in the next major release. Please use "${M}" instead.`)},l3=y=>"function"==typeof y?y():y,fr=y=>y&&"function"==typeof y.toPromise,Or=y=>fr(y)?y.toPromise():Promise.resolve(y),L0=y=>y&&Promise.resolve(y)===y,u2=()=>document.body.querySelector(`.${ie.container}`),gs=y=>{const M=u2();return M?M.querySelector(y):null},j2=y=>gs(`.${y}`),ct=()=>j2(ie.popup),hr=()=>j2(ie.icon),x5=()=>j2(ie.title),u3=()=>j2(ie["html-container"]),C5=()=>j2(ie.image),vs=()=>j2(ie["progress-steps"]),ki=()=>j2(ie["validation-message"]),fi=()=>gs(`.${ie.actions} .${ie.confirm}`),Fr=()=>gs(`.${ie.actions} .${ie.cancel}`),pt=()=>gs(`.${ie.actions} .${ie.deny}`),f3=()=>gs(`.${ie.loader}`),ys=()=>j2(ie.actions),w5=()=>j2(ie.footer),jn=()=>j2(ie["timer-progress-bar"]),ja=()=>j2(ie.close),Zt=()=>{const y=ct().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),M=Array.from(y).sort((te,Xe)=>{const ft=parseInt(te.getAttribute("tabindex")),d2=parseInt(Xe.getAttribute("tabindex"));return ft>d2?1:ft<d2?-1:0}),S=ct().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),R=Array.from(S).filter(te=>"-1"!==te.getAttribute("tabindex"));return[...new Set(M.concat(R))].filter(te=>q2(te))},Ft=()=>dr(document.body,ie.shown)&&!dr(document.body,ie["toast-shown"])&&!dr(document.body,ie["no-backdrop"]),$a=()=>ct()&&dr(ct(),ie.toast),$2=(y,M)=>{if(y.textContent="",M){const R=(new DOMParser).parseFromString(M,"text/html");Array.from(R.querySelector("head").childNodes).forEach(te=>{y.appendChild(te)}),Array.from(R.querySelector("body").childNodes).forEach(te=>{te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?y.appendChild(te.cloneNode(!0)):y.appendChild(te)})}},dr=(y,M)=>{if(!M)return!1;const S=M.split(/\s+/);for(let R=0;R<S.length;R++)if(!y.classList.contains(S[R]))return!1;return!0},$n=(y,M,S)=>{if(((y,M)=>{Array.from(y.classList).forEach(S=>{!Object.values(ie).includes(S)&&!Object.values(o3).includes(S)&&!Object.values(M.showClass).includes(S)&&y.classList.remove(S)})})(y,M),M.customClass&&M.customClass[S]){if("string"!=typeof M.customClass[S]&&!M.customClass[S].forEach)return void W2(`Invalid type of customClass.${S}! Expected string or iterable object, got "${typeof M.customClass[S]}"`);Q1(y,M.customClass[S])}},N0=(y,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return y.querySelector(`.${ie.popup} > .${ie[M]}`);case"checkbox":return y.querySelector(`.${ie.popup} > .${ie.checkbox} input`);case"radio":return y.querySelector(`.${ie.popup} > .${ie.radio} input:checked`)||y.querySelector(`.${ie.popup} > .${ie.radio} input:first-child`);case"range":return y.querySelector(`.${ie.popup} > .${ie.range} input`);default:return y.querySelector(`.${ie.popup} > .${ie.input}`)}},z5=y=>{if(y.focus(),"file"!==y.type){const M=y.value;y.value="",y.value=M}},bf=(y,M,S)=>{!y||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(R=>{Array.isArray(y)?y.forEach(te=>{S?te.classList.add(R):te.classList.remove(R)}):S?y.classList.add(R):y.classList.remove(R)}))},Q1=(y,M)=>{bf(y,M,!0)},pr=(y,M)=>{bf(y,M,!1)},m4=(y,M)=>{const S=Array.from(y.children);for(let R=0;R<S.length;R++){const te=S[R];if(te instanceof HTMLElement&&dr(te,M))return te}},h3=(y,M,S)=>{S===`${parseInt(S)}`&&(S=parseInt(S)),S||0===parseInt(S)?y.style[M]="number"==typeof S?`${S}px`:S:y.style.removeProperty(M)},f2=function(y){y&&(y.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},P2=y=>{y&&(y.style.display="none")},qa=(y,M,S,R)=>{const te=y.querySelector(M);te&&(te.style[S]=R)},Za=function(y,M){M?f2(y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):P2(y)},q2=y=>!(!y||!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),E5=y=>y.scrollHeight>y.clientHeight,T5=y=>{const M=window.getComputedStyle(y),S=parseFloat(M.getPropertyValue("animation-duration")||"0"),R=parseFloat(M.getPropertyValue("transition-duration")||"0");return S>0||R>0},P0=function(y){let M=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const S=jn();q2(S)&&(M&&(S.style.transition="none",S.style.width="100%"),setTimeout(()=>{S.style.transition=`width ${y/1e3}s linear`,S.style.width="0%"},10))},I0=()=>typeof window>"u"||typeof document>"u",wf=`\n <div aria-labelledby="${ie.title}" aria-describedby="${ie["html-container"]}" class="${ie.popup}" tabindex="-1">\n   <button type="button" class="${ie.close}"></button>\n   <ul class="${ie["progress-steps"]}"></ul>\n   <div class="${ie.icon}"></div>\n   <img class="${ie.image}" />\n   <h2 class="${ie.title}" id="${ie.title}"></h2>\n   <div class="${ie["html-container"]}" id="${ie["html-container"]}"></div>\n   <input class="${ie.input}" />\n   <input type="file" class="${ie.file}" />\n   <div class="${ie.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${ie.select}"></select>\n   <div class="${ie.radio}"></div>\n   <label for="${ie.checkbox}" class="${ie.checkbox}">\n     <input type="checkbox" />\n     <span class="${ie.label}"></span>\n   </label>\n   <textarea class="${ie.textarea}"></textarea>\n   <div class="${ie["validation-message"]}" id="${ie["validation-message"]}"></div>\n   <div class="${ie.actions}">\n     <div class="${ie.loader}"></div>\n     <button type="button" class="${ie.confirm}"></button>\n     <button type="button" class="${ie.deny}"></button>\n     <button type="button" class="${ie.cancel}"></button>\n   </div>\n   <div class="${ie.footer}"></div>\n   <div class="${ie["timer-progress-bar-container"]}">\n     <div class="${ie["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),g4=()=>{v1.currentInstance.resetValidationMessage()},Tf=y=>{const M=(()=>{const y=u2();return!!y&&(y.remove(),pr([document.documentElement,document.body],[ie["no-backdrop"],ie["toast-shown"],ie["has-column"]]),!0)})();if(I0())return void Hr("SweetAlert2 requires document to initialize");const S=document.createElement("div");S.className=ie.container,M&&Q1(S,ie["no-transition"]),$2(S,wf);const R=(y=>"string"==typeof y?document.querySelector(y):y)(y.target);R.appendChild(S),(y=>{const M=ct();M.setAttribute("role",y.toast?"alert":"dialog"),M.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||M.setAttribute("aria-modal","true")})(y),(y=>{"rtl"===window.getComputedStyle(y).direction&&Q1(u2(),ie.rtl)})(R),(()=>{const y=ct(),M=m4(y,ie.input),S=m4(y,ie.file),R=y.querySelector(`.${ie.range} input`),te=y.querySelector(`.${ie.range} output`),Xe=m4(y,ie.select),ft=y.querySelector(`.${ie.checkbox} input`),d2=m4(y,ie.textarea);M.oninput=g4,S.onchange=g4,Xe.onchange=g4,ft.onchange=g4,d2.oninput=g4,R.oninput=()=>{g4(),te.value=R.value},R.onchange=()=>{g4(),te.value=R.value}})()},R0=(y,M)=>{y instanceof HTMLElement?M.appendChild(y):"object"==typeof y?Lf(y,M):y&&$2(M,y)},Lf=(y,M)=>{y.jquery?Df(M,y):$2(M,y.toString())},Df=(y,M)=>{if(y.textContent="",0 in M)for(let S=0;S in M;S++)y.appendChild(M[S].cloneNode(!0));else y.appendChild(M.cloneNode(!0))},_s=(()=>{if(I0())return!1;const y=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const S in M)if(Object.prototype.hasOwnProperty.call(M,S)&&typeof y.style[S]<"u")return M[S];return!1})(),C_=(y,M)=>{const S=ys(),R=f3();M.showConfirmButton||M.showDenyButton||M.showCancelButton?f2(S):P2(S),$n(S,M,"actions"),function D5(y,M,S){const R=fi(),te=pt(),Xe=Fr();Xa(R,"confirm",S),Xa(te,"deny",S),Xa(Xe,"cancel",S),function N5(y,M,S,R){R.buttonsStyling?(Q1([y,M,S],ie.styled),R.confirmButtonColor&&(y.style.backgroundColor=R.confirmButtonColor,Q1(y,ie["default-outline"])),R.denyButtonColor&&(M.style.backgroundColor=R.denyButtonColor,Q1(M,ie["default-outline"])),R.cancelButtonColor&&(S.style.backgroundColor=R.cancelButtonColor,Q1(S,ie["default-outline"]))):pr([y,M,S],ie.styled)}(R,te,Xe,S),S.reverseButtons&&(S.toast?(y.insertBefore(Xe,R),y.insertBefore(te,R)):(y.insertBefore(Xe,M),y.insertBefore(te,M),y.insertBefore(R,M)))}(S,R,M),$2(R,M.loaderHtml),$n(R,M,"loader")};function Xa(y,M,S){Za(y,S[`show${c3(M)}Button`],"inline-block"),$2(y,S[`${M}ButtonText`]),y.setAttribute("aria-label",S[`${M}ButtonAriaLabel`]),y.className=ie[M],$n(y,S,`${M}Button`),Q1(y,S[`${M}ButtonClass`])}const I5=(y,M)=>{const S=u2();S&&(function Nf(y,M){"string"==typeof M?y.style.background=M:M||Q1([document.documentElement,document.body],ie["no-backdrop"])}(S,M.backdrop),function R5(y,M){M in ie?Q1(y,ie[M]):(W2('The "position" parameter is not valid, defaulting to "center"'),Q1(y,ie.center))}(S,M.position),function V5(y,M){if(M&&"string"==typeof M){const S=`grow-${M}`;S in ie&&Q1(y,ie[S])}}(S,M.grow),$n(S,M,"container"))};const H5=["input","file","range","select","radio","checkbox","textarea"],hi=y=>{if(!Rt[y.input])return void Hr(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${y.input}"`);const M=F5(y.input),S=Rt[y.input](M,y);f2(M),y.inputAutoFocus&&setTimeout(()=>{z5(S)})},If=(y,M)=>{const S=N0(ct(),y);if(S){(y=>{for(let M=0;M<y.attributes.length;M++){const S=y.attributes[M].name;["type","value","style"].includes(S)||y.removeAttribute(S)}})(S);for(const R in M)S.setAttribute(R,M[R])}},Rf=y=>{const M=F5(y.input);"object"==typeof y.customClass&&Q1(M,y.customClass.input)},V0=(y,M)=>{(!y.placeholder||M.inputPlaceholder)&&(y.placeholder=M.inputPlaceholder)},d3=(y,M,S)=>{if(S.inputLabel){y.id=ie.input;const R=document.createElement("label"),te=ie["input-label"];R.setAttribute("for",y.id),R.className=te,"object"==typeof S.customClass&&Q1(R,S.customClass.inputLabel),R.innerText=S.inputLabel,M.insertAdjacentElement("beforebegin",R)}},F5=y=>m4(ct(),ie[y]||ie.input),Ya=(y,M)=>{["string","number"].includes(typeof M)?y.value=`${M}`:L0(M)||W2(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof M}"`)},Rt={};Rt.text=Rt.email=Rt.password=Rt.number=Rt.tel=Rt.url=(y,M)=>(Ya(y,M.inputValue),d3(y,y,M),V0(y,M),y.type=M.input,y),Rt.file=(y,M)=>(d3(y,y,M),V0(y,M),y),Rt.range=(y,M)=>{const S=y.querySelector("input"),R=y.querySelector("output");return Ya(S,M.inputValue),S.type=M.input,Ya(R,M.inputValue),d3(S,y,M),y},Rt.select=(y,M)=>{if(y.textContent="",M.inputPlaceholder){const S=document.createElement("option");$2(S,M.inputPlaceholder),S.value="",S.disabled=!0,S.selected=!0,y.appendChild(S)}return d3(y,y,M),y},Rt.radio=y=>(y.textContent="",y),Rt.checkbox=(y,M)=>{const S=N0(ct(),"checkbox");S.value="1",S.id=ie.checkbox,S.checked=Boolean(M.inputValue);const R=y.querySelector("span");return $2(R,M.inputPlaceholder),S},Rt.textarea=(y,M)=>{Ya(y,M.inputValue),V0(y,M),d3(y,y,M);return setTimeout(()=>{if("MutationObserver"in window){const R=parseInt(window.getComputedStyle(ct()).width);new MutationObserver(()=>{const Xe=y.offsetWidth+(R=>parseInt(window.getComputedStyle(R).marginLeft)+parseInt(window.getComputedStyle(R).marginRight))(y);ct().style.width=Xe>R?`${Xe}px`:null}).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};const Vf=(y,M)=>{const S=u3();S&&($n(S,M,"htmlContainer"),M.html?(R0(M.html,S),f2(S,"block")):M.text?(S.textContent=M.text,f2(S,"block")):P2(S),((y,M)=>{const S=ct(),R=$1.innerParams.get(y),te=!R||M.input!==R.input;H5.forEach(Xe=>{const ft=m4(S,ie[Xe]);If(Xe,M.inputAttributes),ft.className=ie[Xe],te&&P2(ft)}),M.input&&(te&&hi(M),Rf(M))})(y,M))},di=(y,M)=>{for(const S in o3)M.icon!==S&&pr(y,o3[S]);Q1(y,o3[M.icon]),k5(y,M),b_(),$n(y,M,"icon")},b_=()=>{const y=ct(),M=window.getComputedStyle(y).getPropertyValue("background-color"),S=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let R=0;R<S.length;R++)S[R].style.backgroundColor=M},Ka=(y,M)=>{let R,S=y.innerHTML;M.iconHtml?R=m3(M.iconHtml):"success"===M.icon?(R='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',S=S.replace(/ style=".*?"/g,"")):R="error"===M.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':m3({question:"?",warning:"!",info:"i"}[M.icon]),S.trim()!==R.trim()&&$2(y,R)},k5=(y,M)=>{if(M.iconColor){y.style.color=M.iconColor,y.style.borderColor=M.iconColor;for(const S of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qa(y,S,"backgroundColor",M.iconColor);qa(y,".swal2-success-ring","borderColor",M.iconColor)}},m3=y=>`<div class="${ie["icon-content"]}">${y}</div>`,B5=(y,M)=>{const S=M.showClass||{};y.className=`${ie.popup} ${q2(y)?S.popup:""}`,M.toast?(Q1([document.documentElement,document.body],ie["toast-shown"]),Q1(y,ie.toast)):Q1(y,ie.modal),$n(y,M,"popup"),"string"==typeof M.customClass&&Q1(y,M.customClass),M.icon&&Q1(y,ie[`icon-${M.icon}`])},Uf=y=>{const M=document.createElement("li");return Q1(M,ie["progress-step"]),$2(M,y),M},Bf=y=>{const M=document.createElement("li");return Q1(M,ie["progress-step-line"]),y.progressStepsDistance&&h3(M,"width",y.progressStepsDistance),M},H0=(y,M)=>{((y,M)=>{const S=u2(),R=ct();if(S&&R){if(M.toast){h3(S,"width",M.width),R.style.width="100%";const te=f3();te&&R.insertBefore(te,hr())}else h3(R,"width",M.width);h3(R,"padding",M.padding),M.color&&(R.style.color=M.color),M.background&&(R.style.background=M.background),P2(ki()),B5(R,M)}})(0,M),I5(0,M),((y,M)=>{const S=vs();if(!S)return;const{progressSteps:R,currentProgressStep:te}=M;R&&0!==R.length&&void 0!==te?(f2(S),S.textContent="",te>=R.length&&W2("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),R.forEach((Xe,ft)=>{const d2=Uf(Xe);if(S.appendChild(d2),ft===te&&Q1(d2,ie["active-progress-step"]),ft!==R.length-1){const S2=Bf(M);S.appendChild(S2)}})):P2(S)})(0,M),((y,M)=>{const S=$1.innerParams.get(y),R=hr();S&&M.icon===S.icon?(Ka(R,M),di(R,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(o3).indexOf(M.icon)?(Hr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${M.icon}"`),P2(R)):(f2(R),Ka(R,M),di(R,M),Q1(R,M.showClass.icon)):P2(R)})(y,M),((y,M)=>{const S=C5();if(S){if(!M.imageUrl)return void P2(S);f2(S,""),S.setAttribute("src",M.imageUrl),S.setAttribute("alt",M.imageAlt||""),h3(S,"width",M.imageWidth),h3(S,"height",M.imageHeight),S.className=ie.image,$n(S,M,"image")}})(0,M),((y,M)=>{const S=x5();S&&(Za(S,M.title||M.titleText,"block"),M.title&&R0(M.title,S),M.titleText&&(S.innerText=M.titleText),$n(S,M,"title"))})(0,M),((y,M)=>{const S=ja();S&&($2(S,M.closeButtonHtml||""),$n(S,M,"closeButton"),Za(S,M.showCloseButton),S.setAttribute("aria-label",M.closeButtonAriaLabel||""))})(0,M),Vf(y,M),C_(0,M),((y,M)=>{const S=w5();S&&(Za(S,M.footer),M.footer&&R0(M.footer,S),$n(S,M,"footer"))})(0,M);const S=ct();"function"==typeof M.didRender&&S&&M.didRender(S)},G5=()=>fi()&&fi().click(),g3=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ja=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},Ms=(y,M)=>{const S=Zt();if(S.length)return(y+=M)===S.length?y=0:-1===y&&(y=S.length-1),void S[y].focus();ct().focus()},yt=["ArrowRight","ArrowDown"],O0=["ArrowLeft","ArrowUp"],$f=(y,M,S)=>{const R=$1.innerParams.get(y);R&&(M.isComposing||229===M.keyCode||(R.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?xt(y,M,R):"Tab"===M.key?o1(M):[...yt,...O0].includes(M.key)?F0(M.key):"Escape"===M.key&&k0(M,R,S)))},xt=(y,M,S)=>{if(l3(S.allowEnterKey)&&M.target&&y.getInput()&&M.target instanceof HTMLElement&&M.target.outerHTML===y.getInput().outerHTML){if(["textarea","file"].includes(S.input))return;G5(),M.preventDefault()}},o1=y=>{const M=y.target,S=Zt();let R=-1;for(let te=0;te<S.length;te++)if(M===S[te]){R=te;break}Ms(R,y.shiftKey?-1:1),y.stopPropagation(),y.preventDefault()},F0=y=>{const M=fi(),S=pt(),R=Fr();if(document.activeElement instanceof HTMLElement&&![M,S,R].includes(document.activeElement))return;const Xe=yt.includes(y)?"nextElementSibling":"previousElementSibling";let ft=document.activeElement;for(let d2=0;d2<ys().children.length;d2++){if(ft=ft[Xe],!ft)return;if(ft instanceof HTMLButtonElement&&q2(ft))break}ft instanceof HTMLButtonElement&&ft.focus()},k0=(y,M,S)=>{l3(M.allowEscapeKey)&&(y.preventDefault(),S(g3.esc))};var Qa={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ye=()=>{Array.from(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")||""),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})},_1=()=>{const y=navigator.userAgent,M=!!y.match(/iPad/i)||!!y.match(/iPhone/i),S=!!y.match(/WebKit/i);M&&S&&!y.match(/CriOS/i)&&ct().scrollHeight>window.innerHeight-44&&(u2().style.paddingBottom="44px")},lt=()=>{const y=u2();let M;y.ontouchstart=S=>{M=qf(S)},y.ontouchmove=S=>{M&&(S.preventDefault(),S.stopPropagation())}},qf=y=>{const M=y.target,S=u2();return!w_(y)&&!Zf(y)&&(M===S||!E5(S)&&M instanceof HTMLElement&&"INPUT"!==M.tagName&&"TEXTAREA"!==M.tagName&&!(E5(u3())&&u3().contains(M)))},w_=y=>y.touches&&y.touches.length&&"stylus"===y.touches[0].touchType,Zf=y=>y.touches&&y.touches.length>1,no=()=>{if(dr(document.body,ie.iosfix)){const y=parseInt(document.body.style.top,10);pr(document.body,ie.iosfix),document.body.style.top="",document.body.scrollTop=-1*y}};let xs=null;const Xf=()=>{null===xs&&document.body.scrollHeight>window.innerHeight&&(xs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${xs+(()=>{const y=document.createElement("div");y.className=ie["scrollbar-measure"],document.body.appendChild(y);const M=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),M})()}px`)},S_=()=>{null!==xs&&(document.body.style.paddingRight=`${xs}px`,xs=null)};function mr(y,M,S,R){$a()?xn(y,R):(Ba(S).then(()=>xn(y,R)),Ja(v1)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),Ft()&&(S_(),no(),ye()),function z_(){pr([document.documentElement,document.body],[ie.shown,ie["height-auto"],ie["no-backdrop"],ie["toast-shown"]])}()}function v4(y){y=E_(y);const M=Qa.swalPromiseResolve.get(this),S=A_(this);this.isAwaitingPromise?y.isDismissed||(Cs(this),M(y)):S&&M(y)}const A_=y=>{const M=ct();if(!M)return!1;const S=$1.innerParams.get(y);if(!S||dr(M,S.hideClass.popup))return!1;pr(M,S.showClass.popup),Q1(M,S.hideClass.popup);const R=u2();return pr(R,S.showClass.backdrop),Q1(R,S.hideClass.backdrop),Kf(y,M,S),!0};function Yf(y){const M=Qa.swalPromiseReject.get(this);Cs(this),M&&M(y)}const Cs=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,$1.innerParams.get(y)||y._destroy())},E_=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),Kf=(y,M,S)=>{const R=u2(),te=_s&&T5(M);"function"==typeof S.willClose&&S.willClose(M),te?T_(y,M,R,S.returnFocus,S.didClose):mr(y,R,S.returnFocus,S.didClose)},T_=(y,M,S,R,te)=>{v1.swalCloseEventFinishedCallback=mr.bind(null,y,S,R,te),M.addEventListener(_s,function(Xe){Xe.target===M&&(v1.swalCloseEventFinishedCallback(),delete v1.swalCloseEventFinishedCallback)})},xn=(y,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(y.params)(),y._destroy&&y._destroy()})},q1=y=>{let M=ct();M||new J0,M=ct();const S=f3();$a()?P2(hr()):L_(M,y),f2(S),M.setAttribute("data-loading","true"),M.setAttribute("aria-busy","true"),M.focus()},L_=(y,M)=>{const S=ys(),R=f3();!M&&q2(fi())&&(M=fi()),f2(S),M&&(P2(M),R.setAttribute("data-button-to-replace",M.className)),R.parentNode.insertBefore(R,M),Q1([y,S],ie.loading)},Ze=y=>y.checked?1:0,P_=y=>y.checked?y.value:null,Cn=y=>y.files.length?null!==y.getAttribute("multiple")?y.files:y.files[0]:null,io=(y,M)=>{const S=ct(),R=te=>{W5[M.input](S,U0(te),M)};fr(M.inputOptions)||L0(M.inputOptions)?(q1(fi()),Or(M.inputOptions).then(te=>{y.hideLoading(),R(te)})):"object"==typeof M.inputOptions?R(M.inputOptions):Hr("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof M.inputOptions)},Jf=(y,M)=>{const S=y.getInput();P2(S),Or(M.inputValue).then(R=>{S.value="number"===M.input?`${parseFloat(R)||0}`:`${R}`,f2(S),S.focus(),y.hideLoading()}).catch(R=>{Hr(`Error in inputValue promise: ${R}`),S.value="",f2(S),S.focus(),y.hideLoading()})},W5={select:(y,M,S)=>{const R=m4(y,ie.select),te=(Xe,ft,d2)=>{const S2=document.createElement("option");S2.value=d2,$2(S2,ft),S2.selected=B0(d2,S.inputValue),Xe.appendChild(S2)};M.forEach(Xe=>{const ft=Xe[0],d2=Xe[1];if(Array.isArray(d2)){const S2=document.createElement("optgroup");S2.label=ft,S2.disabled=!1,R.appendChild(S2),d2.forEach(S3=>te(S2,S3[1],S3[0]))}else te(R,d2,ft)}),R.focus()},radio:(y,M,S)=>{const R=m4(y,ie.radio);M.forEach(Xe=>{const ft=Xe[0],d2=Xe[1],S2=document.createElement("input"),S3=document.createElement("label");S2.type="radio",S2.name=ie.radio,S2.value=ft,B0(ft,S.inputValue)&&(S2.checked=!0);const il=document.createElement("span");$2(il,d2),il.className=ie.label,S3.appendChild(S2),S3.appendChild(il),R.appendChild(S3)});const te=R.querySelectorAll("input");te.length&&te[0].focus()}},U0=y=>{const M=[];return typeof Map<"u"&&y instanceof Map?y.forEach((S,R)=>{let te=S;"object"==typeof te&&(te=U0(te)),M.push([R,te])}):Object.keys(y).forEach(S=>{let R=y[S];"object"==typeof R&&(R=U0(R)),M.push([S,R])}),M},B0=(y,M)=>M&&M.toString()===y.toString(),$5=(y,M)=>{const S=$1.innerParams.get(y);if(!S.input)return void Hr(`The "input" parameter is needed to be set when using returnInputValueOn${c3(M)}`);const R=((y,M)=>{const S=y.getInput();if(!S)return null;switch(M.input){case"checkbox":return Ze(S);case"radio":return P_(S);case"file":return Cn(S);default:return M.inputAutoTrim?S.value.trim():S.value}})(y,S);S.inputValidator?c1(y,R,M):y.getInput().checkValidity()?"deny"===M?bs(y,R):so(y,R):(y.enableButtons(),y.showValidationMessage(S.validationMessage))},c1=(y,M,S)=>{const R=$1.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>Or(R.inputValidator(M,R.validationMessage))).then(Xe=>{y.enableButtons(),y.enableInput(),Xe?y.showValidationMessage(Xe):"deny"===S?bs(y,M):so(y,M)})},bs=(y,M)=>{const S=$1.innerParams.get(y||void 0);S.showLoaderOnDeny&&q1(pt()),S.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>Or(S.preDeny(M,S.validationMessage))).then(te=>{!1===te?(y.hideLoading(),Cs(y)):y.close({isDenied:!0,value:typeof te>"u"?M:te})}).catch(te=>bn(y||void 0,te))):y.close({isDenied:!0,value:M})},q5=(y,M)=>{y.close({isConfirmed:!0,value:M})},bn=(y,M)=>{y.rejectPromise(M)},so=(y,M)=>{const S=$1.innerParams.get(y||void 0);S.showLoaderOnConfirm&&q1(),S.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>Or(S.preConfirm(M,S.validationMessage))).then(te=>{q2(ki())||!1===te?(y.hideLoading(),Cs(y)):q5(y,typeof te>"u"?M:te)}).catch(te=>bn(y||void 0,te))):q5(y,M)};function W0(){const y=$1.innerParams.get(this);if(!y)return;const M=$1.domCache.get(this);P2(M.loader),$a()?y.icon&&f2(hr()):wt(M),pr([M.popup,M.actions],ie.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const wt=y=>{const M=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));M.length?f2(M[0],"inline-block"):!q2(fi())&&!q2(pt())&&!q2(Fr())&&P2(y.actions)};function Qf(){const y=$1.innerParams.get(this),M=$1.domCache.get(this);return M?N0(M.popup,y.input):null}function eh(y,M,S){const R=$1.domCache.get(y);M.forEach(te=>{R[te].disabled=S})}function th(y,M){if(y)if("radio"===y.type){const R=y.parentNode.parentNode.querySelectorAll("input");for(let te=0;te<R.length;te++)R[te].disabled=M}else y.disabled=M}function v3(){eh(this,["confirmButton","denyButton","cancelButton"],!1)}function ao(){eh(this,["confirmButton","denyButton","cancelButton"],!0)}function ws(){th(this.getInput(),!1)}function Z5(){th(this.getInput(),!0)}function X5(y){const M=$1.domCache.get(this),S=$1.innerParams.get(this);$2(M.validationMessage,y),M.validationMessage.className=ie["validation-message"],S.customClass&&S.customClass.validationMessage&&Q1(M.validationMessage,S.customClass.validationMessage),f2(M.validationMessage);const R=this.getInput();R&&(R.setAttribute("aria-invalid",!0),R.setAttribute("aria-describedby",ie["validation-message"]),z5(R),Q1(R,ie.inputerror))}function Y5(){const y=$1.domCache.get(this);y.validationMessage&&P2(y.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),pr(M,ie.inputerror))}const y4={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ss=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],y3={},nh=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ge=y=>Object.prototype.hasOwnProperty.call(y4,y),j0=y=>-1!==Ss.indexOf(y),S1=y=>y3[y],oo=y=>{Ge(y)||W2(`Unknown parameter "${y}"`)},$0=y=>{nh.includes(y)&&W2(`The parameter "${y}" is incompatible with toasts`)},zs=y=>{const M=S1(y);M&&Cf(y,M)};function K5(y){const M=ct(),S=$1.innerParams.get(this);if(!M||dr(M,S.hideClass.popup))return void W2("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const R=rh(y),te=Object.assign({},S,R);H0(this,te),$1.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}const rh=y=>{const M={};return Object.keys(y).forEach(S=>{j0(S)?M[S]=y[S]:W2(`Invalid parameter to update: ${S}`)}),M};function Ui(){const y=$1.domCache.get(this),M=$1.innerParams.get(this);M?(y.popup&&v1.swalCloseEventFinishedCallback&&(v1.swalCloseEventFinishedCallback(),delete v1.swalCloseEventFinishedCallback),"function"==typeof M.didDestroy&&M.didDestroy(),Bi(this)):pi(this)}const Bi=y=>{pi(y),delete y.params,delete v1.keydownHandler,delete v1.keydownTarget,delete v1.currentInstance},pi=y=>{y.isAwaitingPromise?(mi($1,y),y.isAwaitingPromise=!0):(mi(Qa,y),mi($1,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},mi=(y,M)=>{for(const S in y)y[S].delete(M)};var st=Object.freeze({__proto__:null,_destroy:Ui,close:v4,closeModal:v4,closePopup:v4,closeToast:v4,disableButtons:ao,disableInput:Z5,disableLoading:W0,enableButtons:v3,enableInput:ws,getInput:Qf,handleAwaitingPromise:Cs,hideLoading:W0,rejectPromise:Yf,resetValidationMessage:Y5,showValidationMessage:X5,update:K5});const q0=(y,M,S)=>{M.popup.onclick=()=>{const R=$1.innerParams.get(y);R&&(Z0(R)||R.timer||R.input)||S(g3.close)}},Z0=y=>y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton;let As=!1;const gr=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(M){y.container.onmouseup=void 0,M.target===y.container&&(As=!0)}}},Es=y=>{y.container.onmousedown=()=>{y.popup.onmouseup=function(M){y.popup.onmouseup=void 0,(M.target===y.popup||y.popup.contains(M.target))&&(As=!0)}}},sh=(y,M,S)=>{M.container.onclick=R=>{const te=$1.innerParams.get(y);As?As=!1:R.target===M.container&&l3(te.allowOutsideClick)&&S(g3.backdrop)}},J5=y=>y instanceof Element||(y=>"object"==typeof y&&y.jquery)(y);const X0=()=>{if(v1.timeout)return(()=>{const y=jn(),M=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";const S=parseInt(window.getComputedStyle(y).width);y.style.width=M/S*100+"%"})(),v1.timeout.stop()},f1=()=>{if(v1.timeout){const y=v1.timeout.start();return P0(y),y}};let Z2=!1;const Ur={};const Q5=y=>{for(let M=y.target;M&&M!==document;M=M.parentNode)for(const S in Ur){const R=M.getAttribute(S);if(R)return void Ur[S].fire({template:R})}};var el=Object.freeze({__proto__:null,argsToParams:y=>{const M={};return"object"!=typeof y[0]||J5(y[0])?["title","html","icon"].forEach((S,R)=>{const te=y[R];"string"==typeof te||J5(te)?M[S]=te:void 0!==te&&Hr(`Unexpected type of ${S}! Expected "string" or "Element", got ${typeof te}`)}):Object.assign(M,y[0]),M},bindClickHandler:function wn(){Ur[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Z2||(document.body.addEventListener("click",Q5),Z2=!0)},clickCancel:()=>Fr()&&Fr().click(),clickConfirm:G5,clickDeny:()=>pt()&&pt().click(),enableLoading:q1,fire:function oh(){for(var M=arguments.length,S=new Array(M),R=0;R<M;R++)S[R]=arguments[R];return new this(...S)},getActions:ys,getCancelButton:Fr,getCloseButton:ja,getConfirmButton:fi,getContainer:u2,getDenyButton:pt,getFocusableElements:Zt,getFooter:w5,getHtmlContainer:u3,getIcon:hr,getIconContent:()=>j2(ie["icon-content"]),getImage:C5,getInputLabel:()=>j2(ie["input-label"]),getLoader:f3,getPopup:ct,getProgressSteps:vs,getTimerLeft:()=>v1.timeout&&v1.timeout.getTimerLeft(),getTimerProgressBar:jn,getTitle:x5,getValidationMessage:ki,increaseTimer:y=>{if(v1.timeout){const M=v1.timeout.increase(y);return P0(M,!0),M}},isDeprecatedParameter:S1,isLoading:()=>ct().hasAttribute("data-loading"),isTimerRunning:()=>!(!v1.timeout||!v1.timeout.isRunning()),isUpdatableParameter:j0,isValidParameter:Ge,isVisible:()=>q2(ct()),mixin:function qn(y){return class M extends(this){_main(R,te){return super._main(R,Object.assign({},y,te))}}},resumeTimer:f1,showLoading:q1,stopTimer:X0,toggleTimer:()=>{const y=v1.timeout;return y&&(y.running?X0():f1())}});class lo{constructor(M,S){this.callback=M,this.remaining=S,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(M){const S=this.running;return S&&this.stop(),this.remaining+=M,S&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Gi=["swal-title","swal-html","swal-footer"],z1=y=>{const M={};return Array.from(y.querySelectorAll("swal-param")).forEach(R=>{Wi(R,["name","value"]);const te=R.getAttribute("name"),Xe=R.getAttribute("value");M[te]="boolean"==typeof y4[te]?"false"!==Xe:"object"==typeof y4[te]?JSON.parse(Xe):Xe}),M},Vt=y=>{const M={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(R=>{const te=R.getAttribute("name"),Xe=R.getAttribute("value");M[te]=new Function(`return ${Xe}`)()}),M},gi=y=>{const M={};return Array.from(y.querySelectorAll("swal-button")).forEach(R=>{Wi(R,["type","color","aria-label"]);const te=R.getAttribute("type");M[`${te}ButtonText`]=R.innerHTML,M[`show${c3(te)}Button`]=!0,R.hasAttribute("color")&&(M[`${te}ButtonColor`]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(M[`${te}ButtonAriaLabel`]=R.getAttribute("aria-label"))}),M},_4=y=>{const M={},S=y.querySelector("swal-image");return S&&(Wi(S,["src","width","height","alt"]),S.hasAttribute("src")&&(M.imageUrl=S.getAttribute("src")),S.hasAttribute("width")&&(M.imageWidth=S.getAttribute("width")),S.hasAttribute("height")&&(M.imageHeight=S.getAttribute("height")),S.hasAttribute("alt")&&(M.imageAlt=S.getAttribute("alt"))),M},R2=y=>{const M={},S=y.querySelector("swal-icon");return S&&(Wi(S,["type","color"]),S.hasAttribute("type")&&(M.icon=S.getAttribute("type")),S.hasAttribute("color")&&(M.iconColor=S.getAttribute("color")),M.iconHtml=S.innerHTML),M},_3=y=>{const M={},S=y.querySelector("swal-input");S&&(Wi(S,["type","label","placeholder","value"]),M.input=S.getAttribute("type")||"text",S.hasAttribute("label")&&(M.inputLabel=S.getAttribute("label")),S.hasAttribute("placeholder")&&(M.inputPlaceholder=S.getAttribute("placeholder")),S.hasAttribute("value")&&(M.inputValue=S.getAttribute("value")));const R=Array.from(y.querySelectorAll("swal-input-option"));return R.length&&(M.inputOptions={},R.forEach(te=>{Wi(te,["value"]);const Xe=te.getAttribute("value");M.inputOptions[Xe]=te.innerHTML})),M},kt=(y,M)=>{const S={};for(const R in M){const te=M[R],Xe=y.querySelector(te);Xe&&(Wi(Xe,[]),S[te.replace(/^swal-/,"")]=Xe.innerHTML.trim())}return S},uo=y=>{const M=Gi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(S=>{const R=S.tagName.toLowerCase();M.includes(R)||W2(`Unrecognized element <${R}>`)})},Wi=(y,M)=>{Array.from(y.attributes).forEach(S=>{-1===M.indexOf(S.name)&&W2([`Unrecognized attribute "${S.name}" on <${y.tagName.toLowerCase()}>.`,M.length?`Allowed attributes are: ${M.join(", ")}`:"To set the value, use HTML within the element."])})},Y0=y=>{const M=u2(),S=ct();"function"==typeof y.willOpen&&y.willOpen(S);const te=window.getComputedStyle(document.body).overflowY;V2(M,S,y),setTimeout(()=>{tl(M,S)},10),Ft()&&(x3(M,y.scrollbarPadding,te),Array.from(document.body.children).forEach(M=>{M===u2()||M.contains(u2())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")||""),M.setAttribute("aria-hidden","true"))})),!$a()&&!v1.previousActiveElement&&(v1.previousActiveElement=document.activeElement),"function"==typeof y.didOpen&&setTimeout(()=>y.didOpen(S)),pr(M,ie["no-transition"])},M3=y=>{const M=ct();if(y.target!==M)return;const S=u2();M.removeEventListener(_s,M3),S.style.overflowY="auto"},tl=(y,M)=>{_s&&T5(M)?(y.style.overflowY="hidden",M.addEventListener(_s,M3)):y.style.overflowY="auto"},x3=(y,M,S)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!dr(document.body,ie.iosfix)){const M=document.body.scrollTop;document.body.style.top=-1*M+"px",Q1(document.body,ie.iosfix),lt(),_1()}})(),M&&"hidden"!==S&&Xf(),setTimeout(()=>{y.scrollTop=0})},V2=(y,M,S)=>{Q1(y,S.showClass.backdrop),M.style.setProperty("opacity","0","important"),f2(M,"grid"),setTimeout(()=>{Q1(M,S.showClass.popup),M.style.removeProperty("opacity")},10),Q1([document.documentElement,document.body],ie.shown),S.heightAuto&&S.backdrop&&!S.toast&&Q1([document.documentElement,document.body],ie["height-auto"])};var C3={email:(y,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(y)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(y,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function Ts(y){(function b3(y){y.inputValidator||Object.keys(C3).forEach(M=>{y.input===M&&(y.inputValidator=C3[M])})})(y),y.showLoaderOnConfirm&&!y.preConfirm&&W2("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ji(y){(!y.target||"string"==typeof y.target&&!document.querySelector(y.target)||"string"!=typeof y.target&&!y.target.appendChild)&&(W2('Target parameter is not valid, defaulting to "body"'),y.target="body")}(y),"string"==typeof y.title&&(y.title=y.title.split("\n").join("<br />")),Tf(y)}let Zn;class y1{constructor(){if(typeof window>"u")return;Zn=this;for(var M=arguments.length,S=new Array(M),R=0;R<M;R++)S[R]=arguments[R];const te=Object.freeze(this.constructor.argsToParams(S));this.params=te,this.isAwaitingPromise=!1;const Xe=Zn._main(Zn.params);$1.promise.set(this,Xe)}_main(M){let S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(y=>{!1===y.backdrop&&y.allowOutsideClick&&W2('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in y)oo(M),y.toast&&$0(M),zs(M)})(Object.assign({},S,M)),v1.currentInstance&&(v1.currentInstance._destroy(),Ft()&&ye()),v1.currentInstance=Zn;const R=K0(M,S);Ts(R),Object.freeze(R),v1.timeout&&(v1.timeout.stop(),delete v1.timeout),clearTimeout(v1.restoreFocusTimeout);const te=nl(Zn);return H0(Zn,R),$1.innerParams.set(Zn,R),I_(Zn,te,R)}then(M){return $1.promise.get(this).then(M)}finally(M){return $1.promise.get(this).finally(M)}}const I_=(y,M,S)=>new Promise((R,te)=>{const Xe=ft=>{y.close({isDismissed:!0,dismiss:ft})};Qa.swalPromiseResolve.set(y,R),Qa.swalPromiseReject.set(y,te),M.confirmButton.onclick=()=>{(y=>{const M=$1.innerParams.get(y);y.disableButtons(),M.input?$5(y,"confirm"):so(y,!0)})(y)},M.denyButton.onclick=()=>{(y=>{const M=$1.innerParams.get(y);y.disableButtons(),M.returnInputValueOnDeny?$5(y,"deny"):bs(y,!1)})(y)},M.cancelButton.onclick=()=>{((y,M)=>{y.disableButtons(),M(g3.cancel)})(y,Xe)},M.closeButton.onclick=()=>{Xe(g3.close)},((y,M,S)=>{$1.innerParams.get(y).toast?q0(y,M,S):(gr(M),Es(M),sh(y,M,S))})(y,M,Xe),((y,M,S,R)=>{Ja(M),S.toast||(M.keydownHandler=te=>$f(y,te,R),M.keydownTarget=S.keydownListenerCapture?window:ct(),M.keydownListenerCapture=S.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(y,v1,S,Xe),((y,M)=>{"select"===M.input||"radio"===M.input?io(y,M):["text","email","number","tel","textarea"].includes(M.input)&&(fr(M.inputValue)||L0(M.inputValue))&&(q1(fi()),Jf(y,M))})(y,S),Y0(S),fo(v1,S,Xe),ho(M,S),setTimeout(()=>{M.container.scrollTop=0})}),K0=(y,M)=>{const S=(y=>{const M="string"==typeof y.template?document.querySelector(y.template):y.template;if(!M)return{};const S=M.content;return uo(S),Object.assign(z1(S),Vt(S),gi(S),_4(S),R2(S),_3(S),kt(S,Gi))})(y),R=Object.assign({},y4,M,S,y);return R.showClass=Object.assign({},y4.showClass,R.showClass),R.hideClass=Object.assign({},y4.hideClass,R.hideClass),R},nl=y=>{const M={popup:ct(),container:u2(),actions:ys(),confirmButton:fi(),denyButton:pt(),cancelButton:Fr(),loader:f3(),closeButton:ja(),validationMessage:ki(),progressSteps:vs()};return $1.domCache.set(y,M),M},fo=(y,M,S)=>{const R=jn();P2(R),M.timer&&(y.timeout=new lo(()=>{S("timer"),delete y.timeout},M.timer),M.timerProgressBar&&(f2(R),$n(R,M,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&P0(M.timer)})))},ho=(y,M)=>{if(!M.toast){if(!l3(M.allowEnterKey))return void X2();w3(y,M)||Ms(-1,1)}},w3=(y,M)=>M.focusDeny&&q2(y.denyButton)?(y.denyButton.focus(),!0):M.focusCancel&&q2(y.cancelButton)?(y.cancelButton.focus(),!0):!(!M.focusConfirm||!q2(y.confirmButton)||(y.confirmButton.focus(),0)),X2=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const y=new Date,M=localStorage.getItem("swal-initiation");M?(y.getTime()-Date.parse(M))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const S=document.createElement("audio");S.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",S.loop=!0,document.body.appendChild(S),setTimeout(()=>{S.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}y1.prototype.disableButtons=ao,y1.prototype.enableButtons=v3,y1.prototype.getInput=Qf,y1.prototype.disableInput=Z5,y1.prototype.enableInput=ws,y1.prototype.hideLoading=W0,y1.prototype.disableLoading=W0,y1.prototype.showValidationMessage=X5,y1.prototype.resetValidationMessage=Y5,y1.prototype.close=v4,y1.prototype.closePopup=v4,y1.prototype.closeModal=v4,y1.prototype.closeToast=v4,y1.prototype.rejectPromise=Yf,y1.prototype.update=K5,y1.prototype._destroy=Ui,Object.assign(y1,el),Object.keys(st).forEach(y=>{y1[y]=function(){return Zn&&Zn[y]?Zn[y](...arguments):null}}),y1.DismissReason=g3,y1.version="11.7.12";const J0=y1;return J0.default=J0,J0}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ms,v1){var it=ms.createElement("style");if(ms.getElementsByTagName("head")[0].appendChild(it),it.styleSheet)it.styleSheet.disabled||(it.styleSheet.cssText=v1);else try{it.innerHTML=v1}catch{it.innerText=v1}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}},T0=>{T0(T0.s=731)}]);