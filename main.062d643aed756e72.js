(self.webpackChunkportfolioAngular=self.webpackChunkportfolioAngular||[]).push([[179],{523:(_0,os,_1)=>{"use strict";function Z1(n){return"function"==typeof n}function Ha(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G1=Ha(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Va(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class fi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Z1(i))try{i()}catch(s){e=s instanceof G1?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{o3(s)}catch(a){e=e??[],a instanceof G1?e=[...e,...a.errors]:e.push(a)}}if(e)throw new G1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)o3(e);else{if(e instanceof fi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Va(t,e)}remove(e){const{_finalizers:t}=this;t&&Va(t,e),e instanceof fi&&e._removeParent(this)}}fi.EMPTY=(()=>{const n=new fi;return n.closed=!0,n})();const ie=fi.EMPTY;function Hf(n){return n instanceof fi||n&&"closed"in n&&Z1(n.remove)&&Z1(n.add)&&Z1(n.unsubscribe)}function o3(n){Z1(n)?n():n.unsubscribe()}const Lr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},c3={setTimeout(n,e,...t){const{delegate:i}=c3;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=c3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function G2(n){c3.setTimeout(()=>{const{onUnhandledError:e}=Lr;if(!e)throw n;e(n)})}function Nr(){}const C5=l3("C",void 0,void 0);function l3(n,e,t){return{kind:n,value:e,error:t}}let sr=null;function Ir(n){if(Lr.useDeprecatedSynchronousErrorHandling){const e=!sr;if(e&&(sr={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=sr;if(sr=null,t)throw i}}else n()}class f2 extends fi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Hf(e)&&e.add(this)):this.destination=w5}static create(e,t,i){return new ar(e,t,i)}next(e){this.isStopped?u3(function Of(n){return l3("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?u3(function Vf(n){return l3("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?u3(C5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const cs=Function.prototype.bind;function W2(n,e){return cs.call(n,e)}class ct{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Oa(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Oa(i)}else Oa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oa(t)}}}class ar extends f2{constructor(e,t,i){let r;if(super(),Z1(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Lr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&W2(e.next,s),error:e.error&&W2(e.error,s),complete:e.complete&&W2(e.complete,s)}):r=e}this.destination=new ct(r)}}function Oa(n){Lr.useDeprecatedSynchronousErrorHandling?function M0(n){Lr.useDeprecatedSynchronousErrorHandling&&sr&&(sr.errorThrown=!0,sr.error=n)}(n):G2(n)}function u3(n,e){const{onStoppedNotification:t}=Lr;t&&c3.setTimeout(()=>t(n,e))}const w5={closed:!0,next:Nr,error:function b5(n){throw n},complete:Nr},ls="function"==typeof Symbol&&Symbol.observable||"@@observable";function hi(n){return n}function Rr(n){return 0===n.length?hi:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function us(n){return n&&n instanceof f2||function f3(n){return n&&Z1(n.next)&&Z1(n.error)&&Z1(n.complete)}(n)&&Hf(n)}(t)?t:new ar(t,i,r);return Ir(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=S5(i))((r,s)=>{const a=new ar({next:o=>{try{t(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[ls](){return this}pipe(...t){return Rr(t)(this)}toPromise(t){return new(t=S5(t))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return n.create=e=>new n(e),n})();function S5(n){var e;return null!==(e=n??Lr.Promise)&&void 0!==e?e:Promise}const A5=Ha(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Un=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Fa(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new A5}next(t){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Ir(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?ie:(this.currentObservers=null,s.push(t),new fi(()=>{this.currentObservers=null,Va(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new Fa(e,t),n})();class Fa extends Un{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ie}}class Bn extends Un{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function ka(n){return Z1(n?.lift)}function Yt(n){return e=>{if(ka(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(n,e,t,i,r){return new Ff(n,e,t,i,r)}class Ff extends f2{constructor(e,t,i,r,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(o){try{t(o)}catch(c){e.error(c)}}:super._next,this._error=r?function(o){try{r(o)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function C1(n,e){return Yt((t,i)=>{let r=0;t.subscribe(Ht(i,s=>{i.next(n.call(e,s,r++))}))})}function cr(n){return this instanceof cr?(this.v=n,this):new cr(n)}function Pr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function C0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(a){return new Promise(function(o,c){!function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=n[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const N5=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ua(n){return Z1(n?.then)}function I5(n){return Z1(n[ls])}function R5(n){return Symbol.asyncIterator&&Z1(n?.[Symbol.asyncIterator])}function P5(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const H5=function Jf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function V5(n){return Z1(n?.[H5])}function O5(n){return function L5(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(d){return new Promise(function(p,m){s.push([h,d,p,m])>1||o(h,d)})})}function o(h,d){try{!function c(h){h.value instanceof cr?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}(i[h](d))}catch(p){f(s[0][3],p)}}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,d){h(d),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield cr(t.read());if(r)return yield cr(void 0);yield yield cr(i)}}finally{t.releaseLock()}})}function F5(n){return Z1(n?.getReader)}function mi(n){if(n instanceof pt)return n;if(null!=n){if(I5(n))return function Kf(n){return new pt(e=>{const t=n[ls]();if(Z1(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(N5(n))return function Qf(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Ua(n))return function A0(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,G2)})}(n);if(R5(n))return z0(n);if(V5(n))return function ds(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(F5(n))return function Ba(n){return z0(O5(n))}(n)}throw P5(n)}function z0(n){return new pt(e=>{(function Q2(n,e){var t,i,r,s;return function S2(n,e,t,i){return new(t||(t=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(f){a(f)}}function c(u){try{l(i.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(a){a(s)})}(u.value).then(o,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Pr(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function lr(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function A2(n,e,t=1/0){return Z1(e)?A2((i,r)=>C1((s,a)=>e(i,s,r,a))(mi(n(i,r))),t):("number"==typeof e&&(t=e),Yt((i,r)=>function eh(n,e,t,i,r,s,a,o){const c=[];let l=0,u=0,f=!1;const h=()=>{f&&!c.length&&!l&&e.complete()},d=m=>l<i?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;mi(t(m,u++)).subscribe(Ht(e,v=>{r?.(v),s?d(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){const v=c.shift();a?lr(e,a,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Ht(e,d,()=>{f=!0,h()})),()=>{o?.()}}(i,r,n,t)))}function m4(n=1/0){return A2(hi,n)}const ki=new pt(n=>n.complete());function E0(n){return n[n.length-1]}function T0(n){return Z1(E0(n))?n.pop():void 0}function ps(n){return function k5(n){return n&&Z1(n.schedule)}(E0(n))?n.pop():void 0}function U5(n,e=0){return Yt((t,i)=>{t.subscribe(Ht(i,r=>lr(i,n,()=>i.next(r),e),()=>lr(i,n,()=>i.complete(),e),r=>lr(i,n,()=>i.error(r),e)))})}function B5(n,e=0){return Yt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function W5(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{lr(t,e,()=>{const i=n[Symbol.asyncIterator]();lr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function r2(n,e){return e?function ah(n,e){if(null!=n){if(I5(n))return function ih(n,e){return mi(n).pipe(B5(e),U5(e))}(n,e);if(N5(n))return function sh(n,e){return new pt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Ua(n))return function rh(n,e){return mi(n).pipe(B5(e),U5(e))}(n,e);if(R5(n))return W5(n,e);if(V5(n))return function G5(n,e){return new pt(t=>{let i;return lr(t,e,()=>{i=n[H5](),lr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void t.error(a)}s?t.complete():t.next(r)},0,!0)}),()=>Z1(i?.return)&&i.return()})}(n,e);if(F5(n))return function j5(n,e){return W5(O5(n),e)}(n,e)}throw P5(n)}(n,e):mi(n)}function l1(...n){return r2(n,ps(n))}function $5(n={}){const{connector:e=(()=>new Un),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let a,o,c,l=0,u=!1,f=!1;const h=()=>{o?.unsubscribe(),o=void 0},d=()=>{h(),a=c=void 0,u=f=!1},p=()=>{const m=a;d(),m?.unsubscribe()};return Yt((m,g)=>{l++,!f&&!u&&h();const v=c=c??e();g.add(()=>{l--,0===l&&!f&&!u&&(o=ms(p,r))}),v.subscribe(g),!a&&l>0&&(a=new ar({next:M=>v.next(M),error:M=>{f=!0,h(),o=ms(d,t,M),v.error(M)},complete:()=>{u=!0,h(),o=ms(d,i),v.complete()}}),mi(m).subscribe(a))})(s)}}function ms(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new ar({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function Gn(n,e){return Yt((t,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();t.subscribe(Ht(i,c=>{r?.unsubscribe();let l=0;const u=s++;mi(n(c,u)).subscribe(r=Ht(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,o()}))},()=>{a=!0,o()}))})}function ch(n,e){return n===e}function ht(n){for(let e in n)if(n[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function Ga(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function s2(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(s2).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function D0(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const gs=ht({__forward_ref__:ht});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return s2(this())},n}function d1(n){return L0(n)?n():n}function L0(n){return"function"==typeof n&&n.hasOwnProperty(gs)&&n.__forward_ref__===xt}function N0(n){return n&&!!n.\u0275providers}const q5="https://g.co/ng/security#xss";class me extends Error{constructor(e,t){super(function Wa(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function M1(n){return"string"==typeof n?n:null==n?"":String(n)}function vs(n,e){throw new me(-201,!1)}function jn(n,e){null==n&&function ut(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function en(n){return{providers:n.providers||[],imports:n.imports||[]}}function ja(n){return X5(n,g3)||X5(n,I0)}function X5(n,e){return n.hasOwnProperty(e)?n[e]:null}function J5(n){return n&&(n.hasOwnProperty($a)||n.hasOwnProperty(R0))?n[$a]:null}const g3=ht({\u0275prov:ht}),$a=ht({\u0275inj:ht}),I0=ht({ngInjectableDef:ht}),R0=ht({ngInjectorDef:ht});var r1=(()=>((r1=r1||{})[r1.Default=0]="Default",r1[r1.Host=1]="Host",r1[r1.Self=2]="Self",r1[r1.SkipSelf=4]="SkipSelf",r1[r1.Optional=8]="Optional",r1))();let P0;function j2(n){const e=P0;return P0=n,e}function V0(n,e,t){const i=ja(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&r1.Optional?null:void 0!==e?e:void vs(s2(n))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),v3={},Hr="__NG_DI_FLAG__",qa="ngTempTokenPath",Mh=/\n/gm,O0="__source";let v4;function Vr(n){const e=v4;return v4=n,e}function Ch(n,e=r1.Default){if(void 0===v4)throw new me(-203,!1);return null===v4?V0(n,void 0,e):v4.get(n,e&r1.Optional?null:void 0,e)}function Ye(n,e=r1.Default){return(function H0(){return P0}()||Ch)(d1(n),e)}function Re(n,e=r1.Default){return Ye(n,ys(e))}function ys(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function k0(n){const e=[];for(let t=0;t<n.length;t++){const i=d1(n[t]);if(Array.isArray(i)){if(0===i.length)throw new me(900,!1);let r,s=r1.Default;for(let a=0;a<i.length;a++){const o=i[a],c=U0(o);"number"==typeof c?-1===c?r=o.token:s|=c:r=o}e.push(Ye(r,s))}else e.push(Ye(i))}return e}function y3(n,e){return n[Hr]=e,n.prototype[Hr]=e,n}function U0(n){return n[Hr]}function ur(n){return{toString:n}.toString()}var Ui=(()=>((Ui=Ui||{})[Ui.OnPush=0]="OnPush",Ui[Ui.Default=1]="Default",Ui))(),R2=(()=>{return(n=R2||(R2={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",R2;var n})();const Bi={},it=[],Za=ht({\u0275cmp:ht}),B0=ht({\u0275dir:ht}),Xa=ht({\u0275pipe:ht}),Q5=ht({\u0275mod:ht}),fr=ht({\u0275fac:ht}),_s=ht({__NG_ELEMENT_ID__:ht}),el=ht({__NG_ENV_ID__:ht});function G0(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Ya(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],a=t[i++],o=t[i++];n.setAttribute(e,a,o,s)}else{const s=r,a=t[++i];nl(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),i++}}return i}function tl(n){return 3===n||4===n||6===n}function nl(n){return 64===n.charCodeAt(0)}function Ms(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||W0(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function W0(n,e,t,i,r){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const o=n[s++];if("number"==typeof o){if(o===e){a=-1;break}if(o>e){a=s-1;break}}}for(;s<n.length;){const o=n[s];if("number"==typeof o)break;if(o===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const Ja="ng-template";function Sh(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const a=n[i++];if(t&&"class"===s&&-1!==G0(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function il(n){return 4===n.type&&n.value!==Ja}function Ah(n,e,t){return e===(4!==n.type||t?n.value:Ja)}function zh(n,e,t){let i=4;const r=n.attrs||[],s=function Dh(n){for(let e=0;e<n.length;e++)if(tl(n[e]))return e;return n.length}(r);let a=!1;for(let o=0;o<e.length;o++){const c=e[o];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!Ah(n,c,t)||""===c&&1===e.length){if($n(i))return!1;a=!0}}else{const l=8&i?c:e[++o];if(8&i&&null!==n.attrs){if(!Sh(n.attrs,l,t)){if($n(i))return!1;a=!0}continue}const f=Eh(8&i?"class":c,r,il(n),t);if(-1===f){if($n(i))return!1;a=!0;continue}if(""!==l){let h;h=f>s?"":r[f+1].toLowerCase();const d=8&i?h:null;if(d&&-1!==G0(d,l,0)||2&i&&l!==h){if($n(i))return!1;a=!0}}}}else{if(!a&&!$n(i)&&!$n(c))return!1;if(a&&$n(c))continue;a=!1,i=c|1&i}}return $n(i)||a}function $n(n){return 0==(1&n)}function Eh(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const a=e[r];if(a===n)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=e[++r];for(;"string"==typeof o;)o=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function Lh(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function rl(n,e,t=!1){for(let i=0;i<e.length;i++)if(zh(n,e[i],t))return!0;return!1}function Nh(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function sl(n,e){return n?":not("+e.trim()+")":e}function Ih(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&i){const o=n[++t];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!$n(a)&&(e+=sl(s,r),r=""),i=a,s=s||!$n(i);t++}return""!==r&&(e+=sl(s,r)),e}function h2(n){return ur(()=>{const e=ol(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ui.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||R2.Emulated,styles:n.styles||it,_:null,schemas:n.schemas||null,tView:null,id:""};cl(t);const i=n.dependencies;return t.directiveDefs=Ka(i,!1),t.pipeDefs=Ka(i,!0),t.id=function Fh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function al(n){return st(n)||Ct(n)}function Hh(n){return null!==n}function qn(n){return ur(()=>({type:n.type,bootstrap:n.bootstrap||it,declarations:n.declarations||it,imports:n.imports||it,exports:n.exports||it,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function j0(n,e){if(null==n)return Bi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function h1(n){return ur(()=>{const e=ol(n);return cl(e),e})}function st(n){return n[Za]||null}function Ct(n){return n[B0]||null}function X1(n){return n[Xa]||null}function vn(n,e){const t=n[Q5]||null;if(!t&&!0===e)throw new Error(`Type ${s2(n)} does not have '\u0275mod' property.`);return t}function ol(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Bi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||it,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:j0(n.inputs,e),outputs:j0(n.outputs)}}function cl(n){n.features?.forEach(e=>e(n))}function Ka(n,e){if(!n)return null;const t=e?X1:al;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Hh)}const Vt=0,y=1,_=2,w=3,R=4,te=5,He=6,W1=7,I1=8,Ot=9,Zn=10,g1=11,$0=12,yM=13,Qa=14,d2=15,q0=16,eo=17,Or=18,Z0=19,_M=20,M3=21,_4=22,ll=23,ul=24,Y1=25,kh=1,MM=2,Fr=7,to=9,nn=11;function gi(n){return Array.isArray(n)&&"object"==typeof n[kh]}function Xn(n){return Array.isArray(n)&&!0===n[kh]}function Uh(n){return 0!=(4&n.flags)}function xs(n){return n.componentOffset>-1}function hl(n){return 1==(1&n.flags)}function hr(n){return!!n.template}function Bh(n){return 0!=(512&n[_])}function Cs(n,e){return n.hasOwnProperty(fr)?n[fr]:null}let CH=mt.WeakRef??class xH{constructor(e){this.ref=e}deref(){return this.ref}},wH=0,kr=null,dl=!1;function P2(n){const e=kr;return kr=n,e}class SM{constructor(){this.id=wH++,this.ref=function bH(n){return new CH(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const i=t.producerNode.deref();if(void 0!==i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=dl;dl=!0;try{for(const[t,i]of this.consumers){const r=i.consumerNode.deref();void 0!==r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),r?.producers.delete(this.id))}}finally{dl=e}}producerAccessed(){if(dl)throw new Error("");if(null===kr)return;let e=kr.producers.get(this.id);void 0===e?(e={consumerNode:kr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:kr.trackingVersion},kr.producers.set(this.id,e),this.consumers.set(kr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=kr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==kr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let AM=null;const EM=()=>{};class EH extends SM{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=EM,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=P2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=EM,this.watch(this.registerOnCleanup)}finally{P2(e)}}cleanup(){this.cleanupFn()}}class TH{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function yn(){return TM}function TM(n){return n.type.prototype.ngOnChanges&&(n.setInput=LH),DH}function DH(){const n=LM(this),e=n?.current;if(e){const t=n.previous;if(t===Bi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function LH(n,e,t,i){const r=this.declaredInputs[t],s=LM(n)||function NH(n,e){return n[DM]=e}(n,{previous:Bi,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[r];a[r]=new TH(c&&c.currentValue,e,o===Bi),n[i]=e}yn.ngInherit=!0;const DM="__ngSimpleChanges__";function LM(n){return n[DM]||null}const Ur=function(n,e,t){};function Lt(n){for(;Array.isArray(n);)n=n[Vt];return n}function gl(n,e){return Lt(e[n])}function Yn(n,e){return Lt(e[n.index])}function RM(n,e){return n.data[e]}function vi(n,e){const t=e[n];return gi(t)?t:t[Vt]}function x3(n,e){return null==e?null:n[e]}function PM(n){n[eo]=0}function FH(n){1024&n[_]||(n[_]|=1024,VM(n,1))}function HM(n){1024&n[_]&&(n[_]&=-1025,VM(n,-1))}function VM(n,e){let t=n[w];if(null===t)return;t[te]+=e;let i=t;for(t=t[w];null!==t&&(1===e&&1===i[te]||-1===e&&0===i[te]);)t[te]+=e,i=t,t=t[w]}const v1={lFrame:ZM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kM(){return v1.bindingsEnabled}function io(){return null!==v1.skipHydrationRootTNode}function de(){return v1.lFrame.lView}function rt(){return v1.lFrame.tView}function St(n){return v1.lFrame.contextLView=n,n[I1]}function At(n){return v1.lFrame.contextLView=null,n}function $2(){let n=UM();for(;null!==n&&64===n.type;)n=n.parent;return n}function UM(){return v1.lFrame.currentTNode}function Br(n,e){const t=v1.lFrame;t.currentTNode=n,t.isParent=e}function Zh(){return v1.lFrame.isParent}function Xh(){v1.lFrame.isParent=!1}function _n(){const n=v1.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ro(){return v1.lFrame.bindingIndex++}function JH(n,e){const t=v1.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yh(e)}function Yh(n){v1.lFrame.currentDirectiveIndex=n}function jM(){return v1.lFrame.currentQueryIndex}function Kh(n){v1.lFrame.currentQueryIndex=n}function QH(n){const e=n[y];return 2===e.type?e.declTNode:1===e.type?n[He]:null}function $M(n,e,t){if(t&r1.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&r1.Host||(r=QH(s),null===r||(s=s[Qa],10&r.type))););if(null===r)return!1;e=r,n=s}const i=v1.lFrame=qM();return i.currentTNode=e,i.lView=n,!0}function Qh(n){const e=qM(),t=n[y];v1.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qM(){const n=v1.lFrame,e=null===n?null:n.child;return null===e?ZM(n):e}function ZM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function XM(){const n=v1.lFrame;return v1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const YM=XM;function ed(){const n=XM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mn(){return v1.lFrame.selectedIndex}function bs(n){v1.lFrame.selectedIndex=n}function Bt(){const n=v1.lFrame;return RM(n.tView,n.selectedIndex)}let QM=!0;function vl(){return QM}function C3(n){QM=n}function yl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(n.contentHooks??=[]).push(-t,a),o&&((n.contentHooks??=[]).push(t,o),(n.contentCheckHooks??=[]).push(t,o)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function _l(n,e,t){ex(n,e,3,t)}function Ml(n,e,t,i){(3&n[_])===t&&ex(n,e,t,i)}function td(n,e){let t=n[_];(3&t)===e&&(t&=8191,t+=1,n[_]=t)}function ex(n,e,t,i){const s=i??-1,a=e.length-1;let o=0;for(let c=void 0!==i?65535&n[eo]:0;c<a;c++)if("number"==typeof e[c+1]){if(o=e[c],null!=i&&o>=i)break}else e[c]<0&&(n[eo]+=65536),(o<s||-1==s)&&(aV(n,t,e,c),n[eo]=(4294901760&n[eo])+c+2),c++}function tx(n,e){Ur(4,n,e);const t=P2(null);try{e.call(n)}finally{P2(t),Ur(5,n,e)}}function aV(n,e,t,i){const r=t[i]<0,s=t[i+1],o=n[r?-t[i]:t[i]];r?n[_]>>13<n[eo]>>16&&(3&n[_])===e&&(n[_]+=8192,tx(o,s)):tx(o,s)}const so=-1;class J0{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function nx(n){return n!==so}function xl(n){return 32767&n}function Cl(n,e){let t=function uV(n){return n>>16}(n),i=e;for(;t>0;)i=i[Qa],t--;return i}let id=!0;function bl(n){const e=id;return id=n,e}const ix=255,rx=5;let fV=0;const Gr={};function wl(n,e){const t=sx(n,e);if(-1!==t)return t;const i=e[y];i.firstCreatePass&&(n.injectorIndex=e.length,rd(i.data,n),rd(e,null),rd(i.blueprint,null));const r=sd(n,e),s=n.injectorIndex;if(nx(r)){const a=xl(r),o=Cl(r,e),c=o[y].data;for(let l=0;l<8;l++)e[s+l]=o[a+l]|c[a+l]}return e[s+8]=r,s}function rd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function sx(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=hx(r),null===i)return so;if(t++,r=r[Qa],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return so}function ad(n,e,t){!function hV(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(_s)&&(i=t[_s]),null==i&&(i=t[_s]=fV++);const r=i&ix;e.data[n+(r>>rx)]|=1<<r}(n,e,t)}function ax(n,e,t){if(t&r1.Optional||void 0!==n)return n;vs()}function ox(n,e,t,i){if(t&r1.Optional&&void 0===i&&(i=null),!(t&(r1.Self|r1.Host))){const r=n[Ot],s=j2(void 0);try{return r?r.get(e,i,t&r1.Optional):V0(e,i,t&r1.Optional)}finally{j2(s)}}return ax(i,0,t)}function cx(n,e,t,i=r1.Default,r){if(null!==n){if(2048&e[_]&&!(i&r1.Self)){const a=function vV(n,e,t,i,r){let s=n,a=e;for(;null!==s&&null!==a&&2048&a[_]&&!(512&a[_]);){const o=lx(s,a,t,i|r1.Self,Gr);if(o!==Gr)return o;let c=s.parent;if(!c){const l=a[_M];if(l){const u=l.get(t,Gr,i);if(u!==Gr)return u}c=hx(a),a=a[Qa]}s=c}return r}(n,e,t,i,Gr);if(a!==Gr)return a}const s=lx(n,e,t,i,Gr);if(s!==Gr)return s}return ox(e,t,i,r)}function lx(n,e,t,i,r){const s=function mV(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_s)?n[_s]:void 0;return"number"==typeof e?e>=0?e&ix:gV:e}(t);if("function"==typeof s){if(!$M(e,n,i))return i&r1.Host?ax(r,0,i):ox(e,t,i,r);try{const a=s(i);if(null!=a||i&r1.Optional)return a;vs()}finally{YM()}}else if("number"==typeof s){let a=null,o=sx(n,e),c=so,l=i&r1.Host?e[d2][He]:null;for((-1===o||i&r1.SkipSelf)&&(c=-1===o?sd(n,e):e[o+8],c!==so&&fx(i,!1)?(a=e[y],o=xl(c),e=Cl(c,e)):o=-1);-1!==o;){const u=e[y];if(ux(s,o,u.data)){const f=pV(o,e,t,a,i,l);if(f!==Gr)return f}c=e[o+8],c!==so&&fx(i,e[y].data[o+8]===l)&&ux(s,o,e)?(a=u,o=xl(c),e=Cl(c,e)):o=-1}}return r}function pV(n,e,t,i,r,s){const a=e[y],o=a.data[n+8],u=Sl(o,a,t,null==i?xs(o)&&id:i!=a&&0!=(3&o.type),r&r1.Host&&s===o);return null!==u?ws(e,a,u,o):Gr}function Sl(n,e,t,i,r){const s=n.providerIndexes,a=e.data,o=1048575&s,c=n.directiveStart,u=s>>20,h=r?o+u:n.directiveEnd;for(let d=i?o:o+u;d<h;d++){const p=a[d];if(d<c&&t===p||d>=c&&p.type===t)return d}if(r){const d=a[c];if(d&&hr(d)&&d.type===t)return c}return null}function ws(n,e,t,i){let r=n[t];const s=e.data;if(function oV(n){return n instanceof J0}(r)){const a=r;a.resolving&&function p3(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new me(-200,`Circular dependency in DI detected for ${n}${t}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():M1(n)}(s[t]));const o=bl(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?j2(a.injectImpl):null;$M(n,i,r1.Default);try{r=n[t]=a.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function sV(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const a=TM(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&j2(c),bl(o),a.resolving=!1,YM()}}return r}function ux(n,e,t){return!!(t[e+(n>>rx)]&1<<n)}function fx(n,e){return!(n&r1.Self||n&r1.Host&&e)}class ao{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return cx(this._tNode,this._lView,e,ys(i),t)}}function gV(){return new ao($2(),de())}function q2(n){return ur(()=>{const e=n.prototype.constructor,t=e[fr]||od(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[fr]||od(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function od(n){return L0(n)?()=>{const e=od(d1(n));return e&&e()}:Cs(n)}function hx(n){const e=n[y],t=e.type;return 2===t?e.declTNode:1===t?n[He]:null}const co="__parameters__";function uo(n,e,t){return ur(()=>{const i=function cd(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(c,l,u){const f=c.hasOwnProperty(co)?c[co]:Object.defineProperty(c,co,{value:[]})[co];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function ec(n,e){n.forEach(t=>Array.isArray(t)?ec(t,e):e(t))}function px(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function zl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function tc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function yi(n,e,t){let i=fo(n,e);return i>=0?n[1|i]=t:(i=~i,function CV(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function ld(n,e){const t=fo(n,e);if(t>=0)return n[1|t]}function fo(n,e){return function mx(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),a=n[s<<t];if(e===a)return s<<t;a>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Tl=y3(uo("Optional"),8),Dl=y3(uo("SkipSelf"),4);function Rl(n){return 128==(128&n.flags)}var Jn=(()=>((Jn=Jn||{})[Jn.Important=1]="Important",Jn[Jn.DashCase=2]="DashCase",Jn))();const md=new Map;let $V=0;const vd="__ngContext__";function rn(n,e){gi(e)?(n[vd]=e[Z0],function ZV(n){md.set(n[Z0],n)}(e)):n[vd]=e}let yd;function _d(n,e){return yd(n,e)}function rc(n){const e=n[w];return Xn(e)?e[w]:e}function Px(n){return Vx(n[$0])}function Hx(n){return Vx(n[R])}function Vx(n){for(;null!==n&&!Xn(n);)n=n[R];return n}function mo(n,e,t,i,r){if(null!=i){let s,a=!1;Xn(i)?s=i:gi(i)&&(a=!0,i=i[Vt]);const o=Lt(i);0===n&&null!==t?null==r?Bx(e,t,o):Ss(e,t,o,r||null,!0):1===n&&null!==t?Ss(e,t,o,r||null,!0):2===n?function kl(n,e,t){const i=Ol(n,e);i&&function dO(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,o,a):3===n&&e.destroyNode(o),null!=s&&function gO(n,e,t,i,r){const s=t[Fr];s!==Lt(t)&&mo(e,n,i,s,r);for(let o=nn;o<t.length;o++){const c=t[o];ac(c[y],c,n,e,i,s)}}(e,n,s,t,r)}}function Vl(n,e,t){return n.createElement(e,t)}function Fx(n,e){const t=n[to],i=t.indexOf(e);HM(e),t.splice(i,1)}function xd(n,e){if(n.length<=nn)return;const t=nn+e,i=n[t];if(i){const r=i[q0];null!==r&&r!==n&&Fx(r,i),e>0&&(n[t-1][R]=i[R]);const s=zl(n,nn+e);!function sO(n,e){ac(n,e,e[g1],2,null,null),e[Vt]=null,e[He]=null}(i[y],i);const a=s[Or];null!==a&&a.detachView(s[y]),i[w]=null,i[R]=null,i[_]&=-129}return i}function kx(n,e){if(!(256&e[_])){const t=e[g1];e[ll]?.destroy(),e[ul]?.destroy(),t.destroyNode&&ac(n,e,t,3,null,null),function cO(n){let e=n[$0];if(!e)return Cd(n[y],n);for(;e;){let t=null;if(gi(e))t=e[$0];else{const i=e[nn];i&&(t=i)}if(!t){for(;e&&!e[R]&&e!==n;)gi(e)&&Cd(e[y],e),e=e[w];null===e&&(e=n),gi(e)&&Cd(e[y],e),t=e&&e[R]}e=t}}(e)}}function Cd(n,e){if(!(256&e[_])){e[_]&=-129,e[_]|=256,function hO(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof J0)){const s=t[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],c=s[a+1];Ur(4,o,c);try{c.call(o)}finally{Ur(5,o,c)}}else{Ur(4,r,s);try{s.call(r)}finally{Ur(5,r,s)}}}}}(n,e),function fO(n,e){const t=n.cleanup,i=e[W1];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[W1]=null);const r=e[M3];if(null!==r){e[M3]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[y].type&&e[g1].destroy();const t=e[q0];if(null!==t&&Xn(e[w])){t!==e[w]&&Fx(t,e);const i=e[Or];null!==i&&i.detachView(n)}!function XV(n){md.delete(n[Z0])}(e)}}function bd(n,e,t){return function Ux(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Vt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===R2.None||s===R2.Emulated)return null}return Yn(i,t)}}(n,e.parent,t)}function Ss(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Bx(n,e,t){n.appendChild(e,t)}function Gx(n,e,t,i,r){null!==i?Ss(n,e,t,i,r):Bx(n,e,t)}function Ol(n,e){return n.parentNode(e)}function Wx(n,e,t){return $x(n,e,t)}let wd,Ul,Ed,Bl,$x=function jx(n,e,t){return 40&n.type?Yn(n,t):null};function Fl(n,e,t,i){const r=bd(n,i,e),s=e[g1],o=Wx(i.parent||e[He],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)Gx(s,r,t[c],o,!1);else Gx(s,r,t,o,!1);void 0!==wd&&wd(s,i,e,t,r)}function sc(n,e){if(null!==e){const t=e.type;if(3&t)return Yn(e,n);if(4&t)return Sd(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return sc(n,i);{const r=n[e.index];return Xn(r)?Sd(-1,r):Lt(r)}}if(32&t)return _d(e,n)()||Lt(n[e.index]);{const i=Zx(n,e);return null!==i?Array.isArray(i)?i[0]:sc(rc(n[d2]),i):sc(n,e.next)}}return null}function Zx(n,e){return null!==e?n[d2][He].projection[e.projection]:null}function Sd(n,e){const t=nn+n+1;if(t<e.length){const i=e[t],r=i[y].firstChild;if(null!==r)return sc(i,r)}return e[Fr]}function Ad(n,e,t,i,r,s,a){for(;null!=t;){const o=i[t.index],c=t.type;if(a&&0===e&&(o&&rn(Lt(o),i),t.flags|=2),32!=(32&t.flags))if(8&c)Ad(n,e,t.child,i,r,s,!1),mo(e,n,r,o,s);else if(32&c){const l=_d(t,i);let u;for(;u=l();)mo(e,n,r,u,s);mo(e,n,r,o,s)}else 16&c?Yx(n,e,i,t,r,s):mo(e,n,r,o,s);t=a?t.projectionNext:t.next}}function ac(n,e,t,i,r,s){Ad(t,i,n.firstChild,e,r,s,!1)}function Yx(n,e,t,i,r,s){const a=t[d2],c=a[He].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)mo(e,n,r,c[l],s);else{let l=c;const u=a[w];Rl(i)&&(l.flags|=128),Ad(n,e,l,u,r,s,!0)}}function Jx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Kx(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Ya(n,e,i),null!==r&&Jx(n,e,r),null!==s&&function yO(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function go(n){return function zd(){if(void 0===Ul&&(Ul=null,mt.trustedTypes))try{Ul=mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}()?.createHTML(n)||n}function oc(){if(void 0!==Ed)return Ed;if(typeof document<"u")return document;throw new me(210,!1)}function Td(){if(void 0===Bl&&(Bl=null,mt.trustedTypes))try{Bl=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bl}function Qx(n){return Td()?.createHTML(n)||n}function tC(n){return Td()?.createScriptURL(n)||n}class As{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${q5})`}}class bO extends As{getTypeName(){return"HTML"}}class wO extends As{getTypeName(){return"Style"}}class SO extends As{getTypeName(){return"Script"}}class AO extends As{getTypeName(){return"URL"}}class zO extends As{getTypeName(){return"ResourceURL"}}function _i(n){return n instanceof As?n.changingThisBreaksApplicationSecurity:n}function Wr(n,e){const t=function EO(n){return n instanceof As&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${q5})`)}return t===e}class RO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(go(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class PO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=go(e),t}}const VO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gl(n){return(n=String(n)).match(VO)?n:"unsafe:"+n}function C4(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function cc(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const iC=C4("area,br,col,hr,img,wbr"),rC=C4("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sC=C4("rp,rt"),Dd=cc(iC,cc(rC,C4("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cc(sC,C4("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cc(sC,rC)),Ld=C4("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),aC=cc(Ld,C4("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C4("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),OO=C4("script,style,template");class FO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Dd.hasOwnProperty(t))return this.sanitizedSomething=!0,!OO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!aC.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;Ld[o]&&(c=Gl(c)),this.buf.push(" ",a,'="',oC(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Dd.hasOwnProperty(t)&&!iC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(oC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const kO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,UO=/([^\#-~ |!])/g;function oC(n){return n.replace(/&/g,"&amp;").replace(kO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(UO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wl;function cC(n,e){let t=null;try{Wl=Wl||function nC(n){const e=new PO(n);return function HO(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch{return!1}}()?new RO(e):e}(n);let i=e?String(e):"";t=Wl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Wl.getInertBodyElement(i)}while(i!==s);return go((new FO).sanitizeChildren(Nd(t)||t))}finally{if(t){const i=Nd(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Nd(n){return"content"in n&&function BO(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tt=(()=>((Tt=Tt||{})[Tt.NONE=0]="NONE",Tt[Tt.HTML=1]="HTML",Tt[Tt.STYLE=2]="STYLE",Tt[Tt.SCRIPT=3]="SCRIPT",Tt[Tt.URL=4]="URL",Tt[Tt.RESOURCE_URL=5]="RESOURCE_URL",Tt))();function lC(n){const e=lc();return e?Qx(e.sanitize(Tt.HTML,n)||""):Wr(n,"HTML")?Qx(_i(n)):cC(oc(),M1(n))}function vo(n){const e=lc();return e?e.sanitize(Tt.URL,n)||"":Wr(n,"URL")?_i(n):Gl(M1(n))}function uC(n){const e=lc();if(e)return tC(e.sanitize(Tt.RESOURCE_URL,n)||"");if(Wr(n,"ResourceURL"))return tC(_i(n));throw new me(904,!1)}function lc(){const n=de();return n&&n[Zn].sanitizer}class Fe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const uc=new Fe("ENVIRONMENT_INITIALIZER"),hC=new Fe("INJECTOR",-1),dC=new Fe("INJECTOR_DEF_TYPES");class pC{get(e,t=v3){if(t===v3){const i=new Error(`NullInjectorError: No provider for ${s2(e)}!`);throw i.name="NullInjectorError",i}return t}}function ZO(...n){return{\u0275providers:mC(0,n),\u0275fromNgModule:!0}}function mC(n,...e){const t=[],i=new Set;let r;return ec(e,s=>{const a=s;Rd(a,t,[],i)&&(r||=[],r.push(a))}),void 0!==r&&gC(r,t),t}function gC(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Pd(r,s=>{e.push(s)})}}function Rd(n,e,t,i){if(!(n=d1(n)))return!1;let r=null,s=J5(n);const a=!s&&st(n);if(s||a){if(a&&!a.standalone)return!1;r=n}else{const c=n.ngModule;if(s=J5(c),!s)return!1;r=c}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)Rd(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;i.add(r);try{ec(s.imports,u=>{Rd(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&gC(l,e)}if(!o){const l=Cs(r)||(()=>new r);e.push({provide:r,useFactory:l,deps:it},{provide:dC,useValue:r,multi:!0},{provide:uc,useValue:()=>Ye(r),multi:!0})}const c=s.providers;null==c||o||Pd(c,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function Pd(n,e){for(let t of n)N0(t)&&(t=t.\u0275providers),Array.isArray(t)?Pd(t,e):e(t)}const XO=ht({provide:String,useValue:ht});function Hd(n){return null!==n&&"object"==typeof n&&XO in n}function zs(n){return"function"==typeof n}const Vd=new Fe("Set Injector scope."),jl={},JO={};let Od;function $l(){return void 0===Od&&(Od=new pC),Od}class jr{}class Fd extends jr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ud(e,a=>this.processProvider(a)),this.records.set(hC,yo(void 0,this)),r.has("environment")&&this.records.set(jr,yo(void 0,this));const s=this.records.get(Vd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(dC.multi,it,r1.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Vr(this),i=j2(void 0);try{return e()}finally{Vr(t),j2(i)}}get(e,t=v3,i=r1.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(el))return e[el](this);i=ys(i);const r=Vr(this),s=j2(void 0);try{if(!(i&r1.SkipSelf)){let o=this.records.get(e);if(void 0===o){const c=function nF(n){return"function"==typeof n||"object"==typeof n&&n instanceof Fe}(e)&&ja(e);o=c&&this.injectableDefInScope(c)?yo(kd(e),jl):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(i&r1.Self?$l():this.parent).get(e,t=i&r1.Optional&&t===v3?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[qa]=a[qa]||[]).unshift(s2(e)),r)throw a;return function bh(n,e,t,i){const r=n[qa];throw e[O0]&&r.unshift(e[O0]),n.message=function wh(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=s2(e);if(Array.isArray(e))r=e.map(s2).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let o=e[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):s2(o)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Mh,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[qa]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{j2(s),Vr(r)}}resolveInjectorInitializers(){const e=Vr(this),t=j2(void 0);try{const i=this.get(uc.multi,it,r1.Self);for(const r of i)r()}finally{Vr(e),j2(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(s2(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(e){let t=zs(e=d1(e))?e:d1(e&&e.provide);const i=function QO(n){return Hd(n)?yo(void 0,n.useValue):yo(_C(n),jl)}(e);if(zs(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=yo(void 0,jl,!0),r.factory=()=>k0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===jl&&(t.value=JO,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tF(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=d1(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function kd(n){const e=ja(n),t=null!==e?e.factory:Cs(n);if(null!==t)return t;if(n instanceof Fe)throw new me(204,!1);if(n instanceof Function)return function KO(n){const e=n.length;if(e>0)throw tc(e,"?"),new me(204,!1);const t=function Y5(n){return n&&(n[g3]||n[I0])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new me(204,!1)}function _C(n,e,t){let i;if(zs(n)){const r=d1(n);return Cs(r)||kd(r)}if(Hd(n))i=()=>d1(n.useValue);else if(function yC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...k0(n.deps||[]));else if(function vC(n){return!(!n||!n.useExisting)}(n))i=()=>Ye(d1(n.useExisting));else{const r=d1(n&&(n.useClass||n.provide));if(!function eF(n){return!!n.deps}(n))return Cs(r)||kd(r);i=()=>new r(...k0(n.deps))}return i}function yo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ud(n,e){for(const t of n)Array.isArray(t)?Ud(t,e):t&&N0(t)?Ud(t.\u0275providers,e):e(t)}const ql=new Fe("AppId",{providedIn:"root",factory:()=>iF}),iF="ng",MC=new Fe("Platform Initializer"),Es=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xC=new Fe("CSP nonce",{providedIn:"root",factory:()=>oc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bC=(n,e)=>null;function wC(n,e){return bC(n,e)}class hF{}class zC{}class pF{resolveComponentFactory(e){throw function dF(n){const e=Error(`No component factory found for ${s2(n)}.`);return e.ngComponent=n,e}(e)}}let Kl=(()=>{class n{}return n.NULL=new pF,n})();function mF(){return _o($2(),de())}function _o(n,e){return new sn(Yn(n,e))}let sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=mF,n})();function gF(n){return n instanceof sn?n.nativeElement:n}class TC{}let $r=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function vF(){const n=de(),t=vi($2().index,n);return(gi(t)?t:n)[g1]}(),n})(),yF=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>null}),n})();class pc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _F=new pc("16.1.4"),Kd={};function mc(n){for(;n;){n[_]|=64;const e=rc(n);if(Bh(n)&&!e)return n;n=e}return null}function Qd(n){return n.ngOriginalError}class Ts{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qd(e);for(;t&&Qd(t);)t=Qd(t);return t||null}}const NC=new Fe("",{providedIn:"root",factory:()=>!1});function b4(n){return n instanceof Function?n():n}class VC extends SM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){mc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){const r=P2(this);this.trackingVersion++;try{e(t,i)}finally{P2(r)}}destroy(){this.trackingVersion++}}let e7=null;function OC(){return e7??=new VC,e7}function FC(n,e){return n[e]??OC()}function kC(n,e){const t=OC();t.hasReadASignal&&(n[e]=e7,t.lView=n,e7=new VC)}const b1={};function Ne(n){UC(rt(),de(),Mn()+n,!1)}function UC(n,e,t,i){if(!i)if(3==(3&e[_])){const s=n.preOrderCheckHooks;null!==s&&_l(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Ml(e,s,0,t)}bs(t)}function jC(n,e=null,t=null,i){const r=$C(n,e,t,i);return r.resolveInjectorInitializers(),r}function $C(n,e=null,t=null,i,r=new Set){const s=[t||it,ZO(n)];return i=i||("object"==typeof n?void 0:s2(n)),new Fd(s,e||$l(),i||null,r)}let dr=(()=>{class n{static create(t,i){if(Array.isArray(t))return jC({name:""},i,t,"");{const r=t.name??"";return jC({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=v3,n.NULL=new pC,n.\u0275prov=Je({token:n,providedIn:"any",factory:()=>Ye(hC)}),n.__NG_ELEMENT_ID__=-1,n})();function le(n,e=r1.Default){const t=de();return null===t?Ye(n,e):cx($2(),t,d1(n),e)}function t7(n,e,t,i,r,s,a,o,c,l,u){const f=e.blueprint.slice();return f[Vt]=r,f[_]=140|i,(null!==l||n&&2048&n[_])&&(f[_]|=2048),PM(f),f[w]=f[Qa]=n,f[I1]=t,f[Zn]=a||n&&n[Zn],f[g1]=o||n&&n[g1],f[Ot]=c||n&&n[Ot]||null,f[He]=s,f[Z0]=function qV(){return $V++}(),f[_4]=u,f[_M]=l,f[d2]=2==e.type?n[d2]:f,f}function xo(n,e,t,i,r){let s=n.data[e];if(null===s)s=function ep(n,e,t,i,r){const s=UM(),a=Zh(),c=n.data[e]=function kF(n,e,t,i,r,s){let a=e?e.injectorIndex:-1,o=0;return io()&&(o|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,i,r),function YH(){return v1.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const a=function Y0(){const n=v1.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Br(s,!0),s}function gc(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function ZC(n,e,t,i,r){const s=FC(e,ll),a=Mn(),o=2&i;try{if(bs(-1),o&&e.length>Y1&&UC(n,e,Y1,!1),Ur(o?2:0,r),o)s.runInContext(t,i,r);else{const l=P2(null);try{t(i,r)}finally{P2(l)}}}finally{o&&null===e[ll]&&kC(e,ll),bs(a),Ur(o?3:1,r)}}function tp(n,e,t){if(Uh(e)){const i=P2(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const o=n.data[a];o.contentQueries&&o.contentQueries(1,t[a],a)}}finally{P2(i)}}}function np(n,e,t){kM()&&(function qF(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;xs(t)&&function ek(n,e,t){const i=Yn(e,n),r=XC(t);let a=16;t.signals?a=4096:t.onPush&&(a=64);const o=n7(n,t7(n,r,null,a,i,e,null,n[Zn].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=o}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||wl(t,e),rn(i,e);const a=t.initialInputs;for(let o=r;o<s;o++){const c=n.data[o],l=ws(e,n,o,t);rn(l,e),null!==a&&tk(0,o-r,l,c,0,a),hr(c)&&(vi(t.index,e)[I1]=ws(e,n,o,t))}}(n,e,t,Yn(t,e)),64==(64&t.flags)&&eb(n,e,t))}function ip(n,e,t=Yn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?t(e,n):n[a];n[r++]=o}}}function XC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=rp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function rp(n,e,t,i,r,s,a,o,c,l,u){const f=Y1+i,h=f+r,d=function RF(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:b1);return t}(f,h),p="function"==typeof l?l():l;return d[y]={type:n,blueprint:d,template:t,queries:null,viewQuery:o,declTNode:e,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let YC=n=>null;function JC(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?KC(t,e,r,s):i.hasOwnProperty(r)&&KC(t,e,i[r],s)}return t}function KC(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Mi(n,e,t,i,r,s,a,o){const c=Yn(e,t);let u,l=e.inputs;!o&&null!=l&&(u=l[i])?(lp(n,t,u,i,r),xs(e)&&function GF(n,e){const t=vi(e,n);16&t[_]||(t[_]|=64)}(t,e.index)):3&e.type&&(i=function BF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,e.value||"",i):r,s.setProperty(c,i,r))}function sp(n,e,t,i){if(kM()){const r=null===i?null:{"":-1},s=function XF(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(rl(e,a.selectors,!1))if(i||(i=[]),hr(a))if(null!==a.findHostDirectiveDefs){const o=[];r=r||new Map,a.findHostDirectiveDefs(a,o,r),i.unshift(...o,a),ap(n,e,o.length)}else i.unshift(a),ap(n,e,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(n,t);let a,o;null===s?a=o=null:[a,o]=s,null!==a&&QC(n,e,t,a,r,o),r&&function YF(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new me(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Ms(t.mergedAttrs,t.attrs)}function QC(n,e,t,i,r,s){for(let l=0;l<i.length;l++)ad(wl(t,e),n,i[l].type);!function KF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=gc(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=Ms(t.mergedAttrs,u.hostAttrs),QF(n,t,e,c,u),JF(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),o=!0),c++}!function UF(n,e,t){const r=e.directiveEnd,s=n.data,a=e.attrs,o=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const f=s[u],h=t?t.get(f):null,p=h?h.outputs:null;c=JC(f.inputs,u,c,h?h.inputs:null),l=JC(f.outputs,u,l,p);const m=null===c||null===a||il(e)?null:nk(c,u,a);o.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=o,e.inputs=c,e.outputs=l}(n,t,s)}function eb(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,a=function KH(){return v1.lFrame.currentDirectiveIndex}();try{bs(s);for(let o=i;o<r;o++){const c=n.data[o],l=e[o];Yh(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&ZF(c,l)}}finally{bs(-1),Yh(a)}}function ZF(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ap(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function JF(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;hr(e)&&(t[""]=n)}}function QF(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Cs(r.type)),a=new J0(s,hr(r),le);n.blueprint[i]=a,t[i]=a,function jF(n,e,t,i,r){const s=r.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const o=~e.index;(function $F(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=o&&a.push(o),a.push(t,i,s)}}(n,e,i,gc(n,t,r.hostVars,b1),r)}function qr(n,e,t,i,r,s){const a=Yn(n,e);!function op(n,e,t,i,r,s,a){if(null==s)n.removeAttribute(e,r,t);else{const o=null==a?M1(s):a(s,i||"",r);n.setAttribute(e,r,o,t)}}(e[g1],a,s,n.value,t,i,r)}function tk(n,e,t,i,r,s){const a=s[e];if(null!==a)for(let o=0;o<a.length;)tb(i,t,a[o++],a[o++],a[o++])}function tb(n,e,t,i,r){const s=P2(null);try{const a=n.inputTransforms;null!==a&&a.hasOwnProperty(i)&&(r=a[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{P2(s)}}function nk(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const a=n[s];for(let o=0;o<a.length;o+=2)if(a[o]===e){i.push(s,a[o+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function nb(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function ib(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=n.data[s];Kh(t[i]),a.contentQueries(2,e[s],s)}}}function n7(n,e){return n[$0]?n[yM][R]=e:n[$0]=e,n[yM]=e,e}function cp(n,e,t){Kh(0);const i=P2(null);try{e(n,t)}finally{P2(i)}}function rb(n){return n[W1]||(n[W1]=[])}function sb(n){return n.cleanup||(n.cleanup=[])}function ob(n,e){const t=n[Ot],i=t?t.get(Ts,null):null;i&&i.handleError(e)}function lp(n,e,t,i,r){for(let s=0;s<t.length;){const a=t[s++],o=t[s++];tb(n.data[a],e[a],i,o,r)}}function ik(n,e){const t=vi(e,n),i=t[y];!function rk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Vt];null!==r&&null===t[_4]&&(t[_4]=wC(r,t[Ot])),up(i,t,t[I1])}function up(n,e,t){Qh(e);try{const i=n.viewQuery;null!==i&&cp(1,i,t);const r=n.template;null!==r&&ZC(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ib(n,e),n.staticViewQueries&&cp(2,n.viewQuery,t);const s=n.components;null!==s&&function sk(n,e){for(let t=0;t<e.length;t++)ik(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[_]&=-5,ed()}}let cb=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,a=new EH(t,l=>{this.all.has(l)&&this.queue.set(l,s)},r);let o;this.all.add(a),a.notify();const c=()=>{a.cleanup(),o?.(),this.all.delete(a),this.queue.delete(a)};return o=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>new n}),n})();function i7(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const o=e[a];"number"==typeof o?s=o:1==s?r=D0(r,o):2==s&&(i=D0(i,o+": "+e[++a]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function vc(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Lt(s)),Xn(s)){for(let o=nn;o<s.length;o++){const c=s[o],l=c[y].firstChild;null!==l&&vc(c[y],c,l,i)}s[Fr]!==s[Vt]&&i.push(s[Fr])}const a=t.type;if(8&a)vc(n,e,t.child,i);else if(32&a){const o=_d(t,e);let c;for(;c=o();)i.push(c)}else if(16&a){const o=Zx(e,t);if(Array.isArray(o))i.push(...o);else{const c=rc(e[d2]);vc(c[y],c,o,i,!0)}}t=r?t.projectionNext:t.next}return i}function r7(n,e,t,i=!0){const r=e[Zn].rendererFactory;r.begin&&r.begin();try{lb(n,e,n.template,t)}catch(a){throw i&&ob(e,a),a}finally{r.end&&r.end(),e[Zn].effectManager?.flush()}}function lb(n,e,t,i){const r=e[_];if(256!=(256&r)){e[Zn].effectManager?.flush(),Qh(e);try{PM(e),function GM(n){return v1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ZC(n,e,t,2,i);const a=3==(3&r);if(a){const l=n.preOrderCheckHooks;null!==l&&_l(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Ml(e,l,0,null),td(e,0)}if(function uk(n){for(let e=Px(n);null!==e;e=Hx(e)){if(!e[MM])continue;const t=e[to];for(let i=0;i<t.length;i++){FH(t[i])}}}(e),ub(e,2),null!==n.contentQueries&&ib(n,e),a){const l=n.contentCheckHooks;null!==l&&_l(e,l)}else{const l=n.contentHooks;null!==l&&Ml(e,l,1),td(e,1)}!function IF(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=FC(e,ul);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)bs(~s);else{const a=s,o=t[++r],c=t[++r];JH(o,a),i.runInContext(c,2,e[a])}}}finally{null===e[ul]&&kC(e,ul),bs(-1)}}(n,e);const o=n.components;null!==o&&hb(e,o,0);const c=n.viewQuery;if(null!==c&&cp(2,c,i),a){const l=n.viewCheckHooks;null!==l&&_l(e,l)}else{const l=n.viewHooks;null!==l&&Ml(e,l,2),td(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[_]&=-73,HM(e)}finally{ed()}}}function ub(n,e){for(let t=Px(n);null!==t;t=Hx(t))for(let i=nn;i<t.length;i++)fb(t[i],e)}function fk(n,e,t){fb(vi(e,n),t)}function fb(n,e){if(!function VH(n){return 128==(128&n[_])}(n))return;const t=n[y];if(80&n[_]&&0===e||1024&n[_]||2===e)lb(t,n,t.template,n[I1]);else if(n[te]>0){ub(n,1);const r=n[y].components;null!==r&&hb(n,r,1)}}function hb(n,e,t){for(let i=0;i<e.length;i++)fk(n,e[i],t)}class yc{get rootNodes(){const e=this._lView,t=e[y];return vc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[I1]}set context(e){this._lView[I1]=e}get destroyed(){return 256==(256&this._lView[_])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[w];if(Xn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(xd(e,i),zl(t,i))}this._attachedToViewContainer=!1}kx(this._lView[y],this._lView)}onDestroy(e){!function OM(n,e){if(256==(256&n[_]))throw new me(911,!1);null===n[M3]&&(n[M3]=[]),n[M3].push(e)}(this._lView,e)}markForCheck(){mc(this._cdRefInjectingView||this._lView)}detach(){this._lView[_]&=-129}reattach(){this._lView[_]|=128}detectChanges(){r7(this._lView[y],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oO(n,e){ac(n,e,e[g1],2,null,null)}(this._lView[y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=e}}class hk extends yc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;r7(e[y],e,e[I1],!1)}checkNoChanges(){}get context(){return null}}class db extends Kl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=st(e);return new _c(t,this.ngModule)}}function pb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class pk{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=ys(i);const r=this.injector.get(e,Kd,i);return r!==Kd||t===Kd?r:this.parentInjector.get(e,t,i)}}class _c extends zC{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=pb(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return pb(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Rh(n){return n.map(Ih).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof jr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new pk(e,s):e,o=a.get(TC,null);if(null===o)throw new me(407,!1);const u={rendererFactory:o,sanitizer:a.get(yF,null),effectManager:a.get(cb,null)},f=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function PF(n,e,t,i){const s=i.get(NC,!1)||t===R2.ShadowDom,a=n.selectRootElement(e,s);return function HF(n){YC(n)}(a),a}(f,i,this.componentDef.encapsulation,a):Vl(f,h,function dk(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=rp(0,null,null,1,0,null,null,null,null,null,null),M=t7(null,v,null,g,null,null,u,f,a,null,null);let x,C;Qh(M);try{const b=this.componentDef;let A,E=null;b.findHostDirectiveDefs?(A=[],E=new Map,b.findHostDirectiveDefs(b,A,E),A.push(b)):A=[b];const D=function gk(n,e){const t=n[y],i=Y1;return n[i]=e,xo(t,i,2,"#host",null)}(M,d),S=function vk(n,e,t,i,r,s,a){const o=r[y];!function yk(n,e,t,i){for(const r of n)e.mergedAttrs=Ms(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(i7(e,e.mergedAttrs,!0),null!==t&&Kx(i,t,e))}(i,n,e,a);let c=null;null!==e&&(c=wC(e,r[Ot]));const l=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const f=t7(r,XC(t),null,u,r[n.index],n,s,l,null,null,c);return o.firstCreatePass&&ap(o,n,i.length-1),n7(r,f),r[n.index]=f}(D,d,b,A,M,u,f);C=RM(v,Y1),d&&function Mk(n,e,t,i){if(i)Ya(n,t,["ng-version",_F.full]);else{const{attrs:r,classes:s}=function y4(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!$n(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Ya(n,t,r),s&&s.length>0&&Jx(n,t,s.join(" "))}}(f,b,d,i),void 0!==t&&function xk(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),x=function _k(n,e,t,i,r,s){const a=$2(),o=r[y],c=Yn(a,r);QC(o,r,a,t,null,i);for(let u=0;u<t.length;u++)rn(ws(r,o,a.directiveStart+u,a),r);eb(o,r,a),c&&rn(c,r);const l=ws(r,o,a.directiveStart+a.componentOffset,a);if(n[I1]=r[I1]=l,null!==s)for(const u of s)u(l,e);return tp(o,a,n),l}(S,b,A,E,M,[Ck]),up(v,M,null)}finally{ed()}return new mk(this.componentType,x,_o(C,M),M,C)}}class mk extends hF{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new hk(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;lp(s[y],s,r,e,t),this.previousInputValues.set(e,t),mc(vi(this._tNode.index,s))}}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Ck(){const n=$2();yl(de()[y],n)}function yt(n){let e=function mb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(hr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new me(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const a=n;a.inputs=s7(n.inputs),a.inputTransforms=s7(n.inputTransforms),a.declaredInputs=s7(n.declaredInputs),a.outputs=s7(n.outputs);const o=r.hostBindings;o&&Ak(n,o);const c=r.viewQuery,l=r.contentQueries;if(c&&wk(n,c),l&&Sk(n,l),Ga(n.inputs,r.inputs),Ga(n.declaredInputs,r.declaredInputs),Ga(n.outputs,r.outputs),null!==r.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),Ga(a.inputTransforms,r.inputTransforms)),hr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(n),o===yt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function bk(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ms(r.hostAttrs,t=Ms(t,r.hostAttrs))}}(i)}function s7(n){return n===Bi?{}:n===it?[]:n}function wk(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Sk(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function Ak(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function _b(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function a7(n){return!!function fp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Zr(n,e,t){return n[e]=t}function an(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function pr(n,e,t,i){const r=de();return an(r,ro(),e)&&(rt(),qr(Bt(),r,n,e,t,i)),pr}function bo(n,e,t,i){return an(n,ro(),t)?e+M1(t)+i:b1}function Gt(n,e,t,i,r,s,a,o){const c=de(),l=rt(),u=n+Y1,f=l.firstCreatePass?function Jk(n,e,t,i,r,s,a,o,c){const l=e.consts,u=xo(e,n,4,a||null,x3(l,o));sp(e,t,u,x3(l,c)),yl(e,u);const f=u.tView=rp(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,s,a):l.data[u];Br(f,!1);const h=Nb(l,c,f,n);vl()&&Fl(l,c,h,f),rn(h,c),n7(c,c[u]=nb(h,c,h,f)),hl(f)&&np(l,c,f),null!=a&&ip(c,f,o)}let Nb=function Ib(n,e,t,i){return C3(!0),e[g1].createComment("")};function H2(n){return function no(n,e){return n[e]}(function XH(){return v1.lFrame.contextLView}(),Y1+n)}function Ze(n,e,t){const i=de();return an(i,ro(),e)&&Mi(rt(),Bt(),i,n,e,i[g1],t,!1),Ze}function vp(n,e,t,i,r){const a=r?"class":"style";lp(n,t,e.inputs[a],a,i)}function Z(n,e,t,i){const r=de(),s=rt(),a=Y1+n,o=r[g1],c=s.firstCreatePass?function tU(n,e,t,i,r,s){const a=e.consts,c=xo(e,n,2,i,x3(a,r));return sp(e,t,c,x3(a,s)),null!==c.attrs&&i7(c,c.attrs,!1),null!==c.mergedAttrs&&i7(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(a,s,r,e,t,i):s.data[a],l=Rb(s,r,c,o,e,n);r[a]=l;const u=hl(c);return Br(c,!0),Kx(o,l,c),32!=(32&c.flags)&&vl()&&Fl(s,r,l,c),0===function UH(){return v1.lFrame.elementDepthCount}()&&rn(l,r),function BH(){v1.lFrame.elementDepthCount++}(),u&&(np(s,r,c),tp(s,c,r)),null!==i&&ip(r,c),Z}function W(){let n=$2();Zh()?Xh():(n=n.parent,Br(n,!1));const e=n;(function WH(n){return v1.skipHydrationRootTNode===n})(e)&&function ZH(){v1.skipHydrationRootTNode=null}(),function GH(){v1.lFrame.elementDepthCount--}();const t=rt();return t.firstCreatePass&&(yl(t,n),Uh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function cV(n){return 0!=(8&n.flags)}(e)&&vp(t,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function lV(n){return 0!=(16&n.flags)}(e)&&vp(t,e,de(),e.stylesWithoutHost,!1),W}function ye(n,e,t,i){return Z(n,e,t,i),W(),ye}let Rb=(n,e,t,i,r,s)=>(C3(!0),Vl(i,r,function KM(){return v1.lFrame.currentNamespace}()));function Ls(){return de()}function wc(n){return!!n&&"function"==typeof n.then}function Vb(n){return!!n&&"function"==typeof n.subscribe}function S1(n,e,t,i){const r=de(),s=rt(),a=$2();return function Fb(n,e,t,i,r,s,a){const o=hl(i),l=n.firstCreatePass&&sb(n),u=e[I1],f=rb(e);let h=!0;if(3&i.type||a){const m=Yn(i,e),g=a?a(m):m,v=f.length,M=a?C=>a(Lt(C[i.index])):i.index;let x=null;if(!a&&o&&(x=function oU(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===t&&r[s+1]===i){const o=e[W1],c=r[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(n,e,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,h=!1;else{s=Ub(i,e,u,s,!1);const C=t.listen(g,r,s);f.push(s,C),l&&l.push(r,M,v,v+1)}}else s=Ub(i,e,u,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const b=e[p[g]][p[g+1]].subscribe(s),A=f.length;f.push(s,b),l&&l.push(r,i.index,A,-(A+1))}}}(s,r,r[g1],a,n,e,i),S1}function kb(n,e,t,i){try{return Ur(6,e,t),!1!==t(i)}catch(r){return ob(n,r),!1}finally{Ur(7,e,t)}}function Ub(n,e,t,i,r){return function s(a){if(a===Function)return i;mc(n.componentOffset>-1?vi(n.index,e):e);let c=kb(e,t,i,a),l=s.__ngNextListenerFn__;for(;l;)c=kb(e,t,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&a.preventDefault(),c}}function ft(n=1){return function eV(n){return(v1.lFrame.contextLView=function tV(n,e){for(;n>0;)e=e[Qa],n--;return e}(n,v1.lFrame.contextLView))[I1]}(n)}function cU(n,e){let t=null;const i=function Th(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?rl(n,s,!0):Nh(i,s))return r}else t=r}return t}function Lo(n,e,t){return Mp(n,"",e,"",t),Lo}function Mp(n,e,t,i,r){const s=de(),a=bo(s,e,t,i);return a!==b1&&Mi(rt(),Bt(),s,n,a,s[g1],r,!1),Mp}function f7(n,e){return n<<17|e<<2}function b3(n){return n>>17&32767}function xp(n){return 2|n}function Ns(n){return(131068&n)>>2}function Cp(n,e){return-131069&n|e<<2}function bp(n){return 1|n}function Kb(n,e,t,i,r){const s=n[t+1],a=null===e;let o=i?b3(s):Ns(s),c=!1;for(;0!==o&&(!1===c||a);){const u=n[o+1];pU(n[o],e)&&(c=!0,n[o+1]=i?bp(u):xp(u)),o=i?b3(u):Ns(u)}c&&(n[t+1]=i?xp(s):bp(s))}function pU(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&fo(n,e)>=0}function Sc(n,e){return function mr(n,e,t,i){const r=de(),s=rt(),a=function x4(n){const e=v1.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function ow(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Mn()],a=function aw(n,e){return e>=n.expandoStartIndex}(n,t);(function fw(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!a&&(e=!1),e=function bU(n,e,t,i){const r=function Jh(n){const e=v1.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Ac(t=wp(null,n,e,t,i),e.attrs,i),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==r)if(t=wp(r,n,e,t,i),null===s){let c=function wU(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ns(i))return n[b3(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=wp(null,n,e,c[1],i),c=Ac(c,e.attrs,i),function SU(n,e,t,i){n[b3(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else s=function AU(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Ac(i,n[s].hostAttrs,t);return Ac(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function hU(n,e,t,i,r,s){let a=s?e.classBindings:e.styleBindings,o=b3(a),c=Ns(a);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||fo(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=b3(n[o+1]);n[i+1]=f7(h,o),0!==h&&(n[h+1]=Cp(n[h+1],i)),n[o+1]=function uU(n,e){return 131071&n|e<<17}(n[o+1],i)}else n[i+1]=f7(o,0),0!==o&&(n[o+1]=Cp(n[o+1],i)),o=i;else n[i+1]=f7(c,0),0===o?o=i:n[c+1]=Cp(n[c+1],i),c=i;l&&(n[i+1]=xp(n[i+1])),Kb(n,u,i,!0),Kb(n,u,i,!1),function dU(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&fo(s,e)>=0&&(t[i+1]=bp(t[i+1]))}(e,u,n,i,s),a=f7(o,c),s?e.classBindings=a:e.styleBindings=a}(r,s,e,t,a,i)}}(s,n,a,i),e!==b1&&an(r,a,e)&&function lw(n,e,t,i,r,s,a,o){if(!(3&e.type))return;const c=n.data,l=c[o+1],u=function fU(n){return 1==(1&n)}(l)?uw(c,e,t,r,Ns(l),a):void 0;h7(u)||(h7(s)||function lU(n){return 2==(2&n)}(l)&&(s=uw(c,null,t,r,o,a)),function vO(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Jn.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Jn.Important),n.setStyle(t,i,r,s))}}(i,a,gl(Mn(),t),r,s))}(s,s.data[Mn()],r,r[g1],n,r[a+1]=function DU(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=s2(_i(n)))),n}(e,t),i,a)}(n,e,null,!0),Sc}function wp(n,e,t,i,r){let s=null;const a=t.directiveEnd;let o=t.directiveStylingLast;for(-1===o?o=t.directiveStart:o++;o<a&&(s=e[o],i=Ac(i,s.hostAttrs,r),s!==n);)o++;return null!==n&&(t.directiveStylingLast=o),i}function Ac(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,a,!!t||e[++s]))}return void 0===n?null:n}function uw(n,e,t,i,r,s){const a=null===e;let o;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let h=t[r+1];h===b1&&(h=f?it:void 0);let d=f?ld(h,i):u===i?h:void 0;if(l&&!h7(d)&&(d=ld(c,i)),h7(d)&&(o=d,a))return o;const p=n[r+1];r=a?b3(p):Ns(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(o=ld(c,i))}return o}function h7(n){return void 0!==n}function Ve(n,e=""){const t=de(),i=rt(),r=n+Y1,s=i.firstCreatePass?xo(i,r,1,e,null):i.data[r],a=hw(i,t,s,e,n);t[r]=a,vl()&&Fl(i,t,a,s),Br(s,!1)}let hw=(n,e,t,i,r)=>(C3(!0),function Hl(n,e){return n.createText(e)}(e[g1],i));function Io(n){return w3("",n,""),Io}function w3(n,e,t){const i=de(),r=bo(i,n,e,t);return r!==b1&&function w4(n,e,t){const i=gl(e,n);!function Ox(n,e,t){n.setValue(e,t)}(n[g1],i,t)}(i,Mn(),r),w3}function Sp(n,e,t){const i=de();return an(i,ro(),e)&&Mi(rt(),Bt(),i,n,e,i[g1],t,!0),Sp}const Po="en-US";let Iw=Po;function Ep(n,e,t,i,r){if(n=d1(n),Array.isArray(n))for(let s=0;s<n.length;s++)Ep(n[s],e,t,i,r);else{const s=rt(),a=de();let o=zs(n)?n:d1(n.provide),c=_C(n);const l=$2(),u=1048575&l.providerIndexes,f=l.directiveStart,h=l.providerIndexes>>20;if(zs(n)||!n.multi){const d=new J0(c,r,le),p=Dp(o,e,r?u:u+h,f);-1===p?(ad(wl(l,a),s,o),Tp(s,n,e.length),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(d),a.push(d)):(t[p]=d,a[p]=d)}else{const d=Dp(o,e,u+h,f),p=Dp(o,e,u,u+h),g=p>=0&&t[p];if(r&&!g||!r&&!(d>=0&&t[d])){ad(wl(l,a),s,o);const v=function YB(n,e,t,i,r){const s=new J0(n,t,le);return s.multi=[],s.index=e,s.componentProviders=0,rS(s,r,i&&!t),s}(r?XB:ZB,t.length,r,i,c);!r&&g&&(t[p].providerFactory=v),Tp(s,n,e.length,0),e.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(v),a.push(v)}else Tp(s,n,d>-1?d:p,rS(t[r?p:d],c,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function Tp(n,e,t,i){const r=zs(e),s=function YO(n){return!!n.useClass}(e);if(r||s){const c=(s?d1(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function rS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Dp(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function ZB(n,e,t,i){return Lp(this.multi,[])}function XB(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=ws(t,t[y],this.providerFactory.index,i);s=o.slice(0,a),Lp(r,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],Lp(r,s);return s}function Lp(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _t(n,e=[]){return t=>{t.providersResolver=(i,r)=>function qB(n,e,t){const i=rt();if(i.firstCreatePass){const r=hr(n);Ep(t,i.data,i.blueprint,r,!0),Ep(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Ho{}class sS{}class Np extends Ho{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new db(this);const r=vn(e);this._bootstrapComponents=b4(r.bootstrap),this._r3Injector=$C(e,t,[{provide:Ho,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver},...i],s2(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ip extends sS{constructor(e){super(),this.moduleType=e}create(e){return new Np(this.moduleType,e,[])}}class aS extends Ho{constructor(e){super(),this.componentFactoryResolver=new db(this),this.instance=null;const t=new Fd([...e.providers,{provide:Ho,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],e.parent||$l(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Rp(n,e,t=null){return new aS({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let QB=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=mC(0,t.type),r=i.length>0?Rp([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Je({token:n,providedIn:"environment",factory:()=>new n(Ye(jr))}),n})();function oS(n){n.getStandaloneInjector=e=>e.get(QB).getOrCreateStandaloneInjector(n)}function Jr(n,e,t){const i=_n()+n,r=de();return r[i]===b1?Zr(r,i,t?e.call(t):e()):function Mc(n,e){return n[e]}(r,i)}function Hp(n,e,t,i){return function pS(n,e,t,i,r,s){const a=e+t;return an(n,a,r)?Zr(n,a+1,s?i.call(s,r):i(r)):function Nc(n,e){const t=n[e];return t===b1?void 0:t}(n,a+1)}(de(),_n(),n,e,t,i)}function Vp(n){return e=>{setTimeout(n,void 0,e)}}const Kt=class bG extends Un{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),a=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=Vp(s),r&&(r=Vp(r)),a&&(a=Vp(a)));const o=super.subscribe({next:r,error:s,complete:a});return e instanceof fi&&e.add(o),o}};function wG(){return this._results[Symbol.iterator]()}class Op{get changes(){return this._changes||(this._changes=new Kt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Op.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=wG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Gi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function MV(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let S4=(()=>{class n{}return n.__NG_ELEMENT_ID__=zG,n})();const SG=S4,AG=class extends SG{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){const a=this._declarationTContainer.tView,o=t7(this._declarationLView,a,e,4096&this._declarationLView[_]?4096:16,null,a.declTNode,null,null,null,t||null,i||null);o[q0]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[Or];return null!==l&&(o[Or]=l.createEmbeddedView(a)),up(a,o,e),new yc(o)}};function zG(){return v7($2(),de())}function v7(n,e){return 4&n.type?new AG(e,n,_o(n,e)):null}let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=RG,n})();function RG(){return wS($2(),de())}const PG=vr,CS=class extends PG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return _o(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){const e=sd(this._hostTNode,this._hostLView);if(nx(e)){const t=Cl(e,this._hostLView),i=xl(e);return new ao(t[y].data[i+8],t)}return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=bS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(o,r,false),o}createComponent(e,t,i,r,s){const a=e&&!function Q0(n){return"function"==typeof n}(e);let o;if(a)o=t;else{const m=t||{};o=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=a?e:new _c(st(e)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const g=(a?l:this.parentInjector).get(jr,null);g&&(s=g)}st(c.componentType??{});const d=c.create(l,r,null,s);return this.insertImpl(d.hostView,o,false),d}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView,s=r[y];if(function OH(n){return Xn(n[w])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[w],u=new CS(l,l[He],l[w]);u.detach(u.indexOf(e))}}const a=this._adjustIndex(t),o=this._lContainer;if(function lO(n,e,t,i){const r=nn+i,s=t.length;i>0&&(t[r-1][R]=e),i<s-nn?(e[R]=t[r],px(t,nn+i,e)):(t.push(e),e[R]=null),e[w]=t;const a=e[q0];null!==a&&t!==a&&function uO(n,e){const t=n[to];e[d2]!==e[w][w][d2]&&(n[MM]=!0),null===t?n[to]=[e]:t.push(e)}(a,e);const o=e[Or];null!==o&&o.insertView(n),e[_]|=128}(s,r,o,a),!i){const c=Sd(a,o),l=r[g1],u=Ol(l,o[Fr]);null!==u&&function aO(n,e,t,i,r,s){i[Vt]=r,i[He]=e,ac(n,i,t,1,r,s)}(s,o[He],l,r,u,c)}return e.attachToViewContainerRef(),px(kp(o),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=bS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=xd(this._lContainer,t);i&&(zl(kp(this._lContainer),t),kx(i[y],i))}detach(e){const t=this._adjustIndex(e,-1),i=xd(this._lContainer,t);return i&&null!=zl(kp(this._lContainer),t)?new yc(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function bS(n){return n[8]}function kp(n){return n[8]||(n[8]=[])}function wS(n,e){let t;const i=e[n.index];return Xn(i)?t=i:(t=nb(i,e,null,n),e[n.index]=t,n7(e,t)),SS(t,e,n,i),new CS(t,n,e)}let SS=function AS(n,e,t,i){if(n[Fr])return;let r;r=8&t.type?Lt(i):function HG(n,e){const t=n[g1],i=t.createComment(""),r=Yn(e,n);return Ss(t,Ol(t,r),i,function pO(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Fr]=r};class Up{constructor(e){this.queryList=e,this.matches=null}clone(){return new Up(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const a=t.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new Bp(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==NS(e,t).matches&&this.queries[t].setDirty()}}class zS{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Gp{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Gp(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wp{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,FG(t,s)),this.matchTNodeWithReadOption(e,t,Sl(t,e,s,!1,!1))}else i===S4?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Sl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===sn||r===vr||r===S4&&4&t.type)this.addMatch(t.index,-2);else{const s=Sl(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function FG(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function UG(n,e,t,i){return-1===t?function kG(n,e){return 11&n.type?_o(n,e):4&n.type?v7(n,e):null}(e,n):-2===t?function BG(n,e,t){return t===sn?_o(e,n):t===S4?v7(e,n):t===vr?wS(e,n):void 0}(n,e,i):ws(n,n[y],t,e)}function ES(n,e,t,i){const r=e[Or].queries[i];if(null===r.matches){const s=n.data,a=t.matches,o=[];for(let c=0;c<a.length;c+=2){const l=a[c];o.push(l<0?null:UG(e,s[l],a[c+1],t.metadata.read))}r.matches=o}return r.matches}function jp(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const a=ES(n,e,r,t);for(let o=0;o<s.length;o+=2){const c=s[o];if(c>0)i.push(a[o/2]);else{const l=s[o+1],u=e[-c];for(let f=nn;f<u.length;f++){const h=u[f];h[q0]===h[w]&&jp(h[y],h,l,i)}if(null!==u[to]){const f=u[to];for(let h=0;h<f.length;h++){const d=f[h];jp(d[y],d,l,i)}}}}}return i}function Cn(n){const e=de(),t=rt(),i=jM();Kh(i+1);const r=NS(t,i);if(n.dirty&&function HH(n){return 4==(4&n[_])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?jp(t,e,i,[]):ES(t,e,r,i);n.reset(s,gF),n.notifyOnChanges()}return!0}return!1}function Qn(n,e,t){const i=rt();i.firstCreatePass&&(LS(i,new zS(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),DS(i,de(),e)}function bn(){return function GG(n,e){return n[Or].queries[e].queryList}(de(),jM())}function DS(n,e,t){const i=new Op(4==(4&t));(function FF(n,e,t,i){const r=rb(e);r.push(t),n.firstCreatePass&&sb(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[Or]&&(e[Or]=new Bp),e[Or].queries.push(new Up(i))}function LS(n,e,t){null===n.queries&&(n.queries=new Gp),n.queries.track(new Wp(e,t))}function NS(n,e){return n.queries.getByIndex(e)}const Jp=new Fe("Application Initializer");let Kp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Re(Jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(wc(s))t.push(s);else if(Vb(s)){const a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});t.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const A4=new Fe("LocaleId",{providedIn:"root",factory:()=>Re(A4,r1.Optional|r1.SkipSelf)||function hW(){return typeof $localize<"u"&&$localize.locale||Po}()});let _7=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let YS=(()=>{class n{compileModuleSync(t){return new Ip(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=b4(vn(t).declarations).reduce((a,o)=>{const c=st(o);return c&&a.push(new _c(c)),a},[]);return new pW(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QS(...n){}class Wt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function vW(){const n="function"==typeof mt.requestAnimationFrame;let e=mt[n?"requestAnimationFrame":"setTimeout"],t=mt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function MW(n){const e=()=>{!function _W(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,em(n),n.isCheckStableRunning=!0,Qp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),em(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,a,o)=>{try{return eA(n),t.invokeTask(r,s,a,o)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),tA(n)}},onInvoke:(t,i,r,s,a,o,c)=>{try{return eA(n),t.invoke(r,s,a,o,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),tA(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,em(n),Qp(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new me(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,e,yW,QS,QS);try{return s.runTask(a,t,i)}finally{s.cancelTask(a)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const yW={};function Qp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function em(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function eA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function tA(n){n._nesting--,Qp(n)}class xW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const nA=new Fe("",{providedIn:"root",factory:iA});function iA(){const n=Re(Wt);let e=!0;return function d3(...n){const e=ps(n),t=function nh(n,e){return"number"==typeof E0(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?mi(i[0]):m4(t)(r2(i,e)):ki}(new pt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new pt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const a=n.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe($5()))}const rA=new Fe(""),M7=new Fe("");let im,tm=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,im||(function CW(n){im=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ye(Wt),Ye(nm),Ye(M7))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),nm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return im?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),S3=null;const sA=new Fe("AllowMultipleToken"),rm=new Fe("PlatformDestroyListeners"),sm=new Fe("appBootstrapListener");class oA{constructor(e,t){this.name=e,this.token=t}}function lA(n,e,t=[]){const i=`Platform: ${e}`,r=new Fe(i);return(s=[])=>{let a=am();if(!a||a.injector.get(sA,!1)){const o=[...t,...s,{provide:r,useValue:!0}];n?n(o):function SW(n){if(S3&&!S3.get(sA,!1))throw new me(400,!1);(function aA(){!function AH(n){AM=n}(()=>{throw new me(600,!1)})})(),S3=n;const e=n.get(fA);(function cA(n){n.get(MC,null)?.forEach(t=>t())})(n)}(function uA(n=[],e){return dr.create({name:e,providers:[{provide:Vd,useValue:"platform"},{provide:rm,useValue:new Set([()=>S3=null])},...n]})}(o,i))}return function zW(n){const e=am();if(!e)throw new me(401,!1);return e}()}}function am(){return S3?.get(fA)??null}let fA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function EW(n="zone.js",e){return"noop"===n?new xW:"zone.js"===n?new Wt(e):n}(i?.ngZone,function hA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function KB(n,e,t){return new Np(n,e,t)}(t.moduleType,this.injector,function vA(n){return[{provide:Wt,useFactory:n},{provide:uc,multi:!0,useFactory:()=>{const e=Re(DW,{optional:!0});return()=>e.initialize()}},{provide:gA,useFactory:TW},{provide:nA,useFactory:iA}]}(()=>r)),a=s.injector.get(Ts,null);return r.runOutsideAngular(()=>{const o=r.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{x7(this._modules,s),o.unsubscribe()})}),function dA(n,e,t){try{const i=t();return wc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(a,r,()=>{const o=s.injector.get(Kp);return o.runInitializers(),o.donePromise.then(()=>(function Rw(n){jn(n,"Expected localeId to be defined"),"string"==typeof n&&(Iw=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(A4,Po)||Po),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=pA({},i);return function bW(n,e,t){const i=new Ip(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Fo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new me(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(rm,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ye(dr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function pA(n,e){return Array.isArray(e)?e.reduce(pA,n):{...n,...e}}let Fo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Re(gA),this.zoneIsStable=Re(nA),this.componentTypes=[],this.components=[],this.isStable=Re(_7).hasPendingTasks.pipe(Gn(t=>t?l1(!1):this.zoneIsStable),function oh(n,e=hi){return n=n??ch,Yt((t,i)=>{let r,s=!0;t.subscribe(Ht(i,a=>{const o=e(a);(s||!n(r,o))&&(s=!1,r=o,i.next(a))}))})}(),$5()),this._injector=Re(jr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof zC;if(!this._injector.get(Kp).done)throw!r&&function _3(n){const e=st(n)||Ct(n)||X1(n);return null!==e&&e.standalone}(t),new me(405,!1);let a;a=r?t:this._injector.get(Kl).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const o=function wW(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Ho),l=a.create(dr.NULL,[],i||a.selector,o),u=l.location.nativeElement,f=l.injector.get(rA,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),x7(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;x7(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(sm,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>x7(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new me(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function x7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const gA=new Fe("",{providedIn:"root",factory:()=>Re(Ts).handleError.bind(void 0)});function TW(){const n=Re(Wt),e=Re(Ts);return t=>n.runOutsideAngular(()=>e.handleError(t))}let DW=(()=>{class n{constructor(){this.zone=Re(Wt),this.applicationRef=Re(Fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let C7=(()=>{class n{}return n.__NG_ELEMENT_ID__=NW,n})();function NW(n){return function IW(n,e,t){if(xs(n)&&!t){const i=vi(n.index,e);return new yc(i,i)}return 47&n.type?new yc(e[d2],e):null}($2(),de(),16==(16&n))}class xA{constructor(){}supports(e){return a7(e)}create(e){return new FW(e)}}const OW=(n,e)=>e;class FW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||OW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const a=!i||t&&t.currentIndex<bA(i,r,s)?t:i,o=bA(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{s||(s=[]);const l=o-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const d=h<s.length?s[h]:s[h]=0,p=d+h;u<=p&&p<l&&(s[h]=d+1)}s[a.previousIndex]=u-l}}o!==c&&e(a,o,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!a7(e))throw new me(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,a,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let o=0;o<this.length;o++)s=e[o],a=this._trackByFn(o,s),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,s,a,o)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,o),i=!0),t=t._next}else r=0,function Ik(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,o=>{a=this._trackByFn(r,o),null!==t&&Object.is(t.trackById,a)?(i&&(t=this._verifyReinsertion(t,o,a,r)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,a,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new kW(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CA),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class kW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class CA{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new UW,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bA(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function SA(){return new S7([new xA])}let S7=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||SA()),deps:[[n,new Dl,new Tl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new me(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:SA}),n})();const $W=lA(null,"core",[]);let qW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ye(Fo))},n.\u0275mod=qn({type:n}),n.\u0275inj=en({}),n})();function ko(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let dm=null;function A3(){return dm}class sj{}const Sn=new Fe("DocumentToken");let pm=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Re(oj)},providedIn:"platform"}),n})();const aj=new Fe("Location Initialized");let oj=(()=>{class n extends pm{constructor(){super(),this._doc=Re(Sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A3().getBaseHref(this._doc)}onPopState(t){const i=A3().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=A3().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function mm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function IA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function z4(n){return n&&"?"!==n[0]?"?"+n:n}let Ps=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Re(PA)},providedIn:"root"}),n})();const RA=new Fe("appBaseHref");let PA=(()=>{class n extends Ps{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Re(Sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mm(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+z4(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const a=this.prepareExternalUrl(r+z4(s));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){const a=this.prepareExternalUrl(r+z4(s));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(pm),Ye(RA,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cj=(()=>{class n extends Ps{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=mm(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let a=this.prepareExternalUrl(r+z4(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,s){let a=this.prepareExternalUrl(r+z4(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(pm),Ye(RA,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),gm=(()=>{class n{constructor(t){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function fj(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(IA(HA(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+z4(i))}normalize(t){return n.stripTrailingSlash(function uj(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,HA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+z4(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+z4(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=z4,n.joinWithSlash=mm,n.stripTrailingSlash=IA,n.\u0275fac=function(t){return new(t||n)(Ye(Ps))},n.\u0275prov=Je({token:n,factory:function(){return function lj(){return new gm(Ye(Ps))}()},providedIn:"root"}),n})();function HA(n){return n.replace(/\/index.html$/,"")}function jA(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class Yj{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ZA=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Yj(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),XA(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{XA(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(vr),le(S4),le(S7))},n.\u0275dir=h1({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function XA(n,e){n.context.$implicit=e.item}let Oc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Jj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(vr),le(S4))},n.\u0275dir=h1({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Jj{constructor(){this.$implicit=null,this.ngIf=null}}function YA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${s2(e)}'.`)}let C$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({}),n})();function ez(n){return"server"===n}let A$=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>new z$(Ye(Sn),window)}),n})();class z${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function E$(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=tz(this.window.history)||tz(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tz(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class nz{}class J$ extends sj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Im extends J${static makeCurrent(){!function rj(n){dm||(dm=n)}(new Im)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function K$(){return kc=kc||document.querySelector("base"),kc?kc.getAttribute("href"):null}();return null==t?null:function Q$(n){O7=O7||document.createElement("a"),O7.setAttribute("href",n);const e=O7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jA(document.cookie,e)}}let O7,kc=null,tq=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Rm=new Fe("EventManagerPlugins");let oz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new me(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(Ye(Rm),Ye(Wt))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class cz{constructor(e){this._doc=e}}const Pm="ng-app-id";let lz=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ez(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Pm}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Pm),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Pm,this.appId),a}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,a=s.get(i)?.elements;a?a.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn),Ye(ql),Ye(xC,8),Ye(Es))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Hm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vm=/%COMP%/g,sq=new Fe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fz(n,e){return e.map(t=>t.replace(Vm,n))}let hz=(()=>{class n{constructor(t,i,r,s,a,o,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=o,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ez(o),this.defaultRenderer=new Om(t,a,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===R2.ShadowDom&&(i={...i,encapsulation:R2.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof pz?r.applyToHost(t):r instanceof Fm&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const a=this.doc,o=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case R2.Emulated:s=new pz(c,l,i,this.appId,u,a,o,f);break;case R2.ShadowDom:return new lq(c,l,t,i,a,o,this.nonce,f);default:s=new Fm(c,l,i,u,a,o,f)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(Ye(oz),Ye(lz),Ye(ql),Ye(sq),Ye(Sn),Ye(Es),Ye(Wt),Ye(xC))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class Om{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Hm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(dz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(dz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new me(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Hm[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Hm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Jn.DashCase|Jn.Important)?e.style.setProperty(t,i,r&Jn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=A3().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function dz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class lq extends Om{constructor(e,t,i,r,s,a,o,c){super(e,s,a,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=fz(r.id,r.styles);for(const u of l){const f=document.createElement("style");o&&f.setAttribute("nonce",o),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Fm extends Om{constructor(e,t,i,r,s,a,o,c){super(e,s,a,o),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.rendererUsageCount=0,this.styles=c?fz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class pz extends Fm{constructor(e,t,i,r,s,a,o,c){const l=r+"-"+i.id;super(e,t,i,s,a,o,c,l),this.contentAttr=function aq(n){return"_ngcontent-%COMP%".replace(Vm,n)}(l),this.hostAttr=function oq(n){return"_nghost-%COMP%".replace(Vm,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let uq=(()=>{class n extends cz{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const mz=["alt","control","meta","shift"],fq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dq=(()=>{class n extends cz{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),a=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A3().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),mz.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(t,i){let r=fq[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),mz.forEach(a=>{a!==r&&(0,hq[a])(t)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const vz=[{provide:Es,useValue:"browser"},{provide:MC,useValue:function pq(){Im.makeCurrent()},multi:!0},{provide:Sn,useFactory:function gq(){return function CO(n){Ed=n}(document),document},deps:[]}],vq=lA($W,"browser",vz),yq=new Fe(""),yz=[{provide:M7,useClass:class eq{addToWindow(e){mt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new me(5103,!1);return s},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements(),mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(i=>{const r=mt.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(c=>{c.whenStable(o)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?A3().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:rA,useClass:tm,deps:[Wt,nm,M7]},{provide:tm,useClass:tm,deps:[Wt,nm,M7]}],_z=[{provide:Vd,useValue:"root"},{provide:Ts,useFactory:function mq(){return new Ts},deps:[]},{provide:Rm,useClass:uq,multi:!0,deps:[Sn,Wt,Es]},{provide:Rm,useClass:dq,multi:!0,deps:[Sn]},hz,lz,oz,{provide:TC,useExisting:hz},{provide:nz,useClass:tq,deps:[]},[]];let _q=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ql,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(Ye(yq,12))},n.\u0275mod=qn({type:n}),n.\u0275inj=en({providers:[..._z,...yz],imports:[C$,qW]}),n})(),Mz=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn))},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new t:function xq(){return new Mz(Ye(Sn))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new(t||n):Ye(wz),i},providedIn:"root"}),n})(),wz=(()=>{class n extends bz{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Tt.NONE:return i;case Tt.HTML:return Wr(i,"HTML")?_i(i):cC(this._doc,String(i)).toString();case Tt.STYLE:return Wr(i,"Style")?_i(i):i;case Tt.SCRIPT:if(Wr(i,"Script"))return _i(i);throw new me(5200,!1);case Tt.URL:return Wr(i,"URL")?_i(i):Gl(String(i));case Tt.RESOURCE_URL:if(Wr(i,"ResourceURL"))return _i(i);throw new me(5201,!1);default:throw new me(5202,!1)}}bypassSecurityTrustHtml(t){return function TO(n){return new bO(n)}(t)}bypassSecurityTrustStyle(t){return function DO(n){return new wO(n)}(t)}bypassSecurityTrustScript(t){return function LO(n){return new SO(n)}(t)}bypassSecurityTrustUrl(t){return function NO(n){return new AO(n)}(t)}bypassSecurityTrustResourceUrl(t){return function IO(n){return new zO(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn))},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new t:function Sq(n){return new wz(n.get(Sn))}(Ye(dr)),i},providedIn:"root"}),n})();function Uo(n,e){return Z1(e)?A2(n,e,1):A2(n,1)}function T4(n,e){return Yt((t,i)=>{let r=0;t.subscribe(Ht(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Uc(n){return Yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class F7{}class k7{}class on{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),a=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof on?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new on;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof on?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(o=>-1===s.indexOf(o)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Aq{encodeKey(e){return Az(e)}encodeValue(e){return Az(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Eq=/%(\d[a-f0-9])/gi,Tq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Az(n){return encodeURIComponent(n).replace(Eq,(e,t)=>Tq[t]??e)}function U7(n){return`${n}`}class E3{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Aq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[a,o]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(a)||[];c.push(o),t.set(a,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(U7):[U7(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new E3({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(U7(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(U7(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Dq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ez(n){return typeof Blob<"u"&&n instanceof Blob}function Tz(n){return typeof FormData<"u"&&n instanceof FormData}class Bc{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Lq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new on),this.context||(this.context=new Dq),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const o=t.indexOf("?");this.urlWithParams=t+(-1===o?"?":o<t.length-1?"&":"")+a}}else this.params=new E3,this.urlWithParams=t}serializeBody(){return null===this.body?null:zz(this.body)||Ez(this.body)||Tz(this.body)||function Nq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof E3?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tz(this.body)?null:Ez(this.body)?this.body.type||null:zz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof E3?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),l)),new Bc(t,i,s,{params:l,headers:c,context:u,reportProgress:o,responseType:r,withCredentials:a})}}var g2=(()=>((g2=g2||{})[g2.Sent=0]="Sent",g2[g2.UploadProgress=1]="UploadProgress",g2[g2.ResponseHeader=2]="ResponseHeader",g2[g2.DownloadProgress=3]="DownloadProgress",g2[g2.Response=4]="Response",g2[g2.User=5]="User",g2))();class Um{constructor(e,t=200,i="OK"){this.headers=e.headers||new on,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bm extends Um{constructor(e={}){super(e),this.type=g2.ResponseHeader}clone(e={}){return new Bm({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bo extends Um{constructor(e={}){super(e),this.type=g2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Dz extends Um{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Gm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Lz=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Bc)s=t;else{let c,l;c=r.headers instanceof on?r.headers:new on(r.headers),r.params&&(l=r.params instanceof E3?r.params:new E3({fromObject:r.params})),s=new Bc(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=l1(s).pipe(Uo(c=>this.handler.handle(c)));if(t instanceof Bc||"events"===r.observe)return a;const o=a.pipe(T4(c=>c instanceof Bo));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return o.pipe(C1(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return o.pipe(C1(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return o.pipe(C1(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return o.pipe(C1(c=>c.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new E3).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Gm(r,i))}post(t,i,r={}){return this.request("POST",t,Gm(r,i))}put(t,i,r={}){return this.request("PUT",t,Gm(r,i))}}return n.\u0275fac=function(t){return new(t||n)(Ye(F7))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function Rz(n,e){return e(n)}function Rq(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const Hq=new Fe(""),Gc=new Fe(""),Pz=new Fe("");function Vq(){let n=null;return(e,t)=>{null===n&&(n=(Re(Hq,{optional:!0})??[]).reduceRight(Rq,Rz));const i=Re(_7),r=i.add();return n(e,t).pipe(Uc(()=>i.remove(r)))}}let Hz=(()=>{class n extends F7{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=Re(_7)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Gc),...this.injector.get(Pz,[])]));this.chain=r.reduceRight((s,a)=>function Pq(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,a,this.injector),Rz)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Uc(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(t){return new(t||n)(Ye(k7),Ye(jr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Uq=/^\)\]\}',?\n/;let Oz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new me(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?r2(i.\u0275loadImpl()):l1(null)).pipe(Gn(()=>new pt(s=>{const a=i.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((m,g)=>a.setRequestHeader(m,g.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const m=t.detectContentTypeHeader();null!==m&&a.setRequestHeader("Content-Type",m)}if(t.responseType){const m=t.responseType.toLowerCase();a.responseType="json"!==m?m:"text"}const o=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=a.statusText||"OK",g=new on(a.getAllResponseHeaders()),v=function Bq(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return c=new Bm({headers:g,status:a.status,statusText:m,url:v}),c},u=()=>{let{headers:m,status:g,statusText:v,url:M}=l(),x=null;204!==g&&(x=typeof a.response>"u"?a.responseText:a.response),0===g&&(g=x?200:0);let C=g>=200&&g<300;if("json"===t.responseType&&"string"==typeof x){const b=x;x=x.replace(Uq,"");try{x=""!==x?JSON.parse(x):null}catch(A){x=b,C&&(C=!1,x={error:A,text:x})}}C?(s.next(new Bo({body:x,headers:m,status:g,statusText:v,url:M||void 0})),s.complete()):s.error(new Dz({error:x,headers:m,status:g,statusText:v,url:M||void 0}))},f=m=>{const{url:g}=l(),v=new Dz({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const d=m=>{h||(s.next(l()),h=!0);let g={type:g2.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===t.responseType&&a.responseText&&(g.partialText=a.responseText),s.next(g)},p=m=>{let g={type:g2.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return a.addEventListener("load",u),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),t.reportProgress&&(a.addEventListener("progress",d),null!==o&&a.upload&&a.upload.addEventListener("progress",p)),a.send(o),s.next({type:g2.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",u),a.removeEventListener("timeout",f),t.reportProgress&&(a.removeEventListener("progress",d),null!==o&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(Ye(nz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Wm=new Fe("XSRF_ENABLED"),Fz=new Fe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),kz=new Fe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Uz{}let jq=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jA(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Ye(Sn),Ye(Es),Ye(Fz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function $q(n,e){const t=n.url.toLowerCase();if(!Re(Wm)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Re(Uz).getToken(),r=Re(kz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Ft=(()=>((Ft=Ft||{})[Ft.Interceptors=0]="Interceptors",Ft[Ft.LegacyInterceptors=1]="LegacyInterceptors",Ft[Ft.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ft[Ft.NoXsrfProtection=3]="NoXsrfProtection",Ft[Ft.JsonpSupport=4]="JsonpSupport",Ft[Ft.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ft[Ft.Fetch=6]="Fetch",Ft))();function Hs(n,e){return{\u0275kind:n,\u0275providers:e}}function qq(...n){const e=[Lz,Oz,Hz,{provide:F7,useExisting:Hz},{provide:k7,useExisting:Oz},{provide:Gc,useValue:$q,multi:!0},{provide:Wm,useValue:!0},{provide:Uz,useClass:jq}];for(const t of n)e.push(...t.\u0275providers);return function Id(n){return{\u0275providers:n}}(e)}const Bz=new Fe("LEGACY_INTERCEPTOR_FN");let Xq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({providers:[qq(Hs(Ft.LegacyInterceptors,[{provide:Bz,useFactory:Vq},{provide:Gc,useExisting:Bz,multi:!0}]))]}),n})();const{isArray:tZ}=Array,{getPrototypeOf:nZ,prototype:iZ,keys:rZ}=Object;function Gz(n){if(1===n.length){const e=n[0];if(tZ(e))return{args:e,keys:null};if(function sZ(n){return n&&"object"==typeof n&&nZ(n)===iZ}(e)){const t=rZ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:aZ}=Array;function Wz(n){return C1(e=>function oZ(n,e){return aZ(e)?n(...e):n(e)}(n,e))}function jz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let $z=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(sn))},n.\u0275dir=h1({type:n}),n})(),Vs=(()=>{class n extends $z{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275dir=h1({type:n,features:[yt]}),n})();const Kr=new Fe("NgValueAccessor"),uZ={provide:Kr,useExisting:xt(()=>Go),multi:!0},hZ=new Fe("CompositionEventMode");let Go=(()=>{class n extends $z{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function fZ(){const n=A3()?A3().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(sn),le(hZ,8))},n.\u0275dir=h1({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&S1("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[_t([uZ]),yt]}),n})();const cn=new Fe("NgValidators"),D3=new Fe("NgAsyncValidators");function Jz(n){return function T3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function G7(n){return null}function iE(n){return null!=n}function rE(n){return wc(n)?r2(n):n}function sE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function aE(n,e){return e.map(t=>t(n))}function oE(n){return n.map(e=>function pZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function jm(n){return null!=n?function cE(n){if(!n)return null;const e=n.filter(iE);return 0==e.length?null:function(t){return sE(aE(t,e))}}(oE(n)):null}function $m(n){return null!=n?function lE(n){if(!n)return null;const e=n.filter(iE);return 0==e.length?null:function(t){return function cZ(...n){const e=T0(n),{args:t,keys:i}=Gz(n),r=new pt(s=>{const{length:a}=t;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let f=!1;mi(t[u]).subscribe(Ht(s,h=>{f||(f=!0,l--),o[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(i?jz(i,o):o),s.complete())}))}});return e?r.pipe(Wz(e)):r}(aE(t,e).map(rE)).pipe(C1(sE))}}(oE(n)):null}function uE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function qm(n){return n?Array.isArray(n)?n:[n]:[]}function W7(n,e){return Array.isArray(n)?n.includes(e):n===e}function dE(n,e){const t=qm(e);return qm(n).forEach(r=>{W7(t,r)||t.push(r)}),t}function pE(n,e){return qm(e).filter(t=>!W7(n,t))}class mE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$m(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class An extends mE{get formDirective(){return null}get path(){return null}}class L3 extends mE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let j7=(()=>{class n extends gE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(L3,2))},n.\u0275dir=h1({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Sc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[yt]}),n})(),$7=(()=>{class n extends gE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(An,10))},n.\u0275dir=h1({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Sc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[yt]}),n})();const Wc="VALID",Z7="INVALID",Wo="PENDING",jc="DISABLED";function Ym(n){return(X7(n)?n.validators:n)||null}function Jm(n,e){return(X7(e)?e.asyncValidators:n)||null}function X7(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class ME{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wc}get invalid(){return this.status===Z7}get pending(){return this.status==Wo}get disabled(){return this.status===jc}get enabled(){return this.status!==jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(pE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(pE(e,this._rawAsyncValidators))}hasValidator(e){return W7(this._rawValidators,e)}hasAsyncValidator(e){return W7(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Wo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wc||this.status===Wo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?jc:Wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Wo,this._hasOwnPendingAsyncValidator=!0;const t=rE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?jc:this.errors?Z7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wo)?Wo:this._anyControlsHaveStatus(Z7)?Z7:Wc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){X7(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function yZ(n){return Array.isArray(n)?jm(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function _Z(n){return Array.isArray(n)?$m(n):n||null}(this._rawAsyncValidators)}}class Km extends ME{constructor(e,t,i){super(Ym(t),Jm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function _E(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new me(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function yE(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new me(1e3,"");if(!i[t])throw new me(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const jo=new Fe("CallSetDisabledState",{providedIn:"root",factory:()=>Y7}),Y7="always";function $c(n,e,t=Y7){Qm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function CZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xE(n,e)})}(n,e),function wZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Q7(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Qm(n,e){const t=function fE(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(uE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function hE(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(uE(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Q7(e._rawValidators,r),Q7(e._rawAsyncValidators,r)}function xE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const TZ={provide:An,useExisting:xt(()=>$o)},qc=(()=>Promise.resolve())();let $o=(()=>{class n extends An{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new Km({},jm(t),$m(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qc.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),$c(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qc.then(()=>{const i=this._findContainer(t.path),r=new Km({});(function CE(n,e){Qm(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){qc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function bE(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(le(cn,10),le(D3,10),le(jo,8))},n.\u0275dir=h1({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&S1("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_t([TZ]),yt]}),n})();function wE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function SE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const AE=class extends ME{constructor(e=null,t,i){super(Ym(t),Jm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),X7(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=SE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){SE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},NZ={provide:L3,useExisting:xt(()=>Zc)},TE=(()=>Promise.resolve())();let Zc=(()=>{class n extends L3{constructor(t,i,r,s,a,o){super(),this._changeDetectorRef=a,this.callSetDisabledState=o,this.control=new AE,this._registered=!1,this.name="",this.update=new Kt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ng(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Go?t=s:function zZ(n){return Object.getPrototypeOf(n.constructor)===Vs}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function tg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$c(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){TE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&ko(i);TE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function J7(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(le(An,9),le(cn,10),le(D3,10),le(Kr,10),le(C7,8),le(jo,8))},n.\u0275dir=h1({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_t([NZ]),yt,yn]}),n})(),t9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({}),n})(),Os=(()=>{class n{constructor(){this._validator=G7}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):G7,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,features:[yn]}),n})();const YZ={provide:cn,useExisting:xt(()=>qo),multi:!0};let qo=(()=>{class n extends Os{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ko,this.createValidator=t=>Jz}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275dir=h1({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&pr("required",i._enabled?"":null)},inputs:{required:"required"},features:[_t([YZ]),yt]}),n})(),nX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({imports:[LE]}),n})(),rX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jo,useValue:t.callSetDisabledState??Y7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({imports:[nX]}),n})();function cg(...n){const e=ps(n),t=T0(n),{args:i,keys:r}=Gz(n);if(0===i.length)return r2([],e);const s=new pt(function aX(n,e,t=hi){return i=>{XE(e,()=>{const{length:r}=n,s=new Array(r);let a=r,o=r;for(let c=0;c<r;c++)XE(e,()=>{const l=r2(n[c],e);let u=!1;l.subscribe(Ht(i,f=>{s[c]=f,u||(u=!0,o--),o||i.next(t(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,e,r?a=>jz(r,a):hi));return t?s.pipe(Wz(t)):s}function XE(n,e,t){n?lr(t,n,e):e()}const n9=Ha(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function lg(...n){return function oX(){return m4(1)}()(r2(n,ps(n)))}function YE(n){return new pt(e=>{mi(n()).subscribe(e)})}function Xc(n,e){const t=Z1(n)?n:()=>n,i=r=>r.error(t());return new pt(e?r=>e.schedule(i,0,r):i)}function ug(){return Yt((n,e)=>{let t=null;n._refCount++;const i=Ht(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class JE extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ka(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fi;const t=this.getSubject();e.add(this.source.subscribe(Ht(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fi.EMPTY)}return e}refCount(){return ug()(this)}}function Zo(n){return n<=0?()=>ki:Yt((e,t)=>{let i=0;e.subscribe(Ht(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function i9(n){return Yt((e,t)=>{let i=!1;e.subscribe(Ht(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function KE(n=lX){return Yt((e,t)=>{let i=!1;e.subscribe(Ht(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function lX(){return new n9}function Fs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?T4((r,s)=>n(r,s,i)):hi,Zo(1),t?i9(e):KE(()=>new n9))}function zn(n,e,t){const i=Z1(n)||e||t?{next:n,error:e,complete:t}:n;return i?Yt((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;r.subscribe(Ht(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;o=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;o=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;o&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):hi}function ks(n){return Yt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Ht(t,void 0,void 0,a=>{s=mi(n(a,ks(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function fg(n){return n<=0?()=>ki:Yt((e,t)=>{let i=[];e.subscribe(Ht(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}const A1="primary",Yc=Symbol("RouteTitle");class pX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xo(n){return new pX(n)}function mX(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],o=n[s];if(a.startsWith(":"))r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!QE(n[r],e[r]))return!1;return!0}function QE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function eT(n){return n.length>0?n[n.length-1]:null}function N3(n){return function sX(n){return!!n&&(n instanceof pt||Z1(n.lift)&&Z1(n.subscribe))}(n)?n:wc(n)?r2(Promise.resolve(n)):l1(n)}const vX={exact:function iT(n,e,t){if(!Us(n.segments,e.segments)||!r9(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!iT(n.children[i],e.children[i],t))return!1;return!0},subset:rT},tT={exact:function yX(n,e){return Qr(n,e)},subset:function _X(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QE(n[t],e[t]))},ignored:()=>!0};function nT(n,e,t){return vX[t.paths](n.root,e.root,t.matrixParams)&&tT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function rT(n,e,t){return sT(n,e,e.segments,t)}function sT(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Us(r,t)||e.hasChildren()||!r9(r,t,i))}if(n.segments.length===t.length){if(!Us(n.segments,t)||!r9(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!rT(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Us(n.segments,r)&&r9(n.segments,r,i)&&n.children[A1])&&sT(n.children[A1],e,s,i)}}function r9(n,e,t){return e.every((i,r)=>tT[t](n[r].parameters,i.parameters))}class Yo{constructor(e=new Mt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return CX.serialize(this)}}class Mt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return s9(this)}}class Jc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xo(this.parameters)),this._parameterMap}toString(){return cT(this)}}function Us(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return new hg},providedIn:"root"}),n})();class hg{parse(e){const t=new IX(e);return new Yo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qc(e.root,!0)}`,i=function SX(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${a9(t)}=${a9(r)}`).join("&"):`${a9(t)}=${a9(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function bX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const CX=new hg;function s9(n){return n.segments.map(e=>cT(e)).join("/")}function Qc(n,e){if(!n.hasChildren())return s9(n);if(e){const t=n.children[A1]?Qc(n.children[A1],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==A1&&i.push(`${r}:${Qc(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function xX(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===A1&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==A1&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===A1?[Qc(n.children[A1],!1)]:[`${r}:${Qc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[A1]?`${s9(n)}/${t[0]}`:`${s9(n)}/(${t.join("//")})`}}function aT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a9(n){return aT(n).replace(/%3B/gi,";")}function dg(n){return aT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function o9(n){return decodeURIComponent(n)}function oT(n){return o9(n.replace(/\+/g,"%20"))}function cT(n){return`${dg(n.path)}${function wX(n){return Object.keys(n).map(e=>`;${dg(e)}=${dg(n[e])}`).join("")}(n.parameters)}`}const AX=/^[^\/()?;#]+/;function pg(n){const e=n.match(AX);return e?e[0]:""}const zX=/^[^\/()?;=#]+/,TX=/^[^=?&#]+/,LX=/^[^&#]+/;class IX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[A1]=new Mt(e,t)),i}parseSegment(){const e=pg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new me(4009,!1);return this.capture(e),new Jc(o9(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function EX(n){const e=n.match(zX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=pg(this.remaining);r&&(i=r,this.capture(i))}e[o9(t)]=o9(i)}parseQueryParam(e){const t=function DX(n){const e=n.match(TX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=function NX(n){const e=n.match(LX);return e?e[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=oT(t),s=oT(i);if(e.hasOwnProperty(r)){let a=e[r];Array.isArray(a)||(a=[a],e[r]=a),a.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new me(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=A1);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[A1]:new Mt([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new me(4011,!1)}}function lT(n){return n.segments.length>0?new Mt([],{[A1]:n}):n}function uT(n){const e={};for(const i of Object.keys(n.children)){const s=uT(n.children[i]);if(i===A1&&0===s.segments.length&&s.hasChildren())for(const[a,o]of Object.entries(s.children))e[a]=o;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function RX(n){if(1===n.numberOfChildren&&n.children[A1]){const e=n.children[A1];return new Mt(n.segments.concat(e.segments),e.children)}return n}(new Mt(n.segments,e))}function Bs(n){return n instanceof Yo}function fT(n){let e;const i=function t(s){const a={};for(const c of s.children){const l=t(c);a[c.outlet]=l}const o=new Mt(s.url,a);return s===n&&(e=o),o}(n.root),r=lT(i);return e??r}function hT(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return mg(r,r,r,t,i);const s=function HX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return Object.entries(s.outlets).forEach(([c,l])=>{o[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:o}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((o,c)=>{0==c&&"."===o||(0==c&&""===o?t=!0:".."===o?e++:""!=o&&r.push(o))}),r):[...r,s]},[]);return new pT(t,e,i)}(e);if(s.toRoot())return mg(r,r,new Mt([],{}),t,i);const a=function VX(n,e,t){if(n.isAbsolute)return new l9(e,!0,0);if(!t)return new l9(e,!1,NaN);if(null===t.parent)return new l9(t,!0,0);const i=c9(n.commands[0])?0:1;return function OX(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new me(4005,!1);r=i.segments.length}return new l9(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),o=a.processChildren?t8(a.segmentGroup,a.index,s.commands):mT(a.segmentGroup,a.index,s.commands);return mg(r,a.segmentGroup,o,t,i)}function c9(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function e8(n){return"object"==typeof n&&null!=n&&n.outlets}function mg(n,e,t,i,r){let a,s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),a=n===e?t:dT(n,e,t);const o=lT(uT(a));return new Yo(o,s,r)}function dT(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:dT(s,e,t)}),new Mt(n.segments,i)}class pT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&c9(i[0]))throw new me(4003,!1);const r=i.find(e8);if(r&&r!==eT(i))throw new me(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class l9{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function mT(n,e,t){if(n||(n=new Mt([],{})),0===n.segments.length&&n.hasChildren())return t8(n,e,t);const i=function kX(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const a=n.segments[r],o=t[i];if(e8(o))break;const c=`${o}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!vT(c,l,a))return s;i+=2}else{if(!vT(c,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mt(n.segments.slice(0,i.pathIndex),{});return s.children[A1]=new Mt(n.segments.slice(i.pathIndex),n.children),t8(s,0,r)}return i.match&&0===r.length?new Mt(n.segments,{}):i.match&&!n.hasChildren()?gg(n,e,t):i.match?t8(n,0,r):gg(n,e,t)}function t8(n,e,t){if(0===t.length)return new Mt(n.segments,{});{const i=function FX(n){return e8(n[0])?n[0].outlets:{[A1]:n}}(t),r={};if(!i[A1]&&n.children[A1]&&1===n.numberOfChildren&&0===n.children[A1].segments.length){const s=t8(n.children[A1],e,t);return new Mt(n.segments,s.children)}return Object.entries(i).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(r[s]=mT(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{void 0===i[s]&&(r[s]=a)}),new Mt(n.segments,r)}}function gg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(e8(s)){const c=UX(s.outlets);return new Mt(i,c)}if(0===r&&c9(t[0])){i.push(new Jc(n.segments[e].path,gT(t[0]))),r++;continue}const a=e8(s)?s.outlets[A1]:`${s}`,o=r<t.length-1?t[r+1]:null;a&&o&&c9(o)?(i.push(new Jc(a,gT(o))),r+=2):(i.push(new Jc(a,{})),r++)}return new Mt(i,{})}function UX(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=gg(new Mt([],{}),0,i))}),e}function gT(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function vT(n,e,t){return n==t.path&&Qr(e,t.parameters)}const n8="imperative";class e4{constructor(e,t){this.id=e,this.url=t}}class vg extends e4{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class I3 extends e4{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class u9 extends e4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class i8 extends e4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class yg extends e4{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class BX extends e4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GX extends e4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WX extends e4{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jX extends e4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $X extends e4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class XX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yT{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new r8,this.attachRef=null}}let r8=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new QX,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _T{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_g(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=_g(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Mg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Mg(e,this._root).map(t=>t.value)}}function _g(n,e){if(n===e.value)return e;for(const t of e.children){const i=_g(n,t);if(i)return i}return null}function Mg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Mg(n,t);if(i.length)return i.unshift(e),i}return[]}class D4{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class MT extends _T{constructor(e,t){super(e),this.snapshot=t,xg(this,e)}toString(){return this.snapshot.toString()}}function xT(n,e){const t=function eY(n,e){const a=new f9([],{},{},"",{},A1,e,null,{});return new bT("",new D4(a,[]))}(0,e),i=new Bn([new Jc("",{})]),r=new Bn({}),s=new Bn({}),a=new Bn({}),o=new Bn(""),c=new R3(i,r,a,o,s,A1,e,t.root);return c.snapshot=t.root,new MT(new D4(c,[]),t)}class R3{constructor(e,t,i,r,s,a,o,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=a,this.component=o,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(C1(l=>l[Yc]))??l1(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C1(e=>Xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C1(e=>Xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CT(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function tY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class f9{get title(){return this.data?.[Yc]}constructor(e,t,i,r,s,a,o,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bT extends _T{constructor(e,t){super(t),this.url=e,xg(this,t)}toString(){return wT(this._root)}}function xg(n,e){e.value._routerState=n,e.children.forEach(t=>xg(n,t))}function wT(n){const e=n.children.length>0?` { ${n.children.map(wT).join(", ")} } `:"";return`${n.value}${e}`}function Cg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qr(e.params,t.params)||n.paramsSubject.next(t.params),function gX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Qr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function bg(n,e){const t=Qr(n.params,e.params)&&function MX(n,e){return Us(n,e)&&n.every((t,i)=>Qr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||bg(n.parent,e.parent))}let wg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=A1,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=Re(r8),this.location=Re(vr),this.changeDetector=Re(C7),this.environmentInjector=Re(jr),this.inputBinder=Re(h9,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new me(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new me(4013,!1);this._activatedRoute=t;const r=this.location,a=t.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,c=new nY(t,o,r.injector);this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]}),n})();class nY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===R3?this.route:e===r8?this.childContexts:this.parent.get(e,t)}}const h9=new Fe("");let ST=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=cg([i.queryParams,i.params,i.data]).pipe(Gn(([s,a,o],c)=>(o={...s,...a,...o},0===c?l1(o):Promise.resolve(o)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const a=function ij(n){const e=st(n);if(!e)return null;const t=new _c(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:o}of a.inputs)t.activatedComponentRef.setInput(o,s[o]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function s8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function rY(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return s8(n,i,r);return s8(n,i)})}(n,e,t);return new D4(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(o=>s8(n,o)),a}}const i=function sY(n){return new R3(new Bn(n.url),new Bn(n.params),new Bn(n.queryParams),new Bn(n.fragment),new Bn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>s8(n,s));return new D4(i,r)}}const Sg="ngNavigationCancelingError";function AT(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Bs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zT(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function zT(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Sg]=!0,i.cancellationCode=e,t&&(i.url=t),i}function ET(n){return TT(n)&&Bs(n.url)}function TT(n){return n&&n[Sg]}let DT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["ng-component"]],standalone:!0,features:[oS],decls:1,vars:0,template:function(t,i){1&t&&ye(0,"router-outlet")},dependencies:[wg],encapsulation:2}),n})();function Ag(n){const e=n.children&&n.children.map(Ag),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==A1&&(t.component=DT),t}function xr(n){return n.outlet||A1}function a8(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class hY{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Cg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Jo(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jo(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:o})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Jo(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Jo(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new KX(s.value.snapshot))}),e.children.length&&this.forwardEvent(new YX(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Cg(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Cg(o.route.value),this.activateChildRoutes(e,null,a.children)}else{const o=a8(r.snapshot);a.attachRef=null,a.route=r,a.injector=o,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,i)}}class LT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class d9{constructor(e,t){this.component=e,this.route=t}}function dY(n,e,t){const i=n._root;return o8(i,e?e._root:null,t,[i.value])}function Ko(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function ph(n){return null!==ja(n)}(n)?e.get(n):n:i}function o8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jo(e);return n.children.forEach(a=>{(function mY(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,o=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function gY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Us(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Us(n.url,e.url)||!Qr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(n,e)||!Qr(n.queryParams,e.queryParams);default:return!bg(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new LT(i)):(s.data=a.data,s._resolvedData=a._resolvedData),o8(n,e,s.component?o?o.children:null:t,i,r),c&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new d9(o.outlet.component,a))}else a&&c8(e,o,r),r.canActivateChecks.push(new LT(i)),o8(n,null,s.component?o?o.children:null:t,i,r)})(a,s[a.value.outlet],t,i.concat([a.value]),r),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,o])=>c8(o,t.getContext(a),r)),r}function c8(n,e,t){const i=Jo(n),r=n.value;Object.entries(i).forEach(([s,a])=>{c8(a,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new d9(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function l8(n){return"function"==typeof n}function NT(n){return n instanceof n9||"EmptyError"===n?.name}const p9=Symbol("INITIAL_VALUE");function Qo(){return Gn(n=>cg(n.map(e=>e.pipe(Zo(1),function cX(...n){const e=ps(n);return Yt((t,i)=>{(e?lg(n,t,e):lg(n,t)).subscribe(i)})}(p9)))).pipe(C1(e=>{for(const t of e)if(!0!==t){if(t===p9)return p9;if(!1===t||t instanceof Yo)return t}return!0}),T4(e=>e!==p9),Zo(1)))}function IT(n){return function di(...n){return Rr(n)}(zn(e=>{if(Bs(e))throw AT(0,e)}),C1(e=>!0===e))}class m9{constructor(e){this.segmentGroup=e||null}}class RT{constructor(e){this.urlTree=e}}function e6(n){return Xc(new m9(n))}function PT(n){return Xc(new RT(n))}class HY{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new me(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return l1(i);if(r.numberOfChildren>1||!r.children[A1])return Xc(new me(4e3,!1));r=r.children[A1]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Yo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const o=s.substring(1);i[r]=t[o]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let a={};return Object.entries(t.children).forEach(([o,c])=>{a[o]=this.createSegmentGroup(e,c,i,r)}),new Mt(s,a)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new me(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const zg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VY(n,e,t,i,r){const s=Eg(n,e,t);return s.matched?(i=function aY(n,e){return n.providers&&!n._injector&&(n._injector=Rp(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function IY(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?l1(r.map(a=>{const o=Ko(a,n);return N3(function CY(n){return n&&l8(n.canMatch)}(o)?o.canMatch(e,t):n.runInContext(()=>o(e,t)))})).pipe(Qo(),IT()):l1(!0)}(i,e,t).pipe(C1(a=>!0===a?s:{...zg}))):l1(s)}function Eg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||mX)(t,n,e);if(!r)return{...zg};const s={};Object.entries(r.posParams??{}).forEach(([o,c])=>{s[o]=c.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function HT(n,e,t,i){return t.length>0&&function kY(n,e,t){return t.some(i=>g9(n,e,i)&&xr(i)!==A1)}(n,t,i)?{segmentGroup:new Mt(e,FY(i,new Mt(t,n.children))),slicedSegments:[]}:0===t.length&&function UY(n,e,t){return t.some(i=>g9(n,e,i))}(n,t,i)?{segmentGroup:new Mt(n.segments,OY(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Mt(n.segments,n.children),slicedSegments:t}}function OY(n,e,t,i,r){const s={};for(const a of i)if(g9(n,t,a)&&!r[xr(a)]){const o=new Mt([],{});s[xr(a)]=o}return{...r,...s}}function FY(n,e){const t={};t[A1]=e;for(const i of n)if(""===i.path&&xr(i)!==A1){const r=new Mt([],{});t[xr(i)]=r}return t}function g9(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jY{constructor(e,t,i,r,s,a,o){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o,this.allowRedirects=!0,this.applyRedirects=new HY(this.urlSerializer,this.urlTree)}noMatchError(e){return new me(4002,!1)}recognize(){const e=HT(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,A1).pipe(ks(t=>{if(t instanceof RT)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof m9?this.noMatchError(t):t}),C1(t=>{const i=new f9([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},A1,this.rootComponentType,null,{}),r=new D4(i,t),s=new bT("",r),a=function PX(n,e,t=null,i=null){return hT(fT(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,A1).pipe(ks(i=>{throw i instanceof m9?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=CT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return r2(r).pipe(Uo(s=>{const a=i.children[s],o=function uY(n,e){const t=n.filter(i=>xr(i)===e);return t.push(...n.filter(i=>xr(i)!==e)),t}(t,s);return this.processSegmentGroup(e,o,a,s)}),function fX(n,e){return Yt(function uX(n,e,t,i,r){return(s,a)=>{let o=t,c=e,l=0;s.subscribe(Ht(a,u=>{const f=l++;c=o?n(c,u,f):(o=!0,u),i&&a.next(c)},r&&(()=>{o&&a.next(c),a.complete()})))}}(n,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),i9(null),function hX(n,e){const t=arguments.length>=2;return i=>i.pipe(n?T4((r,s)=>n(r,s,i)):hi,fg(1),t?i9(e):KE(()=>new n9))}(),A2(s=>{if(null===s)return e6(i);const a=VT(s);return function $Y(n){n.sort((e,t)=>e.value.outlet===A1?-1:t.value.outlet===A1?1:e.value.outlet.localeCompare(t.value.outlet))}(a),l1(a)}))}processSegment(e,t,i,r,s,a){return r2(t).pipe(Uo(o=>this.processSegmentAgainstRoute(o._injector??e,t,o,i,r,s,a).pipe(ks(c=>{if(c instanceof m9)return l1(null);throw c}))),Fs(o=>!!o),ks(o=>{if(NT(o))return function GY(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?l1([]):e6(i);throw o}))}processSegmentAgainstRoute(e,t,i,r,s,a,o){return function BY(n,e,t,i){return!!(xr(n)===i||i!==A1&&g9(e,t,n))&&("**"===n.path||Eg(e,n,t).matched)}(i,r,s,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,a,o):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,a):e6(r):e6(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?PT(s):this.applyRedirects.lineralizeSegments(i,s).pipe(A2(a=>{const o=new Mt(a,{});return this.processSegment(e,t,o,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,a){const{matched:o,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Eg(t,r,s);if(!o)return e6(t);const f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?PT(f):this.applyRedirects.lineralizeSegments(r,f).pipe(A2(h=>this.processSegment(e,i,t,h.concat(l),a,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,a){let o;if("**"===i.path){const c=r.length>0?eT(r).parameters:{};o=l1({snapshot:new f9(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OT(i),xr(i),i.component??i._loadedComponent??null,i,FT(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else o=VY(t,i,r,e).pipe(C1(({matched:c,consumedSegments:l,remainingSegments:u,parameters:f})=>c?{snapshot:new f9(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OT(i),xr(i),i.component??i._loadedComponent??null,i,FT(i)),consumedSegments:l,remainingSegments:u}:null));return o.pipe(Gn(c=>null===c?e6(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Gn(({routes:l})=>{const u=i._loadedInjector??e,{snapshot:f,consumedSegments:h,remainingSegments:d}=c,{segmentGroup:p,slicedSegments:m}=HT(t,h,d,l);if(0===m.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(C1(v=>null===v?null:[new D4(f,v)]));if(0===l.length&&0===m.length)return l1([new D4(f,[])]);const g=xr(i)===s;return this.processSegment(u,l,p,m,g?A1:s,!0).pipe(C1(v=>[new D4(f,v)]))}))))}getChildConfig(e,t,i){return t.children?l1({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?l1({routes:t._loadedRoutes,injector:t._loadedInjector}):function NY(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?l1(!0):l1(r.map(a=>{const o=Ko(a,n);return N3(function yY(n){return n&&l8(n.canLoad)}(o)?o.canLoad(e,t):n.runInContext(()=>o(e,t)))})).pipe(Qo(),IT())}(e,t,i).pipe(A2(r=>r?this.configLoader.loadChildren(e,t).pipe(zn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function PY(n){return Xc(zT(!1,3))}())):l1({routes:[],injector:e})}}function qY(n){const e=n.value.routeConfig;return e&&""===e.path}function VT(n){const e=[],t=new Set;for(const i of n){if(!qY(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=VT(i.children);e.push(new D4(i.value,r))}return e.filter(i=>!t.has(i))}function OT(n){return n.data||{}}function FT(n){return n.resolve||{}}function kT(n){return"string"==typeof n.title||null===n.title}function Tg(n){return Gn(e=>{const t=n(e);return t?r2(t).pipe(C1(()=>e)):l1(e)})}const t6=new Fe("ROUTES");let Dg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Re(YS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return l1(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=N3(t.loadComponent()).pipe(C1(UT),zn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Uc(()=>{this.componentLoaders.delete(t)})),r=new JE(i,()=>new Un).pipe(ug());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return l1({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(C1(o=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(o)?l=o:(c=o.create(t).injector,l=c.get(t6,[],r1.Self|r1.Optional).flat()),{routes:l.map(Ag),injector:c}}),Uc(()=>{this.childrenLoaders.delete(i)})),a=new JE(s,()=>new Un).pipe(ug());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(t){return N3(t()).pipe(C1(UT),A2(i=>i instanceof sS||Array.isArray(i)?l1(i):r2(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function UT(n){return function eJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let v9=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Un,this.configLoader=Re(Dg),this.environmentInjector=Re(jr),this.urlSerializer=Re(Kc),this.rootContexts=Re(r8),this.inputBindingEnabled=null!==Re(h9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>l1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new ZX(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new qX(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Bn({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:n8,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(T4(i=>0!==i.id),C1(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Gn(i=>{let r=!1,s=!1;return l1(i).pipe(zn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Gn(a=>{const o=t.browserUrlTree.toString(),c=!t.navigated||a.extractedUrl.toString()!==o||o!==t.currentUrlTree.toString();if(!c&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new i8(a.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=a.rawUrl,a.resolve(null),ki}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return BT(a.source)&&(t.browserUrlTree=a.extractedUrl),l1(a).pipe(Gn(u=>{const f=this.transitions?.getValue();return this.events.next(new vg(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?ki:Promise.resolve(u)}),function ZY(n,e,t,i,r,s){return A2(a=>function WY(n,e,t,i,r,s,a="emptyOnly"){return new jY(n,e,t,i,r,a,s).recognize()}(n,e,t,i,a.extractedUrl,r,s).pipe(C1(({state:o,tree:c})=>({...a,targetSnapshot:o,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const f=new BX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:f,source:h,restoredState:d,extras:p}=a,m=new vg(u,this.urlSerializer.serialize(f),h,d);this.events.next(m);const g=xT(0,this.rootComponentType).snapshot;return l1(i={...a,targetSnapshot:g,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new i8(a.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=a.rawUrl,a.resolve(null),ki}}),zn(a=>{const o=new GX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(o)}),C1(a=>i={...a,guards:dY(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function wY(n,e){return A2(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?l1({...t,guardsResult:!0}):function SY(n,e,t,i){return r2(n).pipe(A2(r=>function LY(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return l1(!0);const a=s.map(o=>{const c=a8(e)??r,l=Ko(o,c);return N3(function xY(n){return n&&l8(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(Fs())});return l1(a).pipe(Qo())}(r.component,r.route,t,e,i)),Fs(r=>!0!==r,!0))}(a,i,r,n).pipe(A2(o=>o&&function vY(n){return"boolean"==typeof n}(o)?function AY(n,e,t,i){return r2(e).pipe(Uo(r=>lg(function EY(n,e){return null!==n&&e&&e(new XX(n)),l1(!0)}(r.route.parent,i),function zY(n,e){return null!==n&&e&&e(new JX(n)),l1(!0)}(r.route,i),function DY(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function pY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>YE(()=>l1(a.guards.map(c=>{const l=a8(a.node)??t,u=Ko(c,l);return N3(function MY(n){return n&&l8(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(Fs())})).pipe(Qo())));return l1(s).pipe(Qo())}(n,r.path,t),function TY(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return l1(!0);const r=i.map(s=>YE(()=>{const a=a8(e)??t,o=Ko(s,a);return N3(function _Y(n){return n&&l8(n.canActivate)}(o)?o.canActivate(e,n):a.runInContext(()=>o(e,n))).pipe(Fs())}));return l1(r).pipe(Qo())}(n,r.route,t))),Fs(r=>!0!==r,!0))}(i,s,n,e):l1(o)),C1(o=>({...t,guardsResult:o})))})}(this.environmentInjector,a=>this.events.next(a)),zn(a=>{if(i.guardsResult=a.guardsResult,Bs(a.guardsResult))throw AT(0,a.guardsResult);const o=new WX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(o)}),T4(a=>!!a.guardsResult||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Tg(a=>{if(a.guards.canActivateChecks.length)return l1(a).pipe(zn(o=>{const c=new jX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Gn(o=>{let c=!1;return l1(o).pipe(function XY(n,e){return A2(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return l1(t);let s=0;return r2(r).pipe(Uo(a=>function YY(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!kT(r)&&(s[Yc]=r.title),function JY(n,e,t,i){const r=function KY(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return l1({});const s={};return r2(r).pipe(A2(a=>function QY(n,e,t,i){const r=a8(e)??i,s=Ko(n,r);return N3(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[a],e,t,i).pipe(Fs(),zn(o=>{s[a]=o}))),fg(1),function dX(n){return C1(()=>n)}(s),ks(a=>NT(a)?ki:Xc(a)))}(s,n,e,i).pipe(C1(a=>(n._resolvedData=a,n.data=CT(n,t).resolve,r&&kT(r)&&(n.data[Yc]=r.title),null)))}(a.route,i,n,e)),zn(()=>s++),fg(1),A2(a=>s===r.length?l1(t):ki))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",2))}}))}),zn(o=>{const c=new $X(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}))}),Tg(a=>{const o=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(zn(u=>{c.component=u}),C1(()=>{})));for(const u of c.children)l.push(...o(u));return l};return cg(o(a.targetSnapshot.root)).pipe(i9(),Zo(1))}),Tg(()=>this.afterPreactivation()),C1(a=>{const o=function iY(n,e,t){const i=s8(n,e._root,t?t._root:void 0);return new MT(i,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:o}}),zn(a=>{t.currentUrlTree=a.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),t.routerState=a.targetRouterState,"deferred"===t.urlUpdateStrategy&&(a.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,a),t.browserUrlTree=a.urlAfterRedirects)}),((n,e,t,i)=>C1(r=>(new hY(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Zo(1),zn({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new I3(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),Uc(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ks(a=>{if(s=!0,TT(a)){ET(a)||(t.navigated=!0,t.restoreHistory(i,!0));const o=new u9(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode);if(this.events.next(o),ET(a)){const c=t.urlHandlingStrategy.merge(a.url,t.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||BT(i.source)};t.scheduleNavigation(c,n8,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const o=new yg(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);this.events.next(o);try{i.resolve(t.errorHandler(a))}catch(c){i.reject(c)}}return ki}))}))}cancelNavigationTransition(t,i,r){const s=new u9(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BT(n){return n!==n8}let GT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===A1);return i}getResolvedTitleForRoute(t){return t.data[Yc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Re(tJ)},providedIn:"root"}),n})(),tJ=(()=>{class n extends GT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(Ye(Mz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Re(rJ)},providedIn:"root"}),n})();class iJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rJ=(()=>{class n extends iJ{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y9=new Fe("",{providedIn:"root",factory:()=>({})});let sJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return Re(aJ)},providedIn:"root"}),n})(),aJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var xi=(()=>((xi=xi||{})[xi.COMPLETE=0]="COMPLETE",xi[xi.FAILED=1]="FAILED",xi[xi.REDIRECTING=2]="REDIRECTING",xi))();function WT(n,e){n.events.pipe(T4(t=>t instanceof I3||t instanceof u9||t instanceof yg||t instanceof i8),C1(t=>t instanceof I3||t instanceof i8?xi.COMPLETE:t instanceof u9&&(0===t.code||1===t.code)?xi.REDIRECTING:xi.FAILED),T4(t=>t!==xi.REDIRECTING),Zo(1)).subscribe(()=>{e()})}function oJ(n){throw n}function cJ(n,e,t){return e.parse("/")}const lJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let En=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Re(XS),this.isNgZoneEnabled=!1,this.options=Re(y9,{optional:!0})||{},this.pendingTasks=Re(_7),this.errorHandler=this.options.errorHandler||oJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||cJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Re(sJ),this.routeReuseStrategy=Re(nJ),this.titleStrategy=Re(GT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Re(t6,{optional:!0})?.flat()??[],this.navigationTransitions=Re(v9),this.urlSerializer=Re(Kc),this.location=Re(gm),this.componentInputBindingEnabled=!!Re(h9,{optional:!0}),this.isNgZoneEnabled=Re(Wt)instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xT(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),n8,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},a=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const o=this.parseUrl(t);this.scheduleNavigation(o,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ag),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a;let f,u=null;switch(o){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{f=fT(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return hT(f,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Bs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,n8,null,i)}navigate(t,i={skipLocationChange:!1}){return function fJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new me(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...lJ}:!1===i?{...uJ}:i,Bs(t))return nT(this.currentUrlTree,t,r);const s=this.parseUrl(t);return nT(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let o,c,l;a?(o=a.resolve,c=a.reject,l=a.promise):l=new Promise((f,h)=>{o=f,c=h});const u=this.pendingTasks.add();return WT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:o,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",a)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P3=(()=>{class n{constructor(t,i,r,s,a,o){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=a,this.locationStrategy=o,this.href=null,this.commands=null,this.onChanges=new Un,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof I3&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fC(n,e,t){return function qO(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?uC:vo}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(le(En),le(R3),function Al(n){return function dV(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(tl(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}($2(),n)}("tabindex"),le($r),le(sn),le(Ps))},n.\u0275dir=h1({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&S1("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&pr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ko],skipLocationChange:["skipLocationChange","skipLocationChange",ko],replaceUrl:["replaceUrl","replaceUrl",ko],routerLink:"routerLink"},standalone:!0,features:[_b,yn]}),n})(),jT=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,a){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Kt,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof I3&&this.update()})}ngAfterContentInit(){l1(this.links.changes,l1(null)).pipe(m4()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=r2(t).pipe(m4()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function hJ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(le(En),le(sn),le($r),le(C7),le(P3,8))},n.\u0275dir=h1({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&function TS(n,e,t,i){const r=rt();if(r.firstCreatePass){const s=$2();LS(r,new zS(e,t,i),s.index),function WG(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}DS(r,de(),t)}(r,P3,5),2&t){let s;Cn(s=bn())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[yn]}),n})();class $T{}let dJ=(()=>{class n{constructor(t,i,r,s,a){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(T4(t=>t instanceof I3),Uo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Rp(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,o=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(o,s.children??s._loadedRoutes))}return r2(r).pipe(m4())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):l1(null);const s=r.pipe(A2(a=>null===a?l1(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return i.loadComponent&&!i._loadedComponent?r2([s,this.loader.loadComponent(i)]).pipe(m4()):s})}}return n.\u0275fac=function(t){return new(t||n)(Ye(En),Ye(YS),Ye(jr),Ye($T),Ye(Dg))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lg=new Fe("");let qT=(()=>{class n{constructor(t,i,r,s,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof I3?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof i8&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function qC(){throw new Error("invalid")}()},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function L4(n,e){return{\u0275kind:n,\u0275providers:e}}function XT(){const n=Re(dr);return e=>{const t=n.get(Fo);if(e!==t.components[0])return;const i=n.get(En),r=n.get(YT);1===n.get(Ng)&&i.initialNavigation(),n.get(JT,null,r1.Optional)?.setUpPreloading(),n.get(Lg,null,r1.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const YT=new Fe("",{factory:()=>new Un}),Ng=new Fe("",{providedIn:"root",factory:()=>1}),JT=new Fe("");function vJ(n){return L4(0,[{provide:JT,useExisting:dJ},{provide:$T,useExisting:n}])}const KT=new Fe("ROUTER_FORROOT_GUARD"),_J=[gm,{provide:Kc,useClass:hg},En,r8,{provide:R3,useFactory:function ZT(n){return n.routerState.root},deps:[En]},Dg,[]];function MJ(){return new oA("Router",En)}let _9=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[_J,[],{provide:t6,multi:!0,useValue:t},{provide:KT,useFactory:wJ,deps:[[En,new Tl,new Dl]]},{provide:y9,useValue:i||{}},i?.useHash?{provide:Ps,useClass:cj}:{provide:Ps,useClass:PA},{provide:Lg,useFactory:()=>{const n=Re(A$),e=Re(Wt),t=Re(y9),i=Re(v9),r=Re(Kc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new qT(r,i,n,e,t)}},i?.preloadingStrategy?vJ(i.preloadingStrategy).\u0275providers:[],{provide:oA,multi:!0,useFactory:MJ},i?.initialNavigation?SJ(i):[],i?.bindToComponentInputs?L4(8,[ST,{provide:h9,useExisting:ST}]).\u0275providers:[],[{provide:QT,useFactory:XT},{provide:sm,multi:!0,useExisting:QT}]]}}static forChild(t){return{ngModule:n,providers:[{provide:t6,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Ye(KT,8))},n.\u0275mod=qn({type:n}),n.\u0275inj=en({}),n})();function wJ(n){return"guarded"}function SJ(n){return["disabled"===n.initialNavigation?L4(3,[{provide:Jp,multi:!0,useFactory:()=>{const e=Re(En);return()=>{e.setUpLocationChangeListener()}}},{provide:Ng,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?L4(2,[{provide:Ng,useValue:0},{provide:Jp,multi:!0,deps:[dr],useFactory:e=>{const t=e.get(aj,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(En),s=e.get(YT);WT(r,()=>{i(!0)}),e.get(v9).afterPreactivation=()=>(i(!0),s.closed?l1(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const QT=new Fe("");var Ig={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},eD={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},u8={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},Rg={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},tD={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},nD={prefix:"fas",iconName:"coffee",icon:[640,512,[],"f0f4","M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"]},M9={prefix:"fas",iconName:"folder-open",icon:[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"]},iD={prefix:"fas",iconName:"mail-bulk",icon:[576,512,[],"f674","M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"]},rD={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]},sD={prefix:"fas",iconName:"moon",icon:[512,512,[],"f186","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"]},aD={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]},oD={prefix:"fas",iconName:"sun",icon:[512,512,[],"f185","M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"]};function N4(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function cD(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Pg,ln,Qt,$t,Zi,Ug,Bg,pD,vD,o6,y8,c,l,u,f,h,d,n,e,t,i,r,s,a,o,p,Ci={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},n6={duration:.5,overwrite:!1,delay:0},qi=1e8,zt=1e-8,Hg=2*Math.PI,j8e=Hg/4,$8e=0,lD=Math.sqrt,q8e=Math.cos,Z8e=Math.sin,V2=function(e){return"string"==typeof e},e2=function(e){return"function"==typeof e},I4=function(e){return"number"==typeof e},Vg=function(e){return typeof e>"u"},t4=function(e){return"object"==typeof e},ti=function(e){return!1!==e},Og=function(){return typeof window<"u"},x9=function(e){return e2(e)||V2(e)},uD="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},un=Array.isArray,Fg=/(?:-?\.?\d|\.)+/gi,fD=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,i6=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,kg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,hD=/[+-]=-?[.\d]+/,dD=/[^,'"\[\]\s]+/gi,X8e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bi={},C9={},mD=function(e){return(C9=Ws(e,bi))&&si},Gg=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},b9=function(e,t){return!t&&console.warn(e)},gD=function(e,t){return e&&(bi[e]=t)&&C9&&(C9[e]=t)||bi},f8=function(){return 0},Y8e={suppressEvents:!0,isStart:!0,kill:!1},w9={suppressEvents:!0,kill:!1},J8e={suppressEvents:!0},Wg={},H3=[],jg={},wi={},$g={},yD=30,S9=[],qg="",Zg=function(e){var i,r,t=e[0];if(t4(t)||e2(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=S9.length;r--&&!S9[r].targetTest(t););i=S9[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new qD(e[r],i)))||e.splice(r,1);return e},Gs=function(e){return e._gsap||Zg(Ji(e))[0]._gsap},_D=function(e,t,i){return(i=e[t])&&e2(i)?e[t]():Vg(i)&&e.getAttribute&&e.getAttribute(t)||i},ni=function(e,t){return(e=e.split(",")).forEach(t)||e},c2=function(e){return Math.round(1e5*e)/1e5||0},Z2=function(e){return Math.round(1e7*e)/1e7||0},r6=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},K8e=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},A9=function(){var i,r,e=H3.length,t=H3.slice(0);for(jg={},H3.length=0,i=0;i<e;i++)(r=t[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},MD=function(e,t,i,r){H3.length&&!ln&&A9(),e.render(t,i,r||ln&&t<0&&(e._initted||e._startAt)),H3.length&&!ln&&A9()},xD=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(dD).length<2?t:V2(e)?e.trim():e},CD=function(e){return e},Xi=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Ws=function(e,t){for(var i in t)e[i]=t[i];return e},bD=function n(e,t){for(var i in t)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=t4(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},z9=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},h8=function(e){var t=e.parent||$t,i=e.keyframes?function(e){return function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}}(un(e.keyframes)):Xi;if(ti(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},wD=function(e,t,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o,a=e[r];if(s)for(o=t[s];a&&a[s]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},E9=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=t._prev,a=t._next;s?s._next=a:e[i]===t&&(e[i]=a),a?a._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},V3=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},js=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Xg=function(e,t,i,r){return e._startAt&&(ln?e._startAt.revert(w9):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},n5e=function n(e){return!e||e._ts&&n(e.parent)},SD=function(e){return e._repeat?s6(e._tTime,e=e.duration()+e._rDelay)*e:0},s6=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},T9=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},D9=function(e){return e._end=Z2(e._start+(e._tDur/Math.abs(e._ts||e._rts||zt)||0))},L9=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Z2(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),D9(e),i._dirty||js(i,e)),e},AD=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=T9(e.rawTime(),t),(!t._dur||p8(0,t.totalDuration(),i)-t._tTime>zt)&&t.render(i,!0)),js(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-zt}},n4=function(e,t,i,r){return t.parent&&V3(t),t._start=Z2((I4(i)?i:i||e!==$t?Yi(e,i,t):e._time)+t._delay),t._end=Z2(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),wD(e,t,"_first","_last",e._sort?"_start":0),Yg(t)||(e._recent=t),r||AD(e,t),e._ts<0&&L9(e,e._tTime),e},zD=function(e,t){return(bi.ScrollTrigger||Gg("scrollTrigger",t))&&bi.ScrollTrigger.create(t,e)},ED=function(e,t,i,r,s){return sv(e,t,s),e._initted?!i&&e._pt&&!ln&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&vD!==Si.frame?(H3.push(e),e._lazy=[s,r],1):void 0:1},i5e=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Yg=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},a6=function(e,t,i,r){var s=e._repeat,a=Z2(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:Z2(a*(s+1)+e._rDelay*s):a,o>0&&!r&&L9(e,e._tTime=e._tDur*o),e.parent&&D9(e),i||js(e.parent,e),e},TD=function(e){return e instanceof ii?js(e):a6(e,e._dur)},a5e={_start:0,endTime:f8,totalDuration:f8},Yi=function n(e,t,i){var o,c,l,r=e.labels,s=e._recent||a5e,a=e.duration()>=qi?s.endTime(!1):e._dur;return V2(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),l="%"===t.substr(-1),o=t.indexOf("="),"<"===c||">"===c?(o>=0&&(t=t.replace(/=/,"")),("<"===c?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(o<0?s:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(c=parseFloat(t.charAt(o-1)+t.substr(o+1)),l&&i&&(c=c/100*(un(i)?i[0]:i).totalDuration()),o>1?n(e,t.substr(0,o-1),i)+c:a+c)):null==t?a:+t},d8=function(e,t,i){var o,c,r=I4(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s];if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,c=i;c&&!("immediateRender"in o);)o=c.vars.defaults||{},c=ti(c.vars.inherit)&&c.parent;a.immediateRender=ti(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new v2(t[0],a,t[s+1])},O3=function(e,t){return e||0===e?t(e):t},p8=function(e,t,i){return i<e?e:i>t?t:i},fn=function(e,t){return V2(e)&&(t=X8e.exec(e))?t[1]:""},Jg=[].slice,DD=function(e,t){return e&&t4(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&t4(e[0]))&&!e.nodeType&&e!==Zi},Ji=function(e,t,i){return Qt&&!t&&Qt.selector?Qt.selector(e):!V2(e)||i||!Ug&&c6()?un(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(r){var s;return V2(r)&&!t||DD(r,1)?(s=i).push.apply(s,Ji(r)):i.push(r)})||i}(e,i):DD(e)?Jg.call(e,0):e?[e]:[]:Jg.call((t||Bg).querySelectorAll(e),0)},Kg=function(e){return e=Ji(e)[0]||b9("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ji(t,i.querySelectorAll?i:i===e?b9("Invalid scope")||Bg.createElement("div"):e)}},LD=function(e){return e.sort(function(){return.5-Math.random()})},ND=function(e){if(e2(e))return e;var t=t4(e)?e:{each:e},i=$s(t.ease),r=t.from||0,s=parseFloat(t.base)||0,a={},o=r>0&&r<1,c=isNaN(r)||o,l=t.axis,u=r,f=r;return V2(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!o&&c&&(u=r[0],f=r[1]),function(h,d,p){var v,M,x,C,b,A,E,D,S,m=(p||t).length,g=a[m];if(!g){if(!(S="auto"===t.grid?0:(t.grid||[1,qi])[1])){for(E=-qi;E<(E=p[S++].getBoundingClientRect().left)&&S<m;);S--}for(g=a[m]=[],v=c?Math.min(S,m)*u-.5:r%S,M=S===qi?0:c?m*f/S-.5:r/S|0,E=0,D=qi,A=0;A<m;A++)x=A%S-v,C=M-(A/S|0),g[A]=b=l?Math.abs("y"===l?C:x):lD(x*x+C*C),b>E&&(E=b),b<D&&(D=b);"random"===r&&LD(g),g.max=E-D,g.min=D,g.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(S>m?m-1:l?"y"===l?m/S:S:Math.max(S,m/S))||0)*("edges"===r?-1:1),g.b=m<0?s-m:s,g.u=fn(t.amount||t.each)||0,i=i&&m<0?WD(i):i}return m=(g[h]-g.min)/g.max||0,Z2(g.b+(i?i(m):m)*g.v)+g.u}},Qg=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Z2(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(I4(i)?0:fn(i))}},ID=function(e,t){var r,s,i=un(e);return!i&&t4(e)&&(r=i=e.radius||qi,e.values?(e=Ji(e.values),(s=!I4(e[0]))&&(r*=r)):e=Qg(e.increment)),O3(t,i?e2(e)?function(a){return s=e(a),Math.abs(s-a)<=r?s:a}:function(a){for(var h,d,o=parseFloat(s?a.x:a),c=parseFloat(s?a.y:0),l=qi,u=0,f=e.length;f--;)(h=s?(h=e[f].x-o)*h+(d=e[f].y-c)*d:Math.abs(e[f]-o))<l&&(l=h,u=f);return u=!r||l<=r?e[u]:a,s||u===a||I4(a)?u:u+fn(a)}:Qg(e))},RD=function(e,t,i,r){return O3(un(e)?!t:!0===i?!!(i=0):!r,function(){return un(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r})},PD=function(e,t,i){return O3(i,function(r){return e[~~t(r)]})},m8=function(e){for(var r,s,a,o,t=0,i="";~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o="["===e.charAt(r+7),s=e.substr(r+7,a-r-7).match(o?dD:Fg),i+=e.substr(t,r-t)+RD(o?s:+s[0],o?0:+s[1],+s[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},HD=function(e,t,i,r,s){var a=t-e,o=r-i;return O3(s,function(c){return i+((c-e)/a*o||0)})},VD=function(e,t,i){var a,o,c,r=e.labels,s=qi;for(a in r)(o=r[a]-t)<0==!!i&&o&&s>(o=Math.abs(o))&&(c=a,s=o);return c},Ki=function(e,t,i){var c,l,u,r=e.vars,s=r[t],a=Qt,o=e._ctx;if(s)return c=r[t+"Params"],l=r.callbackScope||e,i&&H3.length&&A9(),o&&(Qt=o),u=c?s.apply(l,c):s.call(l),Qt=a,u},g8=function(e){return V3(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ln),e.progress()<1&&Ki(e,"onInterrupt"),e},OD=[],FD=function(e){if(Og()&&e){var t=(e=!e.name&&e.default||e).name,i=e2(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:f8,render:cv,add:iv,kill:D5e,modifier:T5e,rawVars:0},a={targetTest:0,get:0,getSetter:ov,aliases:{},register:0};if(c6(),e!==r){if(wi[t])return;Xi(r,Xi(z9(e,s),a)),Ws(r.prototype,Ws(s,z9(e,a))),wi[r.prop=t]=r,e.targetTest&&(S9.push(r),Wg[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}gD(t,r),e.register&&e.register(si,r,ri)}else e&&OD.push(e)},Et=255,v8={aqua:[0,Et,Et],lime:[0,Et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Et],navy:[0,0,128],white:[Et,Et,Et],olive:[128,128,0],yellow:[Et,Et,0],orange:[Et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Et,0,0],pink:[Et,192,203],cyan:[0,Et,Et],transparent:[Et,Et,Et,0]},ev=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Et+.5|0},kD=function(e,t,i){var s,a,o,c,l,u,f,h,d,p,r=e?I4(e)?[e>>16,e>>8&Et,e&Et]:0:v8.black;if(!r){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),v8[e])r=v8[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+s+s+a+a+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(r=parseInt(e.substr(1,6),16))>>16,r>>8&Et,r&Et,parseInt(e.substr(7),16)/255];r=[(e=parseInt(e.substr(1),16))>>16,e>>8&Et,e&Et]}else if("hsl"===e.substr(0,3))if(r=p=e.match(Fg),t){if(~e.indexOf("="))return r=e.match(fD),i&&r.length<4&&(r[3]=1),r}else c=+r[0]%360/360,l=+r[1]/100,s=2*(u=+r[2]/100)-(a=u<=.5?u*(l+1):u+l-u*l),r.length>3&&(r[3]*=1),r[0]=ev(c+1/3,s,a),r[1]=ev(c,s,a),r[2]=ev(c-1/3,s,a);else r=e.match(Fg)||v8.transparent;r=r.map(Number)}return t&&!p&&(s=r[0]/Et,a=r[1]/Et,o=r[2]/Et,u=((f=Math.max(s,a,o))+(h=Math.min(s,a,o)))/2,f===h?c=l=0:(d=f-h,l=u>.5?d/(2-f-h):d/(f+h),c=f===s?(a-o)/d+(a<o?6:0):f===a?(o-s)/d+2:(s-a)/d+4,c*=60),r[0]=~~(c+.5),r[1]=~~(100*l+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},UD=function(e){var t=[],i=[],r=-1;return e.split(F3).forEach(function(s){var a=s.match(i6)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},BD=function(e,t,i){var c,l,u,f,r="",s=(e+r).match(F3),a=t?"hsla(":"rgba(",o=0;if(!s)return e;if(s=s.map(function(h){return(h=kD(h,t,1))&&a+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=UD(e),(c=i.c).join(r)!==u.c.join(r)))for(f=(l=e.replace(F3,"1").split(i6)).length-1;o<f;o++)r+=l[o]+(~c.indexOf(o)?s.shift()||a+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!l)for(f=(l=e.split(F3)).length-1;o<f;o++)r+=l[o]+s[o];return r+l[f]},F3=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in v8)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),m5e=/hsl[a]?\(/,GD=function(e){var i,t=e.join(" ");if(F3.lastIndex=0,F3.test(t))return i=m5e.test(t),e[1]=BD(e[1],i),e[0]=BD(e[0],i,UD(e[1])),!0},Si=(n=Date.now,e=500,t=33,i=n(),r=i,a=s=1e3/240,p=function m(g){var x,C,b,A,v=n()-r,M=!0===g;if(v>e&&(i+=v-t),((x=(b=(r+=v)-i)-a)>0||M)&&(A=++f.frame,h=b-1e3*f.time,f.time=b/=1e3,a+=x+(x>=s?4:s-x),C=1),M||(c=l(m)),C)for(d=0;d<o.length;d++)o[d](b,h,A,g)},f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){pD&&(!Ug&&Og()&&(Zi=Ug=window,Bg=Zi.document||{},bi.gsap=si,(Zi.gsapVersions||(Zi.gsapVersions=[])).push(si.version),mD(C9||Zi.GreenSockGlobals||!Zi.gsap&&Zi||{}),u=Zi.requestAnimationFrame,OD.forEach(FD)),c&&f.sleep(),l=u||function(g){return setTimeout(g,a-1e3*f.time+1|0)},y8=1,p(2))},sleep:function(){(u?Zi.cancelAnimationFrame:clearTimeout)(c),y8=0,l=f8},lagSmoothing:function(g,v){e=g||1/0,t=Math.min(v||33,e)},fps:function(g){a=1e3*f.time+(s=1e3/(g||240))},add:function(g,v,M){var x=v?function(C,b,A,E){g(C,b,A,E),f.remove(x)}:g;return f.remove(g),o[M?"unshift":"push"](x),c6(),x},remove:function(g,v){~(v=o.indexOf(g))&&o.splice(v,1)&&d>=v&&d--},_listeners:o=[]}),c6=function(){return!y8&&Si.wake()},et={},g5e=/^[\d.\-M][\d.\-,\s]/,v5e=/["']/g,y5e=function(e){for(var o,c,l,t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,a=i.length;s<a;s++)c=i[s],o=s!==a-1?c.lastIndexOf(","):c.length,l=c.substr(0,o),t[r]=isNaN(l)?l.replace(v5e,"").trim():+l,r=c.substr(o+1).trim();return t},WD=function(e){return function(t){return 1-e(1-t)}},jD=function n(e,t){for(var r,i=e._first;i;)i instanceof ii?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},$s=function(e,t){return e&&(e2(e)?e:et[e]||function(e){var t=(e+"").split("("),i=et[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[y5e(t[1])]:function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)}(e).split(",").map(xD)):et._CE&&g5e.test(e)?et._CE("",e):i}(e))||t},qs=function(e,t,i,r){void 0===i&&(i=function(c){return 1-t(1-c)}),void 0===r&&(r=function(c){return c<.5?t(2*c)/2:1-t(2*(1-c))/2});var a,s={easeIn:t,easeOut:i,easeInOut:r};return ni(e,function(o){for(var c in et[o]=bi[o]=s,et[a=o.toLowerCase()]=i,s)et[a+("easeIn"===c?".in":"easeOut"===c?".out":".inOut")]=et[o+"."+c]=s[c]}),s},$D=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},tv=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),a=s/Hg*(Math.asin(1/r)||0),o=function(u){return 1===u?1:r*Math.pow(2,-10*u)*Z8e((u-a)*s)+1},c="out"===e?o:"in"===e?function(l){return 1-o(1-l)}:$D(o);return s=Hg/s,c.config=function(l,u){return n(e,l,u)},c},nv=function n(e,t){void 0===t&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r="out"===e?i:"in"===e?function(s){return 1-i(1-s)}:$D(i);return r.config=function(s){return n(e,s)},r};ni("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;qs(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(2*i,t)/2:1-Math.pow(2*(1-i),t)/2})}),et.Linear.easeNone=et.none=et.Linear.easeIn,qs("Elastic",tv("in"),tv("out"),tv()),function(n,e){var s=function(o){return o<.36363636363636365?n*o*o:o<.7272727272727273?n*Math.pow(o-1.5/e,2)+.75:o<.9090909090909092?n*(o-=2.25/e)*o+.9375:n*Math.pow(o-2.625/e,2)+.984375};qs("Bounce",function(a){return 1-s(1-a)},s)}(7.5625,2.75),qs("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),qs("Circ",function(n){return-(lD(1-n*n)-1)}),qs("Sine",function(n){return 1===n?1:1-q8e(n*j8e)}),qs("Back",nv("in"),nv("out"),nv()),et.SteppedEase=et.steps=bi.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0;return function(o){return((r*p8(0,.99999999,o)|0)+s)*i}}},n6.ease=et["quad.out"],ni("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return qg+=n+","+n+"Params,"});var qD=function(e,t){this.id=$8e++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:_D,this.set=t?t.getSetter:ov},_8=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,a6(this,+t.duration,1,1),this.data=t.data,Qt&&(this._ctx=Qt,Qt.data.push(this)),y8||Si.wake()}var e=n.prototype;return e.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,a6(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(c6(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(L9(this,i),!s._dp||s.parent||AD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&n4(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===zt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),MD(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+SD(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+SD(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?s6(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?T9(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-zt?0:this._rts,this.totalTime(p8(-Math.abs(this._delay),this._tDur,r),!0),D9(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(c6(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&n4(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ti(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?T9(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){void 0===i&&(i=J8e);var r=ln;return ln=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),ln=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,TD(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,TD(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Yi(this,i),ti(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ti(r))},e.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},e.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-zt))},e.eventCallback=function(i,r,s){var a=this.vars;return arguments.length>1?(r?(a[i]=r,s&&(a[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(s){var a=e2(i)?i:CD,o=function(){var l=r.then;r.then=null,e2(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=l),s(a),r.then=l};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){g8(this)},n}();Xi(_8.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var ii=function(n){function e(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=ti(i.sortChildren),$t&&n4(i.parent||$t,N4(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&zD(N4(s),i.scrollTrigger),s}cD(e,n);var t=e.prototype;return t.to=function(r,s,a){return d8(0,arguments,this),this},t.from=function(r,s,a){return d8(1,arguments,this),this},t.fromTo=function(r,s,a,o){return d8(2,arguments,this),this},t.set=function(r,s,a){return s.duration=0,s.parent=this,h8(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new v2(r,s,Yi(this,a),1),this},t.call=function(r,s,a){return n4(this,v2.delayedCall(0,r,s),a)},t.staggerTo=function(r,s,a,o,c,l,u){return a.duration=s,a.stagger=a.stagger||o,a.onComplete=l,a.onCompleteParams=u,a.parent=this,new v2(r,a,Yi(this,c)),this},t.staggerFrom=function(r,s,a,o,c,l,u){return a.runBackwards=1,h8(a).immediateRender=ti(a.immediateRender),this.staggerTo(r,s,a,o,c,l,u)},t.staggerFromTo=function(r,s,a,o,c,l,u,f){return o.startAt=a,h8(o).immediateRender=ti(o.immediateRender),this.staggerTo(r,s,o,c,l,u,f)},t.render=function(r,s,a){var h,d,p,m,g,v,M,x,C,b,A,E,o=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=r<=0?0:Z2(r),f=this._zTime<0!=r<0&&(this._initted||!l);if(this!==$t&&u>c&&r>=0&&(u=c),u!==this._tTime||a||f){if(o!==this._time&&l&&(u+=this._time-o,r+=this._time-o),h=u,C=this._start,v=!(x=this._ts),f&&(l||(o=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(A=this._yoyo,g=l+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*g+r,s,a);if(h=Z2(u%g),u===c?(m=this._repeat,h=l):((m=~~(u/g))&&m===u/g&&(h=l,m--),h>l&&(h=l)),b=s6(this._tTime,g),!o&&this._tTime&&b!==m&&this._tTime-b*g-this._dur<=0&&(b=m),A&&1&m&&(h=l-h,E=1),m!==b&&!this._lock){var D=A&&1&b,S=D===(A&&1&m);if(m<b&&(D=!D),o=D?0:u%l?l:u,this._lock=1,this.render(o||(E?0:Z2(m*g)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&Ki(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),o&&o!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,S&&(this._lock=2,this.render(o=D?l:-1e-4,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;jD(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Z2(o),Z2(h)),M&&(u-=h-(h=M._start))),this._tTime=u,this._time=h,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&h&&!s&&!m&&(Ki(this,"onStart"),this._tTime!==u))return this;if(h>=o&&r>=0)for(d=this._first;d;){if(p=d._next,(d._act||h>=d._start)&&d._ts&&M!==d){if(d.parent!==this)return this.render(r,s,a);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,s,a),h!==this._time||!this._ts&&!v){M=0,p&&(u+=this._zTime=-zt);break}}d=p}else{d=this._last;for(var z=r<0?r:h;d;){if(p=d._prev,(d._act||z<=d._end)&&d._ts&&M!==d){if(d.parent!==this)return this.render(r,s,a);if(d.render(d._ts>0?(z-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(z-d._start)*d._ts,s,a||ln&&(d._initted||d._startAt)),h!==this._time||!this._ts&&!v){M=0,p&&(u+=this._zTime=z?-zt:zt);break}}d=p}}if(M&&!s&&(this.pause(),M.render(h>=o?0:-zt)._zTime=h>=o?1:-1,this._ts))return this._start=C,D9(this),this.render(r,s,a);this._onUpdate&&!s&&Ki(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&o)&&(C===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&V3(this,1),!s&&(!(r<0)||o)&&(u||o||!c)&&(Ki(this,u===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var a=this;if(I4(s)||(s=Yi(this,s,r)),!(r instanceof _8)){if(un(r))return r.forEach(function(o){return a.add(o,s)}),this;if(V2(r))return this.addLabel(r,s);if(!e2(r))return this;r=v2.delayedCall(0,r)}return this!==r?n4(this,r,s):this},t.getChildren=function(r,s,a,o){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===a&&(a=!0),void 0===o&&(o=-qi);for(var c=[],l=this._first;l;)l._start>=o&&(l instanceof v2?s&&c.push(l):(a&&c.push(l),r&&c.push.apply(c,l.getChildren(!0,s,a)))),l=l._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===r)return s[a]},t.remove=function(r){return V2(r)?this.removeLabel(r):e2(r)?this.killTweensOf(r):(E9(this,r),r===this._recent&&(this._recent=this._last),js(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Z2(Si.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Yi(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,a){var o=v2.delayedCall(0,s||f8,a);return o.data="isPause",this._hasPause=1,n4(this,o,Yi(this,r))},t.removePause=function(r){var s=this._first;for(r=Yi(this,r);s;)s._start===r&&"isPause"===s.data&&V3(s),s=s._next},t.killTweensOf=function(r,s,a){for(var o=this.getTweensOf(r,a),c=o.length;c--;)k3!==o[c]&&o[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var u,a=[],o=Ji(r),c=this._first,l=I4(s);c;)c instanceof v2?K8e(c._targets,o)&&(l?(!k3||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&a.push(c):(u=c.getTweensOf(o,s)).length&&a.push.apply(a,u),c=c._next;return a},t.tweenTo=function(r,s){s=s||{};var d,a=this,o=Yi(a,r),l=s.startAt,u=s.onStart,f=s.onStartParams,h=s.immediateRender,p=v2.to(a,Xi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:s.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale())||zt,onStart:function(){if(a.pause(),!d){var g=s.duration||Math.abs((o-(l&&"time"in l?l.time:a._time))/a.timeScale());p._dur!==g&&a6(p,g,0,1).render(p._time,!0,!0),d=1}u&&u.apply(p,f||[])}},s));return h?p.render(0):p},t.tweenFromTo=function(r,s,a){return this.tweenTo(s,Xi({startAt:{time:Yi(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return void 0===r&&(r=this._time),VD(this,Yi(this,r))},t.previousLabel=function(r){return void 0===r&&(r=this._time),VD(this,Yi(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+zt)},t.shiftChildren=function(r,s,a){void 0===a&&(a=0);for(var l,o=this._first,c=this.labels;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(s)for(l in c)c[l]>=a&&(c[l]+=r);return js(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){void 0===r&&(r=!0);for(var a,s=this._first;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),js(this)},t.totalDuration=function(r){var l,u,f,s=0,a=this,o=a._last,c=qi;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(f=a.parent;o;)l=o._prev,o._dirty&&o.totalDuration(),(u=o._start)>c&&a._sort&&o._ts&&!a._lock?(a._lock=1,n4(a,o,u-o._delay,1)._lock=0):c=u,u<0&&o._ts&&(s-=u,(!f&&!a._dp||f&&f.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),c=0),o._end>s&&o._ts&&(s=o._end),o=l;a6(a,a===$t&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if($t._ts&&(MD($t,T9(r,$t)),vD=Si.frame),Si.frame>=yD){yD+=Ci.autoSleep||120;var s=$t._first;if((!s||!s._ts)&&Ci.autoSleep&&Si._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Si.sleep()}}},e}(_8);Xi(ii.prototype,{_lock:0,_hasPause:0,_forcing:0});var k3,rv,x5e=function(e,t,i,r,s,a,o){var f,h,d,p,m,g,v,M,c=new ri(this._pt,e,t,0,1,QD,null,s),l=0,u=0;for(c.b=i,c.e=r,i+="",(v=~(r+="").indexOf("random("))&&(r=m8(r)),a&&(a(M=[i,r],e,t),i=M[0],r=M[1]),h=i.match(kg)||[];f=kg.exec(r);)p=f[0],m=r.substring(l,f.index),d?d=(d+1)%5:"rgba("===m.substr(-5)&&(d=1),p!==h[u++]&&(g=parseFloat(h[u-1])||0,c._pt={_next:c._pt,p:m||1===u?m:",",s:g,c:"="===p.charAt(1)?r6(g,p)-g:parseFloat(p)-g,m:d&&d<4?Math.round:0},l=kg.lastIndex);return c.c=l<r.length?r.substring(l,r.length):"",c.fp=o,(hD.test(r)||v)&&(c.e=0),this._pt=c,c},iv=function(e,t,i,r,s,a,o,c,l,u){e2(r)&&(r=r(s||0,e,a));var p,f=e[t],h="get"!==i?i:e2(f)?l?e[t.indexOf("set")||!e2(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():f,d=e2(f)?l?A5e:JD:av;if(V2(r)&&(~r.indexOf("random(")&&(r=m8(r)),"="===r.charAt(1)&&((p=r6(h,r)+(fn(h)||0))||0===p)&&(r=p)),!u||h!==r||rv)return isNaN(h*r)||""===r?(!f&&!(t in e)&&Gg(t,r),x5e.call(this,e,t,h,r,d,c||Ci.stringFilter,l)):(p=new ri(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof f?E5e:KD,0,d),l&&(p.fp=l),o&&p.modifier(o,this,e),this._pt=p)},ZD=function(e,t,i,r,s,a){var o,c,l,u;if(wi[e]&&!1!==(o=new wi[e]).init(s,o.rawVars?t[e]:function(e,t,i,r,s){if(e2(e)&&(e=M8(e,s,t,i,r)),!t4(e)||e.style&&e.nodeType||un(e)||uD(e))return V2(e)?M8(e,s,t,i,r):e;var o,a={};for(o in e)a[o]=M8(e[o],s,t,i,r);return a}(t[e],r,s,a,i),i,r,a)&&(i._pt=c=new ri(i._pt,s,e,0,1,o.render,o,0,o.priority),i!==o6))for(l=i._ptLookup[i._targets.indexOf(s)],u=o._props.length;u--;)l[o._props[u]]=c;return o},sv=function n(e,t,i){var E,D,S,z,F,q,U,O,G,ne,X,J,oe,r=e.vars,s=r.ease,a=r.startAt,o=r.immediateRender,c=r.lazy,l=r.onUpdate,u=r.onUpdateParams,f=r.callbackScope,h=r.runBackwards,d=r.yoyoEase,p=r.keyframes,m=r.autoRevert,g=e._dur,v=e._startAt,M=e._targets,x=e.parent,C=x&&"nested"===x.data?x.vars.targets:M,b="auto"===e._overwrite&&!Pg,A=e.timeline;if(A&&(!p||!s)&&(s="none"),e._ease=$s(s,n6.ease),e._yEase=d?WD($s(!0===d?s:d,n6.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!A&&!!r.runBackwards,!A||p&&!r.stagger){if(J=(O=M[0]?Gs(M[0]).harness:0)&&r[O.prop],E=z9(r,Wg),v&&(v._zTime<0&&v.progress(1),t<0&&h&&o&&!m?v.render(-1,!0):v.revert(h&&g?w9:Y8e),v._lazy=0),a){if(V3(e._startAt=v2.set(M,Xi({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!v&&ti(c),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:f,stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ln||!o&&!m)&&e._startAt.revert(w9),o&&g&&t<=0&&i<=0)return void(t&&(e._zTime=t))}else if(h&&g&&!v)if(t&&(o=!1),S=Xi({overwrite:!1,data:"isFromStart",lazy:o&&!v&&ti(c),immediateRender:o,stagger:0,parent:x},E),J&&(S[O.prop]=J),V3(e._startAt=v2.set(M,S)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ln?e._startAt.revert(w9):e._startAt.render(-1,!0)),e._zTime=t,o){if(!t)return}else n(e._startAt,zt,zt);for(e._pt=e._ptCache=0,c=g&&ti(c)||c&&!g,D=0;D<M.length;D++){if(U=(F=M[D])._gsap||Zg(M)[D]._gsap,e._ptLookup[D]=ne={},jg[U.id]&&H3.length&&A9(),X=C===M?D:C.indexOf(F),O&&!1!==(G=new O).init(F,J||E,e,X,C)&&(e._pt=z=new ri(e._pt,F,G.name,0,1,G.render,G,0,G.priority),G._props.forEach(function(I){ne[I]=z}),G.priority&&(q=1)),!O||J)for(S in E)wi[S]&&(G=ZD(S,E,e,X,F,C))?G.priority&&(q=1):ne[S]=z=iv.call(e,F,S,"get",E[S],X,C,0,r.stringFilter);e._op&&e._op[D]&&e.kill(F,e._op[D]),b&&e._pt&&(k3=e,$t.killTweensOf(F,ne,e.globalTime(t)),oe=!e.parent,k3=0),e._pt&&c&&(jg[U.id]=1)}q&&eL(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!oe,p&&t<=0&&A.render(qi,!0,!0)},S5e=function(e,t,i,r){var a,o,s=t.ease||r||"power1.inOut";if(un(t))o=i[e]||(i[e]=[]),t.forEach(function(c,l){return o.push({t:l/(t.length-1)*100,v:c,e:s})});else for(a in t)o=i[a]||(i[a]=[]),"ease"===a||o.push({t:parseFloat(e),v:t[a],e:s})},M8=function(e,t,i,r,s){return e2(e)?e.call(t,i,r,s):V2(e)&&~e.indexOf("random(")?m8(e):e},XD=qg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",YD={};ni(XD+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return YD[n]=1});var v2=function(n){function e(i,r,s,a){var o;"number"==typeof r&&(s.duration=r,r=s,s=null);var C,b,A,E,D,S,z,F,c=(o=n.call(this,a?r:h8(r))||this).vars,l=c.duration,u=c.delay,f=c.immediateRender,h=c.stagger,d=c.overwrite,p=c.keyframes,m=c.defaults,g=c.scrollTrigger,v=c.yoyoEase,M=r.parent||$t,x=(un(i)||uD(i)?I4(i[0]):"length"in r)?[i]:Ji(i);if(o._targets=x.length?Zg(x):b9("GSAP target "+i+" not found. https://greensock.com",!Ci.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,p||h||x9(l)||x9(u)){if(r=o.vars,(C=o.timeline=new ii({data:"nested",defaults:m||{},targets:M&&"nested"===M.data?M.vars.targets:x})).kill(),C.parent=C._dp=N4(o),C._start=0,h||x9(l)||x9(u)){if(E=x.length,z=h&&ND(h),t4(h))for(D in h)~XD.indexOf(D)&&(F||(F={}),F[D]=h[D]);for(b=0;b<E;b++)(A=z9(r,YD)).stagger=0,v&&(A.yoyoEase=v),F&&Ws(A,F),S=x[b],A.duration=+M8(l,N4(o),b,S,x),A.delay=(+M8(u,N4(o),b,S,x)||0)-o._delay,!h&&1===E&&A.delay&&(o._delay=u=A.delay,o._start+=u,A.delay=0),C.to(S,A,z?z(b,S,x):0),C._ease=et.none;C.duration()?l=u=0:o.timeline=0}else if(p){h8(Xi(C.vars.defaults,{ease:"none"})),C._ease=$s(p.ease||r.ease||"none");var U,O,G,q=0;if(un(p))p.forEach(function(ne){return C.to(x,ne,">")}),C.duration();else{for(D in A={},p)"ease"===D||"easeEach"===D||S5e(D,p[D],A,p.easeEach);for(D in A)for(U=A[D].sort(function(ne,X){return ne.t-X.t}),q=0,b=0;b<U.length;b++)(G={ease:(O=U[b]).e,duration:(O.t-(b?U[b-1].t:0))/100*l})[D]=O.v,C.to(x,G,q),q+=G.duration;C.duration()<l&&C.to({},{duration:l-C.duration()})}}l||o.duration(l=C.duration())}else o.timeline=0;return!0===d&&!Pg&&(k3=N4(o),$t.killTweensOf(x),k3=0),n4(M,N4(o),s),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(f||!l&&!p&&o._start===Z2(M._time)&&ti(f)&&n5e(N4(o))&&"nested"!==M.data)&&(o._tTime=-zt,o.render(Math.max(0,-u)||0)),g&&zD(N4(o),g),o}cD(e,n);var t=e.prototype;return t.render=function(r,s,a){var h,d,p,m,g,v,M,x,C,o=this._time,c=this._tDur,l=this._dur,u=r<0,f=r>c-zt&&!u?c:r<zt?0:r;if(l){if(f!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,x=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*m+r,s,a);if(h=Z2(f%m),f===c?(p=this._repeat,h=l):((p=~~(f/m))&&p===f/m&&(h=l,p--),h>l&&(h=l)),(v=this._yoyo&&1&p)&&(C=this._yEase,h=l-h),g=s6(this._tTime,m),h===o&&!a&&this._initted)return this._tTime=f,this;p!==g&&(x&&this._yEase&&jD(x,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=a=1,this.render(Z2(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(ED(this,u?r:h,a,s,f))return this._tTime=0,this;if(o!==this._time)return this;if(l!==this._dur)return this.render(r,s,a)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(C||this._ease)(h/l),this._from&&(this.ratio=M=1-M),h&&!o&&!s&&!p&&(Ki(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(M,d.d),d=d._next;x&&x.render(r<0?r:!h&&v?-zt:x._dur*x._ease(h/this._dur),s,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&Xg(this,r,0,a),Ki(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&Ki(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&Xg(this,r,0,!0),(r||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&V3(this,1),!s&&(!u||o)&&(f||o||v)&&(Ki(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var l,u,f,s=e.ratio,a=t<0||!t&&(!e._start&&i5e(e)&&(e._initted||!Yg(e))||(e._ts<0||e._dp._ts<0)&&!Yg(e))?0:1,o=e._rDelay,c=0;if(o&&e._repeat&&(c=p8(0,e._tDur,t),u=s6(c,o),e._yoyo&&1&u&&(a=1-a),u!==s6(e._tTime,o)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||ln||r||e._zTime===zt||!t&&e._zTime){if(!e._initted&&ED(e,t,r,i,c))return;for(f=e._zTime,e._zTime=t||(i?zt:0),i||(i=t&&!f),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=c,l=e._pt;l;)l.r(a,l.d),l=l._next;t<0&&Xg(e,t,0,!0),e._onUpdate&&!i&&Ki(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&Ki(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&V3(e,1),!i&&!ln&&(Ki(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,r,s,a);return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,a,o){y8||Si.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||sv(this,c),function(e,t,i,r,s,a,o){var l,u,f,h,c=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!c)for(c=e._ptCache[t]=[],f=e._ptLookup,h=e._targets.length;h--;){if((l=f[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return rv=1,e.vars[t]="+=0",sv(e,o),rv=0,1;c.push(l)}for(h=c.length;h--;)(l=(u=c[h])._pt||u).s=!r&&0!==r||s?l.s+(r||0)+a*l.c:r,l.c=i-l.s,u.e&&(u.e=c2(i)+fn(u.e)),u.b&&(u.b=l.s+fn(u.b))}(this,r,s,a,o,this._ease(c/this._dur),c)?this.resetTo(r,s,a,o):(L9(this,0),this.parent||wD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?g8(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,k3&&!0!==k3.vars.overwrite)._first||g8(this),this.parent&&a!==this.timeline.totalDuration()&&a6(this,this._dur*this.timeline._tDur/a,0,1),this}var f,h,d,p,m,g,v,o=this._targets,c=r?Ji(r):o,l=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(o,c))return"all"===s&&(this._pt=0),g8(this);for(f=this._op=this._op||[],"all"!==s&&(V2(s)&&(m={},ni(s,function(M){return m[M]=1}),s=m),s=function(e,t){var s,a,o,c,i=e[0]?Gs(e[0]).harness:0,r=i&&i.aliases;if(!r)return t;for(a in s=Ws({},t),r)if(a in s)for(o=(c=r[a].split(",")).length;o--;)s[c[o]]=s[a];return s}(o,s)),v=o.length;v--;)if(~c.indexOf(o[v]))for(m in h=l[v],"all"===s?(f[v]=s,p=h,d={}):(d=f[v]=f[v]||{},p=s),p)(g=h&&h[m])&&((!("kill"in g.d)||!0===g.d.kill(m))&&E9(this,g,"_pt"),delete h[m]),"all"!==d&&(d[m]=1);return this._initted&&!this._pt&&u&&g8(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return d8(1,arguments)},e.delayedCall=function(r,s,a,o){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,s,a){return d8(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,a){return $t.killTweensOf(r,s,a)},e}(_8);Xi(v2.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ni("staggerTo,staggerFrom,staggerFromTo",function(n){v2[n]=function(){var e=new ii,t=Jg.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var av=function(e,t,i){return e[t]=i},JD=function(e,t,i){return e[t](i)},A5e=function(e,t,i,r){return e[t](r.fp,i)},z5e=function(e,t,i){return e.setAttribute(t,i)},ov=function(e,t){return e2(e[t])?JD:Vg(e[t])&&e.setAttribute?z5e:av},KD=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},E5e=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},QD=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},cv=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},T5e=function(e,t,i,r){for(var a,s=this._pt;s;)a=s._next,s.p===r&&s.modifier(e,t,i),s=a},D5e=function(e){for(var i,r,t=this._pt;t;)r=t._next,t.p===e&&!t.op||t.op===e?E9(this,t,"_pt"):t.dep||(i=1),t=r;return!i},L5e=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},eL=function(e){for(var i,r,s,a,t=e._pt;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=s},ri=function(){function n(t,i,r,s,a,o,c,l,u){this.t=i,this.s=s,this.c=a,this.p=r,this.r=o||KD,this.d=c||this,this.set=l||av,this.pr=u||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=L5e,this.m=i,this.mt=s,this.tween=r},n}();ni(qg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Wg[n]=1}),bi.TweenMax=bi.TweenLite=v2,bi.TimelineLite=bi.TimelineMax=ii,$t=new ii({sortChildren:!1,defaults:n6,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ci.stringFilter=GD;var Zs=[],N9={},N5e=[],tL=0,I5e=0,lv=function(e){return(N9[e]||N5e).map(function(t){return t()})},uv=function(){var e=Date.now(),t=[];e-tL>2&&(lv("matchMediaInit"),Zs.forEach(function(i){var a,o,c,l,r=i.queries,s=i.conditions;for(o in r)(a=Zi.matchMedia(r[o]).matches)&&(c=1),a!==s[o]&&(s[o]=a,l=1);l&&(i.revert(),c&&t.push(i))}),lv("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),tL=e,lv("matchMedia"))},nL=function(){function n(t,i){this.selector=i&&Kg(i),this.data=[],this._r=[],this.isReverted=!1,this.id=I5e++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){e2(i)&&(s=r,r=i,i=e2);var a=this,o=function(){var f,l=Qt,u=a.selector;return l&&l!==a&&l.data.push(a),s&&(a.selector=Kg(s)),Qt=a,f=r.apply(a,arguments),e2(f)&&a._r.push(f),Qt=l,a.selector=u,a.isReverted=!1,f};return a.last=o,i===e2?o(a):i?a[i]=o:o},e.ignore=function(i){var r=Qt;Qt=null,i(this),Qt=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof v2&&!(r.parent&&"nested"===r.parent.data)&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var a=this.getTweens();this.data.forEach(function(c){"isFlip"===c.data&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(l){return a.splice(a.indexOf(l),1)}))}),a.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,l){return l.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),this.data.forEach(function(c){return!(c instanceof v2)&&c.revert&&c.revert(i)}),this._r.forEach(function(c){return c(i,s)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),r)for(var o=Zs.length;o--;)Zs[o].id===this.id&&Zs.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),R5e=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){t4(i)||(i={matches:i});var c,l,u,a=new nL(0,s||this.scope),o=a.conditions={};for(l in Qt&&!a.selector&&(a.selector=Qt.selector),this.contexts.push(a),r=a.add("onMatch",r),a.queries=i,i)"all"===l?u=1:(c=Zi.matchMedia(i[l]))&&(Zs.indexOf(a)<0&&Zs.push(a),(o[l]=c.matches)&&(u=1),c.addListener?c.addListener(uv):c.addEventListener("change",uv));return u&&r(a),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),I9={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return FD(r)})},timeline:function(e){return new ii(e)},getTweensOf:function(e,t){return $t.getTweensOf(e,t)},getProperty:function(e,t,i,r){V2(e)&&(e=Ji(e)[0]);var s=Gs(e||{}).get,a=i?CD:xD;return"native"===i&&(i=""),e&&(t?a((wi[t]&&wi[t].get||s)(e,t,i,r)):function(o,c,l){return a((wi[o]&&wi[o].get||s)(e,o,c,l))})},quickSetter:function(e,t,i){if((e=Ji(e)).length>1){var r=e.map(function(u){return si.quickSetter(u,t,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}var a=wi[t],o=Gs(e=e[0]||{}),c=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(u){var f=new a;o6._pt=0,f.init(e,i?u+i:u,o6,0,[e]),f.render(1,f),o6._pt&&cv(1,o6)}:o.set(e,c);return a?l:function(u){return l(e,c,i?u+i:u,o,1)}},quickTo:function(e,t,i){var r,s=si.to(e,Ws(((r={})[t]="+=0.1",r.paused=!0,r),i||{})),a=function(c,l,u){return s.resetTo(t,c,l,u)};return a.tween=s,a},isTweening:function(e){return $t.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=$s(e.ease,n6.ease)),bD(n6,e||{})},config:function(e){return bD(Ci,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.defaults,a=e.extendTimeline;(e.plugins||"").split(",").forEach(function(o){return o&&!wi[o]&&!bi[o]&&b9(t+" effect requires "+o+" plugin.")}),$g[t]=function(o,c,l){return i(Ji(o),Xi(c||{},s),l)},a&&(ii.prototype[t]=function(o,c,l){return this.add($g[t](o,t4(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){et[e]=$s(t)},parseEase:function(e,t){return arguments.length?$s(e,t):et},getById:function(e){return $t.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,s,i=new ii(e);for(i.smoothChildTiming=ti(e.smoothChildTiming),$t.remove(i),i._dp=0,i._time=i._tTime=$t._time,r=$t._first;r;)s=r._next,(t||!(!r._dur&&r instanceof v2&&r.vars.onComplete===r._targets[0]))&&n4(i,r,r._start-r._delay),r=s;return n4($t,i,0),i},context:function(e,t){return e?new nL(e,t):Qt},matchMedia:function(e){return new R5e(e)},matchMediaRefresh:function(){return Zs.forEach(function(e){var i,r,t=e.conditions;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||uv()},addEventListener:function(e,t){var i=N9[e]||(N9[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=N9[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:function n(e,t,i){var r=t-e;return un(e)?PD(e,n(0,e.length),t):O3(i,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo:function n(e,t,i){var r=t-e,s=2*r;return un(e)?PD(e,n(0,e.length-1),t):O3(i,function(a){return e+((a=(s+(a-e)%s)%s||0)>r?s-a:a)})},distribute:ND,random:RD,snap:ID,normalize:function(e,t,i){return HD(e,t,0,1,i)},getUnit:fn,clamp:function(e,t,i){return O3(i,function(r){return p8(e,t,r)})},splitColor:kD,toArray:Ji,selector:Kg,mapRange:HD,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,a){return a(s)},r)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||fn(i))}},interpolate:function n(e,t,i,r){var s=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!s){var c,l,u,f,h,a=V2(e),o={};if(!0===i&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(un(e)&&!un(t)){for(u=[],h=(f=e.length)-2,l=1;l<f;l++)u.push(n(e[l-1],e[l]));f--,s=function(p){p*=f;var m=Math.min(h,~~p);return u[m](p-m)},i=t}else r||(e=Ws(un(e)?[]:{},e));if(!u){for(c in t)iv.call(o,e,c,"get",t[c]);s=function(p){return cv(p,o)||(a?e.p:e)}}}return O3(i,s)},shuffle:LD},install:mD,effects:$g,ticker:Si,updateRoot:ii.updateRoot,plugins:wi,globalTimeline:$t,core:{PropTween:ri,globals:gD,Tween:v2,Timeline:ii,Animation:_8,getCache:Gs,_removeLinkedListItem:E9,reverting:function(){return ln},context:function(e){return e&&Qt&&(Qt.data.push(e),e._ctx=Qt),Qt},suppressOverwrites:function(e){return Pg=e}}};ni("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return I9[n]=v2[n]}),Si.add(ii.updateRoot),o6=I9.to({},{duration:0});var P5e=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},fv=function(e,t){return{name:e,rawVars:1,init:function(r,s,a){a._onInit=function(o){var c,l;if(V2(s)&&(c={},ni(s,function(u){return c[u]=1}),s=c),t){for(l in c={},s)c[l]=t(s[l]);s=c}!function(e,t){var r,s,a,i=e._targets;for(r in t)for(s=i.length;s--;)(a=e._ptLookup[s][r])&&(a=a.d)&&(a._pt&&(a=P5e(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[s],r))}(o,s)}}}},si=I9.registerPlugin({name:"attr",init:function(e,t,i,r,s){var a,o,c;for(a in this.tween=i,t)c=e.getAttribute(a)||"",(o=this.add(e,"setAttribute",(c||0)+"",t[a],r,s,0,0,a)).op=a,o.b=c,this._props.push(a)},render:function(e,t){for(var i=t._pt;i;)ln?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},fv("roundProps",Qg),fv("modifiers"),fv("snap",ID))||I9;v2.version=ii.version=si.version="3.12.2",pD=1,Og()&&c6();var iL,U3,l6,hv,Xs,rL,dv,uL,R4={},Ys=180/Math.PI,u6=Math.PI/180,f6=Math.atan2,sL=1e8,pv=/([A-Z])/g,F5e=/(left|right|width|margin|padding|x)/i,k5e=/[\s,\(]\S/,i4={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},mv=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},U5e=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},B5e=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},G5e=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},aL=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},oL=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},W5e=function(e,t,i){return e.style[t]=i},j5e=function(e,t,i){return e.style.setProperty(t,i)},$5e=function(e,t,i){return e._gsap[t]=i},q5e=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Z5e=function(e,t,i,r,s){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(s,a)},X5e=function(e,t,i,r,s){var a=e._gsap;a[t]=i,a.renderTransform(s,a)},qt="transform",Cr=qt+"Origin",Y5e=function n(e,t){var i=this,r=this.target,s=r.style;if(e in R4&&s){if(this.tfm=this.tfm||{},"transform"===e)return i4.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(~(e=i4[e]||e).indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=P4(r,a)}):this.tfm[e]=r._gsap.x?r._gsap[e]:P4(r,e),this.props.indexOf(qt)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Cr,t,"")),e=qt}(s||t)&&this.props.push(e,t,s[e])},cL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},J5e=function(){var s,a,e=this.props,t=this.target,i=t.style,r=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(pv,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)r[a]=this.tfm[a];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=dv())||!s.isStart)&&!i[qt]&&(cL(i),r.uncache=1)}},lL=function(e,t){var i={target:e,props:[],revert:J5e,save:Y5e};return e._gsap||si.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},gv=function(e,t){var i=U3.createElementNS?U3.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):U3.createElement(e);return i.style?i:U3.createElement(e)},r4=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(pv,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,h6(t)||t,1)||""},fL="O,Moz,ms,Ms,Webkit".split(","),h6=function(e,t,i){var s=(t||Xs).style,a=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(fL[a]+e in s););return a<0?null:(3===a?"ms":a>=0?fL[a]:"")+e},vv=function(){typeof window<"u"&&window.document&&(iL=window,l6=(U3=iL.document).documentElement,Xs=gv("div")||{style:{}},gv("div"),qt=h6(qt),Cr=qt+"Origin",Xs.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",uL=!!h6("perspective"),dv=si.core.reverting,hv=1)},yv=function n(e){var a,t=gv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(l6.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),l6.removeChild(t),this.style.cssText=s,a},hL=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},dL=function(e){var t;try{t=e.getBBox()}catch{t=yv.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===yv||(t=yv.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+hL(e,["x","cx","x1"])||0,y:+hL(e,["y","cy","y1"])||0,width:0,height:0}},pL=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!dL(e))},x8=function(e,t){if(t){var i=e.style;t in R4&&t!==Cr&&(t=qt),i.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),i.removeProperty(t.replace(pv,"-$1").toLowerCase())):i.removeAttribute(t)}},B3=function(e,t,i,r,s,a){var o=new ri(e._pt,t,i,0,1,a?oL:aL);return e._pt=o,o.b=r,o.e=s,e._props.push(i),o},mL={deg:1,rad:1,turn:1},K5e={grid:1,flex:1},G3=function n(e,t,i,r){var p,m,g,v,s=parseFloat(i)||0,a=(i+"").trim().substr((s+"").length)||"px",o=Xs.style,c=F5e.test(t),l="svg"===e.tagName.toLowerCase(),u=(l?"client":"offset")+(c?"Width":"Height"),f=100,h="px"===r,d="%"===r;return r===a||!s||mL[r]||mL[a]?s:("px"!==a&&!h&&(s=n(e,t,i,"px")),v=e.getCTM&&pL(e),!d&&"%"!==a||!R4[t]&&!~t.indexOf("adius")?(o[c?"width":"height"]=f+(h?a:r),m=~t.indexOf("adius")||"em"===r&&e.appendChild&&!l?e:e.parentNode,v&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===U3||!m.appendChild)&&(m=U3.body),(g=m._gsap)&&d&&g.width&&c&&g.time===Si.time&&!g.uncache?c2(s/g.width*f):((d||"%"===a)&&!K5e[r4(m,"display")]&&(o.position=r4(e,"position")),m===e&&(o.position="static"),m.appendChild(Xs),p=Xs[u],m.removeChild(Xs),o.position="absolute",c&&d&&((g=Gs(m)).time=Si.time,g.width=m[u]),c2(h?p*s/f:p&&s?f/p*s:0))):(p=v?e.getBBox()[c?"width":"height"]:e[u],c2(d?s/p*f:s/100*p)))},P4=function(e,t,i,r){var s;return hv||vv(),t in i4&&"transform"!==t&&~(t=i4[t]).indexOf(",")&&(t=t.split(",")[0]),R4[t]&&"transform"!==t?(s=b8(e,r),s="transformOrigin"!==t?s[t]:s.svg?s.origin:P9(r4(e,Cr))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=R9[t]&&R9[t](e,t,i)||r4(e,t)||_D(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?G3(e,t,s,i)+i:s},Q5e=function(e,t,i,r){if(!i||"none"===i){var s=h6(t,e,1),a=s&&r4(e,s,1);a&&a!==i?(t=s,i=a):"borderColor"===t&&(i=r4(e,"borderTopColor"))}var u,f,h,d,p,m,g,v,M,x,C,o=new ri(this._pt,e.style,t,0,1,QD),c=0,l=0;if(o.b=i,o.e=r,i+="","auto"==(r+="")&&(e.style[t]=r,r=r4(e,t)||r,e.style[t]=i),GD(u=[i,r]),r=u[1],h=(i=u[0]).match(i6)||[],(r.match(i6)||[]).length){for(;f=i6.exec(r);)g=f[0],M=r.substring(c,f.index),p?p=(p+1)%5:("rgba("===M.substr(-5)||"hsla("===M.substr(-5))&&(p=1),g!==(m=h[l++]||"")&&(d=parseFloat(m)||0,C=m.substr((d+"").length),"="===g.charAt(1)&&(g=r6(d,g)+C),v=parseFloat(g),x=g.substr((v+"").length),c=i6.lastIndex-x.length,x||(x=x||Ci.units[t]||C,c===r.length&&(r+=x,o.e+=x)),C!==x&&(d=G3(e,t,m,x)||0),o._pt={_next:o._pt,p:M||1===l?M:",",s:d,c:v-d,m:p&&p<4||"zIndex"===t?Math.round:0});o.c=c<r.length?r.substring(c,r.length):""}else o.r="display"===t&&"none"===r?oL:aL;return hD.test(r)&&(o.e=0),this._pt=o,o},gL={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},ele=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(e=i,i=r,r=e),t[0]=gL[i]||i,t[1]=gL[r]||r,t.join(" ")},tle=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var o,c,l,i=t.t,r=i.style,s=t.u,a=i._gsap;if("all"===s||!0===s)r.cssText="",c=1;else for(l=(s=s.split(",")).length;--l>-1;)R4[o=s[l]]&&(c=1,o="transformOrigin"===o?Cr:qt),x8(i,o);c&&(x8(i,qt),a&&(a.svg&&i.removeAttribute("transform"),b8(i,1),a.uncache=1,cL(r)))}},R9={clearProps:function(e,t,i,r,s){if("isFromStart"!==s.data){var a=e._pt=new ri(e._pt,t,i,0,0,tle);return a.u=r,a.pr=-10,a.tween=s,e._props.push(i),1}}},C8=[1,0,0,1,0,0],vL={},yL=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},_L=function(e){var t=r4(e,qt);return yL(t)?C8:t.substr(7).match(fD).map(c2)},_v=function(e,t){var a,o,c,l,i=e._gsap||Gs(e),r=e.style,s=_L(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(c=e.transform.baseVal.consolidate().matrix).a,c.b,c.c,c.d,c.e,c.f]).join(",")?C8:s:(s===C8&&!e.offsetParent&&e!==l6&&!i.svg&&(c=r.display,r.display="block",(!(a=e.parentNode)||!e.offsetParent)&&(l=1,o=e.nextElementSibling,l6.appendChild(e)),s=_L(e),c?r.display=c:x8(e,"display"),l&&(o?a.insertBefore(e,o):a?a.appendChild(e):l6.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Mv=function(e,t,i,r,s,a){var A,E,S,o=e._gsap,c=s||_v(e,!0),l=o.xOrigin||0,u=o.yOrigin||0,f=o.xOffset||0,h=o.yOffset||0,d=c[0],p=c[1],m=c[2],g=c[3],v=c[4],M=c[5],x=t.split(" "),C=parseFloat(x[0])||0,b=parseFloat(x[1])||0;i?c!==C8&&(E=d*g-p*m)&&(S=C*(-p/E)+b*(d/E)-(d*M-p*v)/E,C=C*(g/E)+b*(-m/E)+(m*M-g*v)/E,b=S):(C=(A=dL(e)).x+(~x[0].indexOf("%")?C/100*A.width:C),b=A.y+(~(x[1]||x[0]).indexOf("%")?b/100*A.height:b)),r||!1!==r&&o.smooth?(o.xOffset=f+((v=C-l)*d+(M=b-u)*m)-v,o.yOffset=h+(v*p+M*g)-M):o.xOffset=o.yOffset=0,o.xOrigin=C,o.yOrigin=b,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[Cr]="0px 0px",a&&(B3(a,o,"xOrigin",l,C),B3(a,o,"yOrigin",u,b),B3(a,o,"xOffset",f,o.xOffset),B3(a,o,"yOffset",h,o.yOffset)),e.setAttribute("data-svg-origin",C+" "+b)},b8=function(e,t){var i=e._gsap||new qD(e);if("x"in i&&!t&&!i.uncache)return i;var u,f,h,d,p,m,g,v,M,x,C,b,A,E,D,S,z,F,q,U,O,G,ne,X,J,oe,I,B,ce,xe,_e,Ce,r=e.style,s=i.scaleX<0,a="px",o="deg",c=getComputedStyle(e),l=r4(e,Cr)||"0";return u=f=h=m=g=v=M=x=C=0,d=p=1,i.svg=!(!e.getCTM||!pL(e)),c.translate&&(("none"!==c.translate||"none"!==c.scale||"none"!==c.rotate)&&(r[qt]=("none"!==c.translate?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==c.rotate?"rotate("+c.rotate+") ":"")+("none"!==c.scale?"scale("+c.scale.split(" ").join(",")+") ":"")+("none"!==c[qt]?c[qt]:"")),r.scale=r.rotate=r.translate="none"),E=_v(e,i.svg),i.svg&&(i.uncache?(J=e.getBBox(),l=i.xOrigin-J.x+"px "+(i.yOrigin-J.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),Mv(e,X||l,!!X||i.originIsAbsolute,!1!==i.smooth,E)),b=i.xOrigin||0,A=i.yOrigin||0,E!==C8&&(F=E[0],q=E[1],U=E[2],O=E[3],u=G=E[4],f=ne=E[5],6===E.length?(d=Math.sqrt(F*F+q*q),p=Math.sqrt(O*O+U*U),m=F||q?f6(q,F)*Ys:0,(M=U||O?f6(U,O)*Ys+m:0)&&(p*=Math.abs(Math.cos(M*u6))),i.svg&&(u-=b-(b*F+A*U),f-=A-(b*q+A*O))):(xe=E[7],I=E[8],B=E[9],_e=E[11],u=E[12],f=E[13],h=E[14],g=(D=f6(Ce=E[6],ce=E[10]))*Ys,D&&(X=G*(S=Math.cos(-D))+I*(z=Math.sin(-D)),J=ne*S+B*z,oe=Ce*S+ce*z,I=G*-z+I*S,B=ne*-z+B*S,ce=Ce*-z+ce*S,_e=xe*-z+_e*S,G=X,ne=J,Ce=oe),v=(D=f6(-U,ce))*Ys,D&&(S=Math.cos(-D),_e=O*(z=Math.sin(-D))+_e*S,F=X=F*S-I*z,q=J=q*S-B*z,U=oe=U*S-ce*z),m=(D=f6(q,F))*Ys,D&&(X=F*(S=Math.cos(D))+q*(z=Math.sin(D)),J=G*S+ne*z,q=q*S-F*z,ne=ne*S-G*z,F=X,G=J),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,v=180-v),d=c2(Math.sqrt(F*F+q*q+U*U)),p=c2(Math.sqrt(ne*ne+Ce*Ce)),D=f6(G,ne),M=Math.abs(D)>2e-4?D*Ys:0,C=_e?1/(_e<0?-_e:_e):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!yL(r4(e,qt)),X&&e.setAttribute("transform",X))),Math.abs(M)>90&&Math.abs(M)<270&&(s?(d*=-1,M+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,M+=M<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=h+a,i.scaleX=c2(d),i.scaleY=c2(p),i.rotation=c2(m)+o,i.rotationX=c2(g)+o,i.rotationY=c2(v)+o,i.skewX=M+o,i.skewY=x+o,i.transformPerspective=C+a,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[Cr]=P9(l)),i.xOffset=i.yOffset=0,i.force3D=Ci.force3D,i.renderTransform=i.svg?ile:uL?ML:nle,i.uncache=0,i},P9=function(e){return(e=e.split(" "))[0]+" "+e[1]},xv=function(e,t,i){var r=fn(t);return c2(parseFloat(t)+parseFloat(G3(e,"x",i+"px",r)))+r},nle=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ML(e,t)},Js="0deg",w8="0px",Ks=") ",ML=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.z,l=i.rotation,u=i.rotationY,f=i.rotationX,h=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,g=i.transformPerspective,v=i.force3D,M=i.target,x=i.zOrigin,C="",b="auto"===v&&e&&1!==e||!0===v;if(x&&(f!==Js||u!==Js)){var S,A=parseFloat(u)*u6,E=Math.sin(A),D=Math.cos(A);A=parseFloat(f)*u6,S=Math.cos(A),a=xv(M,a,E*S*-x),o=xv(M,o,-Math.sin(A)*-x),c=xv(M,c,D*S*-x+x)}g!==w8&&(C+="perspective("+g+Ks),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(b||a!==w8||o!==w8||c!==w8)&&(C+=c!==w8||b?"translate3d("+a+", "+o+", "+c+") ":"translate("+a+", "+o+Ks),l!==Js&&(C+="rotate("+l+Ks),u!==Js&&(C+="rotateY("+u+Ks),f!==Js&&(C+="rotateX("+f+Ks),(h!==Js||d!==Js)&&(C+="skew("+h+", "+d+Ks),(1!==p||1!==m)&&(C+="scale("+p+", "+m+Ks),M.style[qt]=C||"translate(0, 0)"},ile=function(e,t){var b,A,E,D,S,i=t||this,r=i.xPercent,s=i.yPercent,a=i.x,o=i.y,c=i.rotation,l=i.skewX,u=i.skewY,f=i.scaleX,h=i.scaleY,d=i.target,p=i.xOrigin,m=i.yOrigin,g=i.xOffset,v=i.yOffset,M=i.forceCSS,x=parseFloat(a),C=parseFloat(o);c=parseFloat(c),l=parseFloat(l),(u=parseFloat(u))&&(l+=u=parseFloat(u),c+=u),c||l?(c*=u6,l*=u6,b=Math.cos(c)*f,A=Math.sin(c)*f,E=Math.sin(c-l)*-h,D=Math.cos(c-l)*h,l&&(u*=u6,S=Math.tan(l-u),E*=S=Math.sqrt(1+S*S),D*=S,u&&(S=Math.tan(u),b*=S=Math.sqrt(1+S*S),A*=S)),b=c2(b),A=c2(A),E=c2(E),D=c2(D)):(b=f,D=h,A=E=0),(x&&!~(a+"").indexOf("px")||C&&!~(o+"").indexOf("px"))&&(x=G3(d,"x",a,"px"),C=G3(d,"y",o,"px")),(p||m||g||v)&&(x=c2(x+p-(p*b+m*E)+g),C=c2(C+m-(p*A+m*D)+v)),(r||s)&&(S=d.getBBox(),x=c2(x+r/100*S.width),C=c2(C+s/100*S.height)),d.setAttribute("transform",S="matrix("+b+","+A+","+E+","+D+","+x+","+C+")"),M&&(d.style[qt]=S)},rle=function(e,t,i,r,s){var f,h,a=360,o=V2(s),l=parseFloat(s)*(o&&~s.indexOf("rad")?Ys:1)-r,u=r+l+"deg";return o&&("short"===(f=s.split("_")[1])&&(l%=a)!=l%180&&(l+=l<0?a:-a),"cw"===f&&l<0?l=(l+a*sL)%a-~~(l/a)*a:"ccw"===f&&l>0&&(l=(l-a*sL)%a-~~(l/a)*a)),e._pt=h=new ri(e._pt,t,i,r,l,U5e),h.e=u,h.u="deg",e._props.push(i),h},xL=function(e,t){for(var i in t)e[i]=t[i];return e},sle=function(e,t,i){var o,c,l,u,f,h,p,r=xL({},i._gsap),a=i.style;for(c in r.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),a[qt]=t,o=b8(i,1),x8(i,qt),i.setAttribute("transform",l)):(l=getComputedStyle(i)[qt],a[qt]=t,o=b8(i,1),a[qt]=l),R4)(l=r[c])!==(u=o[c])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(c)<0&&(f=fn(l)!==(p=fn(u))?G3(i,c,l,p):parseFloat(l),h=parseFloat(u),e._pt=new ri(e._pt,o,c,f,h-f,mv),e._pt.u=p||0,e._props.push(c));xL(o,r)};ni("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",a=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(o){return e<2?n+o:"border"+o+n});R9[e>1?"border"+n:n]=function(o,c,l,u,f){var h,d;if(arguments.length<4)return h=a.map(function(p){return P4(o,p,l)}),5===(d=h.join(" ")).split(h[0]).length?h[0]:d;h=(u+"").split(" "),d={},a.forEach(function(p,m){return d[p]=h[m]=h[m]||h[(m-1)/2|0]}),o.init(c,d,f)}});var CL={name:"css",register:vv,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var l,u,f,h,d,p,m,g,v,M,x,C,b,A,E,D,a=this._props,o=e.style,c=i.vars.startAt;for(m in hv||vv(),this.styles=this.styles||lL(e),D=this.styles.props,this.tween=i,t)if("autoRound"!==m&&(u=t[m],!wi[m]||!ZD(m,t,i,r,e,s)))if(p=R9[m],"function"==(d=typeof u)&&(d=typeof(u=u.call(i,r,e,s))),"string"===d&&~u.indexOf("random(")&&(u=m8(u)),p)p(this,e,m,u,i)&&(E=1);else if("--"===m.substr(0,2))l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",F3.lastIndex=0,F3.test(l)||(g=fn(l),v=fn(u)),v?g!==v&&(l=G3(e,m,l,v)+v):g&&(u+=g),this.add(o,"setProperty",l,u,r,s,0,0,m),a.push(m),D.push(m,0,o[m]);else if("undefined"!==d){if(c&&m in c?(l="function"==typeof c[m]?c[m].call(i,r,e,s):c[m],V2(l)&&~l.indexOf("random(")&&(l=m8(l)),fn(l+"")||(l+=Ci.units[m]||fn(P4(e,m))||""),"="===(l+"").charAt(1)&&(l=P4(e,m))):l=P4(e,m),h=parseFloat(l),(M="string"===d&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),f=parseFloat(u),m in i4&&("autoAlpha"===m&&(1===h&&"hidden"===P4(e,"visibility")&&f&&(h=0),D.push("visibility",0,o.visibility),B3(this,o,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),"scale"!==m&&"transform"!==m&&~(m=i4[m]).indexOf(",")&&(m=m.split(",")[0])),x=m in R4)if(this.styles.save(m),C||((b=e._gsap).renderTransform&&!t.parseTransform||b8(e,t.parseTransform),A=!1!==t.smoothOrigin&&b.smooth,(C=this._pt=new ri(this._pt,o,qt,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===m)this._pt=new ri(this._pt,b,"scaleY",b.scaleY,(M?r6(b.scaleY,M+f):f)-b.scaleY||0,mv),this._pt.u=0,a.push("scaleY",m),m+="X";else{if("transformOrigin"===m){D.push(Cr,0,o[Cr]),u=ele(u),b.svg?Mv(e,u,0,A,0,this):((v=parseFloat(u.split(" ")[2])||0)!==b.zOrigin&&B3(this,b,"zOrigin",b.zOrigin,v),B3(this,o,m,P9(l),P9(u)));continue}if("svgOrigin"===m){Mv(e,u,1,A,0,this);continue}if(m in vL){rle(this,b,m,h,M?r6(h,M+u):u);continue}if("smoothOrigin"===m){B3(this,b,"smooth",b.smooth,u);continue}if("force3D"===m){b[m]=u;continue}if("transform"===m){sle(this,u,e);continue}}else m in o||(m=h6(m)||m);if(x||(f||0===f)&&(h||0===h)&&!k5e.test(u)&&m in o)f||(f=0),(g=(l+"").substr((h+"").length))!==(v=fn(u)||(m in Ci.units?Ci.units[m]:g))&&(h=G3(e,m,l,v)),this._pt=new ri(this._pt,x?b:o,m,h,(M?r6(h,M+f):f)-h,x||"px"!==v&&"zIndex"!==m||!1===t.autoRound?mv:G5e),this._pt.u=v||0,g!==v&&"%"!==v&&(this._pt.b=l,this._pt.r=B5e);else if(m in o)Q5e.call(this,e,m,l,M?M+u:u);else if(m in e)this.add(e,m,l||e[m],M?M+u:u,r,s);else if("parseTransform"!==m){Gg(m,u);continue}x||(m in o?D.push(m,0,o[m]):D.push(m,1,l||e[m])),a.push(m)}E&&eL(this)},render:function(e,t){if(t.tween._time||!dv())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:P4,aliases:i4,getSetter:function(e,t,i){var r=i4[t];return r&&r.indexOf(",")<0&&(t=r),t in R4&&t!==Cr&&(e._gsap.x||P4(e,"x"))?i&&rL===i?"scale"===t?q5e:$5e:(rL=i||{})&&("scale"===t?Z5e:X5e):e.style&&!Vg(e.style[t])?W5e:~t.indexOf("-")?j5e:ov(e,t)},core:{_removeProperty:x8,_getMatrix:_v}};si.utils.checkPrefix=h6,si.core.getStyleSaver=lL,function(n,e,t,i){var r=ni(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){R4[s]=1});ni(e,function(s){Ci.units[s]="deg",vL[s]=1}),i4[r[13]]=n+","+e,ni("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var a=s.split(":");i4[a[1]]=r[a[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ni("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ci.units[n]="px"}),si.registerPlugin(CL);var Cv=si.registerPlugin(CL)||si;function bL(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var X2,bv,Ai,W3,j3,d6,wL,Qs,S8,SL,H4,br,AL,zL=function(){return X2||typeof window<"u"&&(X2=window.gsap)&&X2.registerPlugin&&X2},EL=1,p6=[],$1=[],s4=[],A8=Date.now,wv=function(e,t){return t},$3=function(e,t){return~s4.indexOf(e)&&s4[s4.indexOf(e)+1][t]},z8=function(e){return!!~SL.indexOf(e)},Tn=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},Dn=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},H9="scrollLeft",V9="scrollTop",Sv=function(){return H4&&H4.isPressed||$1.cache++},O9=function(e,t){var i=function r(s){if(s||0===s){EL&&(Ai.history.scrollRestoration="manual");var a=H4&&H4.isPressed;s=r.v=Math.round(s)||(H4&&H4.iOS?1:0),e(s),r.cacheID=$1.cache,a&&wv("ss",s)}else(t||$1.cache!==r.cacheID||wv("ref"))&&(r.cacheID=$1.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Ln={s:H9,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:O9(function(n){return arguments.length?Ai.scrollTo(n,D2.sc()):Ai.pageXOffset||W3[H9]||j3[H9]||d6[H9]||0})},D2={s:V9,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Ln,sc:O9(function(n){return arguments.length?Ai.scrollTo(Ln.sc(),n):Ai.pageYOffset||W3[V9]||j3[V9]||d6[V9]||0})},ai=function(e,t){return(t&&t._ctx&&t._ctx.selector||X2.utils.toArray)(e)[0]||("string"==typeof e&&!1!==X2.config().nullTargetWarn?console.warn("Element not found:",e):null)},q3=function(e,t){var i=t.s,r=t.sc;z8(e)&&(e=W3.scrollingElement||j3);var s=$1.indexOf(e),a=r===D2.sc?1:2;!~s&&(s=$1.push(e)-1),$1[s+a]||Tn(e,"scroll",Sv);var o=$1[s+a],c=o||($1[s+a]=O9($3(e,i),!0)||(z8(e)?r:O9(function(l){return arguments.length?e[i]=l:e[i]})));return c.target=e,o||(c.smooth="smooth"===X2.getProperty(e,"scrollBehavior")),c},Av=function(e,t,i){var r=e,s=e,a=A8(),o=a,c=t||50,l=Math.max(500,3*c),u=function(p,m){var g=A8();m||g-a>c?(s=r,r=p,o=a,a=g):i?r+=p:r=s+(p-s)/(g-o)*(a-o)};return{update:u,reset:function(){s=r=i?0:r,o=a=0},getVelocity:function(p){var m=o,g=s,v=A8();return(p||0===p)&&p!==r&&u(p),a===o||v-o>l?0:(r+(i?g:-g))/((i?v:a)-m)*1e3}}},E8=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},TL=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},DL=function(){(S8=X2.core.globals().ScrollTrigger)&&S8.core&&function(){var e=S8.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,$1),r.push.apply(r,s4),$1=i,s4=r,wv=function(a,o){return t[a](o)}}()},LL=function(e){return(X2=e||zL())&&typeof document<"u"&&document.body&&(Ai=window,W3=document,SL=[Ai,W3,j3=W3.documentElement,d6=W3.body],AL=X2.core.context||function(){},Qs="onpointerenter"in d6?"pointer":"mouse",wL=y2.isTouch=Ai.matchMedia&&Ai.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ai||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,br=y2.eventTypes=("ontouchstart"in j3?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in j3?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return EL=0},500),DL(),bv=1),bv};Ln.op=D2,$1.cache=0;var y2=function(){function n(t){this.init(t)}return n.prototype.init=function(i){bv||LL(X2)||console.warn("Please gsap.registerPlugin(Observer)"),S8||DL();var r=i.tolerance,s=i.dragMinimum,a=i.type,o=i.target,c=i.lineHeight,l=i.debounce,u=i.preventDefault,f=i.onStop,h=i.onStopDelay,d=i.ignore,p=i.wheelSpeed,m=i.event,g=i.onDragStart,v=i.onDragEnd,M=i.onDrag,x=i.onPress,C=i.onRelease,b=i.onRight,A=i.onLeft,E=i.onUp,D=i.onDown,S=i.onChangeX,z=i.onChangeY,F=i.onChange,q=i.onToggleX,U=i.onToggleY,O=i.onHover,G=i.onHoverEnd,ne=i.onMove,X=i.ignoreCheck,J=i.isNormalizer,oe=i.onGestureStart,I=i.onGestureEnd,B=i.onWheel,ce=i.onEnable,xe=i.onDisable,_e=i.onClick,Ce=i.scrollSpeed,ke=i.capture,De=i.allowClicks,Ue=i.lockAxis,y1=i.onLockAxis;this.target=o=ai(o)||j3,this.vars=i,d&&(d=X2.utils.toArray(d)),r=r||1e-9,s=s||0,p=p||1,Ce=Ce||1,a=a||"wheel,touch,pointer",l=!1!==l,c||(c=parseFloat(Ai.getComputedStyle(d6).lineHeight)||22);var at,e1,H,fe,re,ge,ue,k=this,ze=0,Pe=0,f1=q3(o,Ln),s1=q3(o,D2),gt=f1(),P=s1(),T=~a.indexOf("touch")&&!~a.indexOf("pointer")&&"pointerdown"===br[0],ee=z8(o),he=o.ownerDocument||W3,ve=[0,0,0],be=[0,0,0],Xe=0,we=function(){return Xe=A8()},ae=function(Le,T1){return(k.event=Le)&&d&&~d.indexOf(Le.target)||T1&&T&&"touch"!==Le.pointerType||X&&X(Le,T1)},i1=function(){var Le=k.deltaX=TL(ve),T1=k.deltaY=TL(be),U1=Math.abs(Le)>=r,Ge=Math.abs(T1)>=r;F&&(U1||Ge)&&F(k,Le,T1,ve,be),U1&&(b&&k.deltaX>0&&b(k),A&&k.deltaX<0&&A(k),S&&S(k),q&&k.deltaX<0!=ze<0&&q(k),ze=k.deltaX,ve[0]=ve[1]=ve[2]=0),Ge&&(D&&k.deltaY>0&&D(k),E&&k.deltaY<0&&E(k),z&&z(k),U&&k.deltaY<0!=Pe<0&&U(k),Pe=k.deltaY,be[0]=be[1]=be[2]=0),(fe||H)&&(ne&&ne(k),H&&(M(k),H=!1),fe=!1),ge&&!(ge=!1)&&y1&&y1(k),re&&(B(k),re=!1),at=0},a1=function(Le,T1,U1){ve[U1]+=Le,be[U1]+=T1,k._vx.update(Le),k._vy.update(T1),l?at||(at=requestAnimationFrame(i1)):i1()},je=function(Le,T1){Ue&&!ue&&(k.axis=ue=Math.abs(Le)>Math.abs(T1)?"x":"y",ge=!0),"y"!==ue&&(ve[2]+=Le,k._vx.update(Le,!0)),"x"!==ue&&(be[2]+=T1,k._vy.update(T1,!0)),l?at||(at=requestAnimationFrame(i1)):i1()},Be=function(Le){if(!ae(Le,1)){var T1=(Le=E8(Le,u)).clientX,U1=Le.clientY,Ge=T1-k.x,q1=U1-k.y,m1=k.isDragging;k.x=T1,k.y=U1,(m1||Math.abs(k.startX-T1)>=s||Math.abs(k.startY-U1)>=s)&&(M&&(H=!0),m1||(k.isDragging=!0),je(Ge,q1),m1||g&&g(k))}},x1=k.onPress=function(o1){ae(o1,1)||o1&&o1.button||(k.axis=ue=null,e1.pause(),k.isPressed=!0,o1=E8(o1),ze=Pe=0,k.startX=k.x=o1.clientX,k.startY=k.y=o1.clientY,k._vx.reset(),k._vy.reset(),Tn(J?o:he,br[1],Be,u,!0),k.deltaX=k.deltaY=0,x&&x(k))},nt=k.onRelease=function(o1){if(!ae(o1,1)){Dn(J?o:he,br[1],Be,!0);var Le=!isNaN(k.y-k.startY),T1=k.isDragging&&(Math.abs(k.x-k.startX)>3||Math.abs(k.y-k.startY)>3),U1=E8(o1);!T1&&Le&&(k._vx.reset(),k._vy.reset(),u&&De&&X2.delayedCall(.08,function(){if(A8()-Xe>300&&!o1.defaultPrevented)if(o1.target.click)o1.target.click();else if(he.createEvent){var Ge=he.createEvent("MouseEvents");Ge.initMouseEvent("click",!0,!0,Ai,1,U1.screenX,U1.screenY,U1.clientX,U1.clientY,!1,!1,!1,!1,0,null),o1.target.dispatchEvent(Ge)}})),k.isDragging=k.isGesturing=k.isPressed=!1,f&&!J&&e1.restart(!0),v&&T1&&v(k),C&&C(k,T1)}},V=function(Le){return Le.touches&&Le.touches.length>1&&(k.isGesturing=!0)&&oe(Le,k.isDragging)},Ae=function(){return(k.isGesturing=!1)||I(k)},Q=function(Le){if(!ae(Le)){var T1=f1(),U1=s1();a1((T1-gt)*Ce,(U1-P)*Ce,1),gt=T1,P=U1,f&&e1.restart(!0)}},Me=function(Le){if(!ae(Le)){Le=E8(Le,u),B&&(re=!0);var T1=(1===Le.deltaMode?c:2===Le.deltaMode?Ai.innerHeight:1)*p;a1(Le.deltaX*T1,Le.deltaY*T1,0),f&&!J&&e1.restart(!0)}},Se=function(Le){if(!ae(Le)){var T1=Le.clientX,U1=Le.clientY,Ge=T1-k.x,q1=U1-k.y;k.x=T1,k.y=U1,fe=!0,(Ge||q1)&&je(Ge,q1)}},H1=function(Le){k.event=Le,O(k)},vt=function(Le){k.event=Le,G(k)},wt=function(Le){return ae(Le)||E8(Le,u)&&_e(k)};e1=k._dc=X2.delayedCall(h||.25,function(){k._vx.reset(),k._vy.reset(),e1.pause(),f&&f(k)}).pause(),k.deltaX=k.deltaY=0,k._vx=Av(0,50,!0),k._vy=Av(0,50,!0),k.scrollX=f1,k.scrollY=s1,k.isDragging=k.isGesturing=k.isPressed=!1,AL(this),k.enable=function(o1){return k.isEnabled||(Tn(ee?he:o,"scroll",Sv),a.indexOf("scroll")>=0&&Tn(ee?he:o,"scroll",Q,u,ke),a.indexOf("wheel")>=0&&Tn(o,"wheel",Me,u,ke),(a.indexOf("touch")>=0&&wL||a.indexOf("pointer")>=0)&&(Tn(o,br[0],x1,u,ke),Tn(he,br[2],nt),Tn(he,br[3],nt),De&&Tn(o,"click",we,!1,!0),_e&&Tn(o,"click",wt),oe&&Tn(he,"gesturestart",V),I&&Tn(he,"gestureend",Ae),O&&Tn(o,Qs+"enter",H1),G&&Tn(o,Qs+"leave",vt),ne&&Tn(o,Qs+"move",Se)),k.isEnabled=!0,o1&&o1.type&&x1(o1),ce&&ce(k)),k},k.disable=function(){k.isEnabled&&(p6.filter(function(o1){return o1!==k&&z8(o1.target)}).length||Dn(ee?he:o,"scroll",Sv),k.isPressed&&(k._vx.reset(),k._vy.reset(),Dn(J?o:he,br[1],Be,!0)),Dn(ee?he:o,"scroll",Q,ke),Dn(o,"wheel",Me,ke),Dn(o,br[0],x1,ke),Dn(he,br[2],nt),Dn(he,br[3],nt),Dn(o,"click",we,!0),Dn(o,"click",wt),Dn(he,"gesturestart",V),Dn(he,"gestureend",Ae),Dn(o,Qs+"enter",H1),Dn(o,Qs+"leave",vt),Dn(o,Qs+"move",Se),k.isEnabled=k.isPressed=k.isDragging=!1,xe&&xe(k))},k.kill=k.revert=function(){k.disable();var o1=p6.indexOf(k);o1>=0&&p6.splice(o1,1),H4===k&&(H4=0)},p6.push(k),J&&z8(o)&&(H4=k),k.enable(m)},function ale(n,e,t){e&&bL(n.prototype,e),t&&bL(n,t)}(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();y2.version="3.12.2",y2.create=function(n){return new y2(n)},y2.register=LL,y2.getAll=function(){return p6.slice()},y2.getById=function(n){return p6.filter(function(e){return e.vars.id===n})[0]},zL()&&X2.registerPlugin(y2);var $e,m6,tt,Zt,wr,Nt,NL,F9,k9,g6,U9,B9,hn,G9,zv,Nn,IL,RL,v6,PL,Ev,HL,zi,VL,OL,FL,Z3,Tv,Dv,y6,Lv,Nv,H8,Pn,iN,O8,W9=1,In=Date.now,Iv=In(),Qi=0,T8=0,kL=function(e,t,i){var r=Ei(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},UL=function(e,t){return!t||Ei(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},lle=function n(){return T8&&requestAnimationFrame(n)},BL=function(){return G9=1},GL=function(){return G9=0},a4=function(e){return e},D8=function(e){return Math.round(1e5*e)/1e5||0},WL=function(){return typeof window<"u"},jL=function(){return $e||WL()&&($e=window.gsap)&&$e.registerPlugin&&$e},ea=function(e){return!!~NL.indexOf(e)},$L=function(e){return("Height"===e?Lv:tt["inner"+e])||wr["client"+e]||Nt["client"+e]},qL=function(e){return $3(e,"getBoundingClientRect")||(ea(e)?function(){return iu.width=tt.innerWidth,iu.height=Lv,iu}:function(){return O4(e)})},V4=function(e,t){var i,r=t.d2,s=t.d,a=t.a;return Math.max(0,(i="scroll"+r)&&(a=$3(e,i))?a()-qL(e)()[s]:ea(e)?(wr[i]||Nt[i])-$L(r):e[i]-e["offset"+r])},j9=function(e,t){for(var i=0;i<v6.length;i+=3)(!t||~t.indexOf(v6[i+1]))&&e(v6[i],v6[i+1],v6[i+2])},Ei=function(e){return"string"==typeof e},Rn=function(e){return"function"==typeof e},$9=function(e){return"number"==typeof e},ta=function(e){return"object"==typeof e},L8=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},Rv=function(e,t){if(e.enabled){var i=t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},_6=Math.abs,Pv="right",Hv="bottom",na="width",ia="height",N8="Right",I8="Left",R8="Top",P8="Bottom",_2="padding",er="margin",M6="Width",Vv="Height",Y2="px",tr=function(e){return tt.getComputedStyle(e)},YL=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},O4=function(e,t){var i=t&&"matrix(1, 0, 0, 1, 0, 0)"!==tr(e)[zv]&&$e.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},Ov=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},JL=function(e){var s,t=[],i=e.labels,r=e.duration();for(s in i)t.push(i[s]/r);return t},Fv=function(e){var t=$e.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,a){var o;if(void 0===a&&(a=.001),!s)return t(r);if(s>0){for(r-=a,o=0;o<i.length;o++)if(i[o]>=r)return i[o];return i[o-1]}for(o=i.length,r+=a;o--;)if(i[o]<=r)return i[o];return i[0]}:function(r,s,a){void 0===a&&(a=.001);var o=t(r);return!s||Math.abs(o-r)<a||o-r<0==s<0?o:t(s<0?r-e:r+e)}},q9=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},O2=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},F2=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},Z9=function(e,t,i){(i=i&&i.wheelHandler)&&(e(t,"wheel",i),e(t,"touchmove",i))},KL={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},X9={toggleActions:"play",anticipatePin:0},Y9={top:0,left:0,center:.5,bottom:1,right:1},J9=function(e,t){if(Ei(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in Y9?Y9[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},K9=function(e,t,i,r,s,a,o,c){var l=s.startColor,u=s.endColor,f=s.fontSize,h=s.indent,d=s.fontWeight,p=Zt.createElement("div"),m=ea(i)||"fixed"===$3(i,"pinType"),g=-1!==e.indexOf("scroller"),v=m?Nt:i,M=-1!==e.indexOf("start"),x=M?l:u,C="border-color:"+x+";font-size:"+f+";color:"+x+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((g||c)&&m?"fixed;":"absolute;"),(g||c||!m)&&(C+=(r===D2?Pv:Hv)+":"+(a+parseFloat(h))+"px;"),o&&(C+="box-sizing:border-box;text-align:left;width:"+o.offsetWidth+"px;"),p._isStart=M,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=C,p.innerText=t||0===t?e+"-"+t:e,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+r.op.d2],Q9(p,0,r,M),p},Q9=function(e,t,i,r){var s={display:"block"},a=i[r?"os2":"p2"],o=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+a+M6]=1,s["border"+o+M6]=0,s[i.p]=t+"px",$e.set(e,s)},k1=[],kv={},QL=function(){return In()-Qi>34&&(H8||(H8=requestAnimationFrame(F4)))},x6=function(){(!zi||!zi.isPressed||zi.startX>Nt.clientWidth)&&($1.cache++,zi?H8||(H8=requestAnimationFrame(F4)):F4(),Qi||sa("scrollStart"),Qi=In())},Uv=function(){FL=tt.innerWidth,OL=tt.innerHeight},V8=function(){$1.cache++,!hn&&!HL&&!Zt.fullscreenElement&&!Zt.webkitFullscreenElement&&(!VL||FL!==tt.innerWidth||Math.abs(tt.innerHeight-OL)>.25*tt.innerHeight)&&F9.restart(!0)},ra={},mle=[],eN=function n(){return F2(J1,"scrollEnd",n)||oa(!0)},sa=function(e){return ra[e]&&ra[e].map(function(t){return t()})||mle},Ti=[],tN=function(e){for(var t=0;t<Ti.length;t+=5)(!e||Ti[t+4]&&Ti[t+4].query===e)&&(Ti[t].style.cssText=Ti[t+1],Ti[t].getBBox&&Ti[t].setAttribute("transform",Ti[t+2]||""),Ti[t+3].uncache=1)},Bv=function(e,t){var i;for(Nn=0;Nn<k1.length;Nn++)(i=k1[Nn])&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));t&&tN(t),t||sa("revert")},nN=function(e,t){$1.cache++,(t||!Pn)&&$1.forEach(function(i){return Rn(i)&&i.cacheID++&&(i.rec=0)}),Ei(e)&&(tt.history.scrollRestoration=Dv=e)},aa=0,rN=function(){Nt.appendChild(y6),Lv=y6.offsetHeight||tt.innerHeight,Nt.removeChild(y6)},oa=function(e,t){if(!Qi||e){rN(),Pn=J1.isRefreshing=!0,$1.forEach(function(r){return Rn(r)&&++r.cacheID&&(r.rec=r())});var i=sa("refreshInit");PL&&J1.sort(),t||Bv(),$1.forEach(function(r){Rn(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),k1.slice(0).forEach(function(r){return r.refresh()}),k1.forEach(function(r,s){if(r._subPinOffset&&r.pin){var a=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[a];r.revert(!0,1),r.adjustPinSpacing(r.pin[a]-o),r.refresh()}}),k1.forEach(function(r){var s=V4(r.scroller,r._dir);("max"===r.vars.end||r._endClamp&&r.end>s)&&r.setPositions(r.start,Math.max(r.start+1,s),!0)}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),$1.forEach(function(r){Rn(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),nN(Dv,1),F9.pause(),aa++,Pn=2,F4(2),k1.forEach(function(r){return Rn(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Pn=J1.isRefreshing=!1,sa("refresh")}else O2(J1,"scrollEnd",eN)},Gv=0,eu=1,F4=function(e){if(!Pn||2===e){J1.isUpdating=!0,O8&&O8.update(0);var t=k1.length,i=In(),r=i-Iv>=50,s=t&&k1[0].scroll();if(eu=Gv>s?-1:1,Pn||(Gv=s),r&&(Qi&&!G9&&i-Qi>200&&(Qi=0,sa("scrollEnd")),U9=Iv,Iv=i),eu<0){for(Nn=t;Nn-- >0;)k1[Nn]&&k1[Nn].update(0,r);eu=1}else for(Nn=0;Nn<t;Nn++)k1[Nn]&&k1[Nn].update(0,r);J1.isUpdating=!1}H8=0},Wv=["left","top",Hv,Pv,er+P8,er+N8,er+R8,er+I8,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],tu=Wv.concat([na,ia,"boxSizing","max"+M6,"max"+Vv,"position",er,_2,_2+R8,_2+N8,_2+P8,_2+I8]),jv=function(e,t,i,r){if(!e._gsap.swappedIn){for(var c,s=Wv.length,a=t.style,o=e.style;s--;)a[c=Wv[s]]=i[c];a.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(a.display="inline-block"),o[Hv]=o[Pv]="auto",a.flexBasis=i.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[na]=Ov(e,Ln)+Y2,a[ia]=Ov(e,D2)+Y2,a[_2]=o[er]=o.top=o.left="0",C6(r),o[na]=o["max"+M6]=i[na],o[ia]=o["max"+Vv]=i[ia],o[_2]=i[_2],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},yle=/([A-Z])/g,C6=function(e){if(e){var s,a,t=e.t.style,i=e.length,r=0;for((e.t._gsap||$e.core.getCache(e.t)).uncache=1;r<i;r+=2)s=e[r],(a=e[r+1])?t[s]=a:t[s]&&t.removeProperty(s.replace(yle,"-$1").toLowerCase())}},nu=function(e){for(var t=tu.length,i=e.style,r=[],s=0;s<t;s++)r.push(tu[s],i[tu[s]]);return r.t=e,r},iu={left:0,top:0},sN=function(e,t,i,r,s,a,o,c,l,u,f,h,d,p){Rn(e)&&(e=e(c)),Ei(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?J9("0"+e.substr(3),i):0));var g,v,M,m=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),$9(e))d&&(e=$e.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),o&&Q9(o,i,r,!0);else{Rn(t)&&(t=t(c));var C,b,A,E,x=(e||"0").split(" ");M=ai(t,c)||Nt,(!(C=O4(M)||{})||!C.left&&!C.top)&&"none"===tr(M).display&&(E=M.style.display,M.style.display="block",C=O4(M),E?M.style.display=E:M.style.removeProperty("display")),b=J9(x[0],C[r.d]),A=J9(x[1]||"0",i),e=C[r.p]-l[r.p]-u+b+s-A,o&&Q9(o,A,r,i-A<20||o._isStart&&A>20),i-=i-A}if(p&&(c[p]=e||-.001,e<0&&(e=0)),a){var D=e+i,S=a._isStart;g="scroll"+r.d2,Q9(a,D,r,S&&D>20||!S&&(f?Math.max(Nt[g],wr[g]):a.parentNode[g])<=D+1),f&&(l=O4(o),f&&(a.style[r.op.p]=l[r.op.p]-r.op.m-a._offset+Y2))}return d&&M&&(g=O4(M),d.seek(h),v=O4(M),d._caScrollDist=g[r.p]-v[r.p],e=e/d._caScrollDist*h),d&&d.seek(m),d?e:Math.round(e)},Mle=/(webkit|moz|length|cssText|inset)/i,aN=function(e,t,i,r){if(e.parentNode!==t){var a,o,s=e.style;if(t===Nt){for(a in e._stOrig=s.cssText,o=tr(e))!+a&&!Mle.test(a)&&o[a]&&"string"==typeof s[a]&&"0"!==a&&(s[a]=o[a]);s.top=i,s.left=r}else s.cssText=e._stOrig;$e.core.getCache(e).uncache=1,t.appendChild(e)}},oN=function(e,t,i){var r=t,s=r;return function(a){var o=Math.round(e());return o!==r&&o!==s&&Math.abs(o-r)>3&&Math.abs(o-s)>3&&(a=o,i&&i()),s=r,r=a,a}},ru=function(e,t,i){var r={};r[t.p]="+="+i,$e.set(e,r)},cN=function(e,t){var i=q3(e,t),r="_scroll"+t.p2,s=function a(o,c,l,u,f){var h=a.tween,d=c.onComplete,p={};l=l||i();var m=oN(i,l,function(){h.kill(),a.tween=0});return f=u&&f||0,u=u||o-l,h&&h.kill(),c[r]=o,c.modifiers=p,p[r]=function(){return m(l+u*h.ratio+f*h.ratio*h.ratio)},c.onUpdate=function(){$1.cache++,F4()},c.onComplete=function(){a.tween=0,d&&d.call(h)},h=a.tween=$e.to(e,c)};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},O2(e,"wheel",i.wheelHandler),J1.isTouch&&O2(e,"touchmove",i.wheelHandler),s},J1=function(){function n(t,i){m6||n.register($e)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Tv(this),this.init(t,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),T8){var Ue,y1,at,e1,H,fe,re,ge,ue,k,ze,Pe,f1,s1,gt,P,T,ee,he,ve,be,Xe,we,ae,qe,i1,a1,je,Be,x1,nt,V,Ae,Q,Me,Se,H1,vt,wt,a=(i=YL(Ei(i)||$9(i)||i.nodeType?{trigger:i}:i,X9)).onUpdate,o=i.toggleClass,c=i.id,l=i.onToggle,u=i.onRefresh,f=i.scrub,h=i.trigger,d=i.pin,p=i.pinSpacing,m=i.invalidateOnRefresh,g=i.anticipatePin,v=i.onScrubComplete,M=i.onSnapComplete,x=i.once,C=i.snap,b=i.pinReparent,A=i.pinSpacer,E=i.containerAnimation,D=i.fastScrollEnd,S=i.preventOverlaps,z=i.horizontal||i.containerAnimation&&!1!==i.horizontal?Ln:D2,F=!f&&0!==f,q=ai(i.scroller||tt),U=$e.core.getCache(q),O=ea(q),G="fixed"===("pinType"in i?i.pinType:$3(q,"pinType")||O&&"fixed"),ne=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],X=F&&i.toggleActions.split(" "),J="markers"in i?i.markers:X9.markers,oe=O?0:parseFloat(tr(q)["border"+z.p2+M6])||0,I=this,B=i.onRefreshInit&&function(){return i.onRefreshInit(I)},ce=function(e,t,i){var r=i.d,s=i.d2,a=i.a;return(a=$3(e,"getBoundingClientRect"))?function(){return a()[r]}:function(){return(t?$L(s):e["client"+s])||0}}(q,O,z),xe=function(e,t){return!t||~s4.indexOf(e)?qL(e):function(){return iu}}(q,O),_e=0,Ce=0,ke=0,De=q3(q,z);if(I._startClamp=I._endClamp=!1,I._dir=z,g*=45,I.scroller=q,I.scroll=E?E.time.bind(E):De,e1=De(),I.vars=i,r=r||i.animation,"refreshPriority"in i&&(PL=1,-9999===i.refreshPriority&&(O8=I)),U.tweenScroll=U.tweenScroll||{top:cN(q,D2),left:cN(q,Ln)},I.tweenTo=Ue=U.tweenScroll[z.p],I.scrubDuration=function(Ge){(Ae=$9(Ge)&&Ge)?V?V.duration(Ge):V=$e.to(r,{ease:"expo",totalProgress:"+=0",duration:Ae,paused:!0,onComplete:function(){return v&&v(I)}}):(V&&V.progress(1).kill(),V=0)},r&&(r.vars.lazy=!1,r._initted&&!I.isReverted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.duration()&&r.render(0,!0,!0),I.animation=r.pause(),r.scrollTrigger=I,I.scrubDuration(f),x1=0,c||(c=r.vars.id)),C&&((!ta(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Nt.style&&$e.set(O?[Nt,wr]:q,{scrollBehavior:"auto"}),$1.forEach(function(Ge){return Rn(Ge)&&Ge.target===(O?Zt.scrollingElement||wr:q)&&(Ge.smooth=!1)}),at=Rn(C.snapTo)?C.snapTo:"labels"===C.snapTo?function(e){return function(t){return $e.utils.snap(JL(e),t)}}(r):"labelsDirectional"===C.snapTo?function(e){return function(t,i){return Fv(JL(e))(t,i.direction)}}(r):!1!==C.directional?function(Ge,q1){return Fv(C.snapTo)(Ge,In()-Ce<500?0:q1.direction)}:$e.utils.snap(C.snapTo),Q=ta(Q=C.duration||{min:.1,max:2})?g6(Q.min,Q.max):g6(Q,Q),Me=$e.delayedCall(C.delay||Ae/2||.1,function(){var Ge=De(),q1=In()-Ce<500,m1=Ue.tween;if(!(q1||Math.abs(I.getVelocity())<10)||m1||G9||_e===Ge)I.isActive&&_e!==Ge&&Me.restart(!0);else{var D1=(Ge-fe)/s1,u2=r&&!F?r.totalProgress():D1,B1=q1?0:(u2-nt)/(In()-U9)*1e3||0,kt=$e.utils.clamp(-D1,1-D1,_6(B1/2)*B1/.185),J2=D1+(!1===C.inertia?0:kt),I2=g6(0,1,at(J2,I)),Rt=Math.round(fe+I2*s1),Y=C.onStart,K=C.onInterrupt,j=C.onComplete;if(Ge<=re&&Ge>=fe&&Rt!==Ge){if(m1&&!m1._initted&&m1.data<=_6(Rt-Ge))return;!1===C.inertia&&(kt=I2-D1),Ue(Rt,{duration:Q(_6(.185*Math.max(_6(J2-u2),_6(I2-u2))/B1/.05||0)),ease:C.ease||"power3",data:_6(Rt-Ge),onInterrupt:function(){return Me.restart(!0)&&K&&K(I)},onComplete:function(){I.update(),_e=De(),x1=nt=r&&!F?r.totalProgress():I.progress,M&&M(I),j&&j(I)}},Ge,kt*s1,Rt-Ge-kt*s1),Y&&Y(I,Ue.tween)}}}).pause()),c&&(kv[c]=I),(wt=(h=I.trigger=ai(h||!0!==d&&d))&&h._gsap&&h._gsap.stRevert)&&(wt=wt(I)),d=!0===d?h:ai(d),Ei(o)&&(o={targets:h,className:o}),d&&(!1===p||p===er||(p=!(!p&&d.parentNode&&d.parentNode.style&&"flex"===tr(d.parentNode).display)&&_2),I.pin=d,(y1=$e.core.getCache(d)).spacer?gt=y1.pinState:(A&&((A=ai(A))&&!A.nodeType&&(A=A.current||A.nativeElement),y1.spacerIsNative=!!A,A&&(y1.spacerState=nu(A))),y1.spacer=ee=A||Zt.createElement("div"),ee.classList.add("pin-spacer"),c&&ee.classList.add("pin-spacer-"+c),y1.pinState=gt=nu(d)),!1!==i.force3D&&$e.set(d,{force3D:!0}),I.spacer=ee=y1.spacer,Be=tr(d),ae=Be[p+z.os2],ve=$e.getProperty(d),be=$e.quickSetter(d,z.a,Y2),jv(d,ee,Be),T=nu(d)),J){Pe=ta(J)?YL(J,KL):KL,k=K9("scroller-start",c,q,z,Pe,0),ze=K9("scroller-end",c,q,z,Pe,0,k),he=k["offset"+z.op.d2];var o1=ai($3(q,"content")||q);ge=this.markerStart=K9("start",c,o1,z,Pe,he,0,E),ue=this.markerEnd=K9("end",c,o1,z,Pe,he,0,E),E&&(vt=$e.quickSetter([ge,ue],z.a,Y2)),!G&&(!s4.length||!0!==$3(q,"fixedMarkers"))&&(function(e){var t=tr(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(O?Nt:q),$e.set([k,ze],{force3D:!0}),i1=$e.quickSetter(k,z.a,Y2),je=$e.quickSetter(ze,z.a,Y2))}if(E){var Le=E.vars.onUpdate,T1=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){I.update(0,0,1),Le&&Le.apply(E,T1||[])})}if(I.previous=function(){return k1[k1.indexOf(I)-1]},I.next=function(){return k1[k1.indexOf(I)+1]},I.revert=function(Ge,q1){if(!q1)return I.kill(!0);var m1=!1!==Ge||!I.enabled,D1=hn;m1!==I.isReverted&&(m1&&(Se=Math.max(De(),I.scroll.rec||0),ke=I.progress,H1=r&&r.progress()),ge&&[ge,ue,k,ze].forEach(function(u2){return u2.style.display=m1?"none":"block"}),m1&&(hn=I,I.update(m1)),d&&(!b||!I.isActive)&&(m1?function(e,t,i){C6(i);var r=e._gsap;if(r.spacerIsNative)C6(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1}(d,ee,gt):jv(d,ee,tr(d),qe)),m1||I.update(m1),hn=D1,I.isReverted=m1)},I.refresh=function(Ge,q1,m1,D1){if(!hn&&I.enabled||q1){if(d&&Ge&&Qi)return void O2(n,"scrollEnd",eN);!Pn&&B&&B(I),hn=I,Ue.tween&&!m1&&(Ue.tween.kill(),Ue.tween=0),V&&V.pause(),m&&r&&r.revert({kill:!1}).invalidate(),I.isReverted||I.revert(!0,!0),I._subPinOffset=!1;var We,Qe,c1,L1,n1,t1,ot,Pt,ui,Fn,dt,V1,as,u2=ce(),B1=xe(),kt=E?E.duration():V4(q,z),J2=s1<=.01,I2=0,Rt=D1||0,L=ta(m1)?m1.end:i.end,Y=i.endTrigger||h,K=ta(m1)?m1.start:i.start||(0!==i.start&&h?d?"0 0":"0 100%":0),j=I.pinnedContainer=i.pinnedContainer&&ai(i.pinnedContainer,I),se=h&&Math.max(0,k1.indexOf(I))||0,Te=se;for(J&&ta(m1)&&(V1=$e.getProperty(k,z.p),as=$e.getProperty(ze,z.p));Te--;)(t1=k1[Te]).end||t1.refresh(0,1)||(hn=I),(ot=t1.pin)&&(ot===h||ot===d||ot===j)&&!t1.isReverted&&(Fn||(Fn=[]),Fn.unshift(t1),t1.revert(!0,!0)),t1!==k1[Te]&&(se--,Te--);for(Rn(K)&&(K=K(I)),K=kL(K,"start",I),fe=sN(K,h,u2,z,De(),ge,k,I,B1,oe,G,kt,E,I._startClamp&&"_startClamp")||(d?-.001:0),Rn(L)&&(L=L(I)),Ei(L)&&!L.indexOf("+=")&&(~L.indexOf(" ")?L=(Ei(K)?K.split(" ")[0]:"")+L:(I2=J9(L.substr(2),u2),L=Ei(K)?K:(E?$e.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,fe):fe)+I2,Y=h)),L=kL(L,"end",I),re=Math.max(fe,sN(L||(Y?"100% 0":kt),Y,u2,z,De()+I2,ue,ze,I,B1,oe,G,kt,E,I._endClamp&&"_endClamp"))||-.001,I2=0,Te=se;Te--;)(ot=(t1=k1[Te]).pin)&&t1.start-t1._pinPush<=fe&&!E&&t1.end>0&&(We=t1.end-(I._startClamp?Math.max(0,t1.start):t1.start),(ot===h&&t1.start-t1._pinPush<fe||ot===j)&&isNaN(K)&&(I2+=We*(1-t1.progress)),ot===d&&(Rt+=We));if(fe+=I2,re+=I2,I._startClamp&&(I._startClamp+=I2),I._endClamp&&!Pn&&(I._endClamp=re||-.001,re=Math.min(re,V4(q,z))),s1=re-fe||(fe-=.01)&&.001,J2&&(ke=$e.utils.clamp(0,1,$e.utils.normalize(fe,re,Se))),I._pinPush=Rt,ge&&I2&&((We={})[z.a]="+="+I2,j&&(We[z.p]="-="+De()),$e.set([ge,ue],We)),d)We=tr(d),L1=z===D2,c1=De(),Xe=parseFloat(ve(z.a))+Rt,!kt&&re>1&&(dt={style:dt=(O?Zt.scrollingElement||wr:q).style,value:dt["overflow"+z.a.toUpperCase()]},O&&"scroll"!==tr(Nt)["overflow"+z.a.toUpperCase()]&&(dt.style["overflow"+z.a.toUpperCase()]="scroll")),jv(d,ee,We),T=nu(d),Qe=O4(d,!0),Pt=G&&q3(q,L1?Ln:D2)(),p&&((qe=[p+z.os2,s1+Rt+Y2]).t=ee,(Te=p===_2?Ov(d,z)+s1+Rt:0)&&qe.push(z.d,Te+Y2),C6(qe),j&&k1.forEach(function(Ut){Ut.pin===j&&!1!==Ut.vars.pinSpacing&&(Ut._subPinOffset=!0)}),G&&De(Se)),G&&((n1={top:Qe.top+(L1?c1-fe:Pt)+Y2,left:Qe.left+(L1?Pt:c1-fe)+Y2,boxSizing:"border-box",position:"fixed"})[na]=n1["max"+M6]=Math.ceil(Qe.width)+Y2,n1[ia]=n1["max"+Vv]=Math.ceil(Qe.height)+Y2,n1[er]=n1[er+R8]=n1[er+N8]=n1[er+P8]=n1[er+I8]="0",n1[_2]=We[_2],n1[_2+R8]=We[_2+R8],n1[_2+N8]=We[_2+N8],n1[_2+P8]=We[_2+P8],n1[_2+I8]=We[_2+I8],P=function(e,t,i){for(var o,r=[],s=e.length,a=i?8:0;a<s;a+=2)r.push(o=e[a],o in t?t[o]:e[a+1]);return r.t=e.t,r}(gt,n1,b),Pn&&De(0)),r?(ui=r._initted,Ev(1),r.render(r.duration(),!0,!0),we=ve(z.a)-Xe+s1+Rt,a1=Math.abs(s1-we)>1,G&&a1&&P.splice(P.length-2,2),r.render(0,!0,!0),ui||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Ev(0)):we=s1,dt&&(dt.value?dt.style["overflow"+z.a.toUpperCase()]=dt.value:dt.style.removeProperty("overflow-"+z.a));else if(h&&De()&&!E)for(Qe=h.parentNode;Qe&&Qe!==Nt;)Qe._pinOffset&&(fe-=Qe._pinOffset,re-=Qe._pinOffset),Qe=Qe.parentNode;Fn&&Fn.forEach(function(Ut){return Ut.revert(!1,!0)}),I.start=fe,I.end=re,e1=H=Pn?Se:De(),!E&&!Pn&&(e1<Se&&De(Se),I.scroll.rec=0),I.revert(!1,!0),Ce=In(),Me&&(_e=-1,Me.restart(!0)),hn=0,r&&F&&(r._initted||H1)&&r.progress()!==H1&&r.progress(H1||0,!0).render(r.time(),!0,!0),(J2||ke!==I.progress||E)&&(r&&!F&&r.totalProgress(E&&fe<-.001&&!ke?$e.utils.normalize(fe,re,0):ke,!0),I.progress=J2||(e1-fe)/s1===ke?0:ke),d&&p&&(ee._pinOffset=Math.round(I.progress*we)),V&&V.invalidate(),isNaN(V1)||(V1-=$e.getProperty(k,z.p),as-=$e.getProperty(ze,z.p),ru(k,z,V1),ru(ge,z,V1-(D1||0)),ru(ze,z,as),ru(ue,z,as-(D1||0))),J2&&!Pn&&I.update(),u&&!Pn&&!f1&&(f1=!0,u(I),f1=!1)}},I.getVelocity=function(){return(De()-H)/(In()-U9)*1e3||0},I.endAnimation=function(){L8(I.callbackAnimation),r&&(V?V.progress(1):r.paused()?F||L8(r,I.direction<0,1):L8(r,r.reversed()))},I.labelToScroll=function(Ge){return r&&r.labels&&(fe||I.refresh()||fe)+r.labels[Ge]/r.duration()*s1||0},I.getTrailing=function(Ge){var q1=k1.indexOf(I),m1=I.direction>0?k1.slice(0,q1).reverse():k1.slice(q1+1);return(Ei(Ge)?m1.filter(function(D1){return D1.vars.preventOverlaps===Ge}):m1).filter(function(D1){return I.direction>0?D1.end<=fe:D1.start>=re})},I.update=function(Ge,q1,m1){if(!E||m1||Ge){var J2,Rt,L,Y,K,j,se,D1=!0===Pn?Se:I.scroll(),u2=Ge?0:(D1-fe)/s1,B1=u2<0?0:u2>1?1:u2||0,kt=I.progress;if(q1&&(H=e1,e1=E?De():D1,C&&(nt=x1,x1=r&&!F?r.totalProgress():B1)),g&&!B1&&d&&!hn&&!W9&&Qi&&fe<D1+(D1-H)/(In()-U9)*g&&(B1=1e-4),B1!==kt&&I.enabled){if(Y=(K=(J2=I.isActive=!!B1&&B1<1)!=(!!kt&&kt<1))||!!B1!=!!kt,I.direction=B1>kt?1:-1,I.progress=B1,Y&&!hn&&(Rt=B1&&!kt?0:1===B1?1:1===kt?2:3,F&&(L=!K&&"none"!==X[Rt+1]&&X[Rt+1]||X[Rt],se=r&&("complete"===L||"reset"===L||L in r))),S&&(K||se)&&(se||f||!r)&&(Rn(S)?S(I):I.getTrailing(S).forEach(function(c1){return c1.endAnimation()})),F||(!V||hn||W9?r&&r.totalProgress(B1,!(!hn||!Ce&&!Ge)):(V._dp._time-V._start!==V._time&&V.render(V._dp._time-V._start),V.resetTo?V.resetTo("totalProgress",B1,r._tTime/r._tDur):(V.vars.totalProgress=B1,V.invalidate().restart()))),d)if(Ge&&p&&(ee.style[p+z.os2]=ae),G){if(Y){if(j=!Ge&&B1>kt&&re+1>D1&&D1+1>=V4(q,z),b)if(Ge||!J2&&!j)aN(d,ee);else{var Te=O4(d,!0),We=D1-fe;aN(d,Nt,Te.top+(z===D2?We:0)+Y2,Te.left+(z===D2?0:We)+Y2)}C6(J2||j?P:T),a1&&B1<1&&J2||be(Xe+(1!==B1||j?0:we))}}else be(D8(Xe+we*B1));C&&!Ue.tween&&!hn&&!W9&&Me.restart(!0),o&&(K||x&&B1&&(B1<1||!Nv))&&k9(o.targets).forEach(function(c1){return c1.classList[J2||x?"add":"remove"](o.className)}),a&&!F&&!Ge&&a(I),Y&&!hn?(F&&(se&&("complete"===L?r.pause().totalProgress(1):"reset"===L?r.restart(!0).pause():"restart"===L?r.restart(!0):r[L]()),a&&a(I)),(K||!Nv)&&(l&&K&&Rv(I,l),ne[Rt]&&Rv(I,ne[Rt]),x&&(1===B1?I.kill(!1,1):ne[Rt]=0),K||ne[Rt=1===B1?1:3]&&Rv(I,ne[Rt])),D&&!J2&&Math.abs(I.getVelocity())>($9(D)?D:2500)&&(L8(I.callbackAnimation),V?V.progress(1):L8(r,"reverse"===L?1:!B1,1))):F&&a&&!hn&&a(I)}if(je){var Qe=E?D1/E.duration()*(E._caScrollDist||0):D1;i1(Qe+(k._isFlipped?1:0)),je(Qe)}vt&&vt(-D1/E.duration()*(E._caScrollDist||0))}},I.enable=function(Ge,q1){I.enabled||(I.enabled=!0,O2(q,"resize",V8),O||O2(q,"scroll",x6),B&&O2(n,"refreshInit",B),!1!==Ge&&(I.progress=ke=0,e1=H=_e=De()),!1!==q1&&I.refresh())},I.getTween=function(Ge){return Ge&&Ue?Ue.tween:V},I.setPositions=function(Ge,q1,m1,D1){if(E){var u2=E.scrollTrigger,B1=E.duration(),kt=u2.end-u2.start;Ge=u2.start+kt*Ge/B1,q1=u2.start+kt*q1/B1}I.refresh(!1,!1,{start:UL(Ge,m1&&!!I._startClamp),end:UL(q1,m1&&!!I._endClamp)},D1),I.update()},I.adjustPinSpacing=function(Ge){if(qe&&Ge){var q1=qe.indexOf(z.d)+1;qe[q1]=parseFloat(qe[q1])+Ge+Y2,qe[1]=parseFloat(qe[1])+Ge+Y2,C6(qe)}},I.disable=function(Ge,q1){if(I.enabled&&(!1!==Ge&&I.revert(!0,!0),I.enabled=I.isActive=!1,q1||V&&V.pause(),Se=0,y1&&(y1.uncache=1),B&&F2(n,"refreshInit",B),Me&&(Me.pause(),Ue.tween&&Ue.tween.kill()&&(Ue.tween=0)),!O)){for(var m1=k1.length;m1--;)if(k1[m1].scroller===q&&k1[m1]!==I)return;F2(q,"resize",V8),O||F2(q,"scroll",x6)}},I.kill=function(Ge,q1){I.disable(Ge,q1),V&&!q1&&V.kill(),c&&delete kv[c];var m1=k1.indexOf(I);m1>=0&&k1.splice(m1,1),m1===Nn&&eu>0&&Nn--,m1=0,k1.forEach(function(D1){return D1.scroller===I.scroller&&(m1=1)}),m1||Pn||(I.scroll.rec=0),r&&(r.scrollTrigger=null,Ge&&r.revert({kill:!1}),q1||r.kill()),ge&&[ge,ue,k,ze].forEach(function(D1){return D1.parentNode&&D1.parentNode.removeChild(D1)}),O8===I&&(O8=0),d&&(y1&&(y1.uncache=1),m1=0,k1.forEach(function(D1){return D1.pin===d&&m1++}),m1||(y1.spacer=0)),i.onKill&&i.onKill(I)},k1.push(I),I.enable(!1,!1),wt&&wt(I),r&&r.add&&!s1){var U1=I.update;I.update=function(){I.update=U1,fe||re||I.refresh()},$e.delayedCall(.01,I.update),s1=.01,fe=re=0}else I.refresh();d&&function(){if(iN!==aa){var e=iN=aa;requestAnimationFrame(function(){return e===aa&&oa(!0)})}}()}else this.update=this.refresh=this.kill=a4},n.register=function(i){return m6||($e=i||jL(),WL()&&window.document&&n.enable(),m6=T8),m6},n.defaults=function(i){if(i)for(var r in i)X9[r]=i[r];return X9},n.disable=function(i,r){T8=0,k1.forEach(function(a){return a[r?"kill":"disable"](i)}),F2(tt,"wheel",x6),F2(Zt,"scroll",x6),clearInterval(B9),F2(Zt,"touchcancel",a4),F2(Nt,"touchstart",a4),q9(F2,Zt,"pointerdown,touchstart,mousedown",BL),q9(F2,Zt,"pointerup,touchend,mouseup",GL),F9.kill(),j9(F2);for(var s=0;s<$1.length;s+=3)Z9(F2,$1[s],$1[s+1]),Z9(F2,$1[s],$1[s+2])},n.enable=function(){if(tt=window,Zt=document,wr=Zt.documentElement,Nt=Zt.body,$e&&(k9=$e.utils.toArray,g6=$e.utils.clamp,Tv=$e.core.context||a4,Ev=$e.core.suppressOverwrites||a4,Dv=tt.history.scrollRestoration||"auto",Gv=tt.pageYOffset,$e.core.globals("ScrollTrigger",n),Nt)){T8=1,(y6=document.createElement("div")).style.height="100vh",y6.style.position="absolute",rN(),lle(),y2.register($e),n.isTouch=y2.isTouch,Z3=y2.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),O2(tt,"wheel",x6),NL=[tt,Zt,wr,Nt],$e.matchMedia?(n.matchMedia=function(c){var u,l=$e.matchMedia();for(u in c)l.add(u,c[u]);return l},$e.addEventListener("matchMediaInit",function(){return Bv()}),$e.addEventListener("matchMediaRevert",function(){return tN()}),$e.addEventListener("matchMedia",function(){oa(0,1),sa("matchMedia")}),$e.matchMedia("(orientation: portrait)",function(){return Uv(),Uv})):console.warn("Requires GSAP 3.11.0 or later"),Uv(),O2(Zt,"scroll",x6);var a,o,i=Nt.style,r=i.borderTopStyle,s=$e.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",a=O4(Nt),D2.m=Math.round(a.top+D2.sc())||0,Ln.m=Math.round(a.left+Ln.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),B9=setInterval(QL,250),$e.delayedCall(.5,function(){return W9=0}),O2(Zt,"touchcancel",a4),O2(Nt,"touchstart",a4),q9(O2,Zt,"pointerdown,touchstart,mousedown",BL),q9(O2,Zt,"pointerup,touchend,mouseup",GL),zv=$e.utils.checkPrefix("transform"),tu.push(zv),m6=In(),F9=$e.delayedCall(.2,oa).pause(),v6=[Zt,"visibilitychange",function(){var c=tt.innerWidth,l=tt.innerHeight;Zt.hidden?(IL=c,RL=l):(IL!==c||RL!==l)&&V8()},Zt,"DOMContentLoaded",oa,tt,"load",oa,tt,"resize",V8],j9(O2),k1.forEach(function(c){return c.enable(0,1)}),o=0;o<$1.length;o+=3)Z9(F2,$1[o],$1[o+1]),Z9(F2,$1[o],$1[o+2])}},n.config=function(i){"limitCallbacks"in i&&(Nv=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(B9)||(B9=r)&&setInterval(QL,r),"ignoreMobileResize"in i&&(VL=1===n.isTouch&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(j9(F2)||j9(O2,i.autoRefreshEvents||"none"),HL=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=ai(i),a=$1.indexOf(s),o=ea(s);~a&&$1.splice(a,o?6:2),r&&(o?s4.unshift(tt,r,Nt,r,wr,r):s4.unshift(s,r))},n.clearMatchMedia=function(i){k1.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var a=(Ei(i)?ai(i):i).getBoundingClientRect(),o=a[s?na:ia]*r||0;return s?a.right-o>0&&a.left+o<tt.innerWidth:a.bottom-o>0&&a.top+o<tt.innerHeight},n.positionInViewport=function(i,r,s){Ei(i)&&(i=ai(i));var a=i.getBoundingClientRect(),o=a[s?na:ia],c=null==r?o/2:r in Y9?Y9[r]*o:~r.indexOf("%")?parseFloat(r)*o/100:parseFloat(r)||0;return s?(a.left+c)/tt.innerWidth:(a.top+c)/tt.innerHeight},n.killAll=function(i){if(k1.slice(0).forEach(function(s){return"ScrollSmoother"!==s.vars.id&&s.kill()}),!0!==i){var r=ra.killAll||[];ra={},r.forEach(function(s){return s()})}},n}();J1.version="3.12.2",J1.saveStyles=function(n){return n?k9(n).forEach(function(e){if(e&&e.style){var t=Ti.indexOf(e);t>=0&&Ti.splice(t,5),Ti.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$e.core.getCache(e),Tv())}}):Ti},J1.revert=function(n,e){return Bv(!n,e)},J1.create=function(n,e){return new J1(n,e)},J1.refresh=function(n){return n?V8():(m6||J1.register())&&oa(!0)},J1.update=function(n){return++$1.cache&&F4(!0===n?2:0)},J1.clearScrollMemory=nN,J1.maxScroll=function(n,e){return V4(n,e?Ln:D2)},J1.getScrollFunc=function(n,e){return q3(ai(n),e?Ln:D2)},J1.getById=function(n){return kv[n]},J1.getAll=function(){return k1.filter(function(n){return"ScrollSmoother"!==n.vars.id})},J1.isScrolling=function(){return!!Qi},J1.snapDirectional=Fv,J1.addEventListener=function(n,e){var t=ra[n]||(ra[n]=[]);~t.indexOf(e)||t.push(e)},J1.removeEventListener=function(n,e){var t=ra[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},J1.batch=function(n,e){var o,t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,a=function(l,u){var f=[],h=[],d=$e.delayedCall(r,function(){u(f,h),f=[],h=[]}).pause();return function(p){f.length||d.restart(!0),f.push(p.trigger),h.push(p),s<=f.length&&d.progress(1)}};for(o in e)i[o]="on"===o.substr(0,2)&&Rn(e[o])&&"onRefreshInit"!==o?a(0,e[o]):e[o];return Rn(s)&&(s=s(),O2(J1,"refresh",function(){return s=e.batchMax()})),k9(n).forEach(function(c){var l={};for(o in i)l[o]=i[o];l.trigger=c,t.push(J1.create(l))}),t};var fN,lN=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},$v=function n(e,t){!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(y2.isTouch?" pinch-zoom":""):"none",e===wr&&n(Nt,t)},su={auto:1,scroll:1},xle=function(e){var c,t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,a=s._gsap||$e.core.getCache(s),o=In();if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==Nt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!su[(c=tr(s)).overflowY]&&!su[c.overflowX]);)s=s.parentNode;a._isScroll=s&&s!==i&&!ea(s)&&(su[(c=tr(s)).overflowY]||su[c.overflowX]),a._isScrollT=o}(a._isScroll||"x"===r)&&(t.stopPropagation(),t._gsapAllow=!0)},uN=function(e,t,i,r){return y2.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&xle,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&O2(Zt,y2.eventTypes[0],hN,!1,!0)},onDisable:function(){return F2(Zt,y2.eventTypes[0],hN,!0)}})},Cle=/(input|label|select|textarea)/i,hN=function(e){var t=Cle.test(e.target.tagName);(t||fN)&&(e._gsapAllow=!0,fN=t)};function F8(n){return F8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F8(n)}function dN(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Ale(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Ale(n,r,t[r])})}return n}function qv(n,e){return function Ele(n){if(Array.isArray(n))return n}(n)||function Dle(n,e){var t=[],i=!0,r=!1,s=void 0;try{for(var o,a=n[Symbol.iterator]();!(i=(o=a.next()).done)&&(t.push(o.value),!e||t.length!==e);i=!0);}catch(c){r=!0,s=c}finally{try{!i&&null!=a.return&&a.return()}finally{if(r)throw s}}return t}(n,e)||function Nle(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}J1.sort=function(n){return k1.sort(n||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},J1.observe=function(n){return new y2(n)},J1.normalizeScroll=function(n){if(typeof n>"u")return zi;if(!0===n&&zi)return zi.enable();if(!1===n)return zi&&zi.kill();var e=n instanceof y2?n:function(e){ta(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var o,c,x,C,q,U,O,G,i=e.normalizeScrollX,r=e.momentum,s=e.allowNestedScroll,a=e.onRelease,l=ai(e.target)||wr,u=$e.core.globals().ScrollSmoother,f=u&&u.get(),h=Z3&&(e.content&&ai(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),d=q3(l,D2),p=q3(l,Ln),m=1,g=(y2.isTouch&&tt.visualViewport?tt.visualViewport.scale*tt.visualViewport.width:tt.outerWidth)/tt.innerWidth,v=0,M=Rn(r)?function(){return r(o)}:function(){return r||2.8},b=uN(l,e.type,!0,s),A=function(){return C=!1},E=a4,D=a4,S=function(){c=V4(l,D2),D=g6(Z3?1:0,c),i&&(E=g6(0,V4(l,Ln))),x=aa},z=function(){h._gsap.y=D8(parseFloat(h._gsap.y)+d.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",d.offset=d.cacheID=0},ne=function(){S(),q.isActive()&&q.vars.scrollY>c&&(d()>c?q.progress(1)&&d(c):q.resetTo("scrollY",c))};return h&&$e.set(h,{y:"+=0"}),e.ignoreCheck=function(X){return Z3&&"touchmove"===X.type&&function(){if(C){requestAnimationFrame(A);var J=D8(o.deltaY/2),oe=D(d.v-J);if(h&&oe!==d.v+d.offset){d.offset=oe-d.v;var I=D8((parseFloat(h&&h._gsap.y)||0)-d.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+I+", 0, 1)",h._gsap.y=I+"px",d.cacheID=$1.cache,F4()}return!0}d.offset&&z(),C=!0}()||m>1.05&&"touchstart"!==X.type||o.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){C=!1;var X=m;m=D8((tt.visualViewport&&tt.visualViewport.scale||1)/g),q.pause(),X!==m&&$v(l,m>1.01||!i&&"x"),U=p(),O=d(),S(),x=aa},e.onRelease=e.onGestureStart=function(X,J){if(d.offset&&z(),J){$1.cache++;var I,B,oe=M();i&&(I=p(),oe*=lN(p,I,B=I+.05*oe*-X.velocityX/.227,V4(l,Ln)),q.vars.scrollX=E(B)),I=d(),oe*=lN(d,I,B=I+.05*oe*-X.velocityY/.227,V4(l,D2)),q.vars.scrollY=D(B),q.invalidate().duration(oe).play(.01),(Z3&&q.vars.scrollY>=c||I>=c-1)&&$e.to({},{onUpdate:ne,duration:oe})}else G.restart(!0);a&&a(X)},e.onWheel=function(){q._ts&&q.pause(),In()-v>1e3&&(x=0,v=In())},e.onChange=function(X,J,oe,I,B){if(aa!==x&&S(),J&&i&&p(E(I[2]===J?U+(X.startX-X.x):p()+J-I[1])),oe){d.offset&&z();var ce=B[2]===oe,xe=ce?O+X.startY-X.y:d()+oe-B[1],_e=D(xe);ce&&xe!==_e&&(O+=_e-xe),d(_e)}(oe||J)&&F4()},e.onEnable=function(){$v(l,!i&&"x"),J1.addEventListener("refresh",ne),O2(tt,"resize",ne),d.smooth&&(d.target.style.scrollBehavior="auto",d.smooth=p.smooth=!1),b.enable()},e.onDisable=function(){$v(l,!0),F2(tt,"resize",ne),J1.removeEventListener("refresh",ne),b.kill()},e.lockAxis=!1!==e.lockAxis,(o=new y2(e)).iOS=Z3,Z3&&!d()&&d(1),Z3&&$e.ticker.add(a4),G=o._dc,q=$e.to(o,{ease:"power4",paused:!0,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:oN(d,d(),function(){return q.pause()})},onUpdate:F4,onComplete:G.vars.onComplete}),o}(n);return zi&&zi.target===e.target&&zi.kill(),ea(e.target)&&(zi=e),e},J1.core={_getVelocityProp:Av,_inputObserver:uN,_scrollers:$1,_proxies:s4,bridge:{ss:function(){Qi||sa("scrollStart"),Qi=In()},ref:function(){return hn}}},jL()&&$e.registerPlugin(J1);var Xv={},mN={};try{typeof window<"u"&&(Xv=window),typeof document<"u"&&(mN=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var yN=(Xv.navigator||{}).userAgent,_N=void 0===yN?"":yN,b6=Xv,M2=mN,k4=!!M2.documentElement&&!!M2.head&&"function"==typeof M2.addEventListener&&"function"==typeof M2.createElement,U4=(~_N.indexOf("MSIE")||_N.indexOf("Trident/"),"___FONT_AWESOME___"),CN="fa",bN="svg-inline--fa",zN=(function(){try{return!0}catch{return!1}}(),[1,2,3,4,5,6,7,8,9,10]),Gle=zN.concat([11,12,13,14,15,16,17,18,19,20]),ca={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},EN=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",ca.GROUP,ca.SWAP_OPACITY,ca.PRIMARY,ca.SECONDARY].concat(zN.map(function(n){return"".concat(n,"x")})).concat(Gle.map(function(n){return"w-".concat(n)})),b6.FontAwesomeConfig||{});M2&&"function"==typeof M2.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=qv(n,2),i=e[1],r=function qle(n){return""===n||"false"!==n&&("true"===n||n)}(function $le(n){var e=M2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(EN[i]=r)});var Kv=K1({},{familyPrefix:CN,replacementClass:bN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},EN);Kv.autoReplaceSvg||(Kv.observeMutations=!1);var w1=K1({},Kv);b6.FontAwesomeConfig=w1;var B4=b6||{};B4[U4]||(B4[U4]={}),B4[U4].styles||(B4[U4].styles={}),B4[U4].hooks||(B4[U4].hooks={}),B4[U4].shims||(B4[U4].shims=[]);var Sr=B4[U4],TN=[];k4&&((M2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(M2.readyState)||M2.addEventListener("DOMContentLoaded",function n(){M2.removeEventListener("DOMContentLoaded",n),TN.map(function(e){return e()})}));var ey,Qv="pending",DN="settled",cu="fulfilled",lu="rejected",Kle=function(){},LN=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,Qle=typeof setImmediate>"u"?setTimeout:setImmediate,k8=[];function e7e(){for(var n=0;n<k8.length;n++)k8[n][0](k8[n][1]);k8=[],ey=!1}function uu(n,e){k8.push([n,e]),ey||(ey=!0,Qle(e7e,0))}function NN(n){var e=n.owner,t=e._state,i=e._data,r=n[t],s=n.then;if("function"==typeof r){t=cu;try{i=r(i)}catch(a){U8(s,a)}}IN(s,i)||(t===cu&&ty(s,i),t===lu&&U8(s,i))}function IN(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===F8(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(r){t||(t=!0,e===r?RN(n,r):ty(n,r))},function(r){t||(t=!0,U8(n,r))}),!0}}catch(r){return t||U8(n,r),!0}return!1}function ty(n,e){(n===e||!IN(n,e))&&RN(n,e)}function RN(n,e){n._state===Qv&&(n._state=DN,n._data=e,uu(n7e,n))}function U8(n,e){n._state===Qv&&(n._state=DN,n._data=e,uu(i7e,n))}function PN(n){n._then=n._then.forEach(NN)}function n7e(n){n._state=cu,PN(n)}function i7e(n){n._state=lu,PN(n),!n._handled&&LN&&global.process.emit("unhandledRejection",n._data,n)}function r7e(n){global.process.emit("rejectionHandled",n)}function Di(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Di))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function t7e(n,e){function i(r){U8(e,r)}try{n(function t(r){ty(e,r)},i)}catch(r){i(r)}}(n,this)}Di.prototype={constructor:Di,_state:Qv,_then:null,_data:void 0,_handled:!1,then:function(e,t){var i={owner:this,then:new this.constructor(Kle),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===lu&&LN&&uu(r7e,this)),this._state===cu||this._state===lu?uu(NN,i):this._then.push(i),i.then},catch:function(e){return this.then(null,e)}},Di.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Di(function(e,t){var i=[],r=0;function s(c){return r++,function(l){i[c]=l,--r||e(i)}}for(var o,a=0;a<n.length;a++)(o=n[a])&&"function"==typeof o.then?o.then(s(a),t):i[a]=o;r||e(i)})},Di.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Di(function(e,t){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(e,t):e(r)})},Di.resolve=function(n){return n&&"object"===F8(n)&&n.constructor===Di?n:new Di(function(e){e(n)})},Di.reject=function(n){return new Di(function(e,t){t(n)})};var G4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var a7e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function B8(){for(var n=12,e="";n-- >0;)e+=a7e[62*Math.random()|0];return e}function VN(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fu(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function iy(n){return n.size!==G4.size||n.x!==G4.x||n.y!==G4.y||n.rotate!==G4.rotate||n.flipX||n.flipY}function ON(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var ry={x:0,y:0,width:"100%",height:"100%"};function FN(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function u7e(n){return"g"===n.tag?n.children:[n]}var cy=function(e,t,i,r){var c,l,u,s=Object.keys(e),a=s.length,o=void 0!==r?function(e,t){return function(i,r,s,a){return e.call(t,i,r,s,a)}}(t,r):t;for(void 0===i?(c=1,u=e[s[0]]):(c=0,u=i);c<a;c++)u=o(u,e[l=s[c]],l,e);return u};function WN(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,s=Object.keys(e).reduce(function(a,o){var c=e[o];return c.icon?a[c.iconName]=c.icon:a[o]=c,a},{});"function"!=typeof Sr.hooks.addPack||r?Sr.styles[n]=K1({},Sr.styles[n]||{},s):Sr.hooks.addPack(n,s),"fas"===n&&WN("fa",e)}var jN=Sr.styles,y7e=Sr.shims,XN=function(){var e=function(r){return cy(jN,function(s,a,o){return s[o]=cy(a,r,{}),s},{})};e(function(i,r,s){return r[3]&&(i[r[3]]=s),i}),e(function(i,r,s){var a=r[2];return i[s]=s,a.forEach(function(o){i[o]=s}),i});var t="far"in jN;cy(y7e,function(i,r){var a=r[1];return"far"===a&&!t&&(a="fas"),i[r[0]]={prefix:a,iconName:r[2]},i},{})};function JN(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function A6(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?VN(n):"<".concat(e," ").concat(function c7e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(VN(n[t]),'" ')},"").trim()}(i),">").concat(s.map(A6).join(""),"</").concat(e,">")}XN();function W8(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(W8.prototype=Object.create(Error.prototype)).constructor=W8;var pu={fill:"currentColor"},iI={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},hy=(K1({},pu,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),K1({},iI,{attributeName:"opacity"}));function py(n){var e=n[0],t=n[1],s=qv(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(w1.familyPrefix,"-").concat(ca.GROUP)},children:[{tag:"path",attributes:{class:"".concat(w1.familyPrefix,"-").concat(ca.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(w1.familyPrefix,"-").concat(ca.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}K1({},pu,{cx:"256",cy:"364",r:"28"}),K1({},iI,{attributeName:"r",values:"28;14;28;28;14;28;"}),K1({},hy,{values:"1;0;1;1;0;1;"}),K1({},pu,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),K1({},hy,{values:"1;0;0;0;0;1;"}),K1({},pu,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),K1({},hy,{values:"0;0;1;1;0;0;"});var $7e='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var q7e=function(){function n(){(function wle(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Sle(n,e,t){e&&dN(n.prototype,e),t&&dN(n,t)}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){t.definitions[o]=K1({},t.definitions[o]||{},a[o]),WN(o,a[o]),XN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],o=a.prefix,c=a.iconName,l=a.icon;t[o]||(t[o]={}),t[o][c]=l}),t}}]),n}();function j8(){w1.autoAddCss&&!gu&&(function HN(n){if(n&&k4){var e=M2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=M2.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}return M2.head.insertBefore(e,i),n}}(function gy(){var n=CN,e=bN,t=w1.familyPrefix,i=w1.replacementClass,r=$7e;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),a=new RegExp("\\--".concat(n,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(a,"--".concat(t,"-")).replace(o,".".concat(i))}return r}()),gu=!0)}function vy(n){var e=n.prefix,t=void 0===e?"fa":e,i=n.iconName;if(i)return JN(cI.definitions,t,i)||JN(Sr.styles,t,i)}var cI=new q7e,gu=!1,lI_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return i.flipX=!0,i;if(a&&"v"===o)return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(a){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o}return i},t):t}(e)},uI=function Z7e(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:vy(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:vy(r||{})),n(i,K1({},t,{mask:r}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,i=void 0===t?G4:t,r=e.symbol,s=void 0!==r&&r,a=e.mask,o=void 0===a?null:a,c=e.maskId,l=void 0===c?null:c,u=e.title,f=void 0===u?null:u,h=e.titleId,d=void 0===h?null:h,p=e.classes,m=void 0===p?[]:p,g=e.attributes,v=void 0===g?{}:g,M=e.styles,x=void 0===M?{}:M;if(n){var C=n.prefix,b=n.iconName,A=n.icon;return function mu(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return A6(i)})}}),Object.defineProperty(n,"node",{get:function(){if(k4){var i=M2.createElement("div");return i.innerHTML=n.html,i.children}}}),n}(K1({type:"icon"},n),function(){return j8(),w1.autoA11y&&(f?v["aria-labelledby"]="".concat(w1.replacementClass,"-title-").concat(d||B8()):(v["aria-hidden"]="true",v.focusable="false")),function sy(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,a=n.transform,o=n.symbol,c=n.title,l=n.maskId,u=n.titleId,f=n.extra,h=n.watchable,d=void 0!==h&&h,p=i.found?i:t,m=p.width,g=p.height,v="fak"===r,M=v?"":"fa-w-".concat(Math.ceil(m/g*16)),x=[w1.replacementClass,s?"".concat(w1.familyPrefix,"-").concat(s):"",M].filter(function(z){return-1===f.classes.indexOf(z)}).filter(function(z){return""!==z||!!z}).concat(f.classes).join(" "),C={children:[],attributes:K1({},f.attributes,{"data-prefix":r,"data-icon":s,class:x,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},b=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};d&&(C.attributes["data-fa-i2svg"]=""),c&&C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||B8())},children:[c]});var A=K1({},C,{prefix:r,iconName:s,main:t,mask:i,maskId:l,transform:a,symbol:o,styles:K1({},b,f.styles)}),E=i.found&&t.found?function f7e(n){var e=n.children,t=n.attributes,i=n.main,r=n.mask,s=n.maskId,c=i.icon,u=r.icon,f=ON({transform:n.transform,containerWidth:r.width,iconWidth:i.width}),h={tag:"rect",attributes:K1({},ry,{fill:"white"})},d=c.children?{children:c.children.map(FN)}:{},p={tag:"g",attributes:K1({},f.inner),children:[FN(K1({tag:c.tag,attributes:K1({},c.attributes,f.path)},d))]},m={tag:"g",attributes:K1({},f.outer),children:[p]},g="mask-".concat(s||B8()),v="clip-".concat(s||B8()),M={tag:"mask",attributes:K1({},ry,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:u7e(u)},M]};return e.push(x,{tag:"rect",attributes:K1({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(g,")")},ry)}),{children:e,attributes:t}}(A):function h7e(n){var e=n.children,t=n.attributes,i=n.main,r=n.transform,a=fu(n.styles);if(a.length>0&&(t.style=a),iy(r)){var o=ON({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:K1({},o.outer),children:[{tag:"g",attributes:K1({},o.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:K1({},i.icon.attributes,o.path)}]}]})}else e.push(i.icon);return{children:e,attributes:t}}(A),S=E.attributes;return A.children=E.children,A.attributes=S,o?function p7e(n){var t=n.iconName,i=n.children,s=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:K1({},n.attributes,{id:!0===s?"".concat(n.prefix,"-").concat(w1.familyPrefix,"-").concat(t):s}),children:i}]}]}(A):function d7e(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,a=n.transform;if(iy(a)&&t.found&&!i.found){var l={x:t.width/t.height/2,y:.5};r.style=fu(K1({},s,{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(A)}({icons:{main:py(A),mask:o?py(o.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:b,transform:K1({},G4,i),symbol:s,title:f,maskId:l,titleId:d,extra:{attributes:v,styles:x,classes:m}})})}});const n9e=["*"],s9e=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let c9e=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l9e=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),u9e=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[yn]}),n})(),f9e=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(le($r),le(sn))},n.\u0275cmp=h2({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[yn],ngContentSelectors:n9e,decls:1,vars:0,template:function(t,i){1&t&&(function Bb(n){const e=de()[d2][He];if(!e.projection){const i=e.projection=tc(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const a=n?cU(s,n):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}(),function Gb(n,e=0,t){const i=de(),r=rt(),s=xo(r,Y1+n,16,null,t||null);null===s.projection&&(s.projection=e),Xh(),(!i[_4]||io())&&32!=(32&s.flags)&&function mO(n,e,t){Yx(e[g1],0,e,t,bd(n,t,e),Wx(t.parent||e[He],t,e))}(r,i,s)}(0))},encapsulation:2}),n})(),z6=(()=>{class n{constructor(t,i,r,s,a){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,t){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?lI_transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...s9e(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=uI(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(le(bz),le(c9e),le(l9e),le(u9e,8),le(f9e,8))},n.\u0275cmp=h2({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(Sp("innerHTML",i.renderedIconHTML,lC),pr("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[yn],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),h9e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({}),n})();const fI=["headerText"],d9e=["svgElement"],p9e=["playVideoButon"],m9e=["headerE1"],g9e=["mask"],v9e=["containerSubTitleProjectWord"],y9e=["videoEl"],_9e=function(){return["/projects"]};let M9e=(()=>{class n{constructor(t){this.elementRef=t,this.faArrowRight=u8,this.faPlayCircle=aD}ngAfterViewInit(){if(this.containerRef){const t=this.containerRef.nativeElement,i=this.video.nativeElement,r=this.headerTextElementRef.nativeElement,a=this.playVideoButon.nativeElement,o=this.mask.nativeElement;window.addEventListener("click",function(){a.style.opacity="0",o.style.opacity="0.75"}),Cv.registerPlugin(J1),Cv.to(r,{scrollTrigger:{trigger:r,start:"top top",end:"+=2000",scrub:1,pin:t,onEnter:()=>a.classList.add("diplayOn"),onLeave:()=>a.classList.remove("diplayOn"),onEnterBack:()=>a.classList.add("diplayOn"),onLeaveBack:()=>a.classList.remove("diplayOn")},scale:15,x:-50,transformOrigin:"center center"}),i.load(),document.addEventListener("mousedown",()=>{i.play().catch(c=>{console.log("play error",c),console.log("entra")})}),document.addEventListener("touchstart",()=>{i.play().catch(c=>{console.log("play error",c)})}),window.innerWidth<=768&&(this.containerRef.nativeElement.style.display="none")}}}return n.\u0275fac=function(t){return new(t||n)(le(sn))},n.\u0275cmp=h2({type:n,selectors:[["app-mega-text-video"]],viewQuery:function(t,i){if(1&t&&(Qn(fI,5),Qn(d9e,5),Qn(p9e,5),Qn(m9e,5),Qn(g9e,5),Qn(fI,5),Qn(v9e,7),Qn(y9e,7,sn)),2&t){let r;Cn(r=bn())&&(i.headerTextElementRef=r.first),Cn(r=bn())&&(i.svgElementRef=r.first),Cn(r=bn())&&(i.playVideoButon=r.first),Cn(r=bn())&&(i.containerRef=r.first),Cn(r=bn())&&(i.mask=r.first),Cn(r=bn())&&(i.zoomElement=r.first),Cn(r=bn())&&(i.containerSubTitleProjectWord=r.first),Cn(r=bn())&&(i.video=r.first)}},decls:28,vars:4,consts:[[1,"containerSubTitleProjectWord"],["containerSubTitleProjectWord",""],[1,"subTitleProjectWord"],["fragment","projectsTitle",3,"routerLink"],[1,"linkBGdark"],[3,"icon"],[1,"playVideoButon"],["playVideoButon",""],[1,"containerMegavideoText"],["headerE1",""],[1,"mask"],["mask",""],["preload","","autoplay","","loop","","muted","","playsinline",""],["videoEl",""],["src","../../../assets/media/MyWork.mp4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 500 80","preserveAspectRatio","xMidYMid slice"],["svgElement",""],["id","mask","x","0","y","0","width","100%","height","100%"],["x","0","y","0","width","100%","height","100%"],["id","header-text","x","50%","y","50","text-anchor","middle","dominant-baseline","middle"],["headerText",""]],template:function(t,i){1&t&&(ye(0,"div",0),Z(1,"div",0,1)(3,"span",2),Ve(4,"Hi there! I'm Alejandro Alonzo, "),Z(5,"a",3)(6,"span",4),Ve(7,"+3 years coding. // Let me show you "),ye(8,"fa-icon",5),W()()()(),Z(9,"span",6,7),ye(11,"fa-icon",5),W(),Z(12,"header",8,9),ye(14,"div",10,11),Z(16,"video",12,13),ye(18,"source",14),W(),function JM(){v1.lFrame.currentNamespace="svg"}(),Z(19,"svg",15,16)(21,"defs")(22,"mask",17),ye(23,"rect",18),Z(24,"text",19,20),Ve(26,"WORK"),W()()(),ye(27,"rect",18),W()()),2&t&&(Ne(5),Ze("routerLink",Jr(3,_9e)),Ne(3),Ze("icon",i.faArrowRight),Ne(3),Ze("icon",i.faPlayCircle))},dependencies:[P3,z6],styles:["@font-face{font-family:IMPACT;src:url(IMPACT.1a7ecb646e1eba77.TTF)}@font-face{font-family:MavenPro-Regular;src:url(MavenPro-Regular.f5d986a9e3695a5d.ttf)}header[_ngcontent-%COMP%]{width:100%;margin:0 auto;position:relative;max-width:100%;scroll-snap-type:y mandatory}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:120vw!important;object-fit:cover}.mask[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffffd9}svg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;height:100%;scroll-snap-align:start}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-weight:700;text-transform:uppercase;font-size:4.5em;letter-spacing:-2px;text-align:center}svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#fff}svg[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]{-webkit-mask:url(#mask);mask:url(#mask);fill:#35373e}svg[_ngcontent-%COMP%] > text[_ngcontent-%COMP%]{fill:#000;width:100%}#header-text[_ngcontent-%COMP%]{transform-origin:center center;transition:transform .5s ease-out}.containerSubTitleProjectWord[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#2d2f35}.subTitleProjectWord[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;top:160px;left:calc(50% + 136px);z-index:2}.containerSubTitleProjectWord2[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#35373e;justify-content:flex-end}.subTitleProjectWord2[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;bottom:55px;right:calc(50% - 650px);z-index:2}.fixed-height[_ngcontent-%COMP%]{position:fixed;top:0}.playVideoButon[_ngcontent-%COMP%]{font-size:3em;color:#eeeef0;position:fixed;top:40%;left:50%;z-index:10;opacity:0;animation:_ngcontent-%COMP%_faAnimado 2s infinite}.diplayOn[_ngcontent-%COMP%]{opacity:1}.playVideoButon[_ngcontent-%COMP%]:hover{animation-play-state:paused;color:#35373e!important}@keyframes _ngcontent-%COMP%_faAnimado{0%{color:#eeeef0}50%{color:#00adb5}to{color:#eeeef0}}@media (max-width: 1550px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:130px;left:calc(50% + 110px)}.subTitleProjectWord2[_ngcontent-%COMP%]{position:relative;bottom:50px;right:calc(50% - 540px)}}@media (max-width: 845px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:280px;left:10px}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;font-size:1.6em!important;letter-spacing:-1px!important}.playVideoButon[_ngcontent-%COMP%]{display:none}.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:0}.containerMegavideoText[_ngcontent-%COMP%]{display:none}}"]}),n})();const x9e=function(){return["/contact"]};let hI=(()=>{class n{constructor(){this.faArrowUp=Rg}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-footer"]],decls:12,vars:3,consts:[[1,"footerTextContainer"],[1,"footerText","animatedBAckToTop"],[3,"click"],[1,"socialIcons","linkBGdark",3,"icon"],[1,"footerText"],["fragment","createProject",1,"linkBGdark",3,"routerLink"]],template:function(t,i){1&t&&(Z(0,"footer")(1,"div",0)(2,"div",1)(3,"a",2),S1("click",function(){return i.scrollToTop()}),ye(4,"fa-icon",3),W()(),Z(5,"div",4),Ve(6," Wanna get in touch or talk about a project? "),W(),Z(7,"div",4),Ve(8," Feel free to drop a line in the form at the "),Z(9,"a",5),Ve(10,"contact page"),W(),Ve(11,". "),W()()()),2&t&&(Ne(4),Ze("icon",i.faArrowUp),Ne(5),Ze("routerLink",Jr(2,x9e)))},dependencies:[P3,z6]}),n})();function dI(n,e,t,i,r,s,a){try{var o=n[s](a),c=o.value}catch(l){return void t(l)}o.done?e(c):Promise.resolve(c).then(i,r)}const mI=1,S9e=2,W4=3,vu=0,j9e=1,$9e=2,$4=0,q9e=1,Z9e=2,X9e=3,Y9e=4,J9e=5,la=301,ua=302,$8=306,Hn=1001,x2=1003,C2=1006,fa=1008,K3=1009,Q3=1014,q4=1015,q8=1016,ha=1020,nr=1023,da=1026,D6=1027,pa=3001,z1="srgb",o4="srgb-linear",eR="display-p3",tR="300 es",Z4=2e3;class I6{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}const dn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],va=Math.PI/180,R6=180/Math.PI;function Li(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(dn[255&n]+dn[n>>8&255]+dn[n>>16&255]+dn[n>>24&255]+"-"+dn[255&e]+dn[e>>8&255]+"-"+dn[e>>16&15|64]+dn[e>>24&255]+"-"+dn[63&t|128]+dn[t>>8&255]+"-"+dn[t>>16&255]+dn[t>>24&255]+dn[255&i]+dn[i>>8&255]+dn[i>>16&255]+dn[i>>24&255]).toLowerCase()}function t2(n,e,t){return Math.max(e,Math.min(t,n))}function Z8(n,e,t){return(1-t)*n+t*e}function Ry(n){return 0==(n&n-1)&&0!==n}function Eu(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function R1(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(t2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class O1{constructor(e,t,i,r,s,a,o,c,l){O1.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,a,o,c,l)}set(e,t,i,r,s,a,o,c,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=s,u[5]=c,u[6]=i,u[7]=a,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],c=i[6],l=i[1],u=i[4],f=i[7],h=i[2],d=i[5],p=i[8],m=r[0],g=r[3],v=r[6],M=r[1],x=r[4],C=r[7],b=r[2],A=r[5],E=r[8];return s[0]=a*m+o*M+c*b,s[3]=a*g+o*x+c*A,s[6]=a*v+o*C+c*E,s[1]=l*m+u*M+f*b,s[4]=l*g+u*x+f*A,s[7]=l*v+u*C+f*E,s[2]=h*m+d*M+p*b,s[5]=h*g+d*x+p*A,s[8]=h*v+d*C+p*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-i*s*u+i*o*c+r*s*l-r*a*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8],f=u*a-o*l,h=o*c-u*s,d=l*s-a*c,p=t*f+i*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=f*m,e[1]=(r*l-u*i)*m,e[2]=(o*i-r*a)*m,e[3]=h*m,e[4]=(u*t-r*c)*m,e[5]=(r*s-o*t)*m,e[6]=d*m,e[7]=(i*c-l*t)*m,e[8]=(a*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*a+l*o)+a+e,-r*l,r*c,-r*(-l*a+c*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(Py.makeScale(e,t)),this}rotate(e){return this.premultiply(Py.makeRotation(-e)),this}translate(e,t){return this.premultiply(Py.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Py=new O1;function rR(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function X8(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const sR={};function Y8(n){n in sR||(sR[n]=!0,console.warn(n))}function H6(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Hy(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Hue=(new O1).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Vue=(new O1).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),kue={[o4]:n=>n,[z1]:n=>n.convertSRGBToLinear(),[eR]:function Oue(n){return n.convertSRGBToLinear().applyMatrix3(Vue)}},Uue={[o4]:n=>n,[z1]:n=>n.convertLinearToSRGB(),[eR]:function Fue(n){return n.applyMatrix3(Hue).convertLinearToSRGB()}},zr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return o4},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=kue[e],r=Uue[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let V6;class aR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===V6&&(V6=X8("canvas")),V6.width=e.width,V6.height=e.height;const i=V6.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=V6}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=X8("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=255*H6(s[a]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*H6(t[i]/255)):H6(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Bue=0;class O6{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Bue++}),this.uuid=Li(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)s.push(Vy(r[a].isDataTexture?r[a].image:r[a]))}else s=Vy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Vy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?aR.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Gue=0,c4=(()=>{class n extends I6{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Hn,s=Hn,a=C2,o=fa,c=nr,l=K3,u=n.DEFAULT_ANISOTROPY,f=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Gue++}),this.uuid=Li(),this.name="",this.source=new O6(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new O1,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof f?this.colorSpace=f:(Y8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===pa?z1:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Hn:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Hn:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Y8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===z1?pa:3e3}set encoding(t){Y8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===pa?z1:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class bt{constructor(e=0,t=0,i=0,r=1){bt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,l=c[0],u=c[4],f=c[8],h=c[1],d=c[5],p=c[9],m=c[2],g=c[6],v=c[10];if(Math.abs(u-h)<.01&&Math.abs(f-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+m)<.1&&Math.abs(p+g)<.1&&Math.abs(l+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(l+1)/2,C=(d+1)/2,b=(v+1)/2,A=(u+h)/4,E=(f+m)/4,D=(p+g)/4;return x>C&&x>b?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=A/i,s=E/i):C>b?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=A/r,s=D/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=E/s,r=D/s),this.set(i,r,s,t),this}let M=Math.sqrt((g-p)*(g-p)+(f-m)*(f-m)+(h-u)*(h-u));return Math.abs(M)<.001&&(M=1),this.x=(g-p)/M,this.y=(f-m)/M,this.z=(h-u)/M,this.w=Math.acos((l+d+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ya extends I6{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new bt(0,0,e,t),this.scissorTest=!1,this.viewport=new bt(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(Y8("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===pa?z1:""),this.texture=new c4(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:C2,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new O6(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Oy extends c4{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=Hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class oR extends c4{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=Hn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ii{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let c=i[r+0],l=i[r+1],u=i[r+2],f=i[r+3];const h=s[a+0],d=s[a+1],p=s[a+2],m=s[a+3];if(0===o)return e[t+0]=c,e[t+1]=l,e[t+2]=u,void(e[t+3]=f);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=m);if(f!==m||c!==h||l!==d||u!==p){let g=1-o;const v=c*h+l*d+u*p+f*m,M=v>=0?1:-1,x=1-v*v;if(x>Number.EPSILON){const b=Math.sqrt(x),A=Math.atan2(b,v*M);g=Math.sin(g*A)/b,o=Math.sin(o*A)/b}const C=o*M;if(c=c*g+h*C,l=l*g+d*C,u=u*g+p*C,f=f*g+m*C,g===1-o){const b=1/Math.sqrt(c*c+l*l+u*u+f*f);c*=b,l*=b,u*=b,f*=b}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],c=i[r+1],l=i[r+2],u=i[r+3],f=s[a],h=s[a+1],d=s[a+2],p=s[a+3];return e[t]=o*p+u*f+c*d-l*h,e[t+1]=c*p+u*h+l*f-o*d,e[t+2]=l*p+u*d+o*h-c*f,e[t+3]=u*p-o*f-c*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,c=Math.sin,l=o(i/2),u=o(r/2),f=o(s/2),h=c(i/2),d=c(r/2),p=c(s/2);switch(a){case"XYZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"YXZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"ZXY":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"ZYX":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"YZX":this._x=h*u*f+l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f-h*d*p;break;case"XZY":this._x=h*u*f-l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],c=t[9],l=t[2],u=t[6],f=t[10],h=i+o+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-c)*d,this._y=(s-l)*d,this._z=(a-r)*d}else if(i>o&&i>f){const d=2*Math.sqrt(1+i-o-f);this._w=(u-c)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(s+l)/d}else if(o>f){const d=2*Math.sqrt(1+o-i-f);this._w=(s-l)/d,this._x=(r+a)/d,this._y=.25*d,this._z=(c+u)/d}else{const d=2*Math.sqrt(1+f-i-o);this._w=(a-r)/d,this._x=(s+l)/d,this._y=(c+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(t2(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,c=t._y,l=t._z,u=t._w;return this._x=i*u+a*o+r*l-s*c,this._y=r*u+a*c+s*o-i*l,this._z=s*u+a*l+i*c-r*o,this._w=a*u-i*o-r*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const c=1-o*o;if(c<=Number.EPSILON){const d=1-t;return this._w=d*a+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,o),f=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=a*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(cR.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(cR.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,c=e.w,l=c*t+a*r-o*i,u=c*i+o*t-s*r,f=c*r+s*i-a*t,h=-s*t-a*i-o*r;return this.x=l*c+h*-s+u*-o-f*-a,this.y=u*c+h*-a+f*-s-l*-o,this.z=f*c+h*-o+l*-a-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,c=t.z;return this.x=r*c-s*o,this.y=s*a-i*c,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Fy.copy(this).projectOnVector(e),this.sub(Fy)}reflect(e){return this.sub(Fy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(t2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Fy=new N,cR=new Ii;class X4{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(J4.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(J4.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=J4.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),F6.copy(e.boundingBox),F6.applyMatrix4(e.matrixWorld),this.union(F6);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let a=0,o=s.count;a<o;a++)J4.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(J4)}else null===r.boundingBox&&r.computeBoundingBox(),F6.copy(r.boundingBox),F6.applyMatrix4(e.matrixWorld),this.union(F6)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,J4),J4.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(J8),Tu.subVectors(this.max,J8),k6.subVectors(e.a,J8),U6.subVectors(e.b,J8),B6.subVectors(e.c,J8),es.subVectors(U6,k6),ts.subVectors(B6,U6),_a.subVectors(k6,B6);let t=[0,-es.z,es.y,0,-ts.z,ts.y,0,-_a.z,_a.y,es.z,0,-es.x,ts.z,0,-ts.x,_a.z,0,-_a.x,-es.y,es.x,0,-ts.y,ts.x,0,-_a.y,_a.x,0];return!(!ky(t,k6,U6,B6,Tu)||(t=[1,0,0,0,1,0,0,0,1],!ky(t,k6,U6,B6,Tu)))&&(Du.crossVectors(es,ts),t=[Du.x,Du.y,Du.z],ky(t,k6,U6,B6,Tu))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,J4).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(J4).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Y4[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Y4[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Y4[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Y4[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Y4[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Y4[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Y4[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Y4[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Y4)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Y4=[new N,new N,new N,new N,new N,new N,new N,new N],J4=new N,F6=new X4,k6=new N,U6=new N,B6=new N,es=new N,ts=new N,_a=new N,J8=new N,Tu=new N,Du=new N,Ma=new N;function ky(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){Ma.fromArray(n,s);const o=r.x*Math.abs(Ma.x)+r.y*Math.abs(Ma.y)+r.z*Math.abs(Ma.z),c=e.dot(Ma),l=t.dot(Ma),u=i.dot(Ma);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>o)return!1}return!0}const Wue=new X4,K8=new N,Uy=new N;class l4{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Wue.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;K8.subVectors(e,this.center);const t=K8.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(K8,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Uy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(K8.copy(e.center).add(Uy)),this.expandByPoint(K8.copy(e.center).sub(Uy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const K4=new N,By=new N,Lu=new N,ns=new N,Gy=new N,Nu=new N,Wy=new N;class Q8{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,K4)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=K4.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(K4.copy(this.origin).addScaledVector(this.direction,t),K4.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){By.copy(e).add(t).multiplyScalar(.5),Lu.copy(t).sub(e).normalize(),ns.copy(this.origin).sub(By);const s=.5*e.distanceTo(t),a=-this.direction.dot(Lu),o=ns.dot(this.direction),c=-ns.dot(Lu),l=ns.lengthSq(),u=Math.abs(1-a*a);let f,h,d,p;if(u>0)if(f=a*c-o,h=a*o-c,p=s*u,f>=0)if(h>=-p)if(h<=p){const m=1/u;f*=m,h*=m,d=f*(f+a*h+2*o)+h*(a*f+h+2*c)+l}else h=s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;else h=-s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;else h<=-p?(f=Math.max(0,-(-a*s+o)),h=f>0?-s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l):h<=p?(f=0,h=Math.min(Math.max(-s,-c),s),d=h*(h+2*c)+l):(f=Math.max(0,-(a*s+o)),h=f>0?s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l);else h=a>0?-s:s,f=Math.max(0,-(a*h+o)),d=-f*f+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(By).addScaledVector(Lu,h),d}intersectSphere(e,t){K4.subVectors(e.center,this.origin);const i=K4.dot(this.direction),r=K4.dot(K4)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,c=i+a;return c<0?null:this.at(o<0?c:o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,c;const l=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(s=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),f>=0?(o=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(o=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),i>c||o>r)||((o>i||i!=i)&&(i=o),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,K4)}intersectTriangle(e,t,i,r,s){Gy.subVectors(t,e),Nu.subVectors(i,e),Wy.crossVectors(Gy,Nu);let o,a=this.direction.dot(Wy);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}ns.subVectors(this.origin,e);const c=o*this.direction.dot(Nu.crossVectors(ns,Nu));if(c<0)return null;const l=o*this.direction.dot(Gy.cross(ns));if(l<0||c+l>a)return null;const u=-o*ns.dot(Wy);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class E1{constructor(e,t,i,r,s,a,o,c,l,u,f,h,d,p,m,g){E1.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,a,o,c,l,u,f,h,d,p,m,g)}set(e,t,i,r,s,a,o,c,l,u,f,h,d,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=a,v[9]=o,v[13]=c,v[2]=l,v[6]=u,v[10]=f,v[14]=h,v[3]=d,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new E1).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/G6.setFromMatrixColumn(e,0).length(),s=1/G6.setFromMatrixColumn(e,1).length(),a=1/G6.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),c=Math.cos(r),l=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if("XYZ"===e.order){const h=a*u,d=a*f,p=o*u,m=o*f;t[0]=c*u,t[4]=-c*f,t[8]=l,t[1]=d+p*l,t[5]=h-m*l,t[9]=-o*c,t[2]=m-h*l,t[6]=p+d*l,t[10]=a*c}else if("YXZ"===e.order){const h=c*u,d=c*f,p=l*u,m=l*f;t[0]=h+m*o,t[4]=p*o-d,t[8]=a*l,t[1]=a*f,t[5]=a*u,t[9]=-o,t[2]=d*o-p,t[6]=m+h*o,t[10]=a*c}else if("ZXY"===e.order){const h=c*u,d=c*f,p=l*u,m=l*f;t[0]=h-m*o,t[4]=-a*f,t[8]=p+d*o,t[1]=d+p*o,t[5]=a*u,t[9]=m-h*o,t[2]=-a*l,t[6]=o,t[10]=a*c}else if("ZYX"===e.order){const h=a*u,d=a*f,p=o*u,m=o*f;t[0]=c*u,t[4]=p*l-d,t[8]=h*l+m,t[1]=c*f,t[5]=m*l+h,t[9]=d*l-p,t[2]=-l,t[6]=o*c,t[10]=a*c}else if("YZX"===e.order){const h=a*c,d=a*l,p=o*c,m=o*l;t[0]=c*u,t[4]=m-h*f,t[8]=p*f+d,t[1]=f,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=d*f+p,t[10]=h-m*f}else if("XZY"===e.order){const h=a*c,d=a*l,p=o*c,m=o*l;t[0]=c*u,t[4]=-f,t[8]=l*u,t[1]=h*f+m,t[5]=a*u,t[9]=d*f-p,t[2]=p*f-d,t[6]=o*u,t[10]=m*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(jue,e,$ue)}lookAt(e,t,i){const r=this.elements;return Ri.subVectors(e,t),0===Ri.lengthSq()&&(Ri.z=1),Ri.normalize(),is.crossVectors(i,Ri),0===is.lengthSq()&&(1===Math.abs(i.z)?Ri.x+=1e-4:Ri.z+=1e-4,Ri.normalize(),is.crossVectors(i,Ri)),is.normalize(),Iu.crossVectors(Ri,is),r[0]=is.x,r[4]=Iu.x,r[8]=Ri.x,r[1]=is.y,r[5]=Iu.y,r[9]=Ri.y,r[2]=is.z,r[6]=Iu.z,r[10]=Ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],c=i[8],l=i[12],u=i[1],f=i[5],h=i[9],d=i[13],p=i[2],m=i[6],g=i[10],v=i[14],M=i[3],x=i[7],C=i[11],b=i[15],A=r[0],E=r[4],D=r[8],S=r[12],z=r[1],F=r[5],q=r[9],U=r[13],O=r[2],G=r[6],ne=r[10],X=r[14],J=r[3],oe=r[7],I=r[11],B=r[15];return s[0]=a*A+o*z+c*O+l*J,s[4]=a*E+o*F+c*G+l*oe,s[8]=a*D+o*q+c*ne+l*I,s[12]=a*S+o*U+c*X+l*B,s[1]=u*A+f*z+h*O+d*J,s[5]=u*E+f*F+h*G+d*oe,s[9]=u*D+f*q+h*ne+d*I,s[13]=u*S+f*U+h*X+d*B,s[2]=p*A+m*z+g*O+v*J,s[6]=p*E+m*F+g*G+v*oe,s[10]=p*D+m*q+g*ne+v*I,s[14]=p*S+m*U+g*X+v*B,s[3]=M*A+x*z+C*O+b*J,s[7]=M*E+x*F+C*G+b*oe,s[11]=M*D+x*q+C*ne+b*I,s[15]=M*S+x*U+C*X+b*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],c=e[9],l=e[13],u=e[2],f=e[6],h=e[10],d=e[14];return e[3]*(+s*c*f-r*l*f-s*o*h+i*l*h+r*o*d-i*c*d)+e[7]*(+t*c*d-t*l*h+s*a*h-r*a*d+r*l*u-s*c*u)+e[11]*(+t*l*f-t*o*d-s*a*f+i*a*d+s*o*u-i*l*u)+e[15]*(-r*o*u-t*c*f+t*o*h+r*a*f-i*a*h+i*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],M=f*g*l-m*h*l+m*c*d-o*g*d-f*c*v+o*h*v,x=p*h*l-u*g*l-p*c*d+a*g*d+u*c*v-a*h*v,C=u*m*l-p*f*l+p*o*d-a*m*d-u*o*v+a*f*v,b=p*f*c-u*m*c-p*o*h+a*m*h+u*o*g-a*f*g,A=t*M+i*x+r*C+s*b;if(0===A)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return e[0]=M*E,e[1]=(m*h*s-f*g*s-m*r*d+i*g*d+f*r*v-i*h*v)*E,e[2]=(o*g*s-m*c*s+m*r*l-i*g*l-o*r*v+i*c*v)*E,e[3]=(f*c*s-o*h*s-f*r*l+i*h*l+o*r*d-i*c*d)*E,e[4]=x*E,e[5]=(u*g*s-p*h*s+p*r*d-t*g*d-u*r*v+t*h*v)*E,e[6]=(p*c*s-a*g*s-p*r*l+t*g*l+a*r*v-t*c*v)*E,e[7]=(a*h*s-u*c*s+u*r*l-t*h*l-a*r*d+t*c*d)*E,e[8]=C*E,e[9]=(p*f*s-u*m*s-p*i*d+t*m*d+u*i*v-t*f*v)*E,e[10]=(a*m*s-p*o*s+p*i*l-t*m*l-a*i*v+t*o*v)*E,e[11]=(u*o*s-a*f*s-u*i*l+t*f*l+a*i*d-t*o*d)*E,e[12]=b*E,e[13]=(u*m*r-p*f*r+p*i*h-t*m*h-u*i*g+t*f*g)*E,e[14]=(p*o*r-a*m*r-p*i*c+t*m*c+a*i*g-t*o*g)*E,e[15]=(a*f*r-u*o*r+u*i*c-t*f*c-a*i*h+t*o*h)*E,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,c=e.z,l=s*a,u=s*o;return this.set(l*a+i,l*o-r*c,l*c+r*o,0,l*o+r*c,u*o+i,u*c-r*a,0,l*c-r*o,u*c+r*a,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,c=t._w,l=s+s,u=a+a,f=o+o,h=s*l,d=s*u,p=s*f,m=a*u,g=a*f,v=o*f,M=c*l,x=c*u,C=c*f,b=i.x,A=i.y,E=i.z;return r[0]=(1-(m+v))*b,r[1]=(d+C)*b,r[2]=(p-x)*b,r[3]=0,r[4]=(d-C)*A,r[5]=(1-(h+v))*A,r[6]=(g+M)*A,r[7]=0,r[8]=(p+x)*E,r[9]=(g-M)*E,r[10]=(1-(h+m))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=G6.set(r[0],r[1],r[2]).length();const a=G6.set(r[4],r[5],r[6]).length(),o=G6.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Er.copy(this);const l=1/s,u=1/a,f=1/o;return Er.elements[0]*=l,Er.elements[1]*=l,Er.elements[2]*=l,Er.elements[4]*=u,Er.elements[5]*=u,Er.elements[6]*=u,Er.elements[8]*=f,Er.elements[9]*=f,Er.elements[10]*=f,t.setFromRotationMatrix(Er),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=Z4){const c=this.elements,l=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r);let d,p;if(o===Z4)d=-(a+s)/(a-s),p=-2*a*s/(a-s);else{if(2001!==o)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);d=-a/(a-s),p=-a*s/(a-s)}return c[0]=l,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=u,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=d,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=Z4){const c=this.elements,l=1/(t-e),u=1/(i-r),f=1/(a-s),h=(t+e)*l,d=(i+r)*u;let p,m;if(o===Z4)p=(a+s)*f,m=-2*f;else{if(2001!==o)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);p=s*f,m=-1*f}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-d,c[2]=0,c[6]=0,c[10]=m,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const G6=new N,Er=new E1,jue=new N(0,0,0),$ue=new N(1,1,1),is=new N,Iu=new N,Ri=new N,lR=new E1,uR=new Ii;let que=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,a=s[0],o=s[4],c=s[8],l=s[1],u=s[5],f=s[9],h=s[2],d=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(t2(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-t2(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(t2(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-t2(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(t2(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-t2(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-f,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return lR.makeRotationFromQuaternion(t),this.setFromRotationMatrix(lR,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return uR.setFromEuler(this),this.setFromQuaternion(uR,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class jy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Zue=0;const fR=new N,W6=new Ii,Q4=new E1,Ru=new N,e5=new N,Xue=new N,Yue=new Ii,hR=new N(1,0,0),dR=new N(0,1,0),pR=new N(0,0,1),Jue={type:"added"},mR={type:"removed"};let Pi=(()=>{class n extends I6{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Zue++}),this.uuid=Li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new N,i=new que,r=new Ii,s=new N(1,1,1);i._onChange(function a(){r.setFromEuler(i,!1)}),r._onChange(function o(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new E1},normalMatrix:{value:new O1}}),this.matrix=new E1,this.matrixWorld=new E1,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new jy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return W6.setFromAxisAngle(t,i),this.quaternion.multiply(W6),this}rotateOnWorldAxis(t,i){return W6.setFromAxisAngle(t,i),this.quaternion.premultiply(W6),this}rotateX(t){return this.rotateOnAxis(hR,t)}rotateY(t){return this.rotateOnAxis(dR,t)}rotateZ(t){return this.rotateOnAxis(pR,t)}translateOnAxis(t,i){return fR.copy(t).applyQuaternion(this.quaternion),this.position.add(fR.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(hR,t)}translateY(t){return this.translateOnAxis(dR,t)}translateZ(t){return this.translateOnAxis(pR,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Q4.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?Ru.copy(t):Ru.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),e5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Q4.lookAt(e5,Ru,this.up):Q4.lookAt(Ru,e5,this.up),this.quaternion.setFromRotationMatrix(Q4),s&&(Q4.extractRotation(s.matrixWorld),W6.setFromRotationMatrix(Q4),this.quaternion.premultiply(W6.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Jue)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(mR)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(mR)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Q4.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Q4.multiply(t.parent.matrixWorld)),t.applyMatrix4(Q4),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(t,i);if(void 0!==o)return o}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,a=this.children.length;s<a;s++){const o=this.children[s].getObjectsByProperty(t,i);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(e5,t,Xue),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(e5,Yue,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const a=i[r];(!0===a.matrixWorldAutoUpdate||!0===t)&&a.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let a=0,o=s.length;a<o;a++){const c=s[a];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function a(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++)a(t.shapes,l[u]);else a(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(a(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(a(t.materials,this.material[l]));s.material=c}else s.material=a(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(a(t.animations,this.animations[c]))}if(i){const c=o(t.geometries),l=o(t.materials),u=o(t.textures),f=o(t.images),h=o(t.shapes),d=o(t.skeletons),p=o(t.animations),m=o(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function o(c){const l=[];for(const u in c){const f=c[u];delete f.metadata,l.push(f)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new N(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Tr=new N,e3=new N,$y=new N,t3=new N,j6=new N,$6=new N,gR=new N,qy=new N,Zy=new N,Xy=new N;let Pu=!1;class Hi{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Tr.subVectors(e,t),r.cross(Tr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Tr.subVectors(r,t),e3.subVectors(i,t),$y.subVectors(e,t);const a=Tr.dot(Tr),o=Tr.dot(e3),c=Tr.dot($y),l=e3.dot(e3),u=e3.dot($y),f=a*l-o*o;if(0===f)return s.set(-2,-1,-1);const h=1/f,d=(l*c-o*u)*h,p=(a*u-o*c)*h;return s.set(1-d-p,p,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,t3),t3.x>=0&&t3.y>=0&&t3.x+t3.y<=1}static getUV(e,t,i,r,s,a,o,c){return!1===Pu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pu=!0),this.getInterpolation(e,t,i,r,s,a,o,c)}static getInterpolation(e,t,i,r,s,a,o,c){return this.getBarycoord(e,t,i,r,t3),c.setScalar(0),c.addScaledVector(s,t3.x),c.addScaledVector(a,t3.y),c.addScaledVector(o,t3.z),c}static isFrontFacing(e,t,i,r){return Tr.subVectors(i,t),e3.subVectors(e,t),Tr.cross(e3).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Tr.subVectors(this.c,this.b),e3.subVectors(this.a,this.b),.5*Tr.cross(e3).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Hi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===Pu&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Pu=!0),Hi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Hi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Hi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;j6.subVectors(r,i),$6.subVectors(s,i),qy.subVectors(e,i);const c=j6.dot(qy),l=$6.dot(qy);if(c<=0&&l<=0)return t.copy(i);Zy.subVectors(e,r);const u=j6.dot(Zy),f=$6.dot(Zy);if(u>=0&&f<=u)return t.copy(r);const h=c*f-u*l;if(h<=0&&c>=0&&u<=0)return a=c/(c-u),t.copy(i).addScaledVector(j6,a);Xy.subVectors(e,s);const d=j6.dot(Xy),p=$6.dot(Xy);if(p>=0&&d<=p)return t.copy(s);const m=d*l-c*p;if(m<=0&&l>=0&&p<=0)return o=l/(l-p),t.copy(i).addScaledVector($6,o);const g=u*p-d*f;if(g<=0&&f-u>=0&&d-p>=0)return gR.subVectors(s,r),o=(f-u)/(f-u+(d-p)),t.copy(r).addScaledVector(gR,o);const v=1/(g+m+h);return a=m*v,o=h*v,t.copy(i).addScaledVector(j6,a).addScaledVector($6,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Kue=0;class q6 extends I6{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Kue++}),this.uuid=Li(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const a=[];for(const o in s){const c=s[o];delete c.metadata,a.push(c)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const vR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Dr={h:0,s:0,l:0},Hu={h:0,s:0,l:0};function Yy(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Oe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=z1){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,zr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=zr.workingColorSpace){return this.r=e,this.g=t,this.b=i,zr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=zr.workingColorSpace){if(e=function Iy(n,e){return(n%e+e)%e}(e,1),t=t2(t,0,1),i=t2(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=Yy(a,s,e+1/3),this.g=Yy(a,s,e),this.b=Yy(a,s,e-1/3)}return zr.toWorkingColorSpace(this,r),this}setStyle(e,t=z1){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(3===a)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===a)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=z1){const i=vR[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=H6(e.r),this.g=H6(e.g),this.b=H6(e.b),this}copyLinearToSRGB(e){return this.r=Hy(e.r),this.g=Hy(e.g),this.b=Hy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=z1){return zr.fromWorkingColorSpace(pn.copy(this),e),65536*Math.round(t2(255*pn.r,0,255))+256*Math.round(t2(255*pn.g,0,255))+Math.round(t2(255*pn.b,0,255))}getHexString(e=z1){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=zr.workingColorSpace){zr.fromWorkingColorSpace(pn.copy(this),t);const i=pn.r,r=pn.g,s=pn.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let c,l;const u=(o+a)/2;if(o===a)c=0,l=0;else{const f=a-o;switch(l=u<=.5?f/(a+o):f/(2-a-o),a){case i:c=(r-s)/f+(r<s?6:0);break;case r:c=(s-i)/f+2;break;case s:c=(i-r)/f+4}c/=6}return e.h=c,e.s=l,e.l=u,e}getRGB(e,t=zr.workingColorSpace){return zr.fromWorkingColorSpace(pn.copy(this),t),e.r=pn.r,e.g=pn.g,e.b=pn.b,e}getStyle(e=z1){zr.fromWorkingColorSpace(pn.copy(this),e);const t=pn.r,i=pn.g,r=pn.b;return e!==z1?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Dr),Dr.h+=e,Dr.s+=t,Dr.l+=i,this.setHSL(Dr.h,Dr.s,Dr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Dr),e.getHSL(Hu);const i=Z8(Dr.h,Hu.h,t),r=Z8(Dr.s,Hu.s,t),s=Z8(Dr.l,Hu.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const pn=new Oe;Oe.NAMES=vR;class rs extends q6{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Oe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=vu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const b2=new N,Vu=new pe;class k2{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=q4,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Vu.fromBufferAttribute(this,t),Vu.applyMatrix3(e),this.setXY(t,Vu.x,Vu.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix3(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix4(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyNormalMatrix(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.transformDirection(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=R1(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=R1(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=R1(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=R1(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=R1(t,this.array),i=R1(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=R1(t,this.array),i=R1(i,this.array),r=R1(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=R1(t,this.array),i=R1(i,this.array),r=R1(r,this.array),s=R1(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class yR extends k2{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class _R extends k2{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Ke extends k2{constructor(e,t,i){super(new Float32Array(e),t,i)}}let efe=0;const ir=new E1,Jy=new Pi,Z6=new N,Vi=new X4,n5=new X4,U2=new N;class F1 extends I6{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:efe++}),this.uuid=Li(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(rR(e)?_R:yR)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new O1).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ir.makeRotationFromQuaternion(e),this.applyMatrix4(ir),this}rotateX(e){return ir.makeRotationX(e),this.applyMatrix4(ir),this}rotateY(e){return ir.makeRotationY(e),this.applyMatrix4(ir),this}rotateZ(e){return ir.makeRotationZ(e),this.applyMatrix4(ir),this}translate(e,t,i){return ir.makeTranslation(e,t,i),this.applyMatrix4(ir),this}scale(e,t,i){return ir.makeScale(e,t,i),this.applyMatrix4(ir),this}lookAt(e){return Jy.lookAt(e),Jy.updateMatrix(),this.applyMatrix4(Jy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Z6).negate(),this.translate(Z6.x,Z6.y,Z6.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new X4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Vi.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(U2.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(U2),U2.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(U2)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new l4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new N,1/0);if(e){const i=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++)n5.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(U2.addVectors(Vi.min,n5.min),Vi.expandByPoint(U2),U2.addVectors(Vi.max,n5.max),Vi.expandByPoint(U2)):(Vi.expandByPoint(n5.min),Vi.expandByPoint(n5.max));Vi.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)U2.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(U2));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],c=this.morphTargetsRelative;for(let l=0,u=o.count;l<u;l++)U2.fromBufferAttribute(o,l),c&&(Z6.fromBufferAttribute(e,l),U2.add(Z6)),r=Math.max(r,i.distanceToSquared(U2))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new k2(new Float32Array(4*o),4));const c=this.getAttribute("tangent").array,l=[],u=[];for(let z=0;z<o;z++)l[z]=new N,u[z]=new N;const f=new N,h=new N,d=new N,p=new pe,m=new pe,g=new pe,v=new N,M=new N;function x(z,F,q){f.fromArray(r,3*z),h.fromArray(r,3*F),d.fromArray(r,3*q),p.fromArray(a,2*z),m.fromArray(a,2*F),g.fromArray(a,2*q),h.sub(f),d.sub(f),m.sub(p),g.sub(p);const U=1/(m.x*g.y-g.x*m.y);isFinite(U)&&(v.copy(h).multiplyScalar(g.y).addScaledVector(d,-m.y).multiplyScalar(U),M.copy(d).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(U),l[z].add(v),l[F].add(v),l[q].add(v),u[z].add(M),u[F].add(M),u[q].add(M))}let C=this.groups;0===C.length&&(C=[{start:0,count:i.length}]);for(let z=0,F=C.length;z<F;++z){const q=C[z],U=q.start;for(let G=U,ne=U+q.count;G<ne;G+=3)x(i[G+0],i[G+1],i[G+2])}const b=new N,A=new N,E=new N,D=new N;function S(z){E.fromArray(s,3*z),D.copy(E);const F=l[z];b.copy(F),b.sub(E.multiplyScalar(E.dot(F))).normalize(),A.crossVectors(D,F);const U=A.dot(u[z])<0?-1:1;c[4*z]=b.x,c[4*z+1]=b.y,c[4*z+2]=b.z,c[4*z+3]=U}for(let z=0,F=C.length;z<F;++z){const q=C[z],U=q.start;for(let G=U,ne=U+q.count;G<ne;G+=3)S(i[G+0]),S(i[G+1]),S(i[G+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new k2(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new N,s=new N,a=new N,o=new N,c=new N,l=new N,u=new N,f=new N;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),a.fromBufferAttribute(t,g),u.subVectors(a,s),f.subVectors(r,s),u.cross(f),o.fromBufferAttribute(i,p),c.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),o.add(u),c.add(u),l.add(u),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(m,c.x,c.y,c.z),i.setXYZ(g,l.x,l.y,l.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),a.fromBufferAttribute(t,h+2),u.subVectors(a,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)U2.fromBufferAttribute(e,t),U2.normalize(),e.setXYZ(t,U2.x,U2.y,U2.z)}toNonIndexed(){function e(o,c){const l=o.array,u=o.itemSize,f=o.normalized,h=new l.constructor(c.length*u);let d=0,p=0;for(let m=0,g=c.length;m<g;m++){d=o.isInterleavedBufferAttribute?c[m]*o.data.stride+o.offset:c[m]*u;for(let v=0;v<u;v++)h[p++]=l[d++]}return new k2(h,u,f)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new F1,i=this.index.array,r=this.attributes;for(const o in r){const l=e(r[o],i);t.setAttribute(o,l)}const s=this.morphAttributes;for(const o in s){const c=[],l=s[o];for(let u=0,f=l.length;u<f;u++){const d=e(l[u],i);c.push(d)}t.morphAttributes[o]=c}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,c=a.length;o<c;o++){const l=a[o];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let f=0,h=l.length;f<h;f++)u.push(l[f].toJSON(e.data));u.length>0&&(r[c]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const u=[],f=s[l];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,u=a.length;l<u;l++){const f=a[l];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const MR=new E1,xa=new Q8,Ou=new l4,xR=new N,X6=new N,Y6=new N,J6=new N,Ky=new N,Fu=new N,ku=new pe,Uu=new pe,Bu=new pe,CR=new N,bR=new N,wR=new N,Gu=new N,Wu=new N;class li extends Pi{constructor(e=new F1,t=new rs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const o=this.morphTargetInfluences;if(s&&o){Fu.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const u=o[c];0!==u&&(Ky.fromBufferAttribute(s[c],e),Fu.addScaledVector(a?Ky:Ky.sub(t),u))}t.add(Fu)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Ou.copy(i.boundingSphere),Ou.applyMatrix4(s),xa.copy(e.ray).recast(e.near),(!1!==Ou.containsPoint(xa.origin)||!(null===xa.intersectSphere(Ou,xR)||xa.origin.distanceToSquared(xR)>(e.far-e.near)**2))&&(MR.copy(s).invert(),xa.copy(e.ray).applyMatrix4(MR),(null===i.boundingBox||!1!==xa.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,xa)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,c=s.attributes.position,l=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(null!==o)if(Array.isArray(a))for(let p=0,m=h.length;p<m;p++){const g=h[p],v=a[g.materialIndex];for(let C=Math.max(g.start,d.start),b=Math.min(o.count,Math.min(g.start+g.count,d.start+d.count));C<b;C+=3)r=ju(this,v,e,i,l,u,f,o.getX(C),o.getX(C+1),o.getX(C+2)),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,d.start),v=Math.min(o.count,d.start+d.count);g<v;g+=3)r=ju(this,a,e,i,l,u,f,o.getX(g),o.getX(g+1),o.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),t.push(r));else if(void 0!==c)if(Array.isArray(a))for(let p=0,m=h.length;p<m;p++){const g=h[p],v=a[g.materialIndex];for(let C=Math.max(g.start,d.start),b=Math.min(c.count,Math.min(g.start+g.count,d.start+d.count));C<b;C+=3)r=ju(this,v,e,i,l,u,f,C,C+1,C+2),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,d.start),v=Math.min(c.count,d.start+d.count);g<v;g+=3)r=ju(this,a,e,i,l,u,f,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}function ju(n,e,t,i,r,s,a,o,c,l){n.getVertexPosition(o,X6),n.getVertexPosition(c,Y6),n.getVertexPosition(l,J6);const u=function tfe(n,e,t,i,r,s,a,o){let c;if(c=1===e.side?i.intersectTriangle(a,s,r,!0,o):i.intersectTriangle(r,s,a,0===e.side,o),null===c)return null;Wu.copy(o),Wu.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(Wu);return l<t.near||l>t.far?null:{distance:l,point:Wu.clone(),object:n}}(n,e,t,i,X6,Y6,J6,Gu);if(u){r&&(ku.fromBufferAttribute(r,o),Uu.fromBufferAttribute(r,c),Bu.fromBufferAttribute(r,l),u.uv=Hi.getInterpolation(Gu,X6,Y6,J6,ku,Uu,Bu,new pe)),s&&(ku.fromBufferAttribute(s,o),Uu.fromBufferAttribute(s,c),Bu.fromBufferAttribute(s,l),u.uv1=Hi.getInterpolation(Gu,X6,Y6,J6,ku,Uu,Bu,new pe),u.uv2=u.uv1),a&&(CR.fromBufferAttribute(a,o),bR.fromBufferAttribute(a,c),wR.fromBufferAttribute(a,l),u.normal=Hi.getInterpolation(Gu,X6,Y6,J6,CR,bR,wR,new N),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:c,c:l,normal:new N,materialIndex:0};Hi.getNormal(X6,Y6,J6,f.normal),u.face=f}return u}class K6 extends F1{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const c=[],l=[],u=[],f=[];let h=0,d=0;function p(m,g,v,M,x,C,b,A,E,D,S){const z=C/E,F=b/D,q=C/2,U=b/2,O=A/2,G=E+1,ne=D+1;let X=0,J=0;const oe=new N;for(let I=0;I<ne;I++){const B=I*F-U;for(let ce=0;ce<G;ce++)oe[m]=(ce*z-q)*M,oe[g]=B*x,oe[v]=O,l.push(oe.x,oe.y,oe.z),oe[m]=0,oe[g]=0,oe[v]=A>0?1:-1,u.push(oe.x,oe.y,oe.z),f.push(ce/E),f.push(1-I/D),X+=1}for(let I=0;I<D;I++)for(let B=0;B<E;B++){const xe=h+B+G*(I+1),_e=h+(B+1)+G*(I+1),Ce=h+(B+1)+G*I;c.push(h+B+G*I,xe,Ce),c.push(xe,_e,Ce),J+=6}o.addGroup(d,J,S),d+=J,h+=X}p("z","y","x",-1,-1,i,t,e,a,s,0),p("z","y","x",1,-1,i,t,-e,a,s,1),p("x","z","y",1,1,e,i,t,r,a,2),p("x","z","y",1,-1,e,i,-t,r,a,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(u,3)),this.setAttribute("uv",new Ke(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K6(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Q6(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Vn(n){const e={};for(let t=0;t<n.length;t++){const i=Q6(n[t]);for(const r in i)e[r]=i[r]}return e}function SR(n){return null===n.getRenderTarget()?n.outputColorSpace:o4}const ife={clone:Q6,merge:Vn};class i3 extends q6{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Q6(e.uniforms),this.uniformsGroups=function nfe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;t.uniforms[r]=a&&a.isTexture?{type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class Qy extends Pi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new E1,this.projectionMatrix=new E1,this.projectionMatrixInverse=new E1,this.coordinateSystem=Z4}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class B2 extends Qy{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*R6*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*va*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*R6*Math.atan(Math.tan(.5*va*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*va*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const c=a.fullWidth,l=a.fullHeight;s+=a.offsetX*r/c,t-=a.offsetY*i/l,r*=a.width/c,i*=a.height/l}const o=this.filmOffset;0!==o&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class afe extends Pi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new B2(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new B2(-90,1,e,t);s.layers=this.layers,this.add(s);const a=new B2(-90,1,e,t);a.layers=this.layers,this.add(a);const o=new B2(-90,1,e,t);o.layers=this.layers,this.add(o);const c=new B2(-90,1,e,t);c.layers=this.layers,this.add(c);const l=new B2(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,c]=t;for(const l of t)this.remove(l);if(e===Z4)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,a,o,c,l]=this.children,u=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=$4,e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,a),e.setRenderTarget(i,3),e.render(t,o),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class $u extends c4{constructor(e,t,i,r,s,a,o,c,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:la,i,r,s,a,o,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ofe extends ya{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(Y8("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===pa?z1:""),this.texture=new $u(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:C2}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new K6(5,5,5),s=new i3({name:"CubemapFromEquirect",uniforms:Q6(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const a=new li(r,s),o=t.minFilter;return t.minFilter===fa&&(t.minFilter=C2),new afe(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}const e_=new N,cfe=new N,lfe=new O1;class Ca{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=e_.subVectors(i,t).cross(cfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(e_),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||lfe.getNormalMatrix(e),r=this.coplanarPoint(e_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ba=new l4,qu=new N;class t_{constructor(e=new Ca,t=new Ca,i=new Ca,r=new Ca,s=new Ca,a=new Ca){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Z4){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],c=r[3],l=r[4],u=r[5],f=r[6],h=r[7],d=r[8],p=r[9],m=r[10],g=r[11],v=r[12],M=r[13],x=r[14],C=r[15];if(i[0].setComponents(c-s,h-l,g-d,C-v).normalize(),i[1].setComponents(c+s,h+l,g+d,C+v).normalize(),i[2].setComponents(c+a,h+u,g+p,C+M).normalize(),i[3].setComponents(c-a,h-u,g-p,C-M).normalize(),i[4].setComponents(c-o,h-f,g-m,C-x).normalize(),t===Z4)i[5].setComponents(c+o,h+f,g+m,C+x).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(o,f,m,x).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ba.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ba.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ba)}intersectsSprite(e){return ba.center.set(0,0,0),ba.radius=.7071067811865476,ba.applyMatrix4(e.matrixWorld),this.intersectsSphere(ba)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(qu.x=r.normal.x>0?e.max.x:e.min.x,qu.y=r.normal.y>0?e.max.y:e.min.y,qu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(qu)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function AR(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function ufe(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function a(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function o(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u&&(n.deleteBuffer(u.buffer),i.delete(l))},update:function c(l,u){if(l.isGLBufferAttribute){const h=i.get(l);return void((!h||h.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const f=i.get(l);void 0===f?i.set(l,function r(l,u){const f=l.array,h=l.usage,d=n.createBuffer();let p;if(n.bindBuffer(u,d),n.bufferData(u,f,h),l.onUploadCallback(),f instanceof Float32Array)p=n.FLOAT;else if(f instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)p=n.SHORT;else if(f instanceof Uint32Array)p=n.UNSIGNED_INT;else if(f instanceof Int32Array)p=n.INT;else if(f instanceof Int8Array)p=n.BYTE;else if(f instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(f instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);p=n.UNSIGNED_BYTE}return{buffer:d,type:p,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version}}(l,u)):f.version<l.version&&(function s(l,u,f){const h=u.array,d=u.updateRange;n.bindBuffer(f,l),-1===d.count?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),u.onUploadCallback()}(f.buffer,l,u),f.version=l.version)}}}class i5 extends F1{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),c=Math.floor(r),l=o+1,u=c+1,f=e/o,h=t/c,d=[],p=[],m=[],g=[];for(let v=0;v<u;v++){const M=v*h-a;for(let x=0;x<l;x++)p.push(x*f-s,-M,0),m.push(0,0,1),g.push(x/o),g.push(1-v/c)}for(let v=0;v<c;v++)for(let M=0;M<o;M++){const C=M+l*(v+1),b=M+1+l*(v+1),A=M+1+l*v;d.push(M+l*v,C,A),d.push(C,b,A)}this.setIndex(d),this.setAttribute("position",new Ke(p,3)),this.setAttribute("normal",new Ke(m,3)),this.setAttribute("uv",new Ke(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i5(e.width,e.height,e.widthSegments,e.heightSegments)}}const P1={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ee={common:{diffuse:{value:new Oe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new O1},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new O1}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new O1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new O1}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new O1},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new O1},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new O1},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new O1}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new O1}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new O1}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Oe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Oe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0},uvTransform:{value:new O1}},sprite:{diffuse:{value:new Oe(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new O1},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0}}},u4={basic:{uniforms:Vn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.fog]),vertexShader:P1.meshbasic_vert,fragmentShader:P1.meshbasic_frag},lambert:{uniforms:Vn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new Oe(0)}}]),vertexShader:P1.meshlambert_vert,fragmentShader:P1.meshlambert_frag},phong:{uniforms:Vn([Ee.common,Ee.specularmap,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,Ee.lights,{emissive:{value:new Oe(0)},specular:{value:new Oe(1118481)},shininess:{value:30}}]),vertexShader:P1.meshphong_vert,fragmentShader:P1.meshphong_frag},standard:{uniforms:Vn([Ee.common,Ee.envmap,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.roughnessmap,Ee.metalnessmap,Ee.fog,Ee.lights,{emissive:{value:new Oe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:P1.meshphysical_vert,fragmentShader:P1.meshphysical_frag},toon:{uniforms:Vn([Ee.common,Ee.aomap,Ee.lightmap,Ee.emissivemap,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.gradientmap,Ee.fog,Ee.lights,{emissive:{value:new Oe(0)}}]),vertexShader:P1.meshtoon_vert,fragmentShader:P1.meshtoon_frag},matcap:{uniforms:Vn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,Ee.fog,{matcap:{value:null}}]),vertexShader:P1.meshmatcap_vert,fragmentShader:P1.meshmatcap_frag},points:{uniforms:Vn([Ee.points,Ee.fog]),vertexShader:P1.points_vert,fragmentShader:P1.points_frag},dashed:{uniforms:Vn([Ee.common,Ee.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:P1.linedashed_vert,fragmentShader:P1.linedashed_frag},depth:{uniforms:Vn([Ee.common,Ee.displacementmap]),vertexShader:P1.depth_vert,fragmentShader:P1.depth_frag},normal:{uniforms:Vn([Ee.common,Ee.bumpmap,Ee.normalmap,Ee.displacementmap,{opacity:{value:1}}]),vertexShader:P1.meshnormal_vert,fragmentShader:P1.meshnormal_frag},sprite:{uniforms:Vn([Ee.sprite,Ee.fog]),vertexShader:P1.sprite_vert,fragmentShader:P1.sprite_frag},background:{uniforms:{uvTransform:{value:new O1},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:P1.background_vert,fragmentShader:P1.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:P1.backgroundCube_vert,fragmentShader:P1.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:P1.cube_vert,fragmentShader:P1.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:P1.equirect_vert,fragmentShader:P1.equirect_frag},distanceRGBA:{uniforms:Vn([Ee.common,Ee.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:P1.distanceRGBA_vert,fragmentShader:P1.distanceRGBA_frag},shadow:{uniforms:Vn([Ee.lights,Ee.fog,{color:{value:new Oe(0)},opacity:{value:1}}]),vertexShader:P1.shadow_vert,fragmentShader:P1.shadow_frag}};u4.physical={uniforms:Vn([u4.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new O1},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new O1},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new O1},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new O1},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new O1},sheen:{value:0},sheenColor:{value:new Oe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new O1},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new O1},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new O1},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new O1},attenuationDistance:{value:0},attenuationColor:{value:new Oe(0)},specularColor:{value:new Oe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new O1},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new O1},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new O1}}]),vertexShader:P1.meshphysical_vert,fragmentShader:P1.meshphysical_frag};const Zu={r:0,b:0,g:0};function cde(n,e,t,i,r,s,a){const o=new Oe(0);let l,u,c=!0===s?0:1,f=null,h=0,d=null;function m(g,v){g.getRGB(Zu,SR(n)),i.buffers.color.setClear(Zu.r,Zu.g,Zu.b,v,a)}return{getClearColor:function(){return o},setClearColor:function(g,v=1){o.set(g),c=v,m(o,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,m(o,c)},render:function p(g,v){let M=!1,x=!0===v.isScene?v.background:null;switch(x&&x.isTexture&&(x=(v.backgroundBlurriness>0?t:e).get(x)),null===x?m(o,c):x&&x.isColor&&(m(x,1),M=!0),n.xr.getEnvironmentBlendMode()){case"opaque":M=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,a),M=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,a),M=!0}(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===$8)?(void 0===u&&(u=new li(new K6(1,1,1),new i3({name:"BackgroundCubeMaterial",uniforms:Q6(u4.backgroundCube.uniforms),vertexShader:u4.backgroundCube.vertexShader,fragmentShader:u4.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,E,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=x.colorSpace!==z1,(f!==x||h!==x.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=x,h=x.version,d=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(void 0===l&&(l=new li(new i5(2,2),new i3({name:"BackgroundMaterial",uniforms:Q6(u4.background.uniforms),vertexShader:u4.background.vertexShader,fragmentShader:u4.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=x.colorSpace!==z1,!0===x.matrixAutoUpdate&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||h!==x.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,f=x,h=x.version,d=n.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}}}function lde(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),a=i.isWebGL2||null!==s,o={},c=g(null);let l=c,u=!1;function d(O){return i.isWebGL2?n.bindVertexArray(O):s.bindVertexArrayOES(O)}function p(O){return i.isWebGL2?n.deleteVertexArray(O):s.deleteVertexArrayOES(O)}function g(O){const G=[],ne=[],X=[];for(let J=0;J<r;J++)G[J]=0,ne[J]=0,X[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:ne,attributeDivisors:X,object:O,attributes:{},index:null}}function x(){const O=l.newAttributes;for(let G=0,ne=O.length;G<ne;G++)O[G]=0}function C(O){b(O,0)}function b(O,G){const X=l.enabledAttributes,J=l.attributeDivisors;l.newAttributes[O]=1,0===X[O]&&(n.enableVertexAttribArray(O),X[O]=1),J[O]!==G&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,G),J[O]=G)}function A(){const O=l.newAttributes,G=l.enabledAttributes;for(let ne=0,X=G.length;ne<X;ne++)G[ne]!==O[ne]&&(n.disableVertexAttribArray(ne),G[ne]=0)}function E(O,G,ne,X,J,oe,I){!0===I?n.vertexAttribIPointer(O,G,ne,J,oe):n.vertexAttribPointer(O,G,ne,X,J,oe)}function q(){U(),u=!0,l!==c&&(l=c,d(l.object))}function U(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function f(O,G,ne,X,J){let oe=!1;if(a){const I=function m(O,G,ne){const X=!0===ne.wireframe;let J=o[O.id];void 0===J&&(J={},o[O.id]=J);let oe=J[G.id];void 0===oe&&(oe={},J[G.id]=oe);let I=oe[X];return void 0===I&&(I=g(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),oe[X]=I),I}(X,ne,G);l!==I&&(l=I,d(l.object)),oe=function v(O,G,ne,X){const J=l.attributes,oe=G.attributes;let I=0;const B=ne.getAttributes();for(const ce in B)if(B[ce].location>=0){const _e=J[ce];let Ce=oe[ce];if(void 0===Ce&&("instanceMatrix"===ce&&O.instanceMatrix&&(Ce=O.instanceMatrix),"instanceColor"===ce&&O.instanceColor&&(Ce=O.instanceColor)),void 0===_e||_e.attribute!==Ce||Ce&&_e.data!==Ce.data)return!0;I++}return l.attributesNum!==I||l.index!==X}(O,X,ne,J),oe&&function M(O,G,ne,X){const J={},oe=G.attributes;let I=0;const B=ne.getAttributes();for(const ce in B)if(B[ce].location>=0){let _e=oe[ce];void 0===_e&&("instanceMatrix"===ce&&O.instanceMatrix&&(_e=O.instanceMatrix),"instanceColor"===ce&&O.instanceColor&&(_e=O.instanceColor));const Ce={};Ce.attribute=_e,_e&&_e.data&&(Ce.data=_e.data),J[ce]=Ce,I++}l.attributes=J,l.attributesNum=I,l.index=X}(O,X,ne,J)}else{const I=!0===G.wireframe;(l.geometry!==X.id||l.program!==ne.id||l.wireframe!==I)&&(l.geometry=X.id,l.program=ne.id,l.wireframe=I,oe=!0)}null!==J&&t.update(J,n.ELEMENT_ARRAY_BUFFER),(oe||u)&&(u=!1,function D(O,G,ne,X){if(!1===i.isWebGL2&&(O.isInstancedMesh||X.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;x();const J=X.attributes,oe=ne.getAttributes(),I=G.defaultAttributeValues;for(const B in oe){const ce=oe[B];if(ce.location>=0){let xe=J[B];if(void 0===xe&&("instanceMatrix"===B&&O.instanceMatrix&&(xe=O.instanceMatrix),"instanceColor"===B&&O.instanceColor&&(xe=O.instanceColor)),void 0!==xe){const _e=xe.normalized,Ce=xe.itemSize,ke=t.get(xe);if(void 0===ke)continue;const De=ke.buffer,Ue=ke.type,y1=ke.bytesPerElement,at=!0===i.isWebGL2&&(Ue===n.INT||Ue===n.UNSIGNED_INT||1013===xe.gpuType);if(xe.isInterleavedBufferAttribute){const e1=xe.data,H=e1.stride,fe=xe.offset;if(e1.isInstancedInterleavedBuffer){for(let re=0;re<ce.locationSize;re++)b(ce.location+re,e1.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=e1.meshPerAttribute*e1.count)}else for(let re=0;re<ce.locationSize;re++)C(ce.location+re);n.bindBuffer(n.ARRAY_BUFFER,De);for(let re=0;re<ce.locationSize;re++)E(ce.location+re,Ce/ce.locationSize,Ue,_e,H*y1,(fe+Ce/ce.locationSize*re)*y1,at)}else{if(xe.isInstancedBufferAttribute){for(let e1=0;e1<ce.locationSize;e1++)b(ce.location+e1,xe.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let e1=0;e1<ce.locationSize;e1++)C(ce.location+e1);n.bindBuffer(n.ARRAY_BUFFER,De);for(let e1=0;e1<ce.locationSize;e1++)E(ce.location+e1,Ce/ce.locationSize,Ue,_e,Ce*y1,Ce/ce.locationSize*e1*y1,at)}}else if(void 0!==I){const _e=I[B];if(void 0!==_e)switch(_e.length){case 2:n.vertexAttrib2fv(ce.location,_e);break;case 3:n.vertexAttrib3fv(ce.location,_e);break;case 4:n.vertexAttrib4fv(ce.location,_e);break;default:n.vertexAttrib1fv(ce.location,_e)}}}}A()}(O,G,ne,X),null!==J&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(J).buffer))},reset:q,resetDefaultState:U,dispose:function S(){q();for(const O in o){const G=o[O];for(const ne in G){const X=G[ne];for(const J in X)p(X[J].object),delete X[J];delete G[ne]}delete o[O]}},releaseStatesOfGeometry:function z(O){if(void 0===o[O.id])return;const G=o[O.id];for(const ne in G){const X=G[ne];for(const J in X)p(X[J].object),delete X[J];delete G[ne]}delete o[O.id]},releaseStatesOfProgram:function F(O){for(const G in o){const ne=o[G];if(void 0===ne[O.id])continue;const X=ne[O.id];for(const J in X)p(X[J].object),delete X[J];delete ne[O.id]}},initAttributes:x,enableAttribute:C,disableUnusedAttributes:A}}function ude(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function a(l){s=l},this.render=function o(l,u){n.drawArrays(s,l,u),t.update(u,s,1)},this.renderInstances=function c(l,u,f){if(0===f)return;let h,d;if(r)h=n,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](s,l,u,f),t.update(u,s,f)}}function fde(n,e,t){let i;function s(E){if("highp"===E){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return"mediump"===E&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let o=void 0!==t.precision?t.precision:"highp";const c=s(o);c!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",c,"instead."),o=c);const l=a||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=h>0,C=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const E=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:M,vertexTextures:x,floatFragmentTextures:C,floatVertexTextures:x&&C,maxSamples:a?n.getParameter(n.MAX_SAMPLES):0}}function hde(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new Ca,o=new O1,c={value:null,needsUpdate:!1};function u(f,h,d,p){const m=null!==f?f.length:0;let g=null;if(0!==m){if(g=c.value,!0!==p||null===g){const v=d+4*m,M=h.matrixWorldInverse;o.getNormalMatrix(M),(null===g||g.length<v)&&(g=new Float32Array(v));for(let x=0,C=d;x!==m;++x,C+=4)a.copy(f[x]).applyMatrix4(M,o),a.normal.toArray(g,C),g[C+3]=a.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=0!==f.length||h||0!==i||r;return r=h,i=f.length,d},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,m=f.clipIntersection,g=f.clipShadows,v=n.get(f);if(!r||null===p||0===p.length||s&&!g)s?u(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const M=s?0:i,x=4*M;let C=v.clippingState||null;c.value=C,C=u(p,h,x,d);for(let b=0;b!==x;++b)C[b]=t[b];v.clippingState=C,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=M}}}function dde(n){let e=new WeakMap;function t(a,o){return 303===o?a.mapping=la:304===o&&(a.mapping=ua),a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const c=e.get(o);void 0!==c&&(e.delete(o),c.dispose())}return{get:function i(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const o=a.mapping;if(303===o||304===o){if(e.has(a))return t(e.get(a).texture,a.mapping);{const c=a.image;if(c&&c.height>0){const l=new ofe(c.height/2);return l.fromEquirectangularTexture(n,a),e.set(a,l),a.addEventListener("dispose",r),t(l.texture,a.mapping)}return null}}}return a},dispose:function s(){e=new WeakMap}}}class n_ extends Qy{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,a=s+l*this.view.width,o-=u*this.view.offsetY,c=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const zR=[.125,.215,.35,.446,.526,.582],i_=new n_,ER=new Oe;let r_=null;const Sa=(1+Math.sqrt(5))/2,r0=1/Sa,TR=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Sa,r0),new N(0,Sa,-r0),new N(r0,0,Sa),new N(-r0,0,Sa),new N(Sa,r0,0),new N(-Sa,r0,0)];class DR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){r_=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=IR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=NR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(r_),e.scissorTest=!1,Xu(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===la||e.mapping===ua?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),r_=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:C2,minFilter:C2,generateMipmaps:!1,type:q8,format:nr,colorSpace:o4,depthBuffer:!1},r=LR(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=LR(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function pde(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+zR.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let c=1/o;a>n-4?c=zR[a-n+4-1]:0===a&&(c=0),i.push(c);const l=1/(o-2),u=-l,f=1+l,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,p=6,m=3,g=2,v=1,M=new Float32Array(m*p*d),x=new Float32Array(g*p*d),C=new Float32Array(v*p*d);for(let A=0;A<d;A++){const E=A%3*2/3-1,D=A>2?0:-1;M.set([E,D,0,E+2/3,D,0,E+2/3,D+1,0,E,D,0,E+2/3,D+1,0,E,D+1,0],m*p*A),x.set(h,g*p*A),C.set([A,A,A,A,A,A],v*p*A)}const b=new F1;b.setAttribute("position",new k2(M,m)),b.setAttribute("uv",new k2(x,g)),b.setAttribute("faceIndex",new k2(C,v)),e.push(b),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function mde(n,e,t){const i=new Float32Array(20),r=new N(0,1,0);return new i3({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new li(this._lodPlanes[0],e);this._renderer.compile(t,i_)}_sceneToCubeUV(e,t,i,r){const o=new B2(90,1,t,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(ER),u.toneMapping=$4,u.autoClear=!1;const d=new rs({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new li(new K6,d);let m=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,m=!0):(d.color.copy(ER),m=!0);for(let v=0;v<6;v++){const M=v%3;0===M?(o.up.set(0,c[v],0),o.lookAt(l[v],0,0)):1===M?(o.up.set(0,0,c[v]),o.lookAt(0,l[v],0)):(o.up.set(0,c[v],0),o.lookAt(0,0,l[v]));const x=this._cubeSize;Xu(r,M*x,v>2?x:0,x,x),u.setRenderTarget(r),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===la||e.mapping===ua;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=IR()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=NR());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new li(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const c=this._cubeSize;Xu(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(a,i_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,TR[(r-1)%TR.length])}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const f=new li(this._lodPlanes[r],l),h=l.uniforms,d=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const v=[];let M=0;for(let E=0;E<20;++E){const D=E/m,S=Math.exp(-D*D/2);v.push(S),0===E?M+=S:E<g&&(M+=2*S)}for(let E=0;E<v.length;E++)v[E]=v[E]/M;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=v,h.latitudinal.value="latitudinal"===a,o&&(h.poleAxis.value=o);const{_lodMax:x}=this;h.dTheta.value=p,h.mipInt.value=x-i;const C=this._sizeLods[r];Xu(t,3*C*(r>x-4?r-x+4:0),4*(this._cubeSize-C),3*C,2*C),c.setRenderTarget(t),c.render(f,i_)}}function LR(n,e,t){const i=new ya(n,e,t);return i.texture.mapping=$8,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Xu(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function NR(){return new i3({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function IR(){return new i3({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function gde(n){let e=new WeakMap,t=null;function s(o){const c=o.target;c.removeEventListener("dispose",s);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const c=o.mapping,l=303===c||304===c,u=c===la||c===ua;if(l||u){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let f=e.get(o);return null===t&&(t=new DR(n)),f=l?t.fromEquirectangular(o,f):t.fromCubemap(o,f),e.set(o,f),f.texture}if(e.has(o))return e.get(o).texture;{const f=o.image;if(l&&f&&f.height>0||u&&f&&function r(o){let c=0;for(let u=0;u<6;u++)void 0!==o[u]&&c++;return 6===c}(f)){null===t&&(t=new DR(n));const h=l?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,h),o.addEventListener("dispose",s),h.texture}return null}}}return o},dispose:function a(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function vde(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function yde(n,e,t,i){const r={},s=new WeakMap;function a(f){const h=f.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const m=h.morphAttributes[p];for(let g=0,v=m.length;g<v;g++)e.remove(m[g])}h.removeEventListener("dispose",a),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function l(f){const h=[],d=f.index,p=f.attributes.position;let m=0;if(null!==d){const M=d.array;m=d.version;for(let x=0,C=M.length;x<C;x+=3){const b=M[x+0],A=M[x+1],E=M[x+2];h.push(b,A,A,E,E,b)}}else{m=p.version;for(let x=0,C=p.array.length/3-1;x<C;x+=3){const b=x+0,A=x+1,E=x+2;h.push(b,A,A,E,E,b)}}const g=new(rR(h)?_R:yR)(h,1);g.version=m;const v=s.get(f);v&&e.remove(v),s.set(f,g)}return{get:function o(f,h){return!0===r[h.id]||(h.addEventListener("dispose",a),r[h.id]=!0,t.memory.geometries++),h},update:function c(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const d=f.morphAttributes;for(const p in d){const m=d[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(f){const h=s.get(f);if(h){const d=f.index;null!==d&&h.version<d.version&&l(f)}else l(f);return s.get(f)}}}function _de(n,e,t,i){const r=i.isWebGL2;let s,o,c;this.setMode=function a(h){s=h},this.setIndex=function l(h){o=h.type,c=h.bytesPerElement},this.render=function u(h,d){n.drawElements(s,d,o,h*c),t.update(d,s,1)},this.renderInstances=function f(h,d,p){if(0===p)return;let m,g;if(r)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,d,o,h*c,p),t.update(d,s,p)}}function Mde(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function xde(n,e){return n[0]-e[0]}function Cde(n,e){return Math.abs(e[1])-Math.abs(n[1])}function bde(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,a=new bt,o=[];for(let l=0;l<8;l++)o[l]=[l,0];return{update:function c(l,u,f){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const d=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==d?d.length:0;let m=s.get(u);if(void 0===m||m.count!==p){let O=function(){q.dispose(),s.delete(u),u.removeEventListener("dispose",O)};void 0!==m&&m.texture.dispose();const M=void 0!==u.morphAttributes.position,x=void 0!==u.morphAttributes.normal,C=void 0!==u.morphAttributes.color,b=u.morphAttributes.position||[],A=u.morphAttributes.normal||[],E=u.morphAttributes.color||[];let D=0;!0===M&&(D=1),!0===x&&(D=2),!0===C&&(D=3);let S=u.attributes.position.count*D,z=1;S>e.maxTextureSize&&(z=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const F=new Float32Array(S*z*4*p),q=new Oy(F,S,z,p);q.type=q4,q.needsUpdate=!0;const U=4*D;for(let G=0;G<p;G++){const ne=b[G],X=A[G],J=E[G],oe=S*z*4*G;for(let I=0;I<ne.count;I++){const B=I*U;!0===M&&(a.fromBufferAttribute(ne,I),F[oe+B+0]=a.x,F[oe+B+1]=a.y,F[oe+B+2]=a.z,F[oe+B+3]=0),!0===x&&(a.fromBufferAttribute(X,I),F[oe+B+4]=a.x,F[oe+B+5]=a.y,F[oe+B+6]=a.z,F[oe+B+7]=0),!0===C&&(a.fromBufferAttribute(J,I),F[oe+B+8]=a.x,F[oe+B+9]=a.y,F[oe+B+10]=a.z,F[oe+B+11]=4===J.itemSize?a.w:1)}}m={count:p,texture:q,size:new pe(S,z)},s.set(u,m),u.addEventListener("dispose",O)}let g=0;for(let M=0;M<h.length;M++)g+=h[M];const v=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",v),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}else{const d=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==d){p=[];for(let x=0;x<d;x++)p[x]=[x,0];i[u.id]=p}for(let x=0;x<d;x++){const C=p[x];C[0]=x,C[1]=h[x]}p.sort(Cde);for(let x=0;x<8;x++)x<d&&p[x][1]?(o[x][0]=p[x][0],o[x][1]=p[x][1]):(o[x][0]=Number.MAX_SAFE_INTEGER,o[x][1]=0);o.sort(xde);const m=u.morphAttributes.position,g=u.morphAttributes.normal;let v=0;for(let x=0;x<8;x++){const C=o[x],b=C[0],A=C[1];b!==Number.MAX_SAFE_INTEGER&&A?(m&&u.getAttribute("morphTarget"+x)!==m[b]&&u.setAttribute("morphTarget"+x,m[b]),g&&u.getAttribute("morphNormal"+x)!==g[b]&&u.setAttribute("morphNormal"+x,g[b]),r[x]=A,v+=A):(m&&!0===u.hasAttribute("morphTarget"+x)&&u.deleteAttribute("morphTarget"+x),g&&!0===u.hasAttribute("morphNormal"+x)&&u.deleteAttribute("morphNormal"+x),r[x]=0)}const M=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",M),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function wde(n,e,t,i){let r=new WeakMap;function o(c){const l=c.target;l.removeEventListener("dispose",o),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,f=e.get(c,c.geometry);if(r.get(f)!==l&&(e.update(f),r.set(f,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",o)&&c.addEventListener("dispose",o),r.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return f},dispose:function a(){r=new WeakMap}}}const RR=new c4,PR=new Oy,HR=new oR,VR=new $u,OR=[],FR=[],kR=new Float32Array(16),UR=new Float32Array(9),BR=new Float32Array(4);function s0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=OR[r];if(void 0===s&&(s=new Float32Array(r),OR[r]=s),0!==e){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function L2(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function N2(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Yu(n,e){let t=FR[e];void 0===t&&(t=new Int32Array(e),FR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Sde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Ade(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2fv(this.addr,e),N2(t,e)}}function zde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(L2(t,e))return;n.uniform3fv(this.addr,e),N2(t,e)}}function Ede(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4fv(this.addr,e),N2(t,e)}}function Tde(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;BR.set(i),n.uniformMatrix2fv(this.addr,!1,BR),N2(t,i)}}function Dde(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;UR.set(i),n.uniformMatrix3fv(this.addr,!1,UR),N2(t,i)}}function Lde(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;kR.set(i),n.uniformMatrix4fv(this.addr,!1,kR),N2(t,i)}}function Nde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ide(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2iv(this.addr,e),N2(t,e)}}function Rde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3iv(this.addr,e),N2(t,e)}}function Pde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4iv(this.addr,e),N2(t,e)}}function Hde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Vde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2uiv(this.addr,e),N2(t,e)}}function Ode(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3uiv(this.addr,e),N2(t,e)}}function Fde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4uiv(this.addr,e),N2(t,e)}}function kde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||RR,r)}function Ude(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||HR,r)}function Bde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||VR,r)}function Gde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||PR,r)}function jde(n,e){n.uniform1fv(this.addr,e)}function $de(n,e){const t=s0(e,this.size,2);n.uniform2fv(this.addr,t)}function qde(n,e){const t=s0(e,this.size,3);n.uniform3fv(this.addr,t)}function Zde(n,e){const t=s0(e,this.size,4);n.uniform4fv(this.addr,t)}function Xde(n,e){const t=s0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Yde(n,e){const t=s0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Jde(n,e){const t=s0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Kde(n,e){n.uniform1iv(this.addr,e)}function Qde(n,e){n.uniform2iv(this.addr,e)}function epe(n,e){n.uniform3iv(this.addr,e)}function tpe(n,e){n.uniform4iv(this.addr,e)}function npe(n,e){n.uniform1uiv(this.addr,e)}function ipe(n,e){n.uniform2uiv(this.addr,e)}function rpe(n,e){n.uniform3uiv(this.addr,e)}function spe(n,e){n.uniform4uiv(this.addr,e)}function ape(n,e,t){const i=this.cache,r=e.length,s=Yu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||RR,s[a])}function ope(n,e,t){const i=this.cache,r=e.length,s=Yu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||HR,s[a])}function cpe(n,e,t){const i=this.cache,r=e.length,s=Yu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||VR,s[a])}function lpe(n,e,t){const i=this.cache,r=e.length,s=Yu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||PR,s[a])}class fpe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Wde(n){switch(n){case 5126:return Sde;case 35664:return Ade;case 35665:return zde;case 35666:return Ede;case 35674:return Tde;case 35675:return Dde;case 35676:return Lde;case 5124:case 35670:return Nde;case 35667:case 35671:return Ide;case 35668:case 35672:return Rde;case 35669:case 35673:return Pde;case 5125:return Hde;case 36294:return Vde;case 36295:return Ode;case 36296:return Fde;case 35678:case 36198:case 36298:case 36306:case 35682:return kde;case 35679:case 36299:case 36307:return Ude;case 35680:case 36300:case 36308:case 36293:return Bde;case 36289:case 36303:case 36311:case 36292:return Gde}}(t.type)}}class hpe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function upe(n){switch(n){case 5126:return jde;case 35664:return $de;case 35665:return qde;case 35666:return Zde;case 35674:return Xde;case 35675:return Yde;case 35676:return Jde;case 5124:case 35670:return Kde;case 35667:case 35671:return Qde;case 35668:case 35672:return epe;case 35669:case 35673:return tpe;case 5125:return npe;case 36294:return ipe;case 36295:return rpe;case 36296:return spe;case 35678:case 36198:case 36298:case 36306:case 35682:return ape;case 35679:case 36299:case 36307:return ope;case 35680:case 36300:case 36308:case 36293:return cpe;case 36289:case 36303:case 36311:case 36292:return lpe}}(t.type)}}class dpe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const a_=/(\w+)(\])?(\[|\.)?/g;function GR(n,e){n.seq.push(e),n.map[e.id]=e}function ppe(n,e,t){const i=n.name,r=i.length;for(a_.lastIndex=0;;){const s=a_.exec(i);let o=s[1];const l=s[3];if("]"===s[2]&&(o|=0),void 0===l||"["===l&&a_.lastIndex+2===r){GR(t,void 0===l?new fpe(o,n,e):new hpe(o,n,e));break}{let f=t.map[o];void 0===f&&(f=new dpe(o),GR(t,f)),t=f}}}class Ju{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);ppe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],c=i[o.id];!1!==c.needsUpdate&&o.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function WR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let mpe=0;function jR(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function gpe(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join("\n")}(n.getShaderSource(e),a)}return r}function ype(n,e){const t=function vpe(n){switch(n){case o4:return["Linear","( value )"];case z1:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function _pe(n,e){let t;switch(e){case q9e:t="Linear";break;case Z9e:t="Reinhard";break;case X9e:t="OptimizedCineon";break;case Y9e:t="ACESFilmic";break;case J9e:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function r5(n){return""!==n}function $R(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bpe=/^[ \t]*#include +<([\w\d./]+)>/gm;function o_(n){return n.replace(bpe,Spe)}const wpe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Spe(n,e){let t=P1[e];if(void 0===t){const i=wpe.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=P1[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return o_(t)}const Ape=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZR(n){return n.replace(Ape,zpe)}function zpe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function XR(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Ipe(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const c=function Epe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===mI?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===S9e?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===W4&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function Tpe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case la:case ua:e="ENVMAP_TYPE_CUBE";break;case $8:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function Dpe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===ua&&(e="ENVMAP_MODE_REFRACTION"),e}(t),f=function Lpe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case vu:e="ENVMAP_BLENDING_MULTIPLY";break;case j9e:e="ENVMAP_BLENDING_MIX";break;case $9e:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Npe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),d=t.isWebGL2?"":function Mpe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(r5).join("\n")}(t),p=function xpe(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),m=r.createProgram();let g,v,M=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(r5).join("\n"),g.length>0&&(g+="\n"),v=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(r5).join("\n"),v.length>0&&(v+="\n")):(g=[XR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(r5).join("\n"),v=[d,XR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==$4?"#define TONE_MAPPING":"",t.toneMapping!==$4?P1.tonemapping_pars_fragment:"",t.toneMapping!==$4?_pe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",P1.colorspace_pars_fragment,ype("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(r5).join("\n")),a=o_(a),a=$R(a,t),a=qR(a,t),o=o_(o),o=$R(o,t),o=qR(o,t),a=ZR(a),o=ZR(o),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(M="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",t.glslVersion===tR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const C=M+v+o,b=WR(r,r.VERTEX_SHADER,M+g+a),A=WR(r,r.FRAGMENT_SHADER,C);if(r.attachShader(m,b),r.attachShader(m,A),void 0!==t.index0AttributeName?r.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const S=r.getProgramInfoLog(m).trim(),z=r.getShaderInfoLog(b).trim(),F=r.getShaderInfoLog(A).trim();let q=!0,U=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(q=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,m,b,A);else{const O=jR(r,b,"vertex"),G=jR(r,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+S+"\n"+O+"\n"+G)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):(""===z||""===F)&&(U=!1);U&&(this.diagnostics={runnable:q,programLog:S,vertexShader:{log:z,prefix:g},fragmentShader:{log:F,prefix:v}})}let E,D;return r.deleteShader(b),r.deleteShader(A),this.getUniforms=function(){return void 0===E&&(E=new Ju(r,m)),E},this.getAttributes=function(){return void 0===D&&(D=function Cpe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}(r,m)),D},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=mpe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=A,this}let Rpe=0;class Ppe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Hpe(e),t.set(e,i)),i}}class Hpe{constructor(e){this.id=Rpe++,this.code=e,this.usedTimes=0}}function Vpe(n,e,t,i,r,s,a){const o=new jy,c=new Ppe,l=[],u=r.isWebGL2,f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return 0===S?"uv":`uv${S}`}return{getParameters:function g(S,z,F,q,U){const O=q.fog,G=U.geometry,X=(S.isMeshStandardMaterial?t:e).get(S.envMap||(S.isMeshStandardMaterial?q.environment:null)),J=X&&X.mapping===$8?X.image.height:null,oe=p[S.type];null!==S.precision&&(d=r.getMaxPrecision(S.precision),d!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",d,"instead."));const I=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,B=void 0!==I?I.length:0;let xe,_e,Ce,ke,ce=0;if(void 0!==G.morphAttributes.position&&(ce=1),void 0!==G.morphAttributes.normal&&(ce=2),void 0!==G.morphAttributes.color&&(ce=3),oe){const o1=u4[oe];xe=o1.vertexShader,_e=o1.fragmentShader}else xe=S.vertexShader,_e=S.fragmentShader,c.update(S),Ce=c.getVertexShaderID(S),ke=c.getFragmentShaderID(S);const De=n.getRenderTarget(),Ue=!0===U.isInstancedMesh,y1=!!S.map,e1=!!X,H=!!S.aoMap,fe=!!S.lightMap,re=!!S.bumpMap,ge=!!S.normalMap,ue=!!S.displacementMap,k=!!S.emissiveMap,ze=!!S.metalnessMap,Pe=!!S.roughnessMap,f1=S.anisotropy>0,s1=S.clearcoat>0,gt=S.iridescence>0,P=S.sheen>0,T=S.transmission>0,ee=f1&&!!S.anisotropyMap,he=s1&&!!S.clearcoatMap,ve=s1&&!!S.clearcoatNormalMap,be=s1&&!!S.clearcoatRoughnessMap,Xe=gt&&!!S.iridescenceMap,we=gt&&!!S.iridescenceThicknessMap,ae=P&&!!S.sheenColorMap,qe=P&&!!S.sheenRoughnessMap,i1=!!S.specularMap,a1=!!S.specularColorMap,je=!!S.specularIntensityMap,Be=T&&!!S.transmissionMap,x1=T&&!!S.thicknessMap,V=!!S.alphaMap,Me=!!S.extensions,Se=!!G.attributes.uv1,H1=!!G.attributes.uv2,vt=!!G.attributes.uv3;return{isWebGL2:u,shaderID:oe,shaderType:S.type,shaderName:S.name,vertexShader:xe,fragmentShader:_e,defines:S.defines,customVertexShaderID:Ce,customFragmentShaderID:ke,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:d,instancing:Ue,instancingColor:Ue&&null!==U.instanceColor,supportsVertexTextures:h,outputColorSpace:null===De?n.outputColorSpace:!0===De.isXRRenderTarget?De.texture.colorSpace:o4,map:y1,matcap:!!S.matcap,envMap:e1,envMapMode:e1&&X.mapping,envMapCubeUVHeight:J,aoMap:H,lightMap:fe,bumpMap:re,normalMap:ge,displacementMap:h&&ue,emissiveMap:k,normalMapObjectSpace:ge&&1===S.normalMapType,normalMapTangentSpace:ge&&0===S.normalMapType,metalnessMap:ze,roughnessMap:Pe,anisotropy:f1,anisotropyMap:ee,clearcoat:s1,clearcoatMap:he,clearcoatNormalMap:ve,clearcoatRoughnessMap:be,iridescence:gt,iridescenceMap:Xe,iridescenceThicknessMap:we,sheen:P,sheenColorMap:ae,sheenRoughnessMap:qe,specularMap:i1,specularColorMap:a1,specularIntensityMap:je,transmission:T,transmissionMap:Be,thicknessMap:x1,gradientMap:!!S.gradientMap,opaque:!1===S.transparent&&1===S.blending,alphaMap:V,alphaTest:S.alphaTest>0,alphaHash:!!S.alphaHash,combine:S.combine,mapUv:y1&&m(S.map.channel),aoMapUv:H&&m(S.aoMap.channel),lightMapUv:fe&&m(S.lightMap.channel),bumpMapUv:re&&m(S.bumpMap.channel),normalMapUv:ge&&m(S.normalMap.channel),displacementMapUv:ue&&m(S.displacementMap.channel),emissiveMapUv:k&&m(S.emissiveMap.channel),metalnessMapUv:ze&&m(S.metalnessMap.channel),roughnessMapUv:Pe&&m(S.roughnessMap.channel),anisotropyMapUv:ee&&m(S.anisotropyMap.channel),clearcoatMapUv:he&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:ve&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:we&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:qe&&m(S.sheenRoughnessMap.channel),specularMapUv:i1&&m(S.specularMap.channel),specularColorMapUv:a1&&m(S.specularColorMap.channel),specularIntensityMapUv:je&&m(S.specularIntensityMap.channel),transmissionMapUv:Be&&m(S.transmissionMap.channel),thicknessMapUv:x1&&m(S.thicknessMap.channel),alphaMapUv:V&&m(S.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(ge||f1),vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!G.attributes.color&&4===G.attributes.color.itemSize,vertexUv1s:Se,vertexUv2s:H1,vertexUv3s:vt,pointsUvs:!0===U.isPoints&&!!G.attributes.uv&&(y1||V),fog:!!O,useFog:!0===S.fog,fogExp2:O&&O.isFogExp2,flatShading:!0===S.flatShading,sizeAttenuation:!0===S.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===U.isSkinnedMesh,morphTargets:void 0!==G.morphAttributes.position,morphNormals:void 0!==G.morphAttributes.normal,morphColors:void 0!==G.morphAttributes.color,morphTargetsCount:B,morphTextureStride:ce,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&F.length>0,shadowMapType:n.shadowMap.type,toneMapping:S.toneMapped?n.toneMapping:$4,useLegacyLights:n.useLegacyLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:Me&&!0===S.extensions.derivatives,extensionFragDepth:Me&&!0===S.extensions.fragDepth,extensionDrawBuffers:Me&&!0===S.extensions.drawBuffers,extensionShaderTextureLOD:Me&&!0===S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}},getProgramCacheKey:function v(S){const z=[];if(S.shaderID?z.push(S.shaderID):(z.push(S.customVertexShaderID),z.push(S.customFragmentShaderID)),void 0!==S.defines)for(const F in S.defines)z.push(F),z.push(S.defines[F]);return!1===S.isRawShaderMaterial&&(function M(S,z){S.push(z.precision),S.push(z.outputColorSpace),S.push(z.envMapMode),S.push(z.envMapCubeUVHeight),S.push(z.mapUv),S.push(z.alphaMapUv),S.push(z.lightMapUv),S.push(z.aoMapUv),S.push(z.bumpMapUv),S.push(z.normalMapUv),S.push(z.displacementMapUv),S.push(z.emissiveMapUv),S.push(z.metalnessMapUv),S.push(z.roughnessMapUv),S.push(z.anisotropyMapUv),S.push(z.clearcoatMapUv),S.push(z.clearcoatNormalMapUv),S.push(z.clearcoatRoughnessMapUv),S.push(z.iridescenceMapUv),S.push(z.iridescenceThicknessMapUv),S.push(z.sheenColorMapUv),S.push(z.sheenRoughnessMapUv),S.push(z.specularMapUv),S.push(z.specularColorMapUv),S.push(z.specularIntensityMapUv),S.push(z.transmissionMapUv),S.push(z.thicknessMapUv),S.push(z.combine),S.push(z.fogExp2),S.push(z.sizeAttenuation),S.push(z.morphTargetsCount),S.push(z.morphAttributeCount),S.push(z.numDirLights),S.push(z.numPointLights),S.push(z.numSpotLights),S.push(z.numSpotLightMaps),S.push(z.numHemiLights),S.push(z.numRectAreaLights),S.push(z.numDirLightShadows),S.push(z.numPointLightShadows),S.push(z.numSpotLightShadows),S.push(z.numSpotLightShadowsWithMaps),S.push(z.shadowMapType),S.push(z.toneMapping),S.push(z.numClippingPlanes),S.push(z.numClipIntersection),S.push(z.depthPacking)}(z,S),function x(S,z){o.disableAll(),z.isWebGL2&&o.enable(0),z.supportsVertexTextures&&o.enable(1),z.instancing&&o.enable(2),z.instancingColor&&o.enable(3),z.matcap&&o.enable(4),z.envMap&&o.enable(5),z.normalMapObjectSpace&&o.enable(6),z.normalMapTangentSpace&&o.enable(7),z.clearcoat&&o.enable(8),z.iridescence&&o.enable(9),z.alphaTest&&o.enable(10),z.vertexColors&&o.enable(11),z.vertexAlphas&&o.enable(12),z.vertexUv1s&&o.enable(13),z.vertexUv2s&&o.enable(14),z.vertexUv3s&&o.enable(15),z.vertexTangents&&o.enable(16),z.anisotropy&&o.enable(17),S.push(o.mask),o.disableAll(),z.fog&&o.enable(0),z.useFog&&o.enable(1),z.flatShading&&o.enable(2),z.logarithmicDepthBuffer&&o.enable(3),z.skinning&&o.enable(4),z.morphTargets&&o.enable(5),z.morphNormals&&o.enable(6),z.morphColors&&o.enable(7),z.premultipliedAlpha&&o.enable(8),z.shadowMapEnabled&&o.enable(9),z.useLegacyLights&&o.enable(10),z.doubleSided&&o.enable(11),z.flipSided&&o.enable(12),z.useDepthPacking&&o.enable(13),z.dithering&&o.enable(14),z.transmission&&o.enable(15),z.sheen&&o.enable(16),z.opaque&&o.enable(17),z.pointsUvs&&o.enable(18),S.push(o.mask)}(z,S),z.push(n.outputColorSpace)),z.push(S.customProgramCacheKey),z.join()},getUniforms:function C(S){const z=p[S.type];let F;return F=z?ife.clone(u4[z].uniforms):S.uniforms,F},acquireProgram:function b(S,z){let F;for(let q=0,U=l.length;q<U;q++){const O=l[q];if(O.cacheKey===z){F=O,++F.usedTimes;break}}return void 0===F&&(F=new Ipe(n,z,S,s),l.push(F)),F},releaseProgram:function A(S){if(0==--S.usedTimes){const z=l.indexOf(S);l[z]=l[l.length-1],l.pop(),S.destroy()}},releaseShaderCache:function E(S){c.remove(S)},programs:l,dispose:function D(){c.dispose()}}}function Ope(){let n=new WeakMap;return{get:function e(s){let a=n.get(s);return void 0===a&&(a={},n.set(s,a)),a},remove:function t(s){n.delete(s)},update:function i(s,a,o){n.get(s)[a]=o},dispose:function r(){n=new WeakMap}}}function Fpe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function YR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function JR(){const n=[];let e=0;const t=[],i=[],r=[];function a(f,h,d,p,m,g){let v=n[e];return void 0===v?(v={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:m,group:g},n[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=d,v.groupOrder=p,v.renderOrder=f.renderOrder,v.z=m,v.group=g),e++,v}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function o(f,h,d,p,m,g){const v=a(f,h,d,p,m,g);d.transmission>0?i.push(v):!0===d.transparent?r.push(v):t.push(v)},unshift:function c(f,h,d,p,m,g){const v=a(f,h,d,p,m,g);d.transmission>0?i.unshift(v):!0===d.transparent?r.unshift(v):t.unshift(v)},finish:function u(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(null===d.id)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}},sort:function l(f,h){t.length>1&&t.sort(f||Fpe),i.length>1&&i.sort(h||YR),r.length>1&&r.sort(h||YR)}}}function kpe(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let a;return void 0===s?(a=new JR,n.set(i,[a])):r>=s.length?(a=new JR,s.push(a)):a=s[r],a},dispose:function t(){n=new WeakMap}}}function Upe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Oe};break;case"SpotLight":t={position:new N,direction:new N,color:new Oe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Oe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Oe,groundColor:new Oe};break;case"RectAreaLight":t={color:new Oe,position:new N,halfWidth:new N,halfHeight:new N}}return n[e.id]=t,t}}}let Gpe=0;function Wpe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function jpe(n,e){const t=new Upe,i=function Bpe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new N);const s=new N,a=new E1,o=new E1;return{setup:function c(u,f){let h=0,d=0,p=0;for(let F=0;F<9;F++)r.probe[F].set(0,0,0);let m=0,g=0,v=0,M=0,x=0,C=0,b=0,A=0,E=0,D=0;u.sort(Wpe);const S=!0===f?Math.PI:1;for(let F=0,q=u.length;F<q;F++){const U=u[F],O=U.color,G=U.intensity,ne=U.distance,X=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)h+=O.r*G*S,d+=O.g*G*S,p+=O.b*G*S;else if(U.isLightProbe)for(let J=0;J<9;J++)r.probe[J].addScaledVector(U.sh.coefficients[J],G);else if(U.isDirectionalLight){const J=t.get(U);if(J.color.copy(U.color).multiplyScalar(U.intensity*S),U.castShadow){const oe=U.shadow,I=i.get(U);I.shadowBias=oe.bias,I.shadowNormalBias=oe.normalBias,I.shadowRadius=oe.radius,I.shadowMapSize=oe.mapSize,r.directionalShadow[m]=I,r.directionalShadowMap[m]=X,r.directionalShadowMatrix[m]=U.shadow.matrix,C++}r.directional[m]=J,m++}else if(U.isSpotLight){const J=t.get(U);J.position.setFromMatrixPosition(U.matrixWorld),J.color.copy(O).multiplyScalar(G*S),J.distance=ne,J.coneCos=Math.cos(U.angle),J.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),J.decay=U.decay,r.spot[v]=J;const oe=U.shadow;if(U.map&&(r.spotLightMap[E]=U.map,E++,oe.updateMatrices(U),U.castShadow&&D++),r.spotLightMatrix[v]=oe.matrix,U.castShadow){const I=i.get(U);I.shadowBias=oe.bias,I.shadowNormalBias=oe.normalBias,I.shadowRadius=oe.radius,I.shadowMapSize=oe.mapSize,r.spotShadow[v]=I,r.spotShadowMap[v]=X,A++}v++}else if(U.isRectAreaLight){const J=t.get(U);J.color.copy(O).multiplyScalar(G),J.halfWidth.set(.5*U.width,0,0),J.halfHeight.set(0,.5*U.height,0),r.rectArea[M]=J,M++}else if(U.isPointLight){const J=t.get(U);if(J.color.copy(U.color).multiplyScalar(U.intensity*S),J.distance=U.distance,J.decay=U.decay,U.castShadow){const oe=U.shadow,I=i.get(U);I.shadowBias=oe.bias,I.shadowNormalBias=oe.normalBias,I.shadowRadius=oe.radius,I.shadowMapSize=oe.mapSize,I.shadowCameraNear=oe.camera.near,I.shadowCameraFar=oe.camera.far,r.pointShadow[g]=I,r.pointShadowMap[g]=X,r.pointShadowMatrix[g]=U.shadow.matrix,b++}r.point[g]=J,g++}else if(U.isHemisphereLight){const J=t.get(U);J.skyColor.copy(U.color).multiplyScalar(G*S),J.groundColor.copy(U.groundColor).multiplyScalar(G*S),r.hemi[x]=J,x++}}M>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ee.LTC_FLOAT_1,r.rectAreaLTC2=Ee.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Ee.LTC_HALF_1,r.rectAreaLTC2=Ee.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=p;const z=r.hash;(z.directionalLength!==m||z.pointLength!==g||z.spotLength!==v||z.rectAreaLength!==M||z.hemiLength!==x||z.numDirectionalShadows!==C||z.numPointShadows!==b||z.numSpotShadows!==A||z.numSpotMaps!==E)&&(r.directional.length=m,r.spot.length=v,r.rectArea.length=M,r.point.length=g,r.hemi.length=x,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=A+E-D,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=D,z.directionalLength=m,z.pointLength=g,z.spotLength=v,z.rectAreaLength=M,z.hemiLength=x,z.numDirectionalShadows=C,z.numPointShadows=b,z.numSpotShadows=A,z.numSpotMaps=E,r.version=Gpe++)},setupView:function l(u,f){let h=0,d=0,p=0,m=0,g=0;const v=f.matrixWorldInverse;for(let M=0,x=u.length;M<x;M++){const C=u[M];if(C.isDirectionalLight){const b=r.directional[h];b.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),h++}else if(C.isSpotLight){const b=r.spot[p];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),p++}else if(C.isRectAreaLight){const b=r.rectArea[m];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),o.identity(),a.copy(C.matrixWorld),a.premultiply(v),o.extractRotation(a),b.halfWidth.set(.5*C.width,0,0),b.halfHeight.set(0,.5*C.height,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),m++}else if(C.isPointLight){const b=r.point[d];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),d++}else if(C.isHemisphereLight){const b=r.hemi[g];b.direction.setFromMatrixPosition(C.matrixWorld),b.direction.transformDirection(v),g++}}},state:r}}function KR(n,e){const t=new jpe(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(f){t.setup(i,f)},setupLightsView:function l(f){t.setupView(i,f)},pushLight:function a(f){i.push(f)},pushShadow:function o(f){r.push(f)}}}function $pe(n,e){let t=new WeakMap;return{get:function i(s,a=0){const o=t.get(s);let c;return void 0===o?(c=new KR(n,e),t.set(s,[c])):a>=o.length?(c=new KR(n,e),o.push(c)):c=o[a],c},dispose:function r(){t=new WeakMap}}}class QR extends q6{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class eP extends q6{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Xpe(n,e,t){let i=new t_;const r=new pe,s=new pe,a=new bt,o=new QR({depthPacking:3201}),c=new eP,l={},u=t.maxTextureSize,f={0:1,1:0,2:2},h=new i3({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new F1;p.setAttribute("position",new k2(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new li(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=mI;let v=this.type;function M(b,A){const E=e.update(m);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,d.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new ya(r.x,r.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(A,null,E,h,m,null),d.uniforms.shadow_pass.value=b.mapPass.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(A,null,E,d,m,null)}function x(b,A,E,D){let S=null;const z=!0===E.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==z)S=z;else if(S=!0===E.isPointLight?c:o,n.localClippingEnabled&&!0===A.clipShadows&&Array.isArray(A.clippingPlanes)&&0!==A.clippingPlanes.length||A.displacementMap&&0!==A.displacementScale||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const F=S.uuid,q=A.uuid;let U=l[F];void 0===U&&(U={},l[F]=U);let O=U[q];void 0===O&&(O=S.clone(),U[q]=O),S=O}return S.visible=A.visible,S.wireframe=A.wireframe,S.side=D===W4?null!==A.shadowSide?A.shadowSide:A.side:null!==A.shadowSide?A.shadowSide:f[A.side],S.alphaMap=A.alphaMap,S.alphaTest=A.alphaTest,S.map=A.map,S.clipShadows=A.clipShadows,S.clippingPlanes=A.clippingPlanes,S.clipIntersection=A.clipIntersection,S.displacementMap=A.displacementMap,S.displacementScale=A.displacementScale,S.displacementBias=A.displacementBias,S.wireframeLinewidth=A.wireframeLinewidth,S.linewidth=A.linewidth,!0===E.isPointLight&&!0===S.isMeshDistanceMaterial&&(n.properties.get(S).light=E),S}function C(b,A,E,D,S){if(!1===b.visible)return;if(b.layers.test(A.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&S===W4)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,b.matrixWorld);const q=e.update(b),U=b.material;if(Array.isArray(U)){const O=q.groups;for(let G=0,ne=O.length;G<ne;G++){const X=O[G],J=U[X.materialIndex];if(J&&J.visible){const oe=x(b,J,D,S);n.renderBufferDirect(E,null,q,oe,b,X)}}}else if(U.visible){const O=x(b,U,D,S);n.renderBufferDirect(E,null,q,O,b,null)}}const F=b.children;for(let q=0,U=F.length;q<U;q++)C(F[q],A,E,D,S)}this.render=function(b,A,E){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===b.length)return;const D=n.getRenderTarget(),S=n.getActiveCubeFace(),z=n.getActiveMipmapLevel(),F=n.state;F.setBlending(0),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const q=v!==W4&&this.type===W4,U=v===W4&&this.type!==W4;for(let O=0,G=b.length;O<G;O++){const ne=b[O],X=ne.shadow;if(void 0===X){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(!1===X.autoUpdate&&!1===X.needsUpdate)continue;r.copy(X.mapSize);const J=X.getFrameExtents();if(r.multiply(J),s.copy(X.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/J.x),r.x=s.x*J.x,X.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/J.y),r.y=s.y*J.y,X.mapSize.y=s.y)),null===X.map||!0===q||!0===U){const I=this.type!==W4?{minFilter:x2,magFilter:x2}:{};null!==X.map&&X.map.dispose(),X.map=new ya(r.x,r.y,I),X.map.texture.name=ne.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const oe=X.getViewportCount();for(let I=0;I<oe;I++){const B=X.getViewport(I);a.set(s.x*B.x,s.y*B.y,s.x*B.z,s.y*B.w),F.viewport(a),X.updateMatrices(ne,I),i=X.getFrustum(),C(A,E,X.camera,ne,this.type)}!0!==X.isPointLightShadow&&this.type===W4&&M(X,E),X.needsUpdate=!1}v=this.type,g.needsUpdate=!1,n.setRenderTarget(D,S,z)}}function Ype(n,e,t){const i=t.isWebGL2,o=new function r(){let V=!1;const Ae=new bt;let Q=null;const Me=new bt(0,0,0,0);return{setMask:function(Se){Q!==Se&&!V&&(n.colorMask(Se,Se,Se,Se),Q=Se)},setLocked:function(Se){V=Se},setClear:function(Se,H1,vt,wt,o1){!0===o1&&(Se*=wt,H1*=wt,vt*=wt),Ae.set(Se,H1,vt,wt),!1===Me.equals(Ae)&&(n.clearColor(Se,H1,vt,wt),Me.copy(Ae))},reset:function(){V=!1,Q=null,Me.set(-1,0,0,0)}}},c=new function s(){let V=!1,Ae=null,Q=null,Me=null;return{setTest:function(Se){Se?De(n.DEPTH_TEST):Ue(n.DEPTH_TEST)},setMask:function(Se){Ae!==Se&&!V&&(n.depthMask(Se),Ae=Se)},setFunc:function(Se){if(Q!==Se){switch(Se){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Q=Se}},setLocked:function(Se){V=Se},setClear:function(Se){Me!==Se&&(n.clearDepth(Se),Me=Se)},reset:function(){V=!1,Ae=null,Q=null,Me=null}}},l=new function a(){let V=!1,Ae=null,Q=null,Me=null,Se=null,H1=null,vt=null,wt=null,o1=null;return{setTest:function(Le){V||(Le?De(n.STENCIL_TEST):Ue(n.STENCIL_TEST))},setMask:function(Le){Ae!==Le&&!V&&(n.stencilMask(Le),Ae=Le)},setFunc:function(Le,T1,U1){(Q!==Le||Me!==T1||Se!==U1)&&(n.stencilFunc(Le,T1,U1),Q=Le,Me=T1,Se=U1)},setOp:function(Le,T1,U1){(H1!==Le||vt!==T1||wt!==U1)&&(n.stencilOp(Le,T1,U1),H1=Le,vt=T1,wt=U1)},setLocked:function(Le){V=Le},setClear:function(Le){o1!==Le&&(n.clearStencil(Le),o1=Le)},reset:function(){V=!1,Ae=null,Q=null,Me=null,Se=null,H1=null,vt=null,wt=null,o1=null}}},u=new WeakMap,f=new WeakMap;let h={},d={},p=new WeakMap,m=[],g=null,v=!1,M=null,x=null,C=null,b=null,A=null,E=null,D=null,S=!1,z=null,F=null,q=null,U=null,O=null;const G=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,X=0;const J=n.getParameter(n.VERSION);-1!==J.indexOf("WebGL")?(X=parseFloat(/^WebGL (\d)/.exec(J)[1]),ne=X>=1):-1!==J.indexOf("OpenGL ES")&&(X=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),ne=X>=2);let oe=null,I={};const B=n.getParameter(n.SCISSOR_BOX),ce=n.getParameter(n.VIEWPORT),xe=(new bt).fromArray(B),_e=(new bt).fromArray(ce);function Ce(V,Ae,Q,Me){const Se=new Uint8Array(4),H1=n.createTexture();n.bindTexture(V,H1),n.texParameteri(V,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(V,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let vt=0;vt<Q;vt++)!i||V!==n.TEXTURE_3D&&V!==n.TEXTURE_2D_ARRAY?n.texImage2D(Ae+vt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Se):n.texImage3D(Ae,0,n.RGBA,1,1,Me,0,n.RGBA,n.UNSIGNED_BYTE,Se);return H1}const ke={};function De(V){!0!==h[V]&&(n.enable(V),h[V]=!0)}function Ue(V){!1!==h[V]&&(n.disable(V),h[V]=!1)}ke[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),ke[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(ke[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ke[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),c.setClear(1),l.setClear(0),De(n.DEPTH_TEST),c.setFunc(3),ue(!1),k(1),De(n.CULL_FACE),re(0);const H={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)H[103]=n.MIN,H[104]=n.MAX;else{const V=e.get("EXT_blend_minmax");null!==V&&(H[103]=V.MIN_EXT,H[104]=V.MAX_EXT)}const fe={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function re(V,Ae,Q,Me,Se,H1,vt,wt){if(0!==V){if(!1===v&&(De(n.BLEND),v=!0),5===V)Se=Se||Ae,H1=H1||Q,vt=vt||Me,(Ae!==x||Se!==A)&&(n.blendEquationSeparate(H[Ae],H[Se]),x=Ae,A=Se),(Q!==C||Me!==b||H1!==E||vt!==D)&&(n.blendFuncSeparate(fe[Q],fe[Me],fe[H1],fe[vt]),C=Q,b=Me,E=H1,D=vt),M=V,S=!1;else if(V!==M||wt!==S){if((100!==x||100!==A)&&(n.blendEquation(n.FUNC_ADD),x=100,A=100),wt)switch(V){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",V)}else switch(V){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",V)}C=null,b=null,E=null,D=null,M=V,S=wt}}else!0===v&&(Ue(n.BLEND),v=!1)}function ue(V){z!==V&&(n.frontFace(V?n.CW:n.CCW),z=V)}function k(V){0!==V?(De(n.CULL_FACE),V!==F&&n.cullFace(1===V?n.BACK:2===V?n.FRONT:n.FRONT_AND_BACK)):Ue(n.CULL_FACE),F=V}function Pe(V,Ae,Q){V?(De(n.POLYGON_OFFSET_FILL),(U!==Ae||O!==Q)&&(n.polygonOffset(Ae,Q),U=Ae,O=Q)):Ue(n.POLYGON_OFFSET_FILL)}return{buffers:{color:o,depth:c,stencil:l},enable:De,disable:Ue,bindFramebuffer:function y1(V,Ae){return d[V]!==Ae&&(n.bindFramebuffer(V,Ae),d[V]=Ae,i&&(V===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Ae),V===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Ae)),!0)},drawBuffers:function at(V,Ae){let Q=m,Me=!1;if(V)if(Q=p.get(Ae),void 0===Q&&(Q=[],p.set(Ae,Q)),V.isWebGLMultipleRenderTargets){const Se=V.texture;if(Q.length!==Se.length||Q[0]!==n.COLOR_ATTACHMENT0){for(let H1=0,vt=Se.length;H1<vt;H1++)Q[H1]=n.COLOR_ATTACHMENT0+H1;Q.length=Se.length,Me=!0}}else Q[0]!==n.COLOR_ATTACHMENT0&&(Q[0]=n.COLOR_ATTACHMENT0,Me=!0);else Q[0]!==n.BACK&&(Q[0]=n.BACK,Me=!0);Me&&(t.isWebGL2?n.drawBuffers(Q):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Q))},useProgram:function e1(V){return g!==V&&(n.useProgram(V),g=V,!0)},setBlending:re,setMaterial:function ge(V,Ae){2===V.side?Ue(n.CULL_FACE):De(n.CULL_FACE);let Q=1===V.side;Ae&&(Q=!Q),ue(Q),1===V.blending&&!1===V.transparent?re(0):re(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),c.setFunc(V.depthFunc),c.setTest(V.depthTest),c.setMask(V.depthWrite),o.setMask(V.colorWrite);const Me=V.stencilWrite;l.setTest(Me),Me&&(l.setMask(V.stencilWriteMask),l.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),l.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),Pe(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),!0===V.alphaToCoverage?De(n.SAMPLE_ALPHA_TO_COVERAGE):Ue(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ue,setCullFace:k,setLineWidth:function ze(V){V!==q&&(ne&&n.lineWidth(V),q=V)},setPolygonOffset:Pe,setScissorTest:function f1(V){V?De(n.SCISSOR_TEST):Ue(n.SCISSOR_TEST)},activeTexture:function s1(V){void 0===V&&(V=n.TEXTURE0+G-1),oe!==V&&(n.activeTexture(V),oe=V)},bindTexture:function gt(V,Ae,Q){void 0===Q&&(Q=null===oe?n.TEXTURE0+G-1:oe);let Me=I[Q];void 0===Me&&(Me={type:void 0,texture:void 0},I[Q]=Me),(Me.type!==V||Me.texture!==Ae)&&(oe!==Q&&(n.activeTexture(Q),oe=Q),n.bindTexture(V,Ae||ke[V]),Me.type=V,Me.texture=Ae)},unbindTexture:function P(){const V=I[oe];void 0!==V&&void 0!==V.type&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)},compressedTexImage2D:function T(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexImage3D:function ee(){try{n.compressedTexImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texImage2D:function qe(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texImage3D:function i1(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},updateUBOMapping:function Be(V,Ae){let Q=f.get(Ae);void 0===Q&&(Q=new WeakMap,f.set(Ae,Q));let Me=Q.get(V);void 0===Me&&(Me=n.getUniformBlockIndex(Ae,V.name),Q.set(V,Me))},uniformBlockBinding:function x1(V,Ae){const Me=f.get(Ae).get(V);u.get(Ae)!==Me&&(n.uniformBlockBinding(Ae,Me,V.__bindingPointIndex),u.set(Ae,Me))},texStorage2D:function we(){try{n.texStorage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texStorage3D:function ae(){try{n.texStorage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texSubImage2D:function he(){try{n.texSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texSubImage3D:function ve(){try{n.texSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexSubImage2D:function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexSubImage3D:function Xe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},scissor:function a1(V){!1===xe.equals(V)&&(n.scissor(V.x,V.y,V.z,V.w),xe.copy(V))},viewport:function je(V){!1===_e.equals(V)&&(n.viewport(V.x,V.y,V.z,V.w),_e.copy(V))},reset:function nt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},oe=null,I={},d={},p=new WeakMap,m=[],g=null,v=!1,M=null,x=null,C=null,b=null,A=null,E=null,D=null,S=!1,z=null,F=null,q=null,U=null,O=null,xe.set(0,0,n.canvas.width,n.canvas.height),_e.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),l.reset()}}}function Jpe(n,e,t,i,r,s,a){const o=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function M(P,T){return v?new OffscreenCanvas(P,T):X8("canvas")}function x(P,T,ee,he){let ve=1;if((P.width>he||P.height>he)&&(ve=he/Math.max(P.width,P.height)),ve<1||!0===T){if(typeof HTMLImageElement<"u"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&P instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&P instanceof ImageBitmap){const be=T?Eu:Math.floor,Xe=be(ve*P.width),we=be(ve*P.height);void 0===m&&(m=M(Xe,we));const ae=ee?M(Xe,we):m;return ae.width=Xe,ae.height=we,ae.getContext("2d").drawImage(P,0,0,Xe,we),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+Xe+"x"+we+")."),ae}return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P}return P}function C(P){return Ry(P.width)&&Ry(P.height)}function A(P,T){return P.generateMipmaps&&T&&P.minFilter!==x2&&P.minFilter!==C2}function E(P){n.generateMipmap(P)}function D(P,T,ee,he,ve=!1){if(!1===o)return T;if(null!==P){if(void 0!==n[P])return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let be=T;return T===n.RED&&(ee===n.FLOAT&&(be=n.R32F),ee===n.HALF_FLOAT&&(be=n.R16F),ee===n.UNSIGNED_BYTE&&(be=n.R8)),T===n.RG&&(ee===n.FLOAT&&(be=n.RG32F),ee===n.HALF_FLOAT&&(be=n.RG16F),ee===n.UNSIGNED_BYTE&&(be=n.RG8)),T===n.RGBA&&(ee===n.FLOAT&&(be=n.RGBA32F),ee===n.HALF_FLOAT&&(be=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(be=he===z1&&!1===ve?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)),(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function S(P,T,ee){return!0===A(P,ee)||P.isFramebufferTexture&&P.minFilter!==x2&&P.minFilter!==C2?Math.log2(Math.max(T.width,T.height))+1:void 0!==P.mipmaps&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?T.mipmaps.length:1}function z(P){return P===x2||1004===P||1005===P?n.NEAREST:n.LINEAR}function F(P){const T=P.target;T.removeEventListener("dispose",F),function U(P){const T=i.get(P);if(void 0===T.__webglInit)return;const ee=P.source,he=g.get(ee);if(he){const ve=he[T.__cacheKey];ve.usedTimes--,0===ve.usedTimes&&O(P),0===Object.keys(he).length&&g.delete(ee)}i.remove(P)}(T),T.isVideoTexture&&p.delete(T)}function q(P){const T=P.target;T.removeEventListener("dispose",q),function G(P){const T=P.texture,ee=i.get(P),he=i.get(T);if(void 0!==he.__webglTexture&&(n.deleteTexture(he.__webglTexture),a.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++)n.deleteFramebuffer(ee.__webglFramebuffer[ve]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[ve]);else{if(n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let ve=0;ve<ee.__webglColorRenderbuffer.length;ve++)ee.__webglColorRenderbuffer[ve]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[ve]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(P.isWebGLMultipleRenderTargets)for(let ve=0,be=T.length;ve<be;ve++){const Xe=i.get(T[ve]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),a.memory.textures--),i.remove(T[ve])}i.remove(T),i.remove(P)}(T)}function O(P){const T=i.get(P);n.deleteTexture(T.__webglTexture),delete g.get(P.source)[T.__cacheKey],a.memory.textures--}let ne=0;function I(P,T){const ee=i.get(P);if(P.isVideoTexture&&function s1(P){const T=a.render.frame;p.get(P)!==T&&(p.set(P,T),P.update())}(P),!1===P.isRenderTargetTexture&&P.version>0&&ee.__version!==P.version){const he=P.image;if(null===he)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==he.complete)return void y1(ee,P,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+T)}const _e={1e3:n.REPEAT,[Hn]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},Ce={[x2]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[C2]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[fa]:n.LINEAR_MIPMAP_LINEAR},ke={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function De(P,T,ee){if(ee?(n.texParameteri(P,n.TEXTURE_WRAP_S,_e[T.wrapS]),n.texParameteri(P,n.TEXTURE_WRAP_T,_e[T.wrapT]),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,_e[T.wrapR]),n.texParameteri(P,n.TEXTURE_MAG_FILTER,Ce[T.magFilter]),n.texParameteri(P,n.TEXTURE_MIN_FILTER,Ce[T.minFilter])):(n.texParameteri(P,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(P,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(P===n.TEXTURE_3D||P===n.TEXTURE_2D_ARRAY)&&n.texParameteri(P,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(T.wrapS!==Hn||T.wrapT!==Hn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,n.TEXTURE_MAG_FILTER,z(T.magFilter)),n.texParameteri(P,n.TEXTURE_MIN_FILTER,z(T.minFilter)),T.minFilter!==x2&&T.minFilter!==C2&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),T.compareFunction&&(n.texParameteri(P,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(P,n.TEXTURE_COMPARE_FUNC,ke[T.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const he=e.get("EXT_texture_filter_anisotropic");if(T.magFilter===x2||1005!==T.minFilter&&T.minFilter!==fa||T.type===q4&&!1===e.has("OES_texture_float_linear")||!1===o&&T.type===q8&&!1===e.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(n.texParameterf(P,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function Ue(P,T){let ee=!1;void 0===P.__webglInit&&(P.__webglInit=!0,T.addEventListener("dispose",F));const he=T.source;let ve=g.get(he);void 0===ve&&(ve={},g.set(he,ve));const be=function oe(P){const T=[];return T.push(P.wrapS),T.push(P.wrapT),T.push(P.wrapR||0),T.push(P.magFilter),T.push(P.minFilter),T.push(P.anisotropy),T.push(P.internalFormat),T.push(P.format),T.push(P.type),T.push(P.generateMipmaps),T.push(P.premultiplyAlpha),T.push(P.flipY),T.push(P.unpackAlignment),T.push(P.colorSpace),T.join()}(T);if(be!==P.__cacheKey){void 0===ve[be]&&(ve[be]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,ee=!0),ve[be].usedTimes++;const Xe=ve[P.__cacheKey];void 0!==Xe&&(ve[P.__cacheKey].usedTimes--,0===Xe.usedTimes&&O(T)),P.__cacheKey=be,P.__webglTexture=ve[be].texture}return ee}function y1(P,T,ee){let he=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(he=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(he=n.TEXTURE_3D);const ve=Ue(P,T),be=T.source;t.bindTexture(he,P.__webglTexture,n.TEXTURE0+ee);const Xe=i.get(be);if(be.version!==Xe.__version||!0===ve){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const we=function b(P){return!o&&(P.wrapS!==Hn||P.wrapT!==Hn||P.minFilter!==x2&&P.minFilter!==C2)}(T)&&!1===C(T.image);let ae=x(T.image,we,!1,u);ae=gt(T,ae);const qe=C(ae)||o,i1=s.convert(T.format,T.colorSpace);let Be,a1=s.convert(T.type),je=D(T.internalFormat,i1,a1,T.colorSpace);De(he,T,qe);const x1=T.mipmaps,nt=o&&!0!==T.isVideoTexture,V=void 0===Xe.__version||!0===ve,Ae=S(T,ae,qe);if(T.isDepthTexture)je=n.DEPTH_COMPONENT,o?je=T.type===q4?n.DEPTH_COMPONENT32F:T.type===Q3?n.DEPTH_COMPONENT24:T.type===ha?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:T.type===q4&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===da&&je===n.DEPTH_COMPONENT&&1012!==T.type&&T.type!==Q3&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=Q3,a1=s.convert(T.type)),T.format===D6&&je===n.DEPTH_COMPONENT&&(je=n.DEPTH_STENCIL,T.type!==ha&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=ha,a1=s.convert(T.type))),V&&(nt?t.texStorage2D(n.TEXTURE_2D,1,je,ae.width,ae.height):t.texImage2D(n.TEXTURE_2D,0,je,ae.width,ae.height,0,i1,a1,null));else if(T.isDataTexture)if(x1.length>0&&qe){nt&&V&&t.texStorage2D(n.TEXTURE_2D,Ae,je,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Be=x1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,Be.width,Be.height,i1,a1,Be.data):t.texImage2D(n.TEXTURE_2D,Q,je,Be.width,Be.height,0,i1,a1,Be.data);T.generateMipmaps=!1}else nt?(V&&t.texStorage2D(n.TEXTURE_2D,Ae,je,ae.width,ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ae.width,ae.height,i1,a1,ae.data)):t.texImage2D(n.TEXTURE_2D,0,je,ae.width,ae.height,0,i1,a1,ae.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){nt&&V&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ae,je,x1[0].width,x1[0].height,ae.depth);for(let Q=0,Me=x1.length;Q<Me;Q++)Be=x1[Q],T.format!==nr?null!==i1?nt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,Be.width,Be.height,ae.depth,i1,Be.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Q,je,Be.width,Be.height,ae.depth,0,Be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,Be.width,Be.height,ae.depth,i1,a1,Be.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Q,je,Be.width,Be.height,ae.depth,0,i1,a1,Be.data)}else{nt&&V&&t.texStorage2D(n.TEXTURE_2D,Ae,je,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Be=x1[Q],T.format!==nr?null!==i1?nt?t.compressedTexSubImage2D(n.TEXTURE_2D,Q,0,0,Be.width,Be.height,i1,Be.data):t.compressedTexImage2D(n.TEXTURE_2D,Q,je,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,Be.width,Be.height,i1,a1,Be.data):t.texImage2D(n.TEXTURE_2D,Q,je,Be.width,Be.height,0,i1,a1,Be.data)}else if(T.isDataArrayTexture)nt?(V&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ae,je,ae.width,ae.height,ae.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ae.width,ae.height,ae.depth,i1,a1,ae.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,je,ae.width,ae.height,ae.depth,0,i1,a1,ae.data);else if(T.isData3DTexture)nt?(V&&t.texStorage3D(n.TEXTURE_3D,Ae,je,ae.width,ae.height,ae.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ae.width,ae.height,ae.depth,i1,a1,ae.data)):t.texImage3D(n.TEXTURE_3D,0,je,ae.width,ae.height,ae.depth,0,i1,a1,ae.data);else if(T.isFramebufferTexture){if(V)if(nt)t.texStorage2D(n.TEXTURE_2D,Ae,je,ae.width,ae.height);else{let Q=ae.width,Me=ae.height;for(let Se=0;Se<Ae;Se++)t.texImage2D(n.TEXTURE_2D,Se,je,Q,Me,0,i1,a1,null),Q>>=1,Me>>=1}}else if(x1.length>0&&qe){nt&&V&&t.texStorage2D(n.TEXTURE_2D,Ae,je,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Be=x1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,i1,a1,Be):t.texImage2D(n.TEXTURE_2D,Q,je,i1,a1,Be);T.generateMipmaps=!1}else nt?(V&&t.texStorage2D(n.TEXTURE_2D,Ae,je,ae.width,ae.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,i1,a1,ae)):t.texImage2D(n.TEXTURE_2D,0,je,i1,a1,ae);A(T,qe)&&E(he),Xe.__version=be.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}function e1(P,T,ee,he,ve){const be=s.convert(ee.format,ee.colorSpace),Xe=s.convert(ee.type),we=D(ee.internalFormat,be,Xe,ee.colorSpace);i.get(T).__hasExternalTextures||(ve===n.TEXTURE_3D||ve===n.TEXTURE_2D_ARRAY?t.texImage3D(ve,0,we,T.width,T.height,T.depth,0,be,Xe,null):t.texImage2D(ve,0,we,T.width,T.height,0,be,Xe,null)),t.bindFramebuffer(n.FRAMEBUFFER,P),f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,he,ve,i.get(ee).__webglTexture,0,Pe(T)):(ve===n.TEXTURE_2D||ve>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ve<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,he,ve,i.get(ee).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function H(P,T,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,P),T.depthBuffer&&!T.stencilBuffer){let he=n.DEPTH_COMPONENT16;if(ee||f1(T)){const ve=T.depthTexture;ve&&ve.isDepthTexture&&(ve.type===q4?he=n.DEPTH_COMPONENT32F:ve.type===Q3&&(he=n.DEPTH_COMPONENT24));const be=Pe(T);f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,he,T.width,T.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,he,T.width,T.height)}else n.renderbufferStorage(n.RENDERBUFFER,he,T.width,T.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,P)}else if(T.depthBuffer&&T.stencilBuffer){const he=Pe(T);ee&&!1===f1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,P)}else{const he=!0===T.isWebGLMultipleRenderTargets?T.texture:[T.texture];for(let ve=0;ve<he.length;ve++){const be=he[ve],Xe=s.convert(be.format,be.colorSpace),we=s.convert(be.type),ae=D(be.internalFormat,Xe,we,be.colorSpace),qe=Pe(T);ee&&!1===f1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,qe,ae,T.width,T.height):f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,qe,ae,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,ae,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function re(P){const T=i.get(P),ee=!0===P.isWebGLCubeRenderTarget;if(P.depthTexture&&!T.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");!function fe(P,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,P),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),I(T.depthTexture,0);const he=i.get(T.depthTexture).__webglTexture,ve=Pe(T);if(T.depthTexture.format===da)f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0);else{if(T.depthTexture.format!==D6)throw new Error("Unknown depthTexture format");f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0,ve):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0)}}(T.__webglFramebuffer,P)}else if(ee){T.__webglDepthbuffer=[];for(let he=0;he<6;he++)t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[he]),T.__webglDepthbuffer[he]=n.createRenderbuffer(),H(T.__webglDepthbuffer[he],P,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=n.createRenderbuffer(),H(T.__webglDepthbuffer,P,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pe(P){return Math.min(f,P.samples)}function f1(P){const T=i.get(P);return o&&P.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function gt(P,T){const ee=P.colorSpace,he=P.format,ve=P.type;return!0===P.isCompressedTexture||1035===P.format||ee!==o4&&""!==ee&&(ee===z1?!1===o?!0===e.has("EXT_sRGB")&&he===nr?(P.format=1035,P.minFilter=C2,P.generateMipmaps=!1):T=aR.sRGBToLinear(T):(he!==nr||ve!==K3)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),T}this.allocateTextureUnit=function J(){const P=ne;return P>=c&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+c),ne+=1,P},this.resetTextureUnits=function X(){ne=0},this.setTexture2D=I,this.setTexture2DArray=function B(P,T){const ee=i.get(P);P.version>0&&ee.__version!==P.version?y1(ee,P,T):t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+T)},this.setTexture3D=function ce(P,T){const ee=i.get(P);P.version>0&&ee.__version!==P.version?y1(ee,P,T):t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+T)},this.setTextureCube=function xe(P,T){const ee=i.get(P);P.version>0&&ee.__version!==P.version?function at(P,T,ee){if(6!==T.image.length)return;const he=Ue(P,T),ve=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,P.__webglTexture,n.TEXTURE0+ee);const be=i.get(ve);if(ve.version!==be.__version||!0===he){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Xe=T.isCompressedTexture||T.image[0].isCompressedTexture,we=T.image[0]&&T.image[0].isDataTexture,ae=[];for(let Q=0;Q<6;Q++)ae[Q]=Xe||we?we?T.image[Q].image:T.image[Q]:x(T.image[Q],!1,!0,l),ae[Q]=gt(T,ae[Q]);const qe=ae[0],i1=C(qe)||o,a1=s.convert(T.format,T.colorSpace),je=s.convert(T.type),Be=D(T.internalFormat,a1,je,T.colorSpace),x1=o&&!0!==T.isVideoTexture,nt=void 0===be.__version||!0===he;let Ae,V=S(T,qe,i1);if(De(n.TEXTURE_CUBE_MAP,T,i1),Xe){x1&&nt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,V,Be,qe.width,qe.height);for(let Q=0;Q<6;Q++){Ae=ae[Q].mipmaps;for(let Me=0;Me<Ae.length;Me++){const Se=Ae[Me];T.format!==nr?null!==a1?x1?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Se.width,Se.height,a1,Se.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,Be,Se.width,Se.height,0,Se.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Se.width,Se.height,a1,je,Se.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,Be,Se.width,Se.height,0,a1,je,Se.data)}}}else{Ae=T.mipmaps,x1&&nt&&(Ae.length>0&&V++,t.texStorage2D(n.TEXTURE_CUBE_MAP,V,Be,ae[0].width,ae[0].height));for(let Q=0;Q<6;Q++)if(we){x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,ae[Q].width,ae[Q].height,a1,je,ae[Q].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,Be,ae[Q].width,ae[Q].height,0,a1,je,ae[Q].data);for(let Me=0;Me<Ae.length;Me++){const H1=Ae[Me].image[Q].image;x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,H1.width,H1.height,a1,je,H1.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,Be,H1.width,H1.height,0,a1,je,H1.data)}}else{x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,a1,je,ae[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,Be,a1,je,ae[Q]);for(let Me=0;Me<Ae.length;Me++){const Se=Ae[Me];x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,a1,je,Se.image[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,Be,a1,je,Se.image[Q])}}}A(T,i1)&&E(n.TEXTURE_CUBE_MAP),be.__version=ve.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}(ee,P,T):t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+T)},this.rebindTextures=function ge(P,T,ee){const he=i.get(P);void 0!==T&&e1(he.__webglFramebuffer,P,P.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==ee&&re(P)},this.setupRenderTarget=function ue(P){const T=P.texture,ee=i.get(P),he=i.get(T);P.addEventListener("dispose",q),!0!==P.isWebGLMultipleRenderTargets&&(void 0===he.__webglTexture&&(he.__webglTexture=n.createTexture()),he.__version=T.version,a.memory.textures++);const ve=!0===P.isWebGLCubeRenderTarget,be=!0===P.isWebGLMultipleRenderTargets,Xe=C(P)||o;if(ve){ee.__webglFramebuffer=[];for(let we=0;we<6;we++)ee.__webglFramebuffer[we]=n.createFramebuffer()}else{if(ee.__webglFramebuffer=n.createFramebuffer(),be)if(r.drawBuffers){const we=P.texture;for(let ae=0,qe=we.length;ae<qe;ae++){const i1=i.get(we[ae]);void 0===i1.__webglTexture&&(i1.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&P.samples>0&&!1===f1(P)){const we=be?T:[T];ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let ae=0;ae<we.length;ae++){const qe=we[ae];ee.__webglColorRenderbuffer[ae]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[ae]);const i1=s.convert(qe.format,qe.colorSpace),a1=s.convert(qe.type),je=D(qe.internalFormat,i1,a1,qe.colorSpace,!0===P.isXRRenderTarget),Be=Pe(P);n.renderbufferStorageMultisample(n.RENDERBUFFER,Be,je,P.width,P.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,n.RENDERBUFFER,ee.__webglColorRenderbuffer[ae])}n.bindRenderbuffer(n.RENDERBUFFER,null),P.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),H(ee.__webglDepthRenderbuffer,P,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ve){t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture),De(n.TEXTURE_CUBE_MAP,T,Xe);for(let we=0;we<6;we++)e1(ee.__webglFramebuffer[we],P,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+we);A(T,Xe)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const we=P.texture;for(let ae=0,qe=we.length;ae<qe;ae++){const i1=we[ae],a1=i.get(i1);t.bindTexture(n.TEXTURE_2D,a1.__webglTexture),De(n.TEXTURE_2D,i1,Xe),e1(ee.__webglFramebuffer,P,i1,n.COLOR_ATTACHMENT0+ae,n.TEXTURE_2D),A(i1,Xe)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let we=n.TEXTURE_2D;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(o?we=P.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(we,he.__webglTexture),De(we,T,Xe),e1(ee.__webglFramebuffer,P,T,n.COLOR_ATTACHMENT0,we),A(T,Xe)&&E(we),t.unbindTexture()}P.depthBuffer&&re(P)},this.updateRenderTargetMipmap=function k(P){const T=C(P)||o,ee=!0===P.isWebGLMultipleRenderTargets?P.texture:[P.texture];for(let he=0,ve=ee.length;he<ve;he++){const be=ee[he];if(A(be,T)){const Xe=P.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,we=i.get(be).__webglTexture;t.bindTexture(Xe,we),E(Xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function ze(P){if(o&&P.samples>0&&!1===f1(P)){const T=P.isWebGLMultipleRenderTargets?P.texture:[P.texture],ee=P.width,he=P.height;let ve=n.COLOR_BUFFER_BIT;const be=[],Xe=P.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,we=i.get(P),ae=!0===P.isWebGLMultipleRenderTargets;if(ae)for(let qe=0;qe<T.length;qe++)t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,we.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglFramebuffer);for(let qe=0;qe<T.length;qe++){be.push(n.COLOR_ATTACHMENT0+qe),P.depthBuffer&&be.push(Xe);const i1=void 0!==we.__ignoreDepthValues&&we.__ignoreDepthValues;if(!1===i1&&(P.depthBuffer&&(ve|=n.DEPTH_BUFFER_BIT),P.stencilBuffer&&(ve|=n.STENCIL_BUFFER_BIT)),ae&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,we.__webglColorRenderbuffer[qe]),!0===i1&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Xe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Xe])),ae){const a1=i.get(T[qe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,a1,0)}n.blitFramebuffer(0,0,ee,he,0,0,ee,he,ve,n.NEAREST),d&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ae)for(let qe=0;qe<T.length;qe++){t.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.RENDERBUFFER,we.__webglColorRenderbuffer[qe]);const i1=i.get(T[qe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,we.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+qe,n.TEXTURE_2D,i1,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,we.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=e1,this.useMultisampledRTT=f1}function Kpe(n,e,t){const i=t.isWebGL2;return{convert:function r(s,a=""){let o;if(s===K3)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===Q3)return n.UNSIGNED_INT;if(s===q4)return n.FLOAT;if(s===q8)return i?n.HALF_FLOAT:(o=e.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===nr)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===da)return n.DEPTH_COMPONENT;if(s===D6)return n.DEPTH_STENCIL;if(1035===s)return o=e.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(a===z1){if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(33776===s)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=e.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===s)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(o=e.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===s)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return o=e.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(o=e.get("WEBGL_compressed_texture_etc"),null===o)return null;if(37492===s)return a===z1?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(o=e.get("WEBGL_compressed_texture_astc"),null===o)return null;if(37808===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return a===z1?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s){if(o=e.get("EXT_texture_compression_bptc"),null===o)return null;if(36492===s)return a===z1?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===s||36284===s||36285===s||36286===s){if(o=e.get("EXT_texture_compression_rgtc"),null===o)return null;if(36492===s)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===ha?i?n.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class Qpe extends B2{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class s5 extends Pi{constructor(){super(),this.isGroup=!0,this.type="Group"}}const eme={type:"move"};class c_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new s5,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new s5,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new s5,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,i),v=this._getHandJoint(l,m);null!==g&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=g.radius),v.visible=null!==g}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),d=.02,p=.005;l.inputState.pinching&&h>d+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=d-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(eme)))}return null!==o&&(o.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new s5;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class tme extends c4{constructor(e,t,i,r,s,a,o,c,l,u){if((u=void 0!==u?u:da)!==da&&u!==D6)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===da&&(i=Q3),void 0===i&&u===D6&&(i=ha),super(null,r,s,a,o,c,u,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==o?o:x2,this.minFilter=void 0!==c?c:x2,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class nme extends I6{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",c=1,l=null,u=null,f=null,h=null,d=null,p=null;const m=t.getContextAttributes();let g=null,v=null;const M=[],x=[],C=new B2;C.layers.enable(1),C.viewport=new bt;const b=new B2;b.layers.enable(2),b.viewport=new bt;const A=[C,b],E=new Qpe;E.layers.enable(1),E.layers.enable(2);let D=null,S=null;function z(B){const ce=x.indexOf(B.inputSource);if(-1===ce)return;const xe=M[ce];void 0!==xe&&(xe.update(B.inputSource,B.frame,l||a),xe.dispatchEvent({type:B.type,data:B.inputSource}))}function F(){r.removeEventListener("select",z),r.removeEventListener("selectstart",z),r.removeEventListener("selectend",z),r.removeEventListener("squeeze",z),r.removeEventListener("squeezestart",z),r.removeEventListener("squeezeend",z),r.removeEventListener("end",F),r.removeEventListener("inputsourceschange",q);for(let B=0;B<M.length;B++){const ce=x[B];null!==ce&&(x[B]=null,M[B].disconnect(ce))}D=null,S=null,e.setRenderTarget(g),d=null,h=null,f=null,r=null,v=null,I.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function q(B){for(let ce=0;ce<B.removed.length;ce++){const xe=B.removed[ce],_e=x.indexOf(xe);_e>=0&&(x[_e]=null,M[_e].disconnect(xe))}for(let ce=0;ce<B.added.length;ce++){const xe=B.added[ce];let _e=x.indexOf(xe);if(-1===_e){for(let ke=0;ke<M.length;ke++){if(ke>=x.length){x.push(xe),_e=ke;break}if(null===x[ke]){x[ke]=xe,_e=ke;break}}if(-1===_e)break}const Ce=M[_e];Ce&&Ce.connect(xe)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(B){let ce=M[B];return void 0===ce&&(ce=new c_,M[B]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(B){let ce=M[B];return void 0===ce&&(ce=new c_,M[B]=ce),ce.getGripSpace()},this.getHand=function(B){let ce=M[B];return void 0===ce&&(ce=new c_,M[B]=ce),ce.getHandSpace()},this.setFramebufferScaleFactor=function(B){s=B,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(B){o=B,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(B){l=B},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var B=function C9e(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(c){dI(s,i,r,a,o,"next",c)}function o(c){dI(s,i,r,a,o,"throw",c)}a(void 0)})}}(function*(ce){if(r=ce,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",z),r.addEventListener("selectstart",z),r.addEventListener("selectend",z),r.addEventListener("squeeze",z),r.addEventListener("squeezestart",z),r.addEventListener("squeezeend",z),r.addEventListener("end",F),r.addEventListener("inputsourceschange",q),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)d=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:d}),v=new ya(d.framebufferWidth,d.framebufferHeight,{format:nr,type:K3,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let xe=null,_e=null,Ce=null;m.depth&&(Ce=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=m.stencil?D6:da,_e=m.stencil?ha:Q3);const ke={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(r,t),h=f.createProjectionLayer(ke),r.updateRenderState({layers:[h]}),v=new ya(h.textureWidth,h.textureHeight,{format:nr,type:K3,depthTexture:new tme(h.textureWidth,h.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(c),l=null,a=yield r.requestReferenceSpace(o),I.setContext(r),I.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(ce){return B.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const U=new N,O=new N;function ne(B,ce){null===ce?B.matrixWorld.copy(B.matrix):B.matrixWorld.multiplyMatrices(ce.matrixWorld,B.matrix),B.matrixWorldInverse.copy(B.matrixWorld).invert()}this.updateCamera=function(B){if(null===r)return;E.near=b.near=C.near=B.near,E.far=b.far=C.far=B.far,(D!==E.near||S!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),D=E.near,S=E.far);const ce=B.parent,xe=E.cameras;ne(E,ce);for(let _e=0;_e<xe.length;_e++)ne(xe[_e],ce);2===xe.length?function G(B,ce,xe){U.setFromMatrixPosition(ce.matrixWorld),O.setFromMatrixPosition(xe.matrixWorld);const _e=U.distanceTo(O),Ce=ce.projectionMatrix.elements,ke=xe.projectionMatrix.elements,De=Ce[14]/(Ce[10]-1),Ue=Ce[14]/(Ce[10]+1),y1=(Ce[9]+1)/Ce[5],at=(Ce[9]-1)/Ce[5],e1=(Ce[8]-1)/Ce[0],H=(ke[8]+1)/ke[0],fe=De*e1,re=De*H,ge=_e/(-e1+H),ue=ge*-e1;ce.matrixWorld.decompose(B.position,B.quaternion,B.scale),B.translateX(ue),B.translateZ(ge),B.matrixWorld.compose(B.position,B.quaternion,B.scale),B.matrixWorldInverse.copy(B.matrixWorld).invert();const k=De+ge,ze=Ue+ge;B.projectionMatrix.makePerspective(fe-ue,re+(_e-ue),y1*Ue/ze*k,at*Ue/ze*k,k,ze),B.projectionMatrixInverse.copy(B.projectionMatrix).invert()}(E,C,b):E.projectionMatrix.copy(C.projectionMatrix),function X(B,ce,xe){null===xe?B.matrix.copy(ce.matrixWorld):(B.matrix.copy(xe.matrixWorld),B.matrix.invert(),B.matrix.multiply(ce.matrixWorld)),B.matrix.decompose(B.position,B.quaternion,B.scale),B.updateMatrixWorld(!0);const _e=B.children;for(let Ce=0,ke=_e.length;Ce<ke;Ce++)_e[Ce].updateMatrixWorld(!0);B.projectionMatrix.copy(ce.projectionMatrix),B.projectionMatrixInverse.copy(ce.projectionMatrixInverse),B.isPerspectiveCamera&&(B.fov=2*R6*Math.atan(1/B.projectionMatrix.elements[5]),B.zoom=1)}(B,E,ce)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return c},this.setFoveation=function(B){c=B,null!==h&&(h.fixedFoveation=B),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=B)};let J=null;const I=new AR;I.setAnimationLoop(function oe(B,ce){if(u=ce.getViewerPose(l||a),p=ce,null!==u){const xe=u.views;null!==d&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let _e=!1;xe.length!==E.cameras.length&&(E.cameras.length=0,_e=!0);for(let Ce=0;Ce<xe.length;Ce++){const ke=xe[Ce];let De=null;if(null!==d)De=d.getViewport(ke);else{const y1=f.getViewSubImage(h,ke);De=y1.viewport,0===Ce&&(e.setRenderTargetTextures(v,y1.colorTexture,h.ignoreDepthValues?void 0:y1.depthStencilTexture),e.setRenderTarget(v))}let Ue=A[Ce];void 0===Ue&&(Ue=new B2,Ue.layers.enable(Ce),Ue.viewport=new bt,A[Ce]=Ue),Ue.matrix.fromArray(ke.transform.matrix),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.projectionMatrix.fromArray(ke.projectionMatrix),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert(),Ue.viewport.set(De.x,De.y,De.width,De.height),0===Ce&&(E.matrix.copy(Ue.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===_e&&E.cameras.push(Ue)}}for(let xe=0;xe<M.length;xe++){const _e=x[xe],Ce=M[xe];null!==_e&&void 0!==Ce&&Ce.update(_e,ce,l||a)}J&&J(B,ce),ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ce}),p=null}),this.setAnimationLoop=function(B){J=B},this.dispose=function(){}}}function ime(n,e){function t(g,v){!0===g.matrixAutoUpdate&&g.updateMatrix(),v.value.copy(g.matrix)}function s(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.bumpMap&&(g.bumpMap.value=v.bumpMap,t(v.bumpMap,g.bumpMapTransform),g.bumpScale.value=v.bumpScale,1===v.side&&(g.bumpScale.value*=-1)),v.normalMap&&(g.normalMap.value=v.normalMap,t(v.normalMap,g.normalMapTransform),g.normalScale.value.copy(v.normalScale),1===v.side&&g.normalScale.value.negate()),v.displacementMap&&(g.displacementMap.value=v.displacementMap,t(v.displacementMap,g.displacementMapTransform),g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,g.emissiveMapTransform)),v.specularMap&&(g.specularMap.value=v.specularMap,t(v.specularMap,g.specularMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const M=e.get(v).envMap;if(M&&(g.envMap.value=M,g.flipEnvMap.value=M.isCubeTexture&&!1===M.isRenderTargetTexture?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const x=!0===n.useLegacyLights?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*x,t(v.lightMap,g.lightMapTransform)}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,v){v.color.getRGB(g.fogColor.value,SR(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)},refreshMaterialUniforms:function r(g,v,M,x,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(g,v):v.isMeshToonMaterial?(s(g,v),function f(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}(g,v)):v.isMeshPhongMaterial?(s(g,v),function u(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}(g,v)):v.isMeshStandardMaterial?(s(g,v),function h(g,v){g.metalness.value=v.metalness,v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,g.metalnessMapTransform)),g.roughness.value=v.roughness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,g.roughnessMapTransform)),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}(g,v),v.isMeshPhysicalMaterial&&function d(g,v,M){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,g.sheenColorMapTransform)),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,g.sheenRoughnessMapTransform))),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,g.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(g.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),1===v.side&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,g.iridescenceMapTransform)),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=M.texture,g.transmissionSamplerSize.value.set(M.width,M.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,g.transmissionMapTransform)),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(g.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(g.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,g.specularColorMapTransform)),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,g.specularIntensityMapTransform))}(g,v,C)):v.isMeshMatcapMaterial?(s(g,v),function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}(g,v)):v.isMeshDepthMaterial?s(g,v):v.isMeshDistanceMaterial?(s(g,v),function m(g,v){const M=e.get(v).light;g.referencePosition.value.setFromMatrixPosition(M.matrixWorld),g.nearDistance.value=M.shadow.camera.near,g.farDistance.value=M.shadow.camera.far}(g,v)):v.isMeshNormalMaterial?s(g,v):v.isLineBasicMaterial?(function a(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform))}(g,v),v.isLineDashedMaterial&&function o(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}(g,v)):v.isPointsMaterial?function c(g,v,M,x){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*M,g.scale.value=.5*x,v.map&&(g.map.value=v.map,t(v.map,g.uvTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v,M,x):v.isSpriteMaterial?function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function rme(n,e,t,i){let r={},s={},a=[];const o=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(M,x,C){const b=M.value;if(void 0===C[x]){if("number"==typeof b)C[x]=b;else{const A=Array.isArray(b)?b:[b],E=[];for(let D=0;D<A.length;D++)E.push(A[D].clone());C[x]=E}return!0}if("number"==typeof b){if(C[x]!==b)return C[x]=b,!0}else{const A=Array.isArray(C[x])?C[x]:[C[x]],E=Array.isArray(b)?b:[b];for(let D=0;D<A.length;D++){const S=A[D];if(!1===S.equals(E[D]))return S.copy(E[D]),!0}}return!1}function m(M){const x={boundary:0,storage:0};return"number"==typeof M?(x.boundary=4,x.storage=4):M.isVector2?(x.boundary=8,x.storage=8):M.isVector3||M.isColor?(x.boundary=16,x.storage=12):M.isVector4?(x.boundary=16,x.storage=16):M.isMatrix3?(x.boundary=48,x.storage=48):M.isMatrix4?(x.boundary=64,x.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),x}function g(M){const x=M.target;x.removeEventListener("dispose",g);const C=a.indexOf(x.__bindingPointIndex);a.splice(C,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}return{bind:function c(M,x){i.uniformBlockBinding(M,x.program)},update:function l(M,x){let C=r[M.id];void 0===C&&(function p(M){const x=M.uniforms;let C=0;let A=0;for(let E=0,D=x.length;E<D;E++){const S=x[E],z={boundary:0,storage:0},F=Array.isArray(S.value)?S.value:[S.value];for(let q=0,U=F.length;q<U;q++){const G=m(F[q]);z.boundary+=G.boundary,z.storage+=G.storage}S.__data=new Float32Array(z.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=C,E>0&&(A=C%16,0!==A&&16-A-z.boundary<0&&(C+=16-A,S.__offset=C)),C+=z.storage}A=C%16,A>0&&(C+=16-A),M.__size=C,M.__cache={}}(M),C=function u(M){const x=function f(){for(let M=0;M<o;M++)if(-1===a.indexOf(M))return a.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();M.__bindingPointIndex=x;const C=n.createBuffer(),b=M.__size,A=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,b,A),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,C),C}(M),r[M.id]=C,M.addEventListener("dispose",g)),i.updateUBOMapping(M,x.program);const A=e.render.frame;s[M.id]!==A&&(function h(M){const C=M.uniforms,b=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[M.id]);for(let A=0,E=C.length;A<E;A++){const D=C[A];if(!0===d(D,A,b)){const S=D.__offset,z=Array.isArray(D.value)?D.value:[D.value];let F=0;for(let q=0;q<z.length;q++){const U=z[q],O=m(U);"number"==typeof U?(D.__data[0]=U,n.bufferSubData(n.UNIFORM_BUFFER,S+F,D.__data)):U.isMatrix3?(D.__data[0]=U.elements[0],D.__data[1]=U.elements[1],D.__data[2]=U.elements[2],D.__data[3]=U.elements[0],D.__data[4]=U.elements[3],D.__data[5]=U.elements[4],D.__data[6]=U.elements[5],D.__data[7]=U.elements[0],D.__data[8]=U.elements[6],D.__data[9]=U.elements[7],D.__data[10]=U.elements[8],D.__data[11]=U.elements[0]):(U.toArray(D.__data,F),F+=O.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,S,D.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(M),s[M.id]=A)},dispose:function v(){for(const M in r)n.deleteBuffer(r[M]);a=[],r={},s={}}}}function sme(){const n=X8("canvas");return n.style.display="block",n}class l_{constructor(e={}){const{canvas:t=sme(),context:i=null,depth:r=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:a;const d=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=z1,this.useLegacyLights=!0,this.toneMapping=$4,this.toneMappingExposure=1;const x=this;let C=!1,b=0,A=0,E=null,D=-1,S=null;const z=new bt,F=new bt;let q=null;const U=new Oe(0);let O=0,G=t.width,ne=t.height,X=1,J=null,oe=null;const I=new bt(0,0,G,ne),B=new bt(0,0,G,ne);let ce=!1;const xe=new t_;let _e=!1,Ce=!1,ke=null;const De=new E1,Ue=new pe,y1=new N,at={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function e1(){return null===E?X:1}let re,ge,ue,k,ze,Pe,f1,s1,gt,P,T,ee,he,ve,be,Xe,we,ae,qe,i1,a1,je,Be,x1,H=i;function fe(L,Y){for(let K=0;K<L.length;K++){const se=t.getContext(L[K],Y);if(null!==se)return se}return null}try{const L={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r154"),t.addEventListener("webglcontextlost",Ae,!1),t.addEventListener("webglcontextrestored",Q,!1),t.addEventListener("webglcontextcreationerror",Me,!1),null===H){const Y=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&Y.shift(),H=fe(Y,L),null===H)throw fe(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===H.getShaderPrecisionFormat&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}function nt(){re=new vde(H),ge=new fde(H,re,e),re.init(ge),je=new Kpe(H,re,ge),ue=new Ype(H,re,ge),k=new Mde(H),ze=new Ope,Pe=new Jpe(H,re,ue,ze,ge,je,k),f1=new dde(x),s1=new gde(x),gt=new ufe(H,ge),Be=new lde(H,re,gt,ge),P=new yde(H,gt,k,Be),T=new wde(H,P,gt,k),qe=new bde(H,ge,Pe),Xe=new hde(ze),ee=new Vpe(x,f1,s1,re,ge,Be,Xe),he=new ime(x,ze),ve=new kpe,be=new $pe(re,ge),ae=new cde(x,f1,s1,ue,T,h,c),we=new Xpe(x,T,ge),x1=new rme(H,k,ge,ue),i1=new ude(H,re,k,ge),a1=new _de(H,re,k,ge),k.programs=ee.programs,x.capabilities=ge,x.extensions=re,x.properties=ze,x.renderLists=ve,x.shadowMap=we,x.state=ue,x.info=k}nt();const V=new nme(x,H);function Ae(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Q(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const L=k.autoReset,Y=we.enabled,K=we.autoUpdate,j=we.needsUpdate,se=we.type;nt(),k.autoReset=L,we.enabled=Y,we.autoUpdate=K,we.needsUpdate=j,we.type=se}function Me(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function Se(L){const Y=L.target;Y.removeEventListener("dispose",Se),function H1(L){(function vt(L){const Y=ze.get(L).programs;void 0!==Y&&(Y.forEach(function(K){ee.releaseProgram(K)}),L.isShaderMaterial&&ee.releaseShaderCache(L))})(L),ze.remove(L)}(Y)}this.xr=V,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const L=re.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=re.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(L){void 0!==L&&(X=L,this.setSize(G,ne,!1))},this.getSize=function(L){return L.set(G,ne)},this.setSize=function(L,Y,K=!0){V.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=L,ne=Y,t.width=Math.floor(L*X),t.height=Math.floor(Y*X),!0===K&&(t.style.width=L+"px",t.style.height=Y+"px"),this.setViewport(0,0,L,Y))},this.getDrawingBufferSize=function(L){return L.set(G*X,ne*X).floor()},this.setDrawingBufferSize=function(L,Y,K){G=L,ne=Y,X=K,t.width=Math.floor(L*K),t.height=Math.floor(Y*K),this.setViewport(0,0,L,Y)},this.getCurrentViewport=function(L){return L.copy(z)},this.getViewport=function(L){return L.copy(I)},this.setViewport=function(L,Y,K,j){L.isVector4?I.set(L.x,L.y,L.z,L.w):I.set(L,Y,K,j),ue.viewport(z.copy(I).multiplyScalar(X).floor())},this.getScissor=function(L){return L.copy(B)},this.setScissor=function(L,Y,K,j){L.isVector4?B.set(L.x,L.y,L.z,L.w):B.set(L,Y,K,j),ue.scissor(F.copy(B).multiplyScalar(X).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(L){ue.setScissorTest(ce=L)},this.setOpaqueSort=function(L){J=L},this.setTransparentSort=function(L){oe=L},this.getClearColor=function(L){return L.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(L=!0,Y=!0,K=!0){let j=0;if(L){let se=!1;if(null!==E){const Te=E.texture.format;se=1033===Te||1031===Te||1029===Te}if(se){const Te=E.texture.type,We=Te===K3||Te===Q3||1012===Te||Te===ha||1017===Te||1018===Te,Qe=ae.getClearColor(),c1=ae.getClearAlpha(),L1=Qe.r,n1=Qe.g,t1=Qe.b;We?(d[0]=L1,d[1]=n1,d[2]=t1,d[3]=c1,H.clearBufferuiv(H.COLOR,0,d)):(p[0]=L1,p[1]=n1,p[2]=t1,p[3]=c1,H.clearBufferiv(H.COLOR,0,p))}else j|=H.COLOR_BUFFER_BIT}Y&&(j|=H.DEPTH_BUFFER_BIT),K&&(j|=H.STENCIL_BUFFER_BIT),H.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ae,!1),t.removeEventListener("webglcontextrestored",Q,!1),t.removeEventListener("webglcontextcreationerror",Me,!1),ve.dispose(),be.dispose(),ze.dispose(),f1.dispose(),s1.dispose(),T.dispose(),Be.dispose(),x1.dispose(),ee.dispose(),V.dispose(),V.removeEventListener("sessionstart",Le),V.removeEventListener("sessionend",T1),ke&&(ke.dispose(),ke=null),U1.stop()},this.renderBufferDirect=function(L,Y,K,j,se,Te){null===Y&&(Y=at);const We=se.isMesh&&se.matrixWorld.determinant()<0,Qe=function J2(L,Y,K,j,se){!0!==Y.isScene&&(Y=at),Pe.resetTextureUnits();const Te=Y.fog,Qe=null===E?x.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:o4,c1=(j.isMeshStandardMaterial?s1:f1).get(j.envMap||(j.isMeshStandardMaterial?Y.environment:null)),L1=!0===j.vertexColors&&!!K.attributes.color&&4===K.attributes.color.itemSize,n1=!!K.attributes.tangent&&(!!j.normalMap||j.anisotropy>0),t1=!!K.morphAttributes.position,ot=!!K.morphAttributes.normal,Pt=!!K.morphAttributes.color,ui=j.toneMapped?x.toneMapping:$4,Fn=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,dt=void 0!==Fn?Fn.length:0,V1=ze.get(j),as=g.state.lights;!0!==_e||!0!==Ce&&L===S||Xe.setState(j,L,L===S&&j.id===D);let Ut=!1;j.version===V1.__version?(V1.needsLights&&V1.lightsStateVersion!==as.state.version||V1.outputColorSpace!==Qe||se.isInstancedMesh&&!1===V1.instancing||!se.isInstancedMesh&&!0===V1.instancing||se.isSkinnedMesh&&!1===V1.skinning||!se.isSkinnedMesh&&!0===V1.skinning||V1.envMap!==c1||!0===j.fog&&V1.fog!==Te||void 0!==V1.numClippingPlanes&&(V1.numClippingPlanes!==Xe.numPlanes||V1.numIntersection!==Xe.numIntersection)||V1.vertexAlphas!==L1||V1.vertexTangents!==n1||V1.morphTargets!==t1||V1.morphNormals!==ot||V1.morphColors!==Pt||V1.toneMapping!==ui||!0===ge.isWebGL2&&V1.morphTargetsCount!==dt)&&(Ut=!0):(Ut=!0,V1.__version=j.version);let Ra=V1.currentProgram;!0===Ut&&(Ra=B1(j,Y,se));let mH=!1,x5=!1,iM=!1;const kn=Ra.getUniforms(),Pa=V1.uniforms;if(ue.useProgram(Ra.program)&&(mH=!0,x5=!0,iM=!0),j.id!==D&&(D=j.id,x5=!0),mH||S!==L){if(kn.setValue(H,"projectionMatrix",L.projectionMatrix),ge.logarithmicDepthBuffer&&kn.setValue(H,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),S!==L&&(S=L,x5=!0,iM=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const Fi=kn.map.cameraPosition;void 0!==Fi&&Fi.setValue(H,y1.setFromMatrixPosition(L.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&kn.setValue(H,"isOrthographic",!0===L.isOrthographicCamera),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||se.isSkinnedMesh)&&kn.setValue(H,"viewMatrix",L.matrixWorldInverse)}if(se.isSkinnedMesh){kn.setOptional(H,se,"bindMatrix"),kn.setOptional(H,se,"bindMatrixInverse");const Fi=se.skeleton;Fi&&(ge.floatVertexTextures?(null===Fi.boneTexture&&Fi.computeBoneTexture(),kn.setValue(H,"boneTexture",Fi.boneTexture,Pe),kn.setValue(H,"boneTextureSize",Fi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const rM=K.morphAttributes;if((void 0!==rM.position||void 0!==rM.normal||void 0!==rM.color&&!0===ge.isWebGL2)&&qe.update(se,K,Ra),(x5||V1.receiveShadow!==se.receiveShadow)&&(V1.receiveShadow=se.receiveShadow,kn.setValue(H,"receiveShadow",se.receiveShadow)),j.isMeshGouraudMaterial&&null!==j.envMap&&(Pa.envMap.value=c1,Pa.flipEnvMap.value=c1.isCubeTexture&&!1===c1.isRenderTargetTexture?-1:1),x5&&(kn.setValue(H,"toneMappingExposure",x.toneMappingExposure),V1.needsLights&&function I2(L,Y){L.ambientLightColor.needsUpdate=Y,L.lightProbe.needsUpdate=Y,L.directionalLights.needsUpdate=Y,L.directionalLightShadows.needsUpdate=Y,L.pointLights.needsUpdate=Y,L.pointLightShadows.needsUpdate=Y,L.spotLights.needsUpdate=Y,L.spotLightShadows.needsUpdate=Y,L.rectAreaLights.needsUpdate=Y,L.hemisphereLights.needsUpdate=Y}(Pa,iM),Te&&!0===j.fog&&he.refreshFogUniforms(Pa,Te),he.refreshMaterialUniforms(Pa,j,X,ne,ke),Ju.upload(H,V1.uniformsList,Pa,Pe)),j.isShaderMaterial&&!0===j.uniformsNeedUpdate&&(Ju.upload(H,V1.uniformsList,Pa,Pe),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&kn.setValue(H,"center",se.center),kn.setValue(H,"modelViewMatrix",se.modelViewMatrix),kn.setValue(H,"normalMatrix",se.normalMatrix),kn.setValue(H,"modelMatrix",se.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const Fi=j.uniformsGroups;for(let sM=0,vAe=Fi.length;sM<vAe;sM++)if(ge.isWebGL2){const gH=Fi[sM];x1.update(gH,Ra),x1.bind(gH,Ra)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ra}(L,Y,K,j,se);ue.setMaterial(j,We);let c1=K.index,L1=1;!0===j.wireframe&&(c1=P.getWireframeAttribute(K),L1=2);const n1=K.drawRange,t1=K.attributes.position;let ot=n1.start*L1,Pt=(n1.start+n1.count)*L1;null!==Te&&(ot=Math.max(ot,Te.start*L1),Pt=Math.min(Pt,(Te.start+Te.count)*L1)),null!==c1?(ot=Math.max(ot,0),Pt=Math.min(Pt,c1.count)):null!=t1&&(ot=Math.max(ot,0),Pt=Math.min(Pt,t1.count));const ui=Pt-ot;if(ui<0||ui===1/0)return;Be.setup(se,j,Qe,K,c1);let Fn,dt=i1;if(null!==c1&&(Fn=gt.get(c1),dt=a1,dt.setIndex(Fn)),se.isMesh)!0===j.wireframe?(ue.setLineWidth(j.wireframeLinewidth*e1()),dt.setMode(H.LINES)):dt.setMode(H.TRIANGLES);else if(se.isLine){let V1=j.linewidth;void 0===V1&&(V1=1),ue.setLineWidth(V1*e1()),dt.setMode(se.isLineSegments?H.LINES:se.isLineLoop?H.LINE_LOOP:H.LINE_STRIP)}else se.isPoints?dt.setMode(H.POINTS):se.isSprite&&dt.setMode(H.TRIANGLES);if(se.isInstancedMesh)dt.renderInstances(ot,ui,se.count);else if(K.isInstancedBufferGeometry){const as=Math.min(K.instanceCount,void 0!==K._maxInstanceCount?K._maxInstanceCount:1/0);dt.renderInstances(ot,ui,as)}else dt.render(ot,ui)},this.compile=function(L,Y){function K(j,se,Te){!0===j.transparent&&2===j.side&&!1===j.forceSinglePass?(j.side=1,j.needsUpdate=!0,B1(j,se,Te),j.side=0,j.needsUpdate=!0,B1(j,se,Te),j.side=2):B1(j,se,Te)}g=be.get(L),g.init(),M.push(g),L.traverseVisible(function(j){j.isLight&&j.layers.test(Y.layers)&&(g.pushLight(j),j.castShadow&&g.pushShadow(j))}),g.setupLights(x.useLegacyLights),L.traverse(function(j){const se=j.material;if(se)if(Array.isArray(se))for(let Te=0;Te<se.length;Te++)K(se[Te],L,j);else K(se,L,j)}),M.pop(),g=null};let wt=null;function Le(){U1.stop()}function T1(){U1.start()}const U1=new AR;function Ge(L,Y,K,j){if(!1===L.visible)return;if(L.layers.test(Y.layers))if(L.isGroup)K=L.renderOrder;else if(L.isLOD)!0===L.autoUpdate&&L.update(Y);else if(L.isLight)g.pushLight(L),L.castShadow&&g.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||xe.intersectsSprite(L)){j&&y1.setFromMatrixPosition(L.matrixWorld).applyMatrix4(De);const We=T.update(L),Qe=L.material;Qe.visible&&m.push(L,We,Qe,K,y1.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||xe.intersectsObject(L))){const We=T.update(L),Qe=L.material;if(j&&(void 0!==L.boundingSphere?(null===L.boundingSphere&&L.computeBoundingSphere(),y1.copy(L.boundingSphere.center)):(null===We.boundingSphere&&We.computeBoundingSphere(),y1.copy(We.boundingSphere.center)),y1.applyMatrix4(L.matrixWorld).applyMatrix4(De)),Array.isArray(Qe)){const c1=We.groups;for(let L1=0,n1=c1.length;L1<n1;L1++){const t1=c1[L1],ot=Qe[t1.materialIndex];ot&&ot.visible&&m.push(L,We,ot,K,y1.z,t1)}}else Qe.visible&&m.push(L,We,Qe,K,y1.z,null)}const Te=L.children;for(let We=0,Qe=Te.length;We<Qe;We++)Ge(Te[We],Y,K,j)}function q1(L,Y,K,j){const se=L.opaque,Te=L.transmissive,We=L.transparent;g.setupLightsView(K),!0===_e&&Xe.setGlobalState(x.clippingPlanes,K),Te.length>0&&function m1(L,Y,K,j){const se=ge.isWebGL2;null===ke&&(ke=new ya(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?q8:K3,minFilter:fa,samples:se?4:0})),x.getDrawingBufferSize(Ue),se?ke.setSize(Ue.x,Ue.y):ke.setSize(Eu(Ue.x),Eu(Ue.y));const Te=x.getRenderTarget();x.setRenderTarget(ke),x.getClearColor(U),O=x.getClearAlpha(),O<1&&x.setClearColor(16777215,.5),x.clear();const We=x.toneMapping;x.toneMapping=$4,D1(L,K,j),Pe.updateMultisampleRenderTarget(ke),Pe.updateRenderTargetMipmap(ke);let Qe=!1;for(let c1=0,L1=Y.length;c1<L1;c1++){const n1=Y[c1],t1=n1.object,ot=n1.geometry,Pt=n1.material,ui=n1.group;if(2===Pt.side&&t1.layers.test(j.layers)){const Fn=Pt.side;Pt.side=1,Pt.needsUpdate=!0,u2(t1,K,j,ot,Pt,ui),Pt.side=Fn,Pt.needsUpdate=!0,Qe=!0}}!0===Qe&&(Pe.updateMultisampleRenderTarget(ke),Pe.updateRenderTargetMipmap(ke)),x.setRenderTarget(Te),x.setClearColor(U,O),x.toneMapping=We}(se,Te,Y,K),j&&ue.viewport(z.copy(j)),se.length>0&&D1(se,Y,K),Te.length>0&&D1(Te,Y,K),We.length>0&&D1(We,Y,K),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function D1(L,Y,K){const j=!0===Y.isScene?Y.overrideMaterial:null;for(let se=0,Te=L.length;se<Te;se++){const We=L[se],Qe=We.object,c1=We.geometry,L1=null===j?We.material:j,n1=We.group;Qe.layers.test(K.layers)&&u2(Qe,Y,K,c1,L1,n1)}}function u2(L,Y,K,j,se,Te){L.onBeforeRender(x,Y,K,j,se,Te),L.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),se.onBeforeRender(x,Y,K,j,L,Te),!0===se.transparent&&2===se.side&&!1===se.forceSinglePass?(se.side=1,se.needsUpdate=!0,x.renderBufferDirect(K,Y,j,se,L,Te),se.side=0,se.needsUpdate=!0,x.renderBufferDirect(K,Y,j,se,L,Te),se.side=2):x.renderBufferDirect(K,Y,j,se,L,Te),L.onAfterRender(x,Y,K,j,se,Te)}function B1(L,Y,K){!0!==Y.isScene&&(Y=at);const j=ze.get(L),se=g.state.lights,We=se.state.version,Qe=ee.getParameters(L,se.state,g.state.shadowsArray,Y,K),c1=ee.getProgramCacheKey(Qe);let L1=j.programs;j.environment=L.isMeshStandardMaterial?Y.environment:null,j.fog=Y.fog,j.envMap=(L.isMeshStandardMaterial?s1:f1).get(L.envMap||j.environment),void 0===L1&&(L.addEventListener("dispose",Se),L1=new Map,j.programs=L1);let n1=L1.get(c1);if(void 0!==n1){if(j.currentProgram===n1&&j.lightsStateVersion===We)return kt(L,Qe),n1}else Qe.uniforms=ee.getUniforms(L),L.onBuild(K,Qe,x),L.onBeforeCompile(Qe,x),n1=ee.acquireProgram(Qe,c1),L1.set(c1,n1),j.uniforms=Qe.uniforms;const t1=j.uniforms;(!L.isShaderMaterial&&!L.isRawShaderMaterial||!0===L.clipping)&&(t1.clippingPlanes=Xe.uniform),kt(L,Qe),j.needsLights=function Rt(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&!0===L.lights}(L),j.lightsStateVersion=We,j.needsLights&&(t1.ambientLightColor.value=se.state.ambient,t1.lightProbe.value=se.state.probe,t1.directionalLights.value=se.state.directional,t1.directionalLightShadows.value=se.state.directionalShadow,t1.spotLights.value=se.state.spot,t1.spotLightShadows.value=se.state.spotShadow,t1.rectAreaLights.value=se.state.rectArea,t1.ltc_1.value=se.state.rectAreaLTC1,t1.ltc_2.value=se.state.rectAreaLTC2,t1.pointLights.value=se.state.point,t1.pointLightShadows.value=se.state.pointShadow,t1.hemisphereLights.value=se.state.hemi,t1.directionalShadowMap.value=se.state.directionalShadowMap,t1.directionalShadowMatrix.value=se.state.directionalShadowMatrix,t1.spotShadowMap.value=se.state.spotShadowMap,t1.spotLightMatrix.value=se.state.spotLightMatrix,t1.spotLightMap.value=se.state.spotLightMap,t1.pointShadowMap.value=se.state.pointShadowMap,t1.pointShadowMatrix.value=se.state.pointShadowMatrix);const ot=n1.getUniforms(),Pt=Ju.seqWithValue(ot.seq,t1);return j.currentProgram=n1,j.uniformsList=Pt,n1}function kt(L,Y){const K=ze.get(L);K.outputColorSpace=Y.outputColorSpace,K.instancing=Y.instancing,K.skinning=Y.skinning,K.morphTargets=Y.morphTargets,K.morphNormals=Y.morphNormals,K.morphColors=Y.morphColors,K.morphTargetsCount=Y.morphTargetsCount,K.numClippingPlanes=Y.numClippingPlanes,K.numIntersection=Y.numClipIntersection,K.vertexAlphas=Y.vertexAlphas,K.vertexTangents=Y.vertexTangents,K.toneMapping=Y.toneMapping}U1.setAnimationLoop(function o1(L){wt&&wt(L)}),typeof self<"u"&&U1.setContext(self),this.setAnimationLoop=function(L){wt=L,V.setAnimationLoop(L),null===L?U1.stop():U1.start()},V.addEventListener("sessionstart",Le),V.addEventListener("sessionend",T1),this.render=function(L,Y){if(void 0===Y||!0===Y.isCamera){if(!0!==C){if(!0===L.matrixWorldAutoUpdate&&L.updateMatrixWorld(),null===Y.parent&&!0===Y.matrixWorldAutoUpdate&&Y.updateMatrixWorld(),!0===V.enabled&&!0===V.isPresenting&&(!0===V.cameraAutoUpdate&&V.updateCamera(Y),Y=V.getCamera()),!0===L.isScene&&L.onBeforeRender(x,L,Y,E),g=be.get(L,M.length),g.init(),M.push(g),De.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),xe.setFromProjectionMatrix(De),Ce=this.localClippingEnabled,_e=Xe.init(this.clippingPlanes,Ce),m=ve.get(L,v.length),m.init(),v.push(m),Ge(L,Y,0,x.sortObjects),m.finish(),!0===x.sortObjects&&m.sort(J,oe),this.info.render.frame++,!0===_e&&Xe.beginShadows(),we.render(g.state.shadowsArray,L,Y),!0===_e&&Xe.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(m,L),g.setupLights(x.useLegacyLights),Y.isArrayCamera){const j=Y.cameras;for(let se=0,Te=j.length;se<Te;se++){const We=j[se];q1(m,L,We,We.viewport)}}else q1(m,L,Y);null!==E&&(Pe.updateMultisampleRenderTarget(E),Pe.updateRenderTargetMipmap(E)),!0===L.isScene&&L.onAfterRender(x,L,Y),Be.resetDefaultState(),D=-1,S=null,M.pop(),g=M.length>0?M[M.length-1]:null,v.pop(),m=v.length>0?v[v.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(L,Y,K){ze.get(L.texture).__webglTexture=Y,ze.get(L.depthTexture).__webglTexture=K;const j=ze.get(L);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=void 0===K,j.__autoAllocateDepthBuffer||!0===re.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(L,Y){const K=ze.get(L);K.__webglFramebuffer=Y,K.__useDefaultFramebuffer=void 0===Y},this.setRenderTarget=function(L,Y=0,K=0){E=L,b=Y,A=K;let j=!0,se=null,Te=!1,We=!1;if(L){const c1=ze.get(L);void 0!==c1.__useDefaultFramebuffer?(ue.bindFramebuffer(H.FRAMEBUFFER,null),j=!1):void 0===c1.__webglFramebuffer?Pe.setupRenderTarget(L):c1.__hasExternalTextures&&Pe.rebindTextures(L,ze.get(L.texture).__webglTexture,ze.get(L.depthTexture).__webglTexture);const L1=L.texture;(L1.isData3DTexture||L1.isDataArrayTexture||L1.isCompressedArrayTexture)&&(We=!0);const n1=ze.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(se=n1[Y],Te=!0):se=ge.isWebGL2&&L.samples>0&&!1===Pe.useMultisampledRTT(L)?ze.get(L).__webglMultisampledFramebuffer:n1,z.copy(L.viewport),F.copy(L.scissor),q=L.scissorTest}else z.copy(I).multiplyScalar(X).floor(),F.copy(B).multiplyScalar(X).floor(),q=ce;if(ue.bindFramebuffer(H.FRAMEBUFFER,se)&&ge.drawBuffers&&j&&ue.drawBuffers(L,se),ue.viewport(z),ue.scissor(F),ue.setScissorTest(q),Te){const c1=ze.get(L.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+Y,c1.__webglTexture,K)}else if(We){const c1=ze.get(L.texture);H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,c1.__webglTexture,K||0,Y||0)}D=-1},this.readRenderTargetPixels=function(L,Y,K,j,se,Te,We){if(!L||!L.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qe=ze.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&void 0!==We&&(Qe=Qe[We]),Qe){ue.bindFramebuffer(H.FRAMEBUFFER,Qe);try{const c1=L.texture,L1=c1.format,n1=c1.type;if(L1!==nr&&je.convert(L1)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const t1=n1===q8&&(re.has("EXT_color_buffer_half_float")||ge.isWebGL2&&re.has("EXT_color_buffer_float"));if(!(n1===K3||je.convert(n1)===H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)||n1===q4&&(ge.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float"))||t1))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Y>=0&&Y<=L.width-j&&K>=0&&K<=L.height-se&&H.readPixels(Y,K,j,se,je.convert(L1),je.convert(n1),Te)}finally{const c1=null!==E?ze.get(E).__webglFramebuffer:null;ue.bindFramebuffer(H.FRAMEBUFFER,c1)}}},this.copyFramebufferToTexture=function(L,Y,K=0){const j=Math.pow(2,-K),se=Math.floor(Y.image.width*j),Te=Math.floor(Y.image.height*j);Pe.setTexture2D(Y,0),H.copyTexSubImage2D(H.TEXTURE_2D,K,0,0,L.x,L.y,se,Te),ue.unbindTexture()},this.copyTextureToTexture=function(L,Y,K,j=0){const se=Y.image.width,Te=Y.image.height,We=je.convert(K.format),Qe=je.convert(K.type);Pe.setTexture2D(K,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,K.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,K.unpackAlignment),Y.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,j,L.x,L.y,se,Te,We,Qe,Y.image.data):Y.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,j,L.x,L.y,Y.mipmaps[0].width,Y.mipmaps[0].height,We,Y.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,j,L.x,L.y,We,Qe,Y.image),0===j&&K.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(L,Y,K,j,se=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Te=L.max.x-L.min.x+1,We=L.max.y-L.min.y+1,Qe=L.max.z-L.min.z+1,c1=je.convert(j.format),L1=je.convert(j.type);let n1;if(j.isData3DTexture)Pe.setTexture3D(j,0),n1=H.TEXTURE_3D;else{if(!j.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Pe.setTexture2DArray(j,0),n1=H.TEXTURE_2D_ARRAY}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,j.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,j.unpackAlignment);const t1=H.getParameter(H.UNPACK_ROW_LENGTH),ot=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Pt=H.getParameter(H.UNPACK_SKIP_PIXELS),ui=H.getParameter(H.UNPACK_SKIP_ROWS),Fn=H.getParameter(H.UNPACK_SKIP_IMAGES),dt=K.isCompressedTexture?K.mipmaps[0]:K.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,dt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,dt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,L.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,L.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,L.min.z),K.isDataTexture||K.isData3DTexture?H.texSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,We,Qe,c1,L1,dt.data):K.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,We,Qe,c1,dt.data)):H.texSubImage3D(n1,se,Y.x,Y.y,Y.z,Te,We,Qe,c1,L1,dt),H.pixelStorei(H.UNPACK_ROW_LENGTH,t1),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ot),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Pt),H.pixelStorei(H.UNPACK_SKIP_ROWS,ui),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Fn),0===se&&j.generateMipmaps&&H.generateMipmap(n1),ue.unbindTexture()},this.initTexture=function(L){L.isCubeTexture?Pe.setTextureCube(L,0):L.isData3DTexture?Pe.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?Pe.setTexture2DArray(L,0):Pe.setTexture2D(L,0),ue.unbindTexture()},this.resetState=function(){b=0,A=0,E=null,ue.reset(),Be.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Z4}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===z1?pa:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===pa?z1:o4}}(class ame extends l_{}).prototype.isWebGL1Renderer=!0;class h_ extends Pi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class CP extends q6{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Oe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const bP=new E1,y_=new Q8,af=new l4,cf=new N;class wP extends Pi{constructor(e=new F1,t=new CP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),af.copy(i.boundingSphere),af.applyMatrix4(r),af.radius+=s,!1===e.ray.intersectsSphere(af))return;bP.copy(r).invert(),y_.copy(e.ray).applyMatrix4(bP);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=o*o,l=i.index,f=i.attributes.position;if(null!==l)for(let p=Math.max(0,a.start),m=Math.min(l.count,a.start+a.count);p<m;p++){const g=l.getX(p);cf.fromBufferAttribute(f,g),SP(cf,g,c,r,e,t,this)}else for(let p=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);p<m;p++)cf.fromBufferAttribute(f,p),SP(cf,p,c,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function SP(n,e,t,i,r,s,a){const o=y_.distanceSqToPoint(n);if(o<t){const c=new N;y_.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:c,index:e,face:null,object:a})}}class f4{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let a;a=t||e*i[s-1];let l,o=0,c=s-1;for(;o<=c;)if(r=Math.floor(o+(c-o)/2),l=i[r]-a,l<0)o=r+1;else{if(!(l>0)){c=r;break}c=r-1}if(r=c,i[r]===a)return r/(s-1);const u=i[r];return(r+(a-u)/(i[r+1]-u))/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),c=t||(a.isVector2?new pe:new N);return c.copy(o).sub(a).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],a=[],o=new N,c=new E1;for(let d=0;d<=e;d++)r[d]=this.getTangentAt(d/e,new N);s[0]=new N,a[0]=new N;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=l&&(l=u,i.set(1,0,0)),f<=l&&(l=f,i.set(0,1,0)),h<=l&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),a[d]=a[d-1].clone(),o.crossVectors(r[d-1],r[d]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(t2(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(c.makeRotationAxis(o,p))}a[d].crossVectors(r[d],s[d])}if(!0===t){let d=Math.acos(t2(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(c.makeRotationAxis(r[p],d*p)),a[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class __ extends f4{constructor(e=0,t=0,i=1,r=1,s=0,a=2*Math.PI,o=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=c}getPoint(e,t){const i=t||new pe,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=a?0:r),!0===this.aClockwise&&!a&&(s===r?s=-r:s-=r);const o=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,d=l-this.aY;c=h*u-d*f+this.aX,l=h*f+d*u+this.aY}return i.set(c,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function M_(){let n=0,e=0,t=0,i=0;function r(s,a,o,c){n=s,e=o,t=-3*s+3*a-2*o-c,i=2*s-2*a+o+c}return{initCatmullRom:function(s,a,o,c,l){r(a,o,l*(o-s),l*(c-a))},initNonuniformCatmullRom:function(s,a,o,c,l,u,f){let h=(a-s)/l-(o-s)/(l+u)+(o-a)/u,d=(o-a)/u-(c-a)/(u+f)+(c-o)/f;h*=u,d*=u,r(a,o,h,d)},calc:function(s){const a=s*s;return n+e*s+t*a+i*(a*s)}}}const lf=new N,x_=new M_,C_=new M_,b_=new M_;function AP(n,e,t,i,r){const s=.5*(i-e),a=.5*(r-t),o=n*n;return(2*t-2*i+s+a)*(n*o)+(-3*t+3*i-2*s-a)*o+s*n+t}function d5(n,e,t,i){return function yme(n,e){const t=1-n;return t*t*e}(n,e)+function _me(n,e){return 2*(1-n)*n*e}(n,t)+function Mme(n,e){return n*n*e}(n,i)}function p5(n,e,t,i,r){return function xme(n,e){const t=1-n;return t*t*t*e}(n,e)+function Cme(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function bme(n,e){return 3*(1-n)*n*n*e}(n,i)+function wme(n,e){return n*n*n*e}(n,r)}class zP extends f4{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(p5(e,r.x,s.x,a.x,o.x),p5(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class w_ extends f4{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EP extends f4{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(d5(e,r.x,s.x,a.x),d5(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class DP extends f4{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,c=r[0===a?a:a-1],l=r[a],u=r[a>r.length-2?r.length-1:a+1],f=r[a>r.length-3?r.length-1:a+2];return i.set(AP(o,c.x,l.x,u.x,f.x),AP(o,c.y,l.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new pe).fromArray(r))}return this}}var S_=Object.freeze({__proto__:null,ArcCurve:class gme extends __{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class vme extends f4{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let l,u,o=Math.floor(a),c=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:0===c&&o===s-1&&(o=s-2,c=1),this.closed||o>0?l=r[(o-1)%s]:(lf.subVectors(r[0],r[1]).add(r[0]),l=lf);const f=r[o%s],h=r[(o+1)%s];if(this.closed||o+2<s?u=r[(o+2)%s]:(lf.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=lf),"centripetal"===this.curveType||"chordal"===this.curveType){const d="chordal"===this.curveType?.5:.25;let p=Math.pow(l.distanceToSquared(f),d),m=Math.pow(f.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(u),d);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),x_.initNonuniformCatmullRom(l.x,f.x,h.x,u.x,p,m,g),C_.initNonuniformCatmullRom(l.y,f.y,h.y,u.y,p,m,g),b_.initNonuniformCatmullRom(l.z,f.z,h.z,u.z,p,m,g)}else"catmullrom"===this.curveType&&(x_.initCatmullRom(l.x,f.x,h.x,u.x,this.tension),C_.initCatmullRom(l.y,f.y,h.y,u.y,this.tension),b_.initCatmullRom(l.z,f.z,h.z,u.z,this.tension));return i.set(x_.calc(c),C_.calc(c),b_.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new N).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:zP,CubicBezierCurve3:class Sme extends f4{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(p5(e,r.x,s.x,a.x,o.x),p5(e,r.y,s.y,a.y,o.y),p5(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:__,LineCurve:w_,LineCurve3:class Ame extends f4{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:EP,QuadraticBezierCurve3:class TP extends f4{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(d5(e,r.x,s.x,a.x),d5(e,r.y,s.y,a.y),d5(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:DP});class zme extends f4{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new w_(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],c=o.getLength();return o.getPointAt(0===c?0:1-a/c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],c=a.getPoints(a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e);for(let l=0;l<c.length;l++){const u=c[l];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push((new S_[r.type]).fromJSON(r))}return this}}class uf extends zme{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new w_(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new EP(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new zP(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new DP(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,c){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,a,o,c),this}absellipse(e,t,i,r,s,a,o,c){const l=new __(e,t,i,r,s,a,o,c);if(this.curves.length>0){const f=l.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class d0 extends uf{constructor(e){super(e),this.uuid=Li(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push((new uf).fromJSON(r))}return this}}function LP(n,e,t,i,r){let s,a;if(r===function jme(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}(n,e,t,i)>0)for(s=e;s<t;s+=i)a=RP(s,n[s],n[s+1],a);else for(s=t-i;s>=e;s-=i)a=RP(s,n[s],n[s+1],a);return a&&mf(a,a.next)&&(y5(a),a=a.next),a}function za(n,e){if(!n)return n;e||(e=n);let i,t=n;do{if(i=!1,t.steiner||!mf(t,t.next)&&0!==Xt(t.prev,t,t.next))t=t.next;else{if(y5(t),t=e=t.prev,t===t.next)break;i=!0}}while(i||t!==e);return e}function g5(n,e,t,i,r,s,a){if(!n)return;!a&&s&&function Fme(n,e,t,i){let r=n;do{0===r.z&&(r.z=L_(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,function kme(n){let e,t,i,r,s,a,o,c,l=1;do{for(t=n,n=null,s=null,a=0;t;){for(a++,i=t,o=0,e=0;e<l&&(o++,i=i.nextZ,i);e++);for(c=l;o>0||c>0&&i;)0!==o&&(0===c||!i||t.z<=i.z)?(r=t,t=t.nextZ,o--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,l*=2}while(a>1)}(r)}(n,i,r,s);let c,l,o=n;for(;n.prev!==n.next;)if(c=n.prev,l=n.next,s?Lme(n,i,r,s):Dme(n))e.push(c.i/t|0),e.push(n.i/t|0),e.push(l.i/t|0),y5(n),n=l.next,o=l.next;else if((n=l)===o){a?1===a?g5(n=Nme(za(n),e,t),e,t,i,r,s,2):2===a&&Ime(n,e,t,i,r,s):g5(za(n),e,t,i,r,s,1);break}}function Dme(n){const e=n.prev,t=n,i=n.next;if(Xt(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,c=t.y,l=i.y,u=r<s?r<a?r:a:s<a?s:a,f=o<c?o<l?o:l:c<l?c:l,h=r>s?r>a?r:a:s>a?s:a,d=o>c?o>l?o:l:c>l?c:l;let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&p0(r,o,s,c,a,l,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Lme(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Xt(r,s,a)>=0)return!1;const o=r.x,c=s.x,l=a.x,u=r.y,f=s.y,h=a.y,d=o<c?o<l?o:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,m=o>c?o>l?o:l:c>l?c:l,g=u>f?u>h?u:h:f>h?f:h,v=L_(d,p,e,t,i),M=L_(m,g,e,t,i);let x=n.prevZ,C=n.nextZ;for(;x&&x.z>=v&&C&&C.z<=M;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==a&&p0(o,u,c,f,l,h,x.x,x.y)&&Xt(x.prev,x,x.next)>=0||(x=x.prevZ,C.x>=d&&C.x<=m&&C.y>=p&&C.y<=g&&C!==r&&C!==a&&p0(o,u,c,f,l,h,C.x,C.y)&&Xt(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;x&&x.z>=v;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==a&&p0(o,u,c,f,l,h,x.x,x.y)&&Xt(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;C&&C.z<=M;){if(C.x>=d&&C.x<=m&&C.y>=p&&C.y<=g&&C!==r&&C!==a&&p0(o,u,c,f,l,h,C.x,C.y)&&Xt(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Nme(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!mf(r,s)&&NP(r,i,i.next,s)&&v5(r,s)&&v5(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),y5(i),y5(i.next),i=n=s),i=i.next}while(i!==n);return za(i)}function Ime(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Bme(a,o)){let c=IP(a,o);return a=za(a,a.next),c=za(c,c.next),g5(a,e,t,i,r,s,0),void g5(c,e,t,i,r,s,0)}o=o.next}a=a.next}while(a!==n)}function Pme(n,e){return n.x-e.x}function Hme(n,e){const t=function Vme(n,e){let r,t=e,i=-1/0;const s=n.x,a=n.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const h=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>i&&(i=h,r=t.x<t.next.x?t:t.next,h===s))return r}t=t.next}while(t!==e);if(!r)return null;const o=r,c=r.x,l=r.y;let f,u=1/0;t=r;do{s>=t.x&&t.x>=c&&s!==t.x&&p0(a<l?s:i,a,c,l,a<l?i:s,a,t.x,t.y)&&(f=Math.abs(a-t.y)/(s-t.x),v5(t,n)&&(f<u||f===u&&(t.x>r.x||t.x===r.x&&Ome(r,t)))&&(r=t,u=f)),t=t.next}while(t!==o);return r}(n,e);if(!t)return e;const i=IP(t,n);return za(i,i.next),za(t,t.next)}function Ome(n,e){return Xt(n.prev,n,e.prev)<0&&Xt(e.next,n,n.next)<0}function L_(n,e,t,i,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-t)*r|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ume(n){let e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function p0(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function Bme(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function Gme(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&NP(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(v5(n,e)&&v5(e,n)&&function Wme(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==n);return i}(n,e)&&(Xt(n.prev,n,e.prev)||Xt(n,e.prev,e))||mf(n,e)&&Xt(n.prev,n,n.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function mf(n,e){return n.x===e.x&&n.y===e.y}function NP(n,e,t,i){const r=vf(Xt(n,e,t)),s=vf(Xt(n,e,i)),a=vf(Xt(t,i,n)),o=vf(Xt(t,i,e));return!!(r!==s&&a!==o||0===r&&gf(n,t,e)||0===s&&gf(n,i,e)||0===a&&gf(t,n,i)||0===o&&gf(t,e,i))}function gf(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function vf(n){return n>0?1:n<0?-1:0}function v5(n,e){return Xt(n.prev,n,n.next)<0?Xt(n,e,n.next)>=0&&Xt(n,n.prev,e)>=0:Xt(n,e,n.prev)<0||Xt(n,n.next,e)<0}function IP(n,e){const t=new N_(n.i,n.x,n.y),i=new N_(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function RP(n,e,t,i){const r=new N_(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function y5(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function N_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class r3{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*i}static isClockWise(e){return r3.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];PP(e),HP(i,e);let a=e.length;t.forEach(PP);for(let c=0;c<t.length;c++)r.push(a),a+=t[c].length,HP(i,t[c]);const o=function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=LP(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,c,l,u,f,h,d;if(i&&(s=function Rme(n,e,t,i){const r=[];let s,a,o,c,l;for(s=0,a=e.length;s<a;s++)o=e[s]*i,c=s<a-1?e[s+1]*i:n.length,l=LP(n,o,c,i,!1),l===l.next&&(l.steiner=!0),r.push(Ume(l));for(r.sort(Pme),s=0;s<r.length;s++)t=Hme(r[s],t);return t}(n,e,s,t)),n.length>80*t){o=l=n[0],c=u=n[1];for(let p=t;p<r;p+=t)f=n[p],h=n[p+1],f<o&&(o=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-o,u-c),d=0!==d?32767/d:0}return g5(s,a,t,o,c,d,0),a}(i,r);for(let c=0;c<o.length;c+=3)s.push(o.slice(c,c+3));return s}}function PP(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function HP(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class _f extends F1{constructor(e=new d0([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,c=0;if(!1===Array.isArray(e))l(e);else for(let u=0;u<e.length;u++)l(e[u]),this.addGroup(o,c,u),o+=c,c=0;function l(u){const f=r.length/3,h=u.extractPoints(t);let d=h.shape;const p=h.holes;!1===r3.isClockWise(d)&&(d=d.reverse());for(let g=0,v=p.length;g<v;g++){const M=p[g];!0===r3.isClockWise(M)&&(p[g]=M.reverse())}const m=r3.triangulateShape(d,p);for(let g=0,v=p.length;g<v;g++)d=d.concat(p[g]);for(let g=0,v=d.length;g<v;g++){const M=d[g];r.push(M.x,M.y,0),s.push(0,0,1),a.push(M.x,M.y)}for(let g=0,v=m.length;g<v;g++){const M=m[g];i.push(M[0]+f,M[1]+f,M[2]+f),c+=3}}this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function Zme(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++)e.shapes.push(n[t].uuid);else e.shapes.push(n.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++)i.push(t[e.shapes[r]]);return new _f(i,e.curveSegments)}}function rr(n,e,t){return k_(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function Ea(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function k_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class xf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(e>=s)break e;{const o=t[1];e<o&&(i=2,s=o);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0}}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cge extends xf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],c=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=e,o=2*t-i;break;case 2402:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:a=e,c=2*i-t;break;case 2402:a=1,c=i+r[1]-r[0];break;default:a=e-1,c=t}const l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(c-i),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-t)/(r-t),m=p*p,g=m*p,v=-h*g+2*h*m-h*p,M=(1+h)*g+(-1.5-2*h)*m+(-.5+h)*p+1,x=(-1-d)*g+(1.5+d)*m+.5*p,C=d*g-d*m;for(let b=0;b!==o;++b)s[b]=v*a[u+b]+M*a[l+b]+x*a[c+b]+C*a[f+b];return s}}class kP extends xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=e*o,l=c-o,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==o;++h)s[h]=a[l+h]*f+a[c+h]*u;return s}}class lge extends xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class h4{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ea(t,this.TimeBufferType),this.values=Ea(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ea(e.times,Array),values:Ea(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new lge(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cge(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==s||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=rr(i,s,a),this.values=rr(this.values,s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const c=i[o];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,c),e=!1;break}if(null!==a&&a>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,c,a),e=!1;break}a=c}if(void 0!==r&&k_(r))for(let o=0,c=r.length;o!==c;++o){const l=r[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),e=!1;break}}return e}optimize(){const e=rr(this.times),t=rr(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let a=1;for(let o=1;o<s;++o){let c=!1;const l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)c=!0;else{const f=o*i,h=f-i,d=f+i;for(let p=0;p!==i;++p){const m=t[f+p];if(m!==t[h+p]||m!==t[d+p]){c=!0;break}}}if(c){if(o!==a){e[a]=e[o];const f=o*i,h=a*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,c=a*i,l=0;l!==i;++l)t[c+l]=t[o+l];++a}return a!==e.length?(this.times=rr(e,0,a),this.values=rr(t,0,a*i)):(this.times=e,this.values=t),this}clone(){const e=rr(this.times,0),t=rr(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}h4.prototype.TimeBufferType=Float32Array,h4.prototype.ValueBufferType=Float32Array,h4.prototype.DefaultInterpolation=2301;class m0 extends h4{}m0.prototype.ValueTypeName="bool",m0.prototype.ValueBufferType=Array,m0.prototype.DefaultInterpolation=2300,m0.prototype.InterpolantFactoryMethodLinear=void 0,m0.prototype.InterpolantFactoryMethodSmooth=void 0;(class UP extends h4{}).prototype.ValueTypeName="color";(class Cf extends h4{}).prototype.ValueTypeName="number";class uge extends xf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,c=(i-t)/(r-t);let l=e*o;for(let u=l+o;l!==u;l+=4)Ii.slerpFlat(s,0,a,l-o,a,l,c);return s}}class _5 extends h4{InterpolantFactoryMethodLinear(e){return new uge(this.times,this.values,this.getValueSize(),e)}}_5.prototype.ValueTypeName="quaternion",_5.prototype.DefaultInterpolation=2301,_5.prototype.InterpolantFactoryMethodSmooth=void 0;class g0 extends h4{}g0.prototype.ValueTypeName="string",g0.prototype.ValueBufferType=Array,g0.prototype.DefaultInterpolation=2300,g0.prototype.InterpolantFactoryMethodLinear=void 0,g0.prototype.InterpolantFactoryMethodSmooth=void 0;(class bf extends h4{}).prototype.ValueTypeName="vector";const v0={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class G_{constructor(e,t,i){const r=this;let c,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){o++,!1===s&&void 0!==r.onStart&&r.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,void 0!==r.onProgress&&r.onProgress(u,a,o),a===o&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,f){return l.push(u,f),this},this.removeHandler=function(u){const f=l.indexOf(u);return-1!==f&&l.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=l.length;f<h;f+=2){const d=l[f],p=l[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return p}return null}}}const dge=new G_;let Sf=(()=>{class n{constructor(t){this.manager=void 0!==t?t:dge,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,a){r.load(t,s,i,a)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const s3={};class pge extends Error{constructor(e,t){super(e),this.response=t}}class a3 extends Sf{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=v0.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==s3[e])return void s3[e].push({onLoad:t,onProgress:i,onError:r});s3[e]=[],s3[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,c=this.responseType;fetch(a).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=s3[e],f=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),d=h?parseInt(h):0,p=0!==d;let m=0;const g=new ReadableStream({start(v){!function M(){f.read().then(({done:x,value:C})=>{if(x)v.close();else{m+=C.byteLength;const b=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:d});for(let A=0,E=u.length;A<E;A++){const D=u[A];D.onProgress&&D.onProgress(b)}v.enqueue(C),M()}})}()}});return new Response(g)}throw new pge(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,o));case"json":return l.json();default:if(void 0===o)return l.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return l.arrayBuffer().then(p=>d.decode(p))}}}).then(l=>{v0.add(e,l);const u=s3[e];delete s3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(l)}}).catch(l=>{const u=s3[e];if(void 0===u)throw this.manager.itemError(e),l;delete s3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Af extends Sf{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=v0.get(e);if(void 0!==a)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const o=X8("img");function c(){u(),v0.add(e,this),t&&t(this),s.manager.itemEnd(e)}function l(f){u(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",c,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",c,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class mge extends Sf{constructor(e){super(e)}load(e,t,i,r){const s=new c4,a=new Af(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}const q_="\\[\\]\\.:\\/",Rge=new RegExp("["+q_+"]","g"),Z_="[^"+q_+"]",Pge="[^"+q_.replace("\\.","")+"]",kge=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Z_)+/(WCOD+)?/.source.replace("WCOD",Pge)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Z_)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Z_)+"$"),Uge=["material","materials","bones","map"];class Bge{constructor(e,t,i){const r=i||It.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let It=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Rge,"")}static parseTrackName(t){const i=kge.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const a=r.nodeName.substring(s+1);-1!==Uge.indexOf(a)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(a){for(let o=0;o<a.length;o++){const c=a[o];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===u){u=f;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const o=t[s];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Bge,n})();It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray],It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class $ge{constructor(e,t,i=0,r=1/0){this.ray=new Q8(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new jy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return X_(e,this,i,t),i.sort(tH),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)X_(e[r],this,i,t);return i.sort(tH),i}}function tH(n,e){return n.distance-e.distance}function X_(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),!0===i){const r=n.children;for(let s=0,a=r.length;s<a;s++)X_(r[s],e,t,!0)}}class Zge{constructor(){this.type="ShapePath",this.color=new Oe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new uf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(v,M){const x=M.length;let C=!1;for(let b=x-1,A=0;A<x;b=A++){let E=M[b],D=M[A],S=D.x-E.x,z=D.y-E.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(E=M[A],S=-S,D=M[b],z=-z),v.y<E.y||v.y>D.y)continue;if(v.y===E.y){if(v.x===E.x)return!0}else{const F=z*(v.x-E.x)-S*(v.y-E.y);if(0===F)return!0;if(F<0)continue;C=!C}}else{if(v.y!==E.y)continue;if(D.x<=v.x&&v.x<=E.x||E.x<=v.x&&v.x<=D.x)return!0}}return C}const r=r3.isClockWise,s=this.subPaths;if(0===s.length)return[];let a,o,c;const l=[];if(1===s.length)return o=s[0],c=new d0,c.curves=o.curves,l.push(c),l;let u=!r(s[0].getPoints());u=e?!u:u;const f=[],h=[];let m,g,d=[],p=0;h[p]=void 0,d[p]=[];for(let v=0,M=s.length;v<M;v++)o=s[v],m=o.getPoints(),a=r(m),a=e?!a:a,a?(!u&&h[p]&&p++,h[p]={s:new d0,p:m},h[p].s.curves=o.curves,u&&p++,d[p]=[]):d[p].push({h:o,p:m[0]});if(!h[0])return function t(v){const M=[];for(let x=0,C=v.length;x<C;x++){const b=v[x],A=new d0;A.curves=b.curves,M.push(A)}return M}(s);if(h.length>1){let v=!1,M=0;for(let x=0,C=h.length;x<C;x++)f[x]=[];for(let x=0,C=h.length;x<C;x++){const b=d[x];for(let A=0;A<b.length;A++){const E=b[A];let D=!0;for(let S=0;S<h.length;S++)i(E.p,h[S].p)&&(x!==S&&M++,D?(D=!1,f[S].push(E)):v=!0);D&&f[x].push(E)}}M>0&&!1===v&&(d=f)}for(let v=0,M=h.length;v<M;v++){c=h[v].s,l.push(c),g=d[v];for(let x=0,C=g.length;x<C;x++)c.holes.push(g[x].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"154"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="154");class Xge extends Sf{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new a3(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){const c=s.parse(JSON.parse(o));t&&t(c)},i,r)}parse(e){return new K_(e)}}class K_{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=function Yge(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,a=[];let o=0,c=0;for(let l=0;l<i.length;l++){const u=i[l];if("\n"===u)o=0,c-=s;else{const f=Jge(u,r,o,c,t);o+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data);for(let s=0,a=r.length;s<a;s++)i.push(...r[s].toShapes());return i}}function Jge(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");const a=new Zge;let o,c,l,u,f,h,d,p;if(s.o){const m=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,v=m.length;g<v;)switch(m[g++]){case"m":o=m[g++]*e+t,c=m[g++]*e+i,a.moveTo(o,c);break;case"l":o=m[g++]*e+t,c=m[g++]*e+i,a.lineTo(o,c);break;case"q":l=m[g++]*e+t,u=m[g++]*e+i,f=m[g++]*e+t,h=m[g++]*e+i,a.quadraticCurveTo(f,h,l,u);break;case"b":l=m[g++]*e+t,u=m[g++]*e+i,f=m[g++]*e+t,h=m[g++]*e+i,d=m[g++]*e+t,p=m[g++]*e+i,a.bezierCurveTo(f,h,d,p,l,u)}}return{offsetX:s.ha*e,path:a}}let fH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kge=["magic"],Q_='@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";.containerThree[_ngcontent-%COMP%]{margin:0;height:100vh;width:100%;overflow:hidden;font-family:Roboto!important;color:#fff;font-size:9px}#magic[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;display:block;top:0;left:0;z-index:-9999}';let Qge=(()=>{class n{constructor(t){this.textThreeService=t,this.preload=()=>{var i=this.magic.nativeElement;let r=new G_;r.onLoad=function(){new eve(s,c,i)};var s={};new Xge(r).load("https://res.cloudinary.com/dydre7amr/raw/upload/v1612950355/font_zsd4dr.json",function(l){s=l});const c=new mge(r).load("https://res.cloudinary.com/dfvtkoboz/image/upload/v1605013866/particle_a64uzf.png")}}ngOnInit(){window.innerWidth>=768&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.scroll?this.preload():document.addEventListener("DOMContentLoaded",()=>{this.preload()}))}}return n.\u0275fac=function(t){return new(t||n)(le(fH))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three"]],viewQuery:function(t,i){if(1&t&&Qn(Kge,7),2&t){let r;Cn(r=bn())&&(i.magic=r.first)}},decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(Z(0,"div",0),ye(1,"div",1,2),W())},styles:[Q_]}),n})(),eve=(()=>{class n{constructor(t,i,r){this.font=t,this.particle=i,this.container=r,this.scene=new h_,this.createCamera(),this.createRenderer(),this.setup(),this.bindEvents()}bindEvents(){window.addEventListener("resize",this.onWindowResize.bind(this))}setup(){this.createParticles=new tve(this.scene,this.font,this.particle,this.camera,this.renderer)}render(){this.createParticles.render(),this.renderer.render(this.scene,this.camera)}createCamera(){this.camera=new B2(65,this.container.clientWidth/this.container.clientHeight,1,1e4),this.camera.position.set(0,0,100)}createRenderer(){this.renderer=new l_,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.outputColorSpace=z1,this.renderer.setClearColor(2961205,1),this.container.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(()=>{this.render()})}onWindowResize(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}}return n.\u0275fac=function(t){return new(t||n)(le(K_),le(c4),le(HTMLElement))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three-Environment"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(Z(0,"div",0),ye(1,"div",1,2),W())},styles:[Q_]}),n})(),tve=(()=>{class n{constructor(t,i,r,s,a){this.scene=t,this.font=i,this.particleImg=r,this.camera=s,this.renderer=a,this.raycaster=new $ge,this.mouse=new pe(-200,200),this.colorChange=new Oe,this.buttom=!1,this.data={text:"alex",amount:1500,particleSize:1,particleColor:16777215,textSize:16,area:250,ease:.05},this.setup(),this.bindEvents()}setup(){const t=new i5(this.visibleWidthAtZDepth(100,this.camera),this.visibleHeightAtZDepth(100,this.camera)),i=new rs({color:65280,transparent:!0});this.planeArea=new li(t,i),this.planeArea.visible=!1,this.createText()}bindEvents(){document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))}onMouseDown(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1;const i=new N(this.mouse.x,this.mouse.y,.5);i.unproject(this.camera);const r=i.sub(this.camera.position).normalize(),s=-this.camera.position.z/r.z;this.currenPosition=this.camera.position.clone().add(r.multiplyScalar(s)),this.buttom=!0,this.data.ease=.01}onMouseUp(){this.buttom=!1,this.data.ease=.05}onMouseMove(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1}render(){const t=.001*performance.now()%12/12,i=(1+Math.sin(2*t*Math.PI))/6;this.raycaster.setFromCamera(this.mouse,this.camera);const r=this.raycaster.intersectObject(this.planeArea);if(r.length>0){const o=this.particles.geometry.attributes.position,c=this.geometryCopy.attributes.position,l=this.particles.geometry.attributes.customColor,u=this.particles.geometry.attributes.size,f=r[0].point.x,h=r[0].point.y;for(var s=0,a=o.count;s<a;s++){const p=c.getX(s),m=c.getY(s),g=c.getZ(s);let v=o.getX(s),M=o.getY(s),x=o.getZ(s);this.colorChange.setHSL(.5,1,1),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize,u.needsUpdate=!0;let C=f-v,b=h-M;const E=this.distance(f,h,v,M);let D=(C=f-v)*C+(b=h-M)*b;const S=-this.data.area/D;if(this.buttom){const z=Math.atan2(b,C);v-=S*Math.cos(z),M-=S*Math.sin(z),this.colorChange.setHSL(.5+i,1,.5),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,(v>p+70||v<p-70||M>m+70||M<m-70)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0)}else if(E<this.data.area){if(s%5==0){const z=Math.atan2(b,C);v-=.03*Math.cos(z),M-=.03*Math.sin(z),this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.2,u.needsUpdate=!0}else{const z=Math.atan2(b,C);v+=S*Math.cos(z),M+=S*Math.sin(z),o.setXYZ(s,v,M,x),o.needsUpdate=!0,u.array[s]=1.3*this.data.particleSize,u.needsUpdate=!0}(v>p+10||v<p-10||M>m+10||M<m-10)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.8,u.needsUpdate=!0)}v+=(p-v)*this.data.ease,M+=(m-M)*this.data.ease,x+=(g-x)*this.data.ease,o.setXYZ(s,v,M,x),o.needsUpdate=!0}}}createText(){let t=[],i=this.font.generateShapes(this.data.text,this.data.textSize),r=new _f(i);r.computeBoundingBox();const s=r.boundingBox;let a=0,o=0;null!==s&&(a=-.5*(s.max.x-s.min.x),o=(s.max.y-s.min.y)/2.85),r.center(),r.center();let c=[];for(let d=0;d<i.length;d++){let p=i[d];if(p.holes&&p.holes.length>0)for(let m=0;m<p.holes.length;m++)c.push(p.holes[m])}i.push.apply(i,c);let l=[],u=[];for(let d=0;d<i.length;d++){let p=i[d];p.getSpacedPoints("Path"==p.type?this.data.amount/2:this.data.amount).forEach((v,M)=>{const x=new N(v.x,v.y,0);t.push(x),l.push(this.colorChange.r,this.colorChange.g,this.colorChange.b),u.push(1)})}let f=(new F1).setFromPoints(t);f.translate(a,o,0),f.setAttribute("customColor",new Ke(l,3)),f.setAttribute("size",new Ke(u,1));const h=new i3({uniforms:{color:{value:new Oe(16777215)},pointTexture:{value:this.particleImg}},vertexShader:"\n        attribute float size;\n        attribute vec3 customColor;\n        varying vec3 vColor;\n        \n        void main() {\n          vColor = customColor;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size * (300.0 / -mvPosition.z);\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform vec3 color;\n        uniform sampler2D pointTexture;\n        varying vec3 vColor;\n      \n        void main() {\n          gl_FragColor = vec4(color * vColor, 1.0);\n          gl_FragColor = gl_FragColor * texture2D(pointTexture, gl_PointCoord);\n        }\n      ",blending:2,depthTest:!1,transparent:!0});this.particles=new wP(f,h),this.scene.add(this.particles),this.geometryCopy=new F1,this.geometryCopy.copy(this.particles.geometry)}visibleHeightAtZDepth(t,i){const r=i.position.z;t<r?t-=r:t+=r;const s=i.fov*Math.PI/180;return 2*Math.tan(s/2)*Math.abs(t)}visibleWidthAtZDepth(t,i){return this.visibleHeightAtZDepth(t,i)*i.aspect}distance(t,i,r,s){var a=t-r,o=i-s;return Math.sqrt(a*a+o*o)}}return n.\u0275fac=function(t){return new(t||n)(le(h_),le(K_),le(c4),le(B2),le(l_))},n.\u0275cmp=h2({type:n,selectors:[["app-text-three-CreateParticles"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(Z(0,"div",0),ye(1,"div",1,2),W())},styles:[Q_]}),n})();const nve=["webDeveloper"],ive=["fieldScrollAnimation"];let rve=(()=>{class n{constructor(){this.faArrowUp=Rg,this.faArrowDown=Ig,this.faArrowRight=u8}ngOnInit(){}ngAfterViewInit(){this.moveWebDeveloperDown()}moveWebDeveloperDown(){if(window.innerWidth>=768){let t=null;window.addEventListener("scroll",()=>{document.documentElement.scrollTop>0&&this.webDeveloper?(null===t&&(t=this.webDeveloper.nativeElement.style.bottom),this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom="-50px"):null!==t&&(this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom=t,this.fieldScrollAnimation.nativeElement.style.display="block",t=null)})}}hideMouseScroolAnimation(){this.fieldScrollAnimation.nativeElement.style.display="none"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(Qn(nve,5),Qn(ive,5)),2&t){let r;Cn(r=bn())&&(i.webDeveloper=r.first),Cn(r=bn())&&(i.fieldScrollAnimation=r.first)}},decls:163,vars:0,consts:[[1,"alexMbile"],["href","/assets/media/ManuelAlejandroCV.pdf","target","blank",1,"webDeveloper"],["webDeveloper",""],[1,"fieldScrollAnimation"],["fieldScrollAnimation",""],[1,"mouseScroll"],["id","aboutMe",1,"aboutMe",3,"mouseenter"],["aboutMe",""],[1,"aboutMeContainer"],["id","imgAbout"],["id","imgAbout1","src","../assets/media/about.jpg","alt","About"],["id","imgAbout2","src","../assets/media/74553037.jpeg","alt","About"],[1,"textAbout"],[1,"titles"],[1,"descriptionAbout"],[1,"skillSetContainer"],[1,"containerTitle"],[1,"slider"],[1,"sliderTrack"],[1,"slide"],["src","../assets/media/java.png","alt","logo java"],["src","../assets/media/javascript.png","alt","logo javascript"],["src","../assets/media/css.png","alt","logo css"],["src","../assets/media/html.png","alt","logo html"],["src","../assets/media/Bootstrap.png","alt","logo bootstrap"],["src","../assets/media/git.png","alt","logo git"],["src","../assets/media/sass.png","alt","logo sass"],["src","../assets/media/wordpress.png","alt","logo wordpress"],["src","../assets/media/php.png","alt","logo php"],["src","../assets/media/mysql.png","alt","logo mysql"],["src","../assets/media/jquery.png","alt","logo jquery"],["src","../assets/media/Angular.png","alt","logo angular"],["src","../assets/media/logoPS.png","alt","logo adobe PS"],["src","../assets/media/adobeXDlogo.png","alt","logo adobe XD"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm","paddingRight200"],[1,"descriptionAbout","marginTop50"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer",1,"linkBGwhite"]],template:function(t,i){1&t&&(ye(0,"app-text-three"),Z(1,"div",0),Ve(2,"alex"),W(),Z(3,"div")(4,"a",1,2),Ve(6,"Web Developer"),W()(),Z(7,"div",3,4),ye(9,"div",5),W(),ye(10,"app-mega-text-video"),Z(11,"section",6,7),S1("mouseenter",function(){return i.hideMouseScroolAnimation()}),Z(13,"div",8)(14,"div",9),ye(15,"img",10)(16,"img",11),W(),Z(17,"div",12)(18,"h3",13),Ve(19," Who's this guy "),W(),Z(20,"span",14),Ve(21," I\u2019m a Web Developer based between Barcelona (Spain) and Los \xc1ngeles CA (USA)."),ye(22,"br"),Ve(23," My concept is never stop to learn that's why I've got a personal interest for continuous learning and self improvement."),ye(24,"br"),W()()()(),Z(25,"div",15)(26,"div",16)(27,"h2"),Ve(28," Skill Set "),W()()(),Z(29,"div",17)(30,"div",18)(31,"div",19),ye(32,"img",20),W(),Z(33,"div",19),ye(34,"img",21),W(),Z(35,"div",19),ye(36,"img",22),W(),Z(37,"div",19),ye(38,"img",23),W(),Z(39,"div",19),ye(40,"img",24),W(),Z(41,"div",19),ye(42,"img",25),W(),Z(43,"div",19),ye(44,"img",26),W(),Z(45,"div",19),ye(46,"img",27),W(),Z(47,"div",19),ye(48,"img",28),W(),Z(49,"div",19),ye(50,"img",29),W(),Z(51,"div",19),ye(52,"img",30),W(),Z(53,"div",19),ye(54,"img",31),W(),Z(55,"div",19),ye(56,"img",32),W(),Z(57,"div",19),ye(58,"img",33),W(),Z(59,"div",19),ye(60,"img",20),W(),Z(61,"div",19),ye(62,"img",21),W(),Z(63,"div",19),ye(64,"img",22),W(),Z(65,"div",19),ye(66,"img",23),W(),Z(67,"div",19),ye(68,"img",24),W(),Z(69,"div",19),ye(70,"img",25),W(),Z(71,"div",19),ye(72,"img",26),W(),Z(73,"div",19),ye(74,"img",27),W(),Z(75,"div",19),ye(76,"img",28),W(),Z(77,"div",19),ye(78,"img",29),W(),Z(79,"div",19),ye(80,"img",30),W(),Z(81,"div",19),ye(82,"img",31),W(),Z(83,"div",19),ye(84,"img",32),W(),Z(85,"div",19),ye(86,"img",33),W(),Z(87,"div",19),ye(88,"img",20),W(),Z(89,"div",19),ye(90,"img",21),W(),Z(91,"div",19),ye(92,"img",22),W(),Z(93,"div",19),ye(94,"img",23),W(),Z(95,"div",19),ye(96,"img",24),W(),Z(97,"div",19),ye(98,"img",25),W(),Z(99,"div",19),ye(100,"img",26),W(),Z(101,"div",19),ye(102,"img",27),W(),Z(103,"div",19),ye(104,"img",28),W(),Z(105,"div",19),ye(106,"img",29),W(),Z(107,"div",19),ye(108,"img",30),W(),Z(109,"div",19),ye(110,"img",31),W(),Z(111,"div",19),ye(112,"img",32),W(),Z(113,"div",19),ye(114,"img",33),W(),Z(115,"div",19),ye(116,"img",20),W(),Z(117,"div",19),ye(118,"img",21),W(),Z(119,"div",19),ye(120,"img",22),W(),Z(121,"div",19),ye(122,"img",23),W(),Z(123,"div",19),ye(124,"img",24),W(),Z(125,"div",19),ye(126,"img",25),W(),Z(127,"div",19),ye(128,"img",26),W(),Z(129,"div",19),ye(130,"img",27),W(),Z(131,"div",19),ye(132,"img",28),W(),Z(133,"div",19),ye(134,"img",29),W(),Z(135,"div",19),ye(136,"img",30),W(),Z(137,"div",19),ye(138,"img",31),W(),Z(139,"div",19),ye(140,"img",32),W(),Z(141,"div",19),ye(142,"img",33),W()()(),Z(143,"div",34)(144,"div",35)(145,"div",36)(146,"h1"),Ve(147,"Tech "),ye(148,"br"),Ve(149,"Skill"),W()()(),Z(150,"div",37)(151,"h3",13),Ve(152,"Background"),W(),Z(153,"span",14),Ve(154," I enjoy creating things that live on the internet. My interest in web development started back a long time ago when I was completing my professional career in graphic design. "),W(),Z(155,"span",38),Ve(156," I'm lucky to have worked with amazing people in Europe for important and ambitious global companies where I learned a lot. My main focus these days is building accessible, inclusive products and digital experiences for a variety of clients. "),W(),Z(157,"span",38),Ve(158," You can check out the whole list of degrees, courses, soft and hard skills in my "),Z(159,"a",39),Ve(160," linkedin "),W(),Ve(161," profile. "),W()()(),ye(162,"app-footer"))},dependencies:[M9e,hI,Qge]}),n})();var y0_url="https://alejandroalonzo.com/api";let d4=(()=>{class n{constructor(t){this._http=t,this.url=y0_url}testsService(){return"Probando la api de Angular"}saveContact(t){let i=JSON.stringify(t),r=(new on).set("Content-type","application/json");return this._http.post(this.url+"/sent-email",i,{headers:r})}saveProject(t){let i=JSON.stringify(t),r=(new on).set("Content-type","application/json");return this._http.post(this.url+"/save-project",i,{headers:r})}getProject(){let t=(new on).set("Content-type","application/json");return this._http.get(this.url+"/projects",{headers:t})}getProjectOne(t){let i=(new on).set("Content-type","application/json");return this._http.get(this.url+"/project/"+t,{headers:i})}deleteProject(t){let i=(new on).set("Content-type","application/json");return this._http.delete(this.url+"/project/"+t,{headers:i})}setProject(t){let i=JSON.stringify(t),r=(new on).set("Content-type","application/json");return this._http.put(this.url+"/project/"+t._id,i,{headers:r})}}return n.\u0275fac=function(t){return new(t||n)(Ye(Lz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const sve=function(n){return["/project",n]};function ave(n,e){if(1&n){const t=Ls();Z(0,"li",6)(1,"div",7),ye(2,"img",8),Z(3,"div",9)(4,"h3",10),Ve(5),W(),Z(6,"span",11),Ve(7),W()(),Z(8,"a",12)(9,"div",13),S1("mouseover",function(){return St(t),At(ft().changeClass=!0)})("mouseout",function(){return St(t),At(ft().changeClass=!1)}),W()(),Z(10,"span",14),S1("mouseover",function(){return St(t),At(ft().changeClass=!0)})("mouseout",function(){return St(t),At(ft().changeClass=!1)}),W()()()}if(2&n){const t=e.$implicit,i=ft();Ne(2),Sc("backgroundDarkImgPorfolio",i.changeClass),Lo("src",i.url+"/getImage/"+t.image,vo),Ne(3),w3(" ",t.name," "),Ne(2),w3("",t.langs," "),Ne(1),Ze("routerLink",Hp(6,sve,t._id))}}let ove=(()=>{class n{constructor(t){this._projectService=t,this.pro=[],this.url=y0_url,this.changeClass=!1}ngOnInit(){this.getProject()}getProject(){this._projectService.getProject().subscribe(t=>{t.projects&&(this.pro=t.projects,console.log(t))})}}return n.\u0275fac=function(t){return new(t||n)(le(d4))},n.\u0275cmp=h2({type:n,selectors:[["app-projects"]],features:[_t([d4])],decls:11,vars:1,consts:[[1,"portfolioPage"],[1,"containerTitle"],["id","projectsTitle"],[1,"projectsContainer"],["id","portfolioPage",1,"bgDark"],["class","projectView",4,"ngFor","ngForOf"],[1,"projectView"],[1,"cardsProjects"],["alt","Project image",1,"imgPotfolioPage","dark-img",3,"src"],[1,"infoProjectPorfolioCard"],[1,"hTresPortfolio"],[1,"spanPorfolio"],["fragment","projectDetailContainer",1,"seeProjectLink",3,"routerLink"],[1,"squreTextPorfolio",3,"mouseover","mouseout"],[1,"spanPorfolio2",3,"mouseover","mouseout"]],template:function(t,i){1&t&&(Z(0,"div",0)(1,"div",1)(2,"h2",2),Ve(3," My Projects "),W(),Z(4,"span"),Ve(5," A small gallery of recent projects chosen by me. I've done them all together with amazing people from companies around the globe. "),W()()(),Z(6,"div",0)(7,"div",3)(8,"ul",4),Gt(9,ave,11,8,"li",5),W()()(),ye(10,"app-footer")),2&t&&(Ne(9),Ze("ngForOf",i.pro))},dependencies:[ZA,P3,hI]}),n})();var cve=_1(519),Rf=_1.n(cve);class lve{constructor(e,t,i,r){this.name=e,this.email=t,this.subject=i,this.message=r}}function uve(n,e){1&n&&(Z(0,"span",21),Ve(1,"*"),W())}function fve(n,e){1&n&&(Z(0,"span",21),Ve(1,"*"),W())}function hve(n,e){1&n&&(Z(0,"span",21),Ve(1,"*"),W())}let dve=(()=>{class n{constructor(t){this._projectService=t,this.faArrowRight=u8,this.faMapMarkerAlt=rD,this.status="",this.changeClass=!1,this.title="Get in touch",this.contact=new lve("","","","")}ngOnInit(){}onSubmitContact(t){console.log(this.contact),this._projectService.saveContact(this.contact).subscribe(i=>{i.contact?(this.status="success",this.showModalSwal2successContact(),t.reset()):this.status="failed"})}showModalSwal2successContact(){Rf().fire({position:"top-end",icon:"success",title:"Thanks! I'll reply you  as soon as possible",showConfirmButton:!1,timer:3500})}}return n.\u0275fac=function(t){return new(t||n)(le(d4))},n.\u0275cmp=h2({type:n,selectors:[["app-contact"]],features:[_t([d4])],decls:31,vars:9,consts:[["id","createProject"],["id","imgContactProject"],["width","100%","height","100%","src","https://api.maptiler.com/maps/a4083f5d-329e-41ef-85be-b6cfc48eab48/?key=3ya2S1TEUt3cQkhOpimh#10.2/33.98561/-118.16902"],[1,"containerForm"],[1,"titles"],[1,"textRequirmentsForm"],[1,"red"],[3,"ngSubmit"],["contactForm","ngForm"],["type","text","name","name","placeholder","Name","required","","autofocus","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["type","email","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","subject","placeholder","Subject","required","",3,"ngModel","ngModelChange"],["subject","ngModel"],["name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["message","ngModel"],[1,"OpenAndSubmit"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled"],[1,"formError"]],template:function(t,i){if(1&t){const r=Ls();Z(0,"div",0)(1,"div",1),ye(2,"iframe",2),W(),Z(3,"div",3)(4,"h3",4),Ve(5),W(),Z(6,"span",5),Ve(7," Fill in the required fields ("),Z(8,"span",6),Ve(9,"*"),W(),Ve(10,") to unlock the submit button "),W(),Z(11,"form",7,8),S1("ngSubmit",function(){St(r);const a=H2(12);return At(i.onSubmitContact(a))}),Z(13,"span")(14,"input",9,10),S1("ngModelChange",function(a){return i.contact.name=a}),W(),Gt(16,uve,2,0,"span",11),W(),Z(17,"span")(18,"input",12,13),S1("ngModelChange",function(a){return i.contact.email=a}),W(),Gt(20,fve,2,0,"span",11),W(),Z(21,"span")(22,"input",14,15),S1("ngModelChange",function(a){return i.contact.subject=a}),W()(),Z(24,"span")(25,"textarea",16,17),S1("ngModelChange",function(a){return i.contact.message=a}),W(),Gt(27,hve,2,0,"span",11),W(),Z(28,"div",18)(29,"div",19),ye(30,"input",20),W()()()()()}if(2&t){const r=H2(12),s=H2(15),a=H2(19),o=H2(26);Ne(5),Io(i.title),Ne(9),Ze("ngModel",i.contact.name),Ne(2),Ze("ngIf",s.touched&&!s.valid),Ne(2),Ze("ngModel",i.contact.email),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(2),Ze("ngModel",i.contact.subject),Ne(3),Ze("ngModel",i.contact.message),Ne(2),Ze("ngIf",o.touched&&!o.valid),Ne(3),Ze("disabled",!r.form.valid)}},dependencies:[Oc,t9,Go,j7,$7,qo,Zc,$o]}),n})();class pve{constructor(e,t,i,r,s,a,o,c){this._id=e,this.name=t,this.description=i,this.category=r,this.langs=s,this.image=a,this.repository=o,this.preview=c}}let Pf=(()=>{class n{constructor(){this.url=y0_url}makeFileRequest(t,i,r,s){return new Promise(function(a,o){for(var c=new FormData,l=new XMLHttpRequest,u=0;u<r.length;u++)c.append(s,r[u],r[u].name);l.onreadystatechange=function(){4==l.readyState&&200==l.status&&a(JSON.parse(l.response))},l.open("POST",t,!0),l.send(c)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function mve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function gve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function vve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function yve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function _ve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function Mve(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function xve(n,e){if(1&n){const t=Ls();Z(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),Ve(4,"Another "),ye(5,"br"),Ve(6,"project"),W()()(),Z(7,"div",4)(8,"h2"),Ve(9),W(),Z(10,"form",5,6),S1("ngSubmit",function(){St(t);const r=H2(11);return At(ft().onSubmit(r))}),Z(12,"span")(13,"input",7,8),S1("ngModelChange",function(r){return St(t),At(ft().project.name=r)}),W(),Gt(15,mve,2,0,"span",9),W(),Z(16,"span")(17,"textarea",10,11),S1("ngModelChange",function(r){return St(t),At(ft().project.description=r)}),W(),Gt(19,gve,2,0,"span",9),W(),Z(20,"span")(21,"input",12,13),S1("ngModelChange",function(r){return St(t),At(ft().project.category=r)}),W(),Gt(23,vve,2,0,"span",9),W(),Z(24,"span")(25,"input",14,15),S1("ngModelChange",function(r){return St(t),At(ft().project.langs=r)}),W(),Gt(27,yve,2,0,"span",9),W(),Z(28,"span")(29,"input",16,17),S1("ngModelChange",function(r){return St(t),At(ft().project.repository=r)}),W(),Gt(31,_ve,2,0,"span",9),W(),Z(32,"span")(33,"input",18,19),S1("ngModelChange",function(r){return St(t),At(ft().project.preview=r)}),W(),Gt(35,Mve,2,0,"span",9),W(),Z(36,"div",20)(37,"div",21)(38,"label",22),Ve(39,"Open "),ye(40,"fa-icon",23),W(),Z(41,"input",24),S1("change",function(r){return St(t),At(ft().fileChangeEvent(r))}),W()(),Z(42,"span",25)(43,"input",26),S1("click",function(){return St(t),At(ft().showModalSwal2success())}),W()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),a=H2(26),o=ft();Ne(9),Io(o.title),Ne(4),Ze("ngModel",o.project.name),Ne(2),Ze("ngIf",i.touched&&!i.valid),Ne(2),Ze("ngModel",o.project.description),Ne(2),Ze("ngIf",r.touched&&!r.valid),Ne(2),Ze("ngModel",o.project.category),Ne(2),Ze("ngIf",s.touched&&!s.valid),Ne(2),Ze("ngModel",o.project.langs),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(2),Ze("ngModel",o.project.repository),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(2),Ze("ngModel",o.project.preview),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(5),Ze("icon",o.faFolderOpen),Ne(3),Ze("disabled",!t.form.valid)}}let Cve=(()=>{class n{constructor(t,i){this._projectService=t,this._uploadService=i,this.faFolderOpen=M9,this.status="",this.title="Create project",this.project=new pve("","","","","","","","")}ngOnInit(){}onSubmit(t){console.log(this.project),this._projectService.saveProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(y0_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)}),t.reset()):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2Error(){Rf().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:'<a href="">Why do I have this issue?</a>'})}showModalSwal2success(){Rf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(d4),le(Pf))},n.\u0275cmp=h2({type:n,selectors:[["app-create"]],features:[_t([d4,Pf])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Gt(0,xve,44,15,"div",0),2&t&&Ze("ngIf",i.project)},dependencies:[Oc,t9,Go,j7,$7,qo,Zc,$o,z6]}),n})(),bve=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h2({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,i){1&t&&(Z(0,"p"),Ve(1,"error works!"),W())}}),n})();var eM={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},hH={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},dH={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},tM={prefix:"fab",iconName:"youtube",icon:[576,512,[],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]};function jSe(n,e){if(1&n&&ye(0,"img",17),2&n){const t=ft(2);Lo("src",t.url+"/getImage/"+t.project.image,vo)}}const $Se=function(n){return["/edit",n]};function qSe(n,e){if(1&n){const t=Ls();Z(0,"div",18)(1,"a",19)(2,"button"),Ve(3," Set project "),W()(),Z(4,"button",20),S1("click",function(){return St(t),At(ft(2).setConfirm(!0))}),Ve(5," Delete project "),W()()}if(2&n){const t=ft(2);Ne(1),Ze("routerLink",Hp(1,$Se,t.project._id))}}function ZSe(n,e){if(1&n){const t=Ls();Z(0,"div",9)(1,"a",20),S1("click",function(){return St(t),At(ft(2).setConfirm(!1))}),Z(2,"button"),Ve(3," Cancel "),W()(),Z(4,"button",20),S1("click",function(){St(t);const r=ft(2);return At(r.deleteProject(r.project._id))}),Ve(5," Permanently delete "),W()()}}const XSe=function(){return["/projects"]};function YSe(n,e){if(1&n&&(Z(0,"div",1)(1,"div",2),Gt(2,jSe,1,1,"img",3),Z(3,"div",4)(4,"h3",5),Ve(5),W(),Z(6,"span",6),Ve(7),W(),Z(8,"h3",7),Ve(9),W(),Z(10,"h3",8),Ve(11,"Languages"),W(),Z(12,"span",8),Ve(13),W(),Z(14,"div",9)(15,"a",10)(16,"button"),ye(17,"fa-icon",11),Ve(18," See this repository "),W()(),Z(19,"a",10)(20,"button"),ye(21,"fa-icon",11),Ve(22," Watch a preview "),W()()(),Gt(23,qSe,6,3,"div",12),Gt(24,ZSe,6,0,"div",13),Z(25,"a",14)(26,"button",15),ye(27,"fa-icon",16),Ve(28,"\xa0 \xa0Go back to all projects "),W()()()()()),2&n){const t=ft();Ne(2),Ze("ngIf",t.project.image),Ne(3),w3(" ",t.project.name," "),Ne(2),w3(" ",t.project.description," "),Ne(2),w3("Category: ",t.project.category,""),Ne(4),Io(t.project.langs),Ne(2),Lo("href",t.project.repository,vo),Ne(2),Ze("icon",t.faGitHub),Ne(2),Lo("href",t.project.preview,vo),Ne(2),Ze("icon",t.faYoutube),Ne(2),Ze("ngIf",0==t.confirm),Ne(1),Ze("ngIf",1==t.confirm),Ne(1),Ze("routerLink",Jr(13,XSe)),Ne(2),Ze("icon",t.faArrowLeft)}}let JSe=(()=>{class n{constructor(t,i,r){this._projectService=t,this._router=i,this._route=r,this.faGitHub=eM,this.faYoutube=tM,this.faArrowLeft=eD,this.url=y0_url,this.confirm=!1}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}deleteProject(t){this._projectService.deleteProject(t).subscribe(i=>{i.project&&this._router.navigate(["/projects"])})}setConfirm(t){this.confirm=t}}return n.\u0275fac=function(t){return new(t||n)(le(d4),le(En),le(R3))},n.\u0275cmp=h2({type:n,selectors:[["app-detail"]],features:[_t([d4])],decls:1,vars:1,consts:[["class","aboutMe",4,"ngIf"],[1,"aboutMe"],["id","projectDetailContainer",1,"aboutMeContainer"],["class","imgeLeftMedium","alt","Project image",3,"src",4,"ngIf"],[1,"textAbout"],[1,"titles"],[1,"descriptionAbout"],[1,"category"],[1,"languages"],[1,"bottonsProjecrtsDetail"],["target","_blank","rel","noopener noreferrer",1,"seeProjectLink",3,"href"],[1,"socialIcons",3,"icon"],["class","bottonsProjecrtsDetail displayNone",4,"ngIf"],["class","bottonsProjecrtsDetail",4,"ngIf"],["fragment","portfolioPage",3,"routerLink"],[1,"bottonsGoBack"],[3,"icon"],["alt","Project image",1,"imgeLeftMedium",3,"src"],[1,"bottonsProjecrtsDetail","displayNone"],[3,"routerLink"],[3,"click"]],template:function(t,i){1&t&&Gt(0,YSe,29,14,"div",0),2&t&&Ze("ngIf",i.project)},dependencies:[Oc,P3,z6]}),n})();function KSe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function QSe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function eAe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function tAe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function nAe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function iAe(n,e){1&n&&(Z(0,"span",27),Ve(1,"*"),W())}function rAe(n,e){if(1&n){const t=Ls();Z(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),Ve(4,"Another "),ye(5,"br"),Ve(6,"project"),W()()(),Z(7,"div",4)(8,"h2"),Ve(9),W(),Z(10,"form",5,6),S1("ngSubmit",function(){St(t);const r=H2(11);return At(ft().onSubmit(r))}),Z(12,"span")(13,"input",7,8),S1("ngModelChange",function(r){return St(t),At(ft().project.name=r)}),W(),Gt(15,KSe,2,0,"span",9),W(),Z(16,"span")(17,"textarea",10,11),S1("ngModelChange",function(r){return St(t),At(ft().project.description=r)}),W(),Gt(19,QSe,2,0,"span",9),W(),Z(20,"span")(21,"input",12,13),S1("ngModelChange",function(r){return St(t),At(ft().project.category=r)}),W(),Gt(23,eAe,2,0,"span",9),W(),Z(24,"span")(25,"input",14,15),S1("ngModelChange",function(r){return St(t),At(ft().project.langs=r)}),W(),Gt(27,tAe,2,0,"span",9),W(),Z(28,"span")(29,"input",16,17),S1("ngModelChange",function(r){return St(t),At(ft().project.repository=r)}),W(),Gt(31,nAe,2,0,"span",9),W(),Z(32,"span")(33,"input",18,19),S1("ngModelChange",function(r){return St(t),At(ft().project.preview=r)}),W(),Gt(35,iAe,2,0,"span",9),W(),Z(36,"div",20)(37,"div",21)(38,"label",22),Ve(39,"Open "),ye(40,"fa-icon",23),W(),Z(41,"input",24),S1("change",function(r){return St(t),At(ft().fileChangeEvent(r))}),W()(),Z(42,"span",25)(43,"input",26),S1("click",function(){return St(t),At(ft().showModalSwal2success())}),W()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),a=H2(26),o=ft();Ne(9),Io(o.title),Ne(4),Ze("ngModel",o.project.name),Ne(2),Ze("ngIf",i.touched&&!i.valid),Ne(2),Ze("ngModel",o.project.description),Ne(2),Ze("ngIf",r.touched&&!r.valid),Ne(2),Ze("ngModel",o.project.category),Ne(2),Ze("ngIf",s.touched&&!s.valid),Ne(2),Ze("ngModel",o.project.langs),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(2),Ze("ngModel",o.project.repository),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(2),Ze("ngModel",o.project.preview),Ne(2),Ze("ngIf",a.touched&&!a.valid),Ne(5),Ze("icon",o.faFolderOpen),Ne(3),Ze("disabled",!t.form.valid)}}const sAe=[{path:"",component:rve},{path:"contact",component:dve},{path:"projects",component:ove},{path:"create",component:Cve},{path:"project/:id",component:JSe},{path:"edit/:id",component:(()=>{class n{constructor(t,i,r,s){this._projectService=t,this._uploadService=i,this._route=r,this._router=s,this.faFolderOpen=M9,this.status="",this.title="Edit project"}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}onSubmit(t){this._projectService.setProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(y0_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)})):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2success(){Rf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(d4),le(Pf),le(R3),le(En))},n.\u0275cmp=h2({type:n,selectors:[["app-edit"]],features:[_t([d4,Pf])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Gt(0,rAe,44,15,"div",0),2&t&&Ze("ngIf",i.project)},dependencies:[Oc,t9,Go,j7,$7,qo,Zc,$o,z6]}),n})()},{path:"**",component:bve}],pH=[],aAe=_9.forRoot(sAe),oAe=[];let cAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n}),n.\u0275inj=en({imports:[_9.forRoot(oAe),_9]}),n})();const lAe=["titleNamed"],uAe=["navbar"],fAe=function(){return[""]},nM=function(){return["actived"]},hAe=function(){return["/projects"]},dAe=function(){return["/contact"]};let pAe=(()=>{class n{constructor(t){this.router=t,this.title="portfolioAngular",this.faCoffee=nD,this.faFolderOpen=M9,this.faLinkedinIn=hH,this.faGitHub=eM,this.faYoutube=tM,this.faSun=oD,this.faMoon=sD,this.faArrowDown=Ig,this.faArrowRight=u8,this.faWhatsapp=dH,this.faMailBulk=iD,this.faBars=tD,this.isShown=!1,this.isHomePage=!1,this.titleName="ALE",this.titleArea="WEB",this.titleJob="DEV"}ngOnInit(){const t=document.querySelector(".cursor"),i=document.querySelector(".cursor2");t.style.opacity=i.style.opacity="0",document.addEventListener("mousemove",o=>{o.clientX>=0&&o.clientX<=window.innerWidth&&o.clientY>=0&&o.clientY<=window.innerHeight&&(setTimeout(()=>{t.style.cssText=`left: ${o.clientX}px; top: ${o.clientY}px; opacity: 1;`},50),i.style.cssText=`left: ${o.clientX}px; top: ${o.clientY}px; opacity: 1;`)}),document.body.addEventListener("mouseleave",o=>{t.style.opacity="0",i.style.opacity="0"}),setInterval(()=>{"0"===i.style.opacity&&(t.style.opacity="0")},50),this.router.events.subscribe(o=>{o instanceof I3&&(this.isHomePage="/"===this.router.url)}),$(".hide").on("click",function(){$("nav ul").toggle("slow")});var r=document.documentElement.scrollTop;window.onscroll=function(){window.innerWidth>768&&a()};const a=()=>{var o=document.documentElement.scrollTop;this.navbar.nativeElement.style.top=r>o?"0":"-70px",r=o}}toggleShow(){this.isShown=!this.isShown}}return n.\u0275fac=function(t){return new(t||n)(le(En))},n.\u0275cmp=h2({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(Qn(lAe,5),Qn(uAe,5)),2&t){let r;Cn(r=bn())&&(i.titleNamed=r.first),Cn(r=bn())&&(i.navbar=r.first)}},decls:32,vars:17,consts:[[1,"cursor"],[1,"cursor2"],["id","switchColor"],["href","https://api.whatsapp.com/send?phone=16262436274&text=Hello!\xa0Can\xa0you\xa0help\xa0me?","target","_blank","rel","noopener noreferrer"],["id","day",1,"boxSideBars"],[1,"socialIcons",3,"icon"],["href","mailto:alejandro.12w@gmail.com","target","_blank","rel","noopener noreferrer"],["id","night",1,"boxSideBars"],["id","social"],["href","https://www.linkedin.com/in/alejandro-alonzo-69639a38/","target","_blank","rel","noopener noreferrer"],["id","linkedin",1,"boxSideBars"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer"],["id","github",1,"boxSideBars"],["navbar",""],["id","homeBtnMenu"],[3,"routerLink","routerLinkActive"],["id","btnsMenu"],["fragment","projectsTitle",3,"routerLink","routerLinkActive"],["fragment","createProject",3,"routerLink","routerLinkActive"],[1,"hide"],[3,"icon"]],template:function(t,i){1&t&&(ye(0,"div",0)(1,"div",1),Z(2,"div",2)(3,"a",3)(4,"div",4),ye(5,"fa-icon",5),W()(),Z(6,"a",6)(7,"div",7),ye(8,"fa-icon",5),W()()(),Z(9,"div",8)(10,"a",9)(11,"div",10),ye(12,"fa-icon",5),W()(),Z(13,"a",11)(14,"div",12),ye(15,"fa-icon",5),W()()(),Z(16,"nav",null,13)(18,"ul",14)(19,"li")(20,"a",15),Ve(21,"alex"),W()()(),Z(22,"ul",16)(23,"li")(24,"a",17),Ve(25,"Projects"),W()(),Z(26,"li")(27,"a",18),Ve(28,"Contact"),W()()(),Z(29,"div",19),ye(30,"fa-icon",20),W()(),ye(31,"router-outlet")),2&t&&(Ne(5),Ze("icon",i.faWhatsapp),Ne(3),Ze("icon",i.faMailBulk),Ne(4),Ze("icon",i.faLinkedinIn),Ne(3),Ze("icon",i.faGitHub),Ne(5),Ze("routerLink",Jr(11,fAe))("routerLinkActive",Jr(12,nM)),Ne(4),Ze("routerLink",Jr(13,hAe))("routerLinkActive",Jr(14,nM)),Ne(3),Ze("routerLink",Jr(15,dAe))("routerLinkActive",Jr(16,nM)),Ne(3),Ze("icon",i.faBars))},dependencies:[wg,P3,jT,z6]}),n})();const mAe={anchorScrolling:"enabled",scrollPositionRestoration:"enabled"};let gAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=qn({type:n,bootstrap:[pAe]}),n.\u0275inj=en({providers:[pH,fH],imports:[_q,cAe,Xq,rX,aAe,h9e,_9.forRoot(pH,mAe)]}),n})();vq().bootstrapModule(gAe).catch(n=>console.error(n))},519:function(_0){_0.exports=function(){"use strict";const _1={},Ha=y=>new Promise(_=>{if(!y)return _();const w=window.scrollX,R=window.scrollY;_1.restoreFocusTimeout=setTimeout(()=>{_1.previousActiveElement instanceof HTMLElement?(_1.previousActiveElement.focus(),_1.previousActiveElement=null):document.body&&document.body.focus(),_()},100),window.scrollTo(w,R)});var G1={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ie=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),o3=["success","warning","info","question","error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),Lr="SweetAlert2:",c3=y=>y.charAt(0).toUpperCase()+y.slice(1),G2=y=>{console.warn(`${Lr} ${"object"==typeof y?y.join(" "):y}`)},Nr=y=>{console.error(`${Lr} ${y}`)},C5=[],Of=(y,_)=>{(y=>{C5.includes(y)||(C5.push(y),G2(y))})(`"${y}" is deprecated and will be removed in the next major release. Please use "${_}" instead.`)},l3=y=>"function"==typeof y?y():y,sr=y=>y&&"function"==typeof y.toPromise,Ir=y=>sr(y)?y.toPromise():Promise.resolve(y),M0=y=>y&&Promise.resolve(y)===y,f2=()=>document.body.querySelector(`.${ie.container}`),cs=y=>{const _=f2();return _?_.querySelector(y):null},W2=y=>cs(`.${y}`),ct=()=>W2(ie.popup),ar=()=>W2(ie.icon),b5=()=>W2(ie.title),u3=()=>W2(ie["html-container"]),w5=()=>W2(ie.image),ls=()=>W2(ie["progress-steps"]),hi=()=>W2(ie["validation-message"]),di=()=>cs(`.${ie.actions} .${ie.confirm}`),Rr=()=>cs(`.${ie.actions} .${ie.cancel}`),pt=()=>cs(`.${ie.actions} .${ie.deny}`),f3=()=>cs(`.${ie.loader}`),us=()=>W2(ie.actions),A5=()=>W2(ie.footer),Un=()=>W2(ie["timer-progress-bar"]),Fa=()=>W2(ie.close),ka=()=>{const y=ct().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(y).sort((te,He)=>{const W1=parseInt(te.getAttribute("tabindex")),I1=parseInt(He.getAttribute("tabindex"));return W1>I1?1:W1<I1?-1:0}),w=ct().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),R=Array.from(w).filter(te=>"-1"!==te.getAttribute("tabindex"));return[...new Set(_.concat(R))].filter(te=>mn(te))},Yt=()=>pi(document.body,ie.shown)&&!pi(document.body,ie["toast-shown"])&&!pi(document.body,ie["no-backdrop"]),Ht=()=>ct()&&pi(ct(),ie.toast),C1=(y,_)=>{if(y.textContent="",_){const R=(new DOMParser).parseFromString(_,"text/html");Array.from(R.querySelector("head").childNodes).forEach(te=>{y.appendChild(te)}),Array.from(R.querySelector("body").childNodes).forEach(te=>{te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?y.appendChild(te.cloneNode(!0)):y.appendChild(te)})}},pi=(y,_)=>{if(!_)return!1;const w=_.split(/\s+/);for(let R=0;R<w.length;R++)if(!y.classList.contains(w[R]))return!1;return!0},K2=(y,_,w)=>{if(((y,_)=>{Array.from(y.classList).forEach(w=>{!Object.values(ie).includes(w)&&!Object.values(o3).includes(w)&&!Object.values(_.showClass).includes(w)&&y.classList.remove(w)})})(y,_),_.customClass&&_.customClass[w]){if("string"!=typeof _.customClass[w]&&!_.customClass[w].forEach)return void G2(`Invalid type of customClass.${w}! Expected string or iterable object, got "${typeof _.customClass[w]}"`);Q1(y,_.customClass[w])}},x0=(y,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return y.querySelector(`.${ie.popup} > .${ie[_]}`);case"checkbox":return y.querySelector(`.${ie.popup} > .${ie.checkbox} input`);case"radio":return y.querySelector(`.${ie.popup} > .${ie.radio} input:checked`)||y.querySelector(`.${ie.popup} > .${ie.radio} input:first-child`);case"range":return y.querySelector(`.${ie.popup} > .${ie.range} input`);default:return y.querySelector(`.${ie.popup} > .${ie.input}`)}},z5=y=>{if(y.focus(),"file"!==y.type){const _=y.value;y.value="",y.value=_}},E5=(y,_,w)=>{!y||!_||("string"==typeof _&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(R=>{Array.isArray(y)?y.forEach(te=>{w?te.classList.add(R):te.classList.remove(R)}):w?y.classList.add(R):y.classList.remove(R)}))},Q1=(y,_)=>{E5(y,_,!0)},or=(y,_)=>{E5(y,_,!1)},p4=(y,_)=>{const w=Array.from(y.children);for(let R=0;R<w.length;R++){const te=w[R];if(te instanceof HTMLElement&&pi(te,_))return te}},fs=(y,_,w)=>{w===`${parseInt(w)}`&&(w=parseInt(w)),w||0===parseInt(w)?y.style[_]="number"==typeof w?`${w}px`:w:y.style.removeProperty(_)},w2=function(y){y&&(y.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},S2=y=>{y&&(y.style.display="none")},T5=(y,_,w,R)=>{const te=y.querySelector(_);te&&(te.style[w]=R)},h3=function(y,_){_?w2(y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):S2(y)},mn=y=>!(!y||!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),b0=y=>y.scrollHeight>y.clientHeight,D5=y=>{const _=window.getComputedStyle(y),w=parseFloat(_.getPropertyValue("animation-duration")||"0"),R=parseFloat(_.getPropertyValue("transition-duration")||"0");return w>0||R>0},w0=function(y){let _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const w=Un();mn(w)&&(_&&(w.style.transition="none",w.style.width="100%"),setTimeout(()=>{w.style.transition=`width ${y/1e3}s linear`,w.style.width="0%"},10))},cr=()=>typeof window>"u"||typeof document>"u",L5=`\n <div aria-labelledby="${ie.title}" aria-describedby="${ie["html-container"]}" class="${ie.popup}" tabindex="-1">\n   <button type="button" class="${ie.close}"></button>\n   <ul class="${ie["progress-steps"]}"></ul>\n   <div class="${ie.icon}"></div>\n   <img class="${ie.image}" />\n   <h2 class="${ie.title}" id="${ie.title}"></h2>\n   <div class="${ie["html-container"]}" id="${ie["html-container"]}"></div>\n   <input class="${ie.input}" />\n   <input type="file" class="${ie.file}" />\n   <div class="${ie.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${ie.select}"></select>\n   <div class="${ie.radio}"></div>\n   <label for="${ie.checkbox}" class="${ie.checkbox}">\n     <input type="checkbox" />\n     <span class="${ie.label}"></span>\n   </label>\n   <textarea class="${ie.textarea}"></textarea>\n   <div class="${ie["validation-message"]}" id="${ie["validation-message"]}"></div>\n   <div class="${ie.actions}">\n     <div class="${ie.loader}"></div>\n     <button type="button" class="${ie.confirm}"></button>\n     <button type="button" class="${ie.deny}"></button>\n     <button type="button" class="${ie.cancel}"></button>\n   </div>\n   <div class="${ie.footer}"></div>\n   <div class="${ie["timer-progress-bar-container"]}">\n     <div class="${ie["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Pr=()=>{_1.currentInstance.resetValidationMessage()},qf=y=>{const _=(()=>{const y=f2();return!!y&&(y.remove(),or([document.documentElement,document.body],[ie["no-backdrop"],ie["toast-shown"],ie["has-column"]]),!0)})();if(cr())return void Nr("SweetAlert2 requires document to initialize");const w=document.createElement("div");w.className=ie.container,_&&Q1(w,ie["no-transition"]),C1(w,L5);const R=(y=>"string"==typeof y?document.querySelector(y):y)(y.target);R.appendChild(w),(y=>{const _=ct();_.setAttribute("role",y.toast?"alert":"dialog"),_.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||_.setAttribute("aria-modal","true")})(y),(y=>{"rtl"===window.getComputedStyle(y).direction&&Q1(f2(),ie.rtl)})(R),(()=>{const y=ct(),_=p4(y,ie.input),w=p4(y,ie.file),R=y.querySelector(`.${ie.range} input`),te=y.querySelector(`.${ie.range} output`),He=p4(y,ie.select),W1=y.querySelector(`.${ie.checkbox} input`),I1=p4(y,ie.textarea);_.oninput=Pr,w.onchange=Pr,He.onchange=Pr,W1.onchange=Pr,I1.oninput=Pr,R.oninput=()=>{Pr(),te.value=R.value},R.onchange=()=>{Pr(),te.value=R.value}})()},S0=(y,_)=>{y instanceof HTMLElement?_.appendChild(y):"object"==typeof y?Zf(y,_):y&&C1(_,y)},Zf=(y,_)=>{y.jquery?Xf(_,y):C1(_,y.toString())},Xf=(y,_)=>{if(y.textContent="",0 in _)for(let w=0;w in _;w++)y.appendChild(_[w].cloneNode(!0));else y.appendChild(_.cloneNode(!0))},hs=(()=>{if(cr())return!1;const y=document.createElement("div"),_={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const w in _)if(Object.prototype.hasOwnProperty.call(_,w)&&typeof y.style[w]<"u")return _[w];return!1})(),Yf=(y,_)=>{const w=us(),R=f3();_.showConfirmButton||_.showDenyButton||_.showCancelButton?w2(w):S2(w),K2(w,_,"actions"),function aM(y,_,w){const R=di(),te=pt(),He=Rr();Ua(R,"confirm",w),Ua(te,"deny",w),Ua(He,"cancel",w),function N5(y,_,w,R){R.buttonsStyling?(Q1([y,_,w],ie.styled),R.confirmButtonColor&&(y.style.backgroundColor=R.confirmButtonColor,Q1(y,ie["default-outline"])),R.denyButtonColor&&(_.style.backgroundColor=R.denyButtonColor,Q1(_,ie["default-outline"])),R.cancelButtonColor&&(w.style.backgroundColor=R.cancelButtonColor,Q1(w,ie["default-outline"]))):or([y,_,w],ie.styled)}(R,te,He,w),w.reverseButtons&&(w.toast?(y.insertBefore(He,R),y.insertBefore(te,R)):(y.insertBefore(He,_),y.insertBefore(te,_),y.insertBefore(R,_)))}(w,R,_),C1(R,_.loaderHtml),K2(R,_,"loader")};function Ua(y,_,w){h3(y,w[`show${c3(_)}Button`],"inline-block"),C1(y,w[`${_}ButtonText`]),y.setAttribute("aria-label",w[`${_}ButtonAriaLabel`]),y.className=ie[_],K2(y,w,`${_}Button`),Q1(y,w[`${_}ButtonClass`])}const R5=(y,_)=>{const w=f2();w&&(function P5(y,_){"string"==typeof _?y.style.background=_:_||Q1([document.documentElement,document.body],ie["no-backdrop"])}(w,_.backdrop),function Jf(y,_){_ in ie?Q1(y,ie[_]):(G2('The "position" parameter is not valid, defaulting to "center"'),Q1(y,ie.center))}(w,_.position),function H5(y,_){if(_&&"string"==typeof _){const w=`grow-${_}`;w in ie&&Q1(y,ie[w])}}(w,_.grow),K2(w,_,"container"))};const V5=["input","file","range","select","radio","checkbox","textarea"],F5=y=>{if(!Q2[y.input])return void Nr(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${y.input}"`);const _=z0(y.input),w=Q2[y.input](_,y);w2(_),y.inputAutoFocus&&setTimeout(()=>{z5(w)})},Kf=(y,_)=>{const w=x0(ct(),y);if(w){(y=>{for(let _=0;_<y.attributes.length;_++){const w=y.attributes[_].name;["type","value","style"].includes(w)||y.removeAttribute(w)}})(w);for(const R in _)w.setAttribute(R,_[R])}},Qf=y=>{const _=z0(y.input);"object"==typeof y.customClass&&Q1(_,y.customClass.input)},A0=(y,_)=>{(!y.placeholder||_.inputPlaceholder)&&(y.placeholder=_.inputPlaceholder)},ds=(y,_,w)=>{if(w.inputLabel){y.id=ie.input;const R=document.createElement("label"),te=ie["input-label"];R.setAttribute("for",y.id),R.className=te,"object"==typeof w.customClass&&Q1(R,w.customClass.inputLabel),R.innerText=w.inputLabel,_.insertAdjacentElement("beforebegin",R)}},z0=y=>p4(ct(),ie[y]||ie.input),Ba=(y,_)=>{["string","number"].includes(typeof _)?y.value=`${_}`:M0(_)||G2(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},Q2={};Q2.text=Q2.email=Q2.password=Q2.number=Q2.tel=Q2.url=(y,_)=>(Ba(y,_.inputValue),ds(y,y,_),A0(y,_),y.type=_.input,y),Q2.file=(y,_)=>(ds(y,y,_),A0(y,_),y),Q2.range=(y,_)=>{const w=y.querySelector("input"),R=y.querySelector("output");return Ba(w,_.inputValue),w.type=_.input,Ba(R,_.inputValue),ds(w,y,_),y},Q2.select=(y,_)=>{if(y.textContent="",_.inputPlaceholder){const w=document.createElement("option");C1(w,_.inputPlaceholder),w.value="",w.disabled=!0,w.selected=!0,y.appendChild(w)}return ds(y,y,_),y},Q2.radio=y=>(y.textContent="",y),Q2.checkbox=(y,_)=>{const w=x0(ct(),"checkbox");w.value="1",w.id=ie.checkbox,w.checked=!!_.inputValue;const R=y.querySelector("span");return C1(R,_.inputPlaceholder),w},Q2.textarea=(y,_)=>{Ba(y,_.inputValue),A0(y,_),ds(y,y,_);return setTimeout(()=>{if("MutationObserver"in window){const R=parseInt(window.getComputedStyle(ct()).width);new MutationObserver(()=>{const He=y.offsetWidth+(R=>parseInt(window.getComputedStyle(R).marginLeft)+parseInt(window.getComputedStyle(R).marginRight))(y);ct().style.width=He>R?`${He}px`:null}).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};const lr=(y,_)=>{const w=u3();w&&(K2(w,_,"htmlContainer"),_.html?(S0(_.html,w),w2(w,"block")):_.text?(w.textContent=_.text,w2(w,"block")):S2(w),((y,_)=>{const w=ct(),R=G1.innerParams.get(y),te=!R||_.input!==R.input;V5.forEach(He=>{const W1=p4(w,ie[He]);Kf(He,_.inputAttributes),W1.className=ie[He],te&&S2(W1)}),_.input&&(te&&F5(_),Qf(_))})(y,_))},m4=(y,_)=>{for(const w in o3)_.icon!==w&&or(y,o3[w]);Q1(y,o3[_.icon]),E0(y,_),ki(),K2(y,_,"icon")},ki=()=>{const y=ct(),_=window.getComputedStyle(y).getPropertyValue("background-color"),w=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let R=0;R<w.length;R++)w[R].style.backgroundColor=_},k5=(y,_)=>{let R,w=y.innerHTML;_.iconHtml?R=T0(_.iconHtml):"success"===_.icon?(R='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',w=w.replace(/ style=".*?"/g,"")):R="error"===_.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':T0({question:"?",warning:"!",info:"i"}[_.icon]),w.trim()!==R.trim()&&C1(y,R)},E0=(y,_)=>{if(_.iconColor){y.style.color=_.iconColor,y.style.borderColor=_.iconColor;for(const w of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])T5(y,w,"backgroundColor",_.iconColor);T5(y,".swal2-success-ring","borderColor",_.iconColor)}},T0=y=>`<div class="${ie["icon-content"]}">${y}</div>`,U5=(y,_)=>{const w=_.showClass||{};y.className=`${ie.popup} ${mn(y)?w.popup:""}`,_.toast?(Q1([document.documentElement,document.body],ie["toast-shown"]),Q1(y,ie.toast)):Q1(y,ie.modal),K2(y,_,"popup"),"string"==typeof _.customClass&&Q1(y,_.customClass),_.icon&&Q1(y,ie[`icon-${_.icon}`])},ih=y=>{const _=document.createElement("li");return Q1(_,ie["progress-step"]),C1(_,y),_},rh=y=>{const _=document.createElement("li");return Q1(_,ie["progress-step-line"]),y.progressStepsDistance&&fs(_,"width",y.progressStepsDistance),_},G5=(y,_)=>{((y,_)=>{const w=f2(),R=ct();if(w&&R){if(_.toast){fs(w,"width",_.width),R.style.width="100%";const te=f3();te&&R.insertBefore(te,ar())}else fs(R,"width",_.width);fs(R,"padding",_.padding),_.color&&(R.style.color=_.color),_.background&&(R.style.background=_.background),S2(hi()),U5(R,_)}})(0,_),R5(0,_),((y,_)=>{const w=ls();if(!w)return;const{progressSteps:R,currentProgressStep:te}=_;R&&0!==R.length&&void 0!==te?(w2(w),w.textContent="",te>=R.length&&G2("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),R.forEach((He,W1)=>{const I1=ih(He);if(w.appendChild(I1),W1===te&&Q1(I1,ie["active-progress-step"]),W1!==R.length-1){const Ot=rh(_);w.appendChild(Ot)}})):S2(w)})(0,_),((y,_)=>{const w=G1.innerParams.get(y),R=ar();w&&_.icon===w.icon?(k5(R,_),m4(R,_)):_.icon||_.iconHtml?_.icon&&-1===Object.keys(o3).indexOf(_.icon)?(Nr(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),S2(R)):(w2(R),k5(R,_),m4(R,_),Q1(R,_.showClass.icon)):S2(R)})(y,_),((y,_)=>{const w=w5();if(w){if(!_.imageUrl)return void S2(w);w2(w,""),w.setAttribute("src",_.imageUrl),w.setAttribute("alt",_.imageAlt||""),fs(w,"width",_.imageWidth),fs(w,"height",_.imageHeight),w.className=ie.image,K2(w,_,"image")}})(0,_),((y,_)=>{const w=b5();w&&(h3(w,_.title||_.titleText,"block"),_.title&&S0(_.title,w),_.titleText&&(w.innerText=_.titleText),K2(w,_,"title"))})(0,_),((y,_)=>{const w=Fa();w&&(C1(w,_.closeButtonHtml||""),K2(w,_,"closeButton"),h3(w,_.showCloseButton),w.setAttribute("aria-label",_.closeButtonAriaLabel||""))})(0,_),lr(y,_),Yf(0,_),((y,_)=>{const w=A5();w&&(h3(w,_.footer),_.footer&&S0(_.footer,w),K2(w,_,"footer"))})(0,_);const w=ct();"function"==typeof _.didRender&&w&&_.didRender(w)},j5=()=>di()&&di().click(),d3=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),l1=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},ms=(y,_)=>{const w=ka();if(w.length)return(y+=_)===w.length?y=0:-1===y&&(y=w.length-1),void w[y].focus();ct().focus()},Gn=["ArrowRight","ArrowDown"],oh=["ArrowLeft","ArrowUp"],ch=(y,_,w)=>{const R=G1.innerParams.get(y);R&&(_.isComposing||229===_.keyCode||(R.stopKeydownPropagation&&_.stopPropagation(),"Enter"===_.key?ht(y,_,R):"Tab"===_.key?Ga(_):[...Gn,...oh].includes(_.key)?s2(_.key):"Escape"===_.key&&D0(_,R,w)))},ht=(y,_,w)=>{if(l3(w.allowEnterKey)&&_.target&&y.getInput()&&_.target instanceof HTMLElement&&_.target.outerHTML===y.getInput().outerHTML){if(["textarea","file"].includes(w.input))return;j5(),_.preventDefault()}},Ga=y=>{const _=y.target,w=ka();let R=-1;for(let te=0;te<w.length;te++)if(_===w[te]){R=te;break}ms(R,y.shiftKey?-1:1),y.stopPropagation(),y.preventDefault()},s2=y=>{const _=di(),w=pt(),R=Rr();if(document.activeElement instanceof HTMLElement&&![_,w,R].includes(document.activeElement))return;const He=Gn.includes(y)?"nextElementSibling":"previousElementSibling";let W1=document.activeElement;for(let I1=0;I1<us().children.length;I1++){if(W1=W1[He],!W1)return;if(W1 instanceof HTMLButtonElement&&mn(W1))break}W1 instanceof HTMLButtonElement&&W1.focus()},D0=(y,_,w)=>{l3(_.allowEscapeKey)&&(y.preventDefault(),w(d3.esc))};var gs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const d1=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},N0=()=>{const y=navigator.userAgent,_=!!y.match(/iPad/i)||!!y.match(/iPhone/i),w=!!y.match(/WebKit/i);_&&w&&!y.match(/CriOS/i)&&ct().scrollHeight>window.innerHeight-44&&(f2().style.paddingBottom="44px")},cM=()=>{const y=f2();let _;y.ontouchstart=w=>{_=q5(w)},y.ontouchmove=w=>{_&&(w.preventDefault(),w.stopPropagation())}},q5=y=>{const _=y.target,w=f2();return!me(y)&&!Wa(y)&&(_===w||!b0(w)&&_ instanceof HTMLElement&&"INPUT"!==_.tagName&&"TEXTAREA"!==_.tagName&&!(b0(u3())&&u3().contains(_)))},me=y=>y.touches&&y.touches.length&&"stylus"===y.touches[0].touchType,Wa=y=>y.touches&&y.touches.length>1;let p3=null;const lM=()=>{null===p3&&document.body.scrollHeight>window.innerHeight&&(p3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${p3+(()=>{const y=document.createElement("div");y.className=ie["scrollbar-measure"],document.body.appendChild(y);const _=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),_})()}px`)};function vs(y,_,w,R){Ht()?hh(y,R):(Ha(w).then(()=>hh(y,R)),l1(_1)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),Yt()&&(null!==p3&&(document.body.style.paddingRight=`${p3}px`,p3=null),(()=>{if(pi(document.body,ie.iosfix)){const y=parseInt(document.body.style.top,10);or(document.body,ie.iosfix),document.body.style.top="",document.body.scrollTop=-1*y}})(),d1()),function gn(){or([document.documentElement,document.body],[ie.shown,ie["height-auto"],ie["no-backdrop"],ie["toast-shown"]])}()}function g4(y){y=uM(y);const _=gs.swalPromiseResolve.get(this),w=uh(this);this.isAwaitingPromise?y.isDismissed||(Wn(this),_(y)):w&&_(y)}const uh=y=>{const _=ct();if(!_)return!1;const w=G1.innerParams.get(y);if(!w||pi(_,w.hideClass.popup))return!1;or(_,w.showClass.popup),Q1(_,w.hideClass.popup);const R=f2();return or(R,w.showClass.backdrop),Q1(R,w.hideClass.backdrop),fM(y,_,w),!0};function fh(y){const _=gs.swalPromiseReject.get(this);Wn(this),_&&_(y)}const Wn=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,G1.innerParams.get(y)||y._destroy())},uM=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),fM=(y,_,w)=>{const R=f2(),te=hs&&D5(_);"function"==typeof w.willClose&&w.willClose(_),te?hM(y,_,R,w.returnFocus,w.didClose):vs(y,R,w.returnFocus,w.didClose)},hM=(y,_,w,R,te)=>{_1.swalCloseEventFinishedCallback=vs.bind(null,y,w,R,te),_.addEventListener(hs,function(He){He.target===_&&(_1.swalCloseEventFinishedCallback(),delete _1.swalCloseEventFinishedCallback)})},hh=(y,_)=>{setTimeout(()=>{"function"==typeof _&&_.bind(y.params)(),y._destroy&&y._destroy()})},m3=y=>{let _=ct();_||new Vt,_=ct();const w=f3();Ht()?S2(ar()):dM(_,y),w2(w),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},dM=(y,_)=>{const w=us(),R=f3();!_&&mn(di())&&(_=di()),w2(w),_&&(S2(_),R.setAttribute("data-button-to-replace",_.className)),R.parentNode.insertBefore(R,_),Q1([y,w],ie.loading)},jn=y=>y.checked?1:0,ut=y=>y.checked?y.value:null,mM=y=>y.files.length?null!==y.getAttribute("multiple")?y.files:y.files[0]:null,gM=(y,_)=>{const w=ct(),R=te=>{Je[_.input](w,Z5(te),_)};sr(_.inputOptions)||M0(_.inputOptions)?(m3(di()),Ir(_.inputOptions).then(te=>{y.hideLoading(),R(te)})):"object"==typeof _.inputOptions?R(_.inputOptions):Nr("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof _.inputOptions)},vM=(y,_)=>{const w=y.getInput();S2(w),Ir(_.inputValue).then(R=>{w.value="number"===_.input?`${parseFloat(R)||0}`:`${R}`,w2(w),w.focus(),y.hideLoading()}).catch(R=>{Nr(`Error in inputValue promise: ${R}`),w.value="",w2(w),w.focus(),y.hideLoading()})},Je={select:(y,_,w)=>{const R=p4(y,ie.select),te=(He,W1,I1)=>{const Ot=document.createElement("option");Ot.value=I1,C1(Ot,W1),Ot.selected=en(I1,w.inputValue),He.appendChild(Ot)};_.forEach(He=>{const W1=He[0],I1=He[1];if(Array.isArray(I1)){const Ot=document.createElement("optgroup");Ot.label=W1,Ot.disabled=!1,R.appendChild(Ot),I1.forEach(Zn=>te(Ot,Zn[1],Zn[0]))}else te(R,I1,W1)}),R.focus()},radio:(y,_,w)=>{const R=p4(y,ie.radio);_.forEach(He=>{const W1=He[0],I1=He[1],Ot=document.createElement("input"),Zn=document.createElement("label");Ot.type="radio",Ot.name=ie.radio,Ot.value=W1,en(W1,w.inputValue)&&(Ot.checked=!0);const g1=document.createElement("span");C1(g1,I1),g1.className=ie.label,Zn.appendChild(Ot),Zn.appendChild(g1),R.appendChild(Zn)});const te=R.querySelectorAll("input");te.length&&te[0].focus()}},Z5=y=>{const _=[];return typeof Map<"u"&&y instanceof Map?y.forEach((w,R)=>{let te=w;"object"==typeof te&&(te=Z5(te)),_.push([R,te])}):Object.keys(y).forEach(w=>{let R=y[w];"object"==typeof R&&(R=Z5(R)),_.push([w,R])}),_},en=(y,_)=>_&&_.toString()===y.toString(),Y5=(y,_)=>{const w=G1.innerParams.get(y);if(!w.input)return void Nr(`The "input" parameter is needed to be set when using returnInputValueOn${c3(_)}`);const R=((y,_)=>{const w=y.getInput();if(!w)return null;switch(_.input){case"checkbox":return jn(w);case"radio":return ut(w);case"file":return mM(w);default:return _.inputAutoTrim?w.value.trim():w.value}})(y,w);w.inputValidator?J5(y,R,_):y.getInput().checkValidity()?"deny"===_?g3(y,R):R0(y,R):(y.enableButtons(),y.showValidationMessage(w.validationMessage))},J5=(y,_,w)=>{const R=G1.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>Ir(R.inputValidator(_,R.validationMessage))).then(He=>{y.enableButtons(),y.enableInput(),He?y.showValidationMessage(He):"deny"===w?g3(y,_):R0(y,_)})},g3=(y,_)=>{const w=G1.innerParams.get(y||void 0);w.showLoaderOnDeny&&m3(pt()),w.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>Ir(w.preDeny(_,w.validationMessage))).then(te=>{!1===te?(y.hideLoading(),Wn(y)):y.close({isDenied:!0,value:typeof te>"u"?_:te})}).catch(te=>I0(y||void 0,te))):y.close({isDenied:!0,value:_})},$a=(y,_)=>{y.close({isConfirmed:!0,value:_})},I0=(y,_)=>{y.rejectPromise(_)},R0=(y,_)=>{const w=G1.innerParams.get(y||void 0);w.showLoaderOnConfirm&&m3(),w.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>Ir(w.preConfirm(_,w.validationMessage))).then(te=>{mn(hi())||!1===te?(y.hideLoading(),Wn(y)):$a(y,typeof te>"u"?_:te)}).catch(te=>I0(y||void 0,te))):$a(y,_)};function r1(){const y=G1.innerParams.get(this);if(!y)return;const _=G1.domCache.get(this);S2(_.loader),Ht()?y.icon&&w2(ar()):P0(_),or([_.popup,_.actions],ie.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}const P0=y=>{const _=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));_.length?w2(_[0],"inline-block"):!mn(di())&&!mn(pt())&&!mn(Rr())&&S2(y.actions)};function H0(){const y=G1.innerParams.get(this),_=G1.domCache.get(this);return _?x0(_.popup,y.input):null}function j2(y,_,w){const R=G1.domCache.get(y);_.forEach(te=>{R[te].disabled=w})}function V0(y,_){if(y)if("radio"===y.type){const R=y.parentNode.parentNode.querySelectorAll("input");for(let te=0;te<R.length;te++)R[te].disabled=_}else y.disabled=_}function mh(){j2(this,["confirmButton","denyButton","cancelButton"],!1)}function mt(){j2(this,["confirmButton","denyButton","cancelButton"],!0)}function gh(){V0(this.getInput(),!1)}function vh(){V0(this.getInput(),!0)}function yh(y){const _=G1.domCache.get(this),w=G1.innerParams.get(this);C1(_.validationMessage,y),_.validationMessage.className=ie["validation-message"],w.customClass&&w.customClass.validationMessage&&Q1(_.validationMessage,w.customClass.validationMessage),w2(_.validationMessage);const R=this.getInput();R&&(R.setAttribute("aria-invalid",!0),R.setAttribute("aria-describedby",ie["validation-message"]),z5(R),Q1(R,ie.inputerror))}function v3(){const y=G1.domCache.get(this);y.validationMessage&&S2(y.validationMessage);const _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),or(_,ie.inputerror))}const Hr={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},qa=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],_h={},Mh=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],K5=y=>Object.prototype.hasOwnProperty.call(Hr,y),O0=y=>-1!==qa.indexOf(y),v4=y=>_h[y],xh=y=>{K5(y)||G2(`Unknown parameter "${y}"`)},Vr=y=>{Mh.includes(y)&&G2(`The parameter "${y}" is incompatible with toasts`)},Ch=y=>{const _=v4(y);_&&Of(y,_)};function F0(y){const _=ct(),w=G1.innerParams.get(this);if(!_||pi(_,w.hideClass.popup))return void G2("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const R=Re(y),te=Object.assign({},w,R);G5(this,te),G1.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}const Re=y=>{const _={};return Object.keys(y).forEach(w=>{O0(w)?_[w]=y[w]:G2(`Invalid parameter to update: ${w}`)}),_};function ys(){const y=G1.domCache.get(this),_=G1.innerParams.get(this);_?(y.popup&&_1.swalCloseEventFinishedCallback&&(_1.swalCloseEventFinishedCallback(),delete _1.swalCloseEventFinishedCallback),"function"==typeof _.didDestroy&&_.didDestroy(),k0(this)):y3(this)}const k0=y=>{y3(y),delete y.params,delete _1.keydownHandler,delete _1.keydownTarget,delete _1.currentInstance},y3=y=>{y.isAwaitingPromise?(U0(G1,y),y.isAwaitingPromise=!0):(U0(gs,y),U0(G1,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},U0=(y,_)=>{for(const w in y)y[w].delete(_)};var bh=Object.freeze({__proto__:null,_destroy:ys,close:g4,closeModal:g4,closePopup:g4,closeToast:g4,disableButtons:mt,disableInput:vh,disableLoading:r1,enableButtons:mh,enableInput:gh,getInput:H0,handleAwaitingPromise:Wn,hideLoading:r1,rejectPromise:fh,resetValidationMessage:v3,showValidationMessage:yh,update:F0});const ur=(y,_,w)=>{_.popup.onclick=()=>{const R=G1.innerParams.get(y);R&&(Ui(R)||R.timer||R.input)||w(d3.close)}},Ui=y=>y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton;let R2=!1;const Bi=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(_){y.container.onmouseup=void 0,_.target===y.container&&(R2=!0)}}},it=y=>{y.container.onmousedown=()=>{y.popup.onmouseup=function(_){y.popup.onmouseup=void 0,(_.target===y.popup||y.popup.contains(_.target))&&(R2=!0)}}},Za=(y,_,w)=>{_.container.onclick=R=>{const te=G1.innerParams.get(y);R2?R2=!1:R.target===_.container&&l3(te.allowOutsideClick)&&w(d3.backdrop)}},Xa=y=>y instanceof Element||(y=>"object"==typeof y&&y.jquery)(y);const G0=()=>{if(_1.timeout)return(()=>{const y=Un(),_=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";const w=parseInt(window.getComputedStyle(y).width);y.style.width=_/w*100+"%"})(),_1.timeout.stop()},Ya=()=>{if(_1.timeout){const y=_1.timeout.start();return w0(y),y}};let W0=!1;const Ja={};const il=y=>{for(let _=y.target;_&&_!==document;_=_.parentNode)for(const w in Ja){const R=_.getAttribute(w);if(R)return void Ja[w].fire({template:R})}};var Ah=Object.freeze({__proto__:null,argsToParams:y=>{const _={};return"object"!=typeof y[0]||Xa(y[0])?["title","html","icon"].forEach((w,R)=>{const te=y[R];"string"==typeof te||Xa(te)?_[w]=te:void 0!==te&&Nr(`Unexpected type of ${w}! Expected "string" or "Element", got ${typeof te}`)}):Object.assign(_,y[0]),_},bindClickHandler:function Sh(){Ja[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,W0||(document.body.addEventListener("click",il),W0=!0)},clickCancel:()=>Rr()&&Rr().click(),clickConfirm:j5,clickDeny:()=>pt()&&pt().click(),enableLoading:m3,fire:function fr(){for(var _=arguments.length,w=new Array(_),R=0;R<_;R++)w[R]=arguments[R];return new this(...w)},getActions:us,getCancelButton:Rr,getCloseButton:Fa,getConfirmButton:di,getContainer:f2,getDenyButton:pt,getFocusableElements:ka,getFooter:A5,getHtmlContainer:u3,getIcon:ar,getIconContent:()=>W2(ie["icon-content"]),getImage:w5,getInputLabel:()=>W2(ie["input-label"]),getLoader:f3,getPopup:ct,getProgressSteps:ls,getTimerLeft:()=>_1.timeout&&_1.timeout.getTimerLeft(),getTimerProgressBar:Un,getTitle:b5,getValidationMessage:hi,increaseTimer:y=>{if(_1.timeout){const _=_1.timeout.increase(y);return w0(_,!0),_}},isDeprecatedParameter:v4,isLoading:()=>ct().hasAttribute("data-loading"),isTimerRunning:()=>!(!_1.timeout||!_1.timeout.isRunning()),isUpdatableParameter:O0,isValidParameter:K5,isVisible:()=>mn(ct()),mixin:function _s(y){return class _ extends(this){_main(R,te){return super._main(R,Object.assign({},y,te))}}},resumeTimer:Ya,showLoading:m3,stopTimer:G0,toggleTimer:()=>{const y=_1.timeout;return y&&(y.running?G0():Ya())}});class zh{constructor(_,w){this.callback=_,this.remaining=w,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(_){const w=this.running;return w&&this.stop(),this.remaining+=_,w&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const $n=["swal-title","swal-html","swal-footer"],rl=y=>{const _={};return Array.from(y.querySelectorAll("swal-param")).forEach(R=>{y4(R,["name","value"]);const te=R.getAttribute("name"),He=R.getAttribute("value");_[te]="boolean"==typeof Hr[te]?"false"!==He:"object"==typeof Hr[te]?JSON.parse(He):He}),_},Th=y=>{const _={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(R=>{const te=R.getAttribute("name"),He=R.getAttribute("value");_[te]=new Function(`return ${He}`)()}),_},Dh=y=>{const _={};return Array.from(y.querySelectorAll("swal-button")).forEach(R=>{y4(R,["type","color","aria-label"]);const te=R.getAttribute("type");_[`${te}ButtonText`]=R.innerHTML,_[`show${c3(te)}Button`]=!0,R.hasAttribute("color")&&(_[`${te}ButtonColor`]=R.getAttribute("color")),R.hasAttribute("aria-label")&&(_[`${te}ButtonAriaLabel`]=R.getAttribute("aria-label"))}),_},Lh=y=>{const _={},w=y.querySelector("swal-image");return w&&(y4(w,["src","width","height","alt"]),w.hasAttribute("src")&&(_.imageUrl=w.getAttribute("src")),w.hasAttribute("width")&&(_.imageWidth=w.getAttribute("width")),w.hasAttribute("height")&&(_.imageHeight=w.getAttribute("height")),w.hasAttribute("alt")&&(_.imageAlt=w.getAttribute("alt"))),_},Nh=y=>{const _={},w=y.querySelector("swal-icon");return w&&(y4(w,["type","color"]),w.hasAttribute("type")&&(_.icon=w.getAttribute("type")),w.hasAttribute("color")&&(_.iconColor=w.getAttribute("color")),_.iconHtml=w.innerHTML),_},sl=y=>{const _={},w=y.querySelector("swal-input");w&&(y4(w,["type","label","placeholder","value"]),_.input=w.getAttribute("type")||"text",w.hasAttribute("label")&&(_.inputLabel=w.getAttribute("label")),w.hasAttribute("placeholder")&&(_.inputPlaceholder=w.getAttribute("placeholder")),w.hasAttribute("value")&&(_.inputValue=w.getAttribute("value")));const R=Array.from(y.querySelectorAll("swal-input-option"));return R.length&&(_.inputOptions={},R.forEach(te=>{y4(te,["value"]);const He=te.getAttribute("value");_.inputOptions[He]=te.innerHTML})),_},Ih=(y,_)=>{const w={};for(const R in _){const te=_[R],He=y.querySelector(te);He&&(y4(He,[]),w[te.replace(/^swal-/,"")]=He.innerHTML.trim())}return w},Rh=y=>{const _=$n.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(w=>{const R=w.tagName.toLowerCase();_.includes(R)||G2(`Unrecognized element <${R}>`)})},y4=(y,_)=>{Array.from(y.attributes).forEach(w=>{-1===_.indexOf(w.name)&&G2([`Unrecognized attribute "${w.name}" on <${y.tagName.toLowerCase()}>.`,_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."])})},Ph=y=>{const _=f2(),w=ct();"function"==typeof y.willOpen&&y.willOpen(w);const te=window.getComputedStyle(document.body).overflowY;Vh(_,w,y),setTimeout(()=>{Hh(_,w)},10),Yt()&&(qn(_,y.scrollbarPadding,te),Array.from(document.body.children).forEach(_=>{_===f2()||_.contains(f2())||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})),!Ht()&&!_1.previousActiveElement&&(_1.previousActiveElement=document.activeElement),"function"==typeof y.didOpen&&setTimeout(()=>y.didOpen(w)),or(_,ie["no-transition"])},al=y=>{const _=ct();if(y.target!==_)return;const w=f2();_.removeEventListener(hs,al),w.style.overflowY="auto"},Hh=(y,_)=>{hs&&D5(_)?(y.style.overflowY="hidden",_.addEventListener(hs,al)):y.style.overflowY="auto"},qn=(y,_,w)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pi(document.body,ie.iosfix)){const _=document.body.scrollTop;document.body.style.top=-1*_+"px",Q1(document.body,ie.iosfix),cM(),N0()}})(),_&&"hidden"!==w&&lM(),setTimeout(()=>{y.scrollTop=0})},Vh=(y,_,w)=>{Q1(y,w.showClass.backdrop),_.style.setProperty("opacity","0","important"),w2(_,"grid"),setTimeout(()=>{Q1(_,w.showClass.popup),_.style.removeProperty("opacity")},10),Q1([document.documentElement,document.body],ie.shown),w.heightAuto&&w.backdrop&&!w.toast&&Q1([document.documentElement,document.body],ie["height-auto"])};var j0={email:(y,_)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(y,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function st(y){(function h1(y){y.inputValidator||Object.keys(j0).forEach(_=>{y.input===_&&(y.inputValidator=j0[_])})})(y),y.showLoaderOnConfirm&&!y.preConfirm&&G2("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function tn(y){(!y.target||"string"==typeof y.target&&!document.querySelector(y.target)||"string"!=typeof y.target&&!y.target.appendChild)&&(G2('Target parameter is not valid, defaulting to "body"'),y.target="body")}(y),"string"==typeof y.title&&(y.title=y.title.split("\n").join("<br />")),qf(y)}let Ct;class X1{constructor(){if(typeof window>"u")return;Ct=this;for(var _=arguments.length,w=new Array(_),R=0;R<_;R++)w[R]=arguments[R];const te=Object.freeze(this.constructor.argsToParams(w));this.params=te,this.isAwaitingPromise=!1;const He=Ct._main(Ct.params);G1.promise.set(this,He)}_main(_){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(y=>{!1===y.backdrop&&y.allowOutsideClick&&G2('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const _ in y)xh(_),y.toast&&Vr(_),Ch(_)})(Object.assign({},w,_)),_1.currentInstance&&(_1.currentInstance._destroy(),Yt()&&d1()),_1.currentInstance=Ct;const R=vn(_,w);st(R),Object.freeze(R),_1.timeout&&(_1.timeout.stop(),delete _1.timeout),clearTimeout(_1.restoreFocusTimeout);const te=ol(Ct);return G5(Ct,R),G1.innerParams.set(Ct,R),_3(Ct,te,R)}then(_){return G1.promise.get(this).then(_)}finally(_){return G1.promise.get(this).finally(_)}}const _3=(y,_,w)=>new Promise((R,te)=>{const He=W1=>{y.close({isDismissed:!0,dismiss:W1})};gs.swalPromiseResolve.set(y,R),gs.swalPromiseReject.set(y,te),_.confirmButton.onclick=()=>{(y=>{const _=G1.innerParams.get(y);y.disableButtons(),_.input?Y5(y,"confirm"):R0(y,!0)})(y)},_.denyButton.onclick=()=>{(y=>{const _=G1.innerParams.get(y);y.disableButtons(),_.returnInputValueOnDeny?Y5(y,"deny"):g3(y,!1)})(y)},_.cancelButton.onclick=()=>{((y,_)=>{y.disableButtons(),_(d3.cancel)})(y,He)},_.closeButton.onclick=()=>{He(d3.close)},((y,_,w)=>{G1.innerParams.get(y).toast?ur(y,_,w):(Bi(_),it(_),Za(y,_,w))})(y,_,He),((y,_,w,R)=>{l1(_),w.toast||(_.keydownHandler=te=>ch(y,te,R),_.keydownTarget=w.keydownListenerCapture?window:ct(),_.keydownListenerCapture=w.keydownListenerCapture,_.keydownTarget.addEventListener("keydown",_.keydownHandler,{capture:_.keydownListenerCapture}),_.keydownHandlerAdded=!0)})(y,_1,w,He),((y,_)=>{"select"===_.input||"radio"===_.input?gM(y,_):["text","email","number","tel","textarea"].includes(_.input)&&(sr(_.inputValue)||M0(_.inputValue))&&(m3(di()),vM(y,_))})(y,w),Ph(w),cl(_1,w,He),Ka(_,w),setTimeout(()=>{_.container.scrollTop=0})}),vn=(y,_)=>{const w=(y=>{const _="string"==typeof y.template?document.querySelector(y.template):y.template;if(!_)return{};const w=_.content;return Rh(w),Object.assign(rl(w),Th(w),Dh(w),Lh(w),Nh(w),sl(w),Ih(w,$n))})(y),R=Object.assign({},Hr,_,w,y);return R.showClass=Object.assign({},Hr.showClass,R.showClass),R.hideClass=Object.assign({},Hr.hideClass,R.hideClass),R},ol=y=>{const _={popup:ct(),container:f2(),actions:us(),confirmButton:di(),denyButton:pt(),cancelButton:Rr(),loader:f3(),closeButton:Fa(),validationMessage:hi(),progressSteps:ls()};return G1.domCache.set(y,_),_},cl=(y,_,w)=>{const R=Un();S2(R),_.timer&&(y.timeout=new zh(()=>{w("timer"),delete y.timeout},_.timer),_.timerProgressBar&&(w2(R),K2(R,_,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&w0(_.timer)})))},Ka=(y,_)=>{if(!_.toast){if(!l3(_.allowEnterKey))return void Fh();Oh(y,_)||ms(-1,1)}},Oh=(y,_)=>_.focusDeny&&mn(y.denyButton)?(y.denyButton.focus(),!0):_.focusCancel&&mn(y.cancelButton)?(y.cancelButton.focus(),!0):!(!_.focusConfirm||!mn(y.confirmButton)||(y.confirmButton.focus(),0)),Fh=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const y=new Date,_=localStorage.getItem("swal-initiation");_?(y.getTime()-Date.parse(_))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const w=document.createElement("audio");w.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",w.loop=!0,document.body.appendChild(w),setTimeout(()=>{w.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}X1.prototype.disableButtons=mt,X1.prototype.enableButtons=mh,X1.prototype.getInput=H0,X1.prototype.disableInput=vh,X1.prototype.enableInput=gh,X1.prototype.hideLoading=r1,X1.prototype.disableLoading=r1,X1.prototype.showValidationMessage=yh,X1.prototype.resetValidationMessage=v3,X1.prototype.close=g4,X1.prototype.closePopup=g4,X1.prototype.closeModal=g4,X1.prototype.closeToast=g4,X1.prototype.rejectPromise=fh,X1.prototype.update=F0,X1.prototype._destroy=ys,Object.assign(X1,Ah),Object.keys(bh).forEach(y=>{X1[y]=function(){return Ct&&Ct[y]?Ct[y](...arguments):null}}),X1.DismissReason=d3,X1.version="11.7.12";const Vt=X1;return Vt.default=Vt,Vt}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(os,_1){var Z1=os.createElement("style");if(os.getElementsByTagName("head")[0].appendChild(Z1),Z1.styleSheet)Z1.styleSheet.disabled||(Z1.styleSheet.cssText=_1);else try{Z1.innerHTML=_1}catch{Z1.innerText=_1}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}},_0=>{_0(_0.s=523)}]);