(self.webpackChunkportfolioAngular=self.webpackChunkportfolioAngular||[]).push([[179],{811:(M0,us,_1)=>{"use strict";function Z1(n){return"function"==typeof n}function Bo(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const G1=Bo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Go(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class fi{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Z1(i))try{i()}catch(s){e=s instanceof G1?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{c3(s)}catch(o){e=e??[],o instanceof G1?e=[...e,...o.errors]:e.push(o)}}if(e)throw new G1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)c3(e);else{if(e instanceof fi){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Go(t,e)}remove(e){const{_finalizers:t}=this;t&&Go(t,e),e instanceof fi&&e._removeParent(this)}}fi.EMPTY=(()=>{const n=new fi;return n.closed=!0,n})();const ie=fi.EMPTY;function Ff(n){return n instanceof fi||n&&"closed"in n&&Z1(n.remove)&&Z1(n.add)&&Z1(n.unsubscribe)}function c3(n){Z1(n)?n():n.unsubscribe()}const Pr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l3={setTimeout(n,e,...t){const{delegate:i}=l3;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=l3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function G2(n){l3.setTimeout(()=>{const{onUnhandledError:e}=Pr;if(!e)throw n;e(n)})}function Ir(){}const b5=u3("C",void 0,void 0);function u3(n,e,t){return{kind:n,value:e,error:t}}let ar=null;function Rr(n){if(Pr.useDeprecatedSynchronousErrorHandling){const e=!ar;if(e&&(ar={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ar;if(ar=null,t)throw i}}else n()}class h2 extends fi{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ff(e)&&e.add(this)):this.destination=S5}static create(e,t,i){return new cr(e,t,i)}next(e){this.isStopped?f3(function Uf(n){return u3("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?f3(function kf(n){return u3("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?f3(b5,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fs=Function.prototype.bind;function W2(n,e){return fs.call(n,e)}class lt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Wo(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Wo(i)}else Wo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wo(t)}}}class cr extends h2{constructor(e,t,i){let r;if(super(),Z1(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Pr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&W2(e.next,s),error:e.error&&W2(e.error,s),complete:e.complete&&W2(e.complete,s)}):r=e}this.destination=new lt(r)}}function Wo(n){Pr.useDeprecatedSynchronousErrorHandling?function x0(n){Pr.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=n)}(n):G2(n)}function f3(n,e){const{onStoppedNotification:t}=Pr;t&&l3.setTimeout(()=>t(n,e))}const S5={closed:!0,next:Ir,error:function w5(n){throw n},complete:Ir},hs="function"==typeof Symbol&&Symbol.observable||"@@observable";function hi(n){return n}function Hr(n){return 0===n.length?hi:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let pt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function ds(n){return n&&n instanceof h2||function h3(n){return n&&Z1(n.next)&&Z1(n.error)&&Z1(n.complete)}(n)&&Ff(n)}(t)?t:new cr(t,i,r);return Rr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=A5(i))((r,s)=>{const o=new cr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[hs](){return this}pipe(...t){return Hr(t)(this)}toPromise(t){return new(t=A5(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function A5(n){var e;return null!==(e=n??Pr.Promise)&&void 0!==e?e:Promise}const z5=Bo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bn=(()=>{class n extends pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new jo(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new z5}next(t){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Rr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?ie:(this.currentObservers=null,s.push(t),new fi(()=>{this.currentObservers=null,Go(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new pt;return t.source=this,t}}return n.create=(e,t)=>new jo(e,t),n})();class jo extends Bn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ie}}class Gn extends Bn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function $o(n){return Z1(n?.lift)}function Yt(n){return e=>{if($o(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vt(n,e,t,i,r){return new Bf(n,e,t,i,r)}class Bf extends h2{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function C1(n,e){return Yt((t,i)=>{let r=0;t.subscribe(Vt(i,s=>{i.next(n.call(e,s,r++))}))})}function ur(n){return this instanceof ur?(this.v=n,this):new ur(n)}function Vr(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function b0(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const P5=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function qo(n){return Z1(n?.then)}function I5(n){return Z1(n[hs])}function R5(n){return Symbol.asyncIterator&&Z1(n?.[Symbol.asyncIterator])}function H5(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const V5=function eh(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function O5(n){return Z1(n?.[V5])}function F5(n){return function N5(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(d){return new Promise(function(p,m){s.push([h,d,p,m])>1||a(h,d)})})}function a(h,d){try{!function c(h){h.value instanceof ur?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}(i[h](d))}catch(p){f(s[0][3],p)}}function l(h){a("next",h)}function u(h){a("throw",h)}function f(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ur(t.read());if(r)return yield ur(void 0);yield yield ur(i)}}finally{t.releaseLock()}})}function k5(n){return Z1(n?.getReader)}function mi(n){if(n instanceof pt)return n;if(null!=n){if(I5(n))return function th(n){return new pt(e=>{const t=n[hs]();if(Z1(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(P5(n))return function nh(n){return new pt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(qo(n))return function z0(n){return new pt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,G2)})}(n);if(R5(n))return E0(n);if(O5(n))return function gs(n){return new pt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(k5(n))return function Zo(n){return E0(F5(n))}(n)}throw H5(n)}function E0(n){return new pt(e=>{(function Q2(n,e){var t,i,r,s;return function S2(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(f){o(f)}}function c(u){try{l(i.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Vr(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function fr(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function A2(n,e,t=1/0){return Z1(e)?A2((i,r)=>C1((s,o)=>e(i,s,r,o))(mi(n(i,r))),t):("number"==typeof e&&(t=e),Yt((i,r)=>function ih(n,e,t,i,r,s,o,a){const c=[];let l=0,u=0,f=!1;const h=()=>{f&&!c.length&&!l&&e.complete()},d=m=>l<i?p(m):c.push(m),p=m=>{s&&e.next(m),l++;let g=!1;mi(t(m,u++)).subscribe(Vt(e,v=>{r?.(v),s?d(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){const v=c.shift();o?fr(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Vt(e,d,()=>{f=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function m4(n=1/0){return A2(hi,n)}const ki=new pt(n=>n.complete());function T0(n){return n[n.length-1]}function D0(n){return Z1(T0(n))?n.pop():void 0}function vs(n){return function U5(n){return n&&Z1(n.schedule)}(T0(n))?n.pop():void 0}function B5(n,e=0){return Yt((t,i)=>{t.subscribe(Vt(i,r=>fr(i,n,()=>i.next(r),e),()=>fr(i,n,()=>i.complete(),e),r=>fr(i,n,()=>i.error(r),e)))})}function G5(n,e=0){return Yt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function j5(n,e){if(!n)throw new Error("Iterable cannot be null");return new pt(t=>{fr(t,e,()=>{const i=n[Symbol.asyncIterator]();fr(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function s2(n,e){return e?function lh(n,e){if(null!=n){if(I5(n))return function oh(n,e){return mi(n).pipe(G5(e),B5(e))}(n,e);if(P5(n))return function ch(n,e){return new pt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(qo(n))return function ah(n,e){return mi(n).pipe(G5(e),B5(e))}(n,e);if(R5(n))return j5(n,e);if(O5(n))return function W5(n,e){return new pt(t=>{let i;return fr(t,e,()=>{i=n[V5](),fr(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>Z1(i?.return)&&i.return()})}(n,e);if(k5(n))return function $5(n,e){return j5(F5(n),e)}(n,e)}throw H5(n)}(n,e):mi(n)}function l1(...n){return s2(n,vs(n))}function q5(n={}){const{connector:e=(()=>new Bn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,c,l=0,u=!1,f=!1;const h=()=>{a?.unsubscribe(),a=void 0},d=()=>{h(),o=c=void 0,u=f=!1},p=()=>{const m=o;d(),m?.unsubscribe()};return Yt((m,g)=>{l++,!f&&!u&&h();const v=c=c??e();g.add(()=>{l--,0===l&&!f&&!u&&(a=ys(p,r))}),v.subscribe(g),!o&&l>0&&(o=new cr({next:M=>v.next(M),error:M=>{f=!0,h(),a=ys(d,t,M),v.error(M)},complete:()=>{u=!0,h(),a=ys(d,i),v.complete()}}),mi(m).subscribe(o))})(s)}}function ys(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new cr({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function Wn(n,e){return Yt((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Vt(i,c=>{r?.unsubscribe();let l=0;const u=s++;mi(n(c,u)).subscribe(r=Vt(i,f=>i.next(e?e(c,f,u,l++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function fh(n,e){return n===e}function ht(n){for(let e in n)if(n[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function Xo(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function o2(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(o2).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function L0(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const _s=ht({__forward_ref__:ht});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return o2(this())},n}function d1(n){return N0(n)?n():n}function N0(n){return"function"==typeof n&&n.hasOwnProperty(_s)&&n.__forward_ref__===xt}function P0(n){return n&&!!n.\u0275providers}const Z5="https://g.co/ng/security#xss";class me extends Error{constructor(e,t){super(function Yo(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function M1(n){return"string"==typeof n?n:null==n?"":String(n)}function Ms(n,e){throw new me(-201,!1)}function $n(n,e){null==n&&function ft(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Je(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function en(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jo(n){return Y5(n,v3)||Y5(n,I0)}function Y5(n,e){return n.hasOwnProperty(e)?n[e]:null}function K5(n){return n&&(n.hasOwnProperty(Ko)||n.hasOwnProperty(R0))?n[Ko]:null}const v3=ht({\u0275prov:ht}),Ko=ht({\u0275inj:ht}),I0=ht({ngInjectableDef:ht}),R0=ht({ngInjectorDef:ht});var r1=(()=>((r1=r1||{})[r1.Default=0]="Default",r1[r1.Host=1]="Host",r1[r1.Self=2]="Self",r1[r1.SkipSelf=4]="SkipSelf",r1[r1.Optional=8]="Optional",r1))();let H0;function j2(n){const e=H0;return H0=n,e}function O0(n,e,t){const i=Jo(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&r1.Optional?null:void 0!==e?e:void Ms(o2(n))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),y3={},Or="__NG_DI_FLAG__",Qo="ngTempTokenPath",bh=/\n/gm,F0="__source";let v4;function Fr(n){const e=v4;return v4=n,e}function Sh(n,e=r1.Default){if(void 0===v4)throw new me(-203,!1);return null===v4?O0(n,void 0,e):v4.get(n,e&r1.Optional?null:void 0,e)}function Ye(n,e=r1.Default){return(function V0(){return H0}()||Sh)(d1(n),e)}function He(n,e=r1.Default){return Ye(n,xs(e))}function xs(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function U0(n){const e=[];for(let t=0;t<n.length;t++){const i=d1(n[t]);if(Array.isArray(i)){if(0===i.length)throw new me(900,!1);let r,s=r1.Default;for(let o=0;o<i.length;o++){const a=i[o],c=B0(a);"number"==typeof c?-1===c?r=a.token:s|=c:r=a}e.push(Ye(r,s))}else e.push(Ye(i))}return e}function _3(n,e){return n[Or]=e,n.prototype[Or]=e,n}function B0(n){return n[Or]}function hr(n){return{toString:n}.toString()}var Ui=(()=>((Ui=Ui||{})[Ui.OnPush=0]="OnPush",Ui[Ui.Default=1]="Default",Ui))(),I2=(()=>{return(n=I2||(I2={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",I2;var n})();const Bi={},it=[],ea=ht({\u0275cmp:ht}),G0=ht({\u0275dir:ht}),ta=ht({\u0275pipe:ht}),el=ht({\u0275mod:ht}),dr=ht({\u0275fac:ht}),Cs=ht({__NG_ELEMENT_ID__:ht}),tl=ht({__NG_ENV_ID__:ht});function W0(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function na(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];il(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function nl(n){return 3===n||4===n||6===n}function il(n){return 64===n.charCodeAt(0)}function bs(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||j0(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function j0(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const ia="ng-template";function Eh(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==W0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function rl(n){return 4===n.type&&n.value!==ia}function Th(n,e,t){return e===(4!==n.type||t?n.value:ia)}function Dh(n,e,t){let i=4;const r=n.attrs||[],s=function Ph(n){for(let e=0;e<n.length;e++)if(nl(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Th(n,c,t)||""===c&&1===e.length){if(qn(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!Eh(n.attrs,l,t)){if(qn(i))return!1;o=!0}continue}const f=Lh(8&i?"class":c,r,rl(n),t);if(-1===f){if(qn(i))return!1;o=!0;continue}if(""!==l){let h;h=f>s?"":r[f+1].toLowerCase();const d=8&i?h:null;if(d&&-1!==W0(d,l,0)||2&i&&l!==h){if(qn(i))return!1;o=!0}}}}else{if(!o&&!qn(i)&&!qn(c))return!1;if(o&&qn(c))continue;o=!1,i=c|1&i}}return qn(i)||o}function qn(n){return 0==(1&n)}function Lh(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Ih(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function sl(n,e,t=!1){for(let i=0;i<e.length;i++)if(Dh(n,e[i],t))return!0;return!1}function Rh(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function ol(n,e){return n?":not("+e.trim()+")":e}function Hh(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!qn(o)&&(e+=ol(s,r),r=""),i=o,s=s||!qn(i);t++}return""!==r&&(e+=ol(s,r)),e}function Jt(n){return hr(()=>{const e=cl(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Ui.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||I2.Emulated,styles:n.styles||it,_:null,schemas:n.schemas||null,tView:null,id:""};ll(t);const i=n.dependencies;return t.directiveDefs=ra(i,!1),t.pipeDefs=ra(i,!0),t.id=function Bh(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function al(n){return ot(n)||Ct(n)}function Fh(n){return null!==n}function Zn(n){return hr(()=>({type:n.type,bootstrap:n.bootstrap||it,declarations:n.declarations||it,imports:n.imports||it,exports:n.exports||it,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function $0(n,e){if(null==n)return Bi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function h1(n){return hr(()=>{const e=cl(n);return ll(e),e})}function ot(n){return n[ea]||null}function Ct(n){return n[G0]||null}function X1(n){return n[ta]||null}function _n(n,e){const t=n[el]||null;if(!t&&!0===e)throw new Error(`Type ${o2(n)} does not have '\u0275mod' property.`);return t}function cl(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Bi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||it,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$0(n.inputs,e),outputs:$0(n.outputs)}}function ll(n){n.features?.forEach(e=>e(n))}function ra(n,e){if(!n)return null;const t=e?X1:al;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Fh)}const Ot=0,y=1,_=2,w=3,I=4,te=5,Oe=6,W1=7,P1=8,Ft=9,Xn=10,g1=11,q0=12,_M=13,sa=14,d2=15,Z0=16,oa=17,kr=18,X0=19,MM=20,x3=21,_4=22,ul=23,fl=24,Y1=25,Gh=1,xM=2,Ur=7,aa=9,nn=11;function gi(n){return Array.isArray(n)&&"object"==typeof n[Gh]}function Yn(n){return Array.isArray(n)&&!0===n[Gh]}function Wh(n){return 0!=(4&n.flags)}function ws(n){return n.componentOffset>-1}function dl(n){return 1==(1&n.flags)}function pr(n){return!!n.template}function jh(n){return 0!=(512&n[_])}function Ss(n,e){return n.hasOwnProperty(dr)?n[dr]:null}let EH=mt.WeakRef??class zH{constructor(e){this.ref=e}deref(){return this.ref}},DH=0,Br=null,pl=!1;function R2(n){const e=Br;return Br=n,e}class AM{constructor(){this.id=DH++,this.ref=function TH(n){return new EH(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const i=t.producerNode.deref();if(void 0!==i&&t.atTrackingVersion===this.trackingVersion){if(i.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),i?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=pl;pl=!0;try{for(const[t,i]of this.consumers){const r=i.consumerNode.deref();void 0!==r&&r.trackingVersion===i.atTrackingVersion?r.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),r?.producers.delete(this.id))}}finally{pl=e}}producerAccessed(){if(pl)throw new Error("");if(null===Br)return;let e=Br.producers.get(this.id);void 0===e?(e={consumerNode:Br.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Br.trackingVersion},Br.producers.set(this.id,e),this.consumers.set(Br.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Br.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Br?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let zM=null;const TM=()=>{};class IH extends AM{constructor(e,t,i){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=TM,this.registerOnCleanup=r=>{this.cleanupFn=r},this.consumerAllowSignalWrites=i}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=R2(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=TM,this.watch(this.registerOnCleanup)}finally{R2(e)}}cleanup(){this.cleanupFn()}}class RH{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Mn(){return DM}function DM(n){return n.type.prototype.ngOnChanges&&(n.setInput=VH),HH}function HH(){const n=NM(this),e=n?.current;if(e){const t=n.previous;if(t===Bi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function VH(n,e,t,i){const r=this.declaredInputs[t],s=NM(n)||function OH(n,e){return n[LM]=e}(n,{previous:Bi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[r];o[r]=new RH(c&&c.currentValue,e,a===Bi),n[i]=e}Mn.ngInherit=!0;const LM="__ngSimpleChanges__";function NM(n){return n[LM]||null}const Gr=function(n,e,t){};function Lt(n){for(;Array.isArray(n);)n=n[Ot];return n}function vl(n,e){return Lt(e[n])}function Jn(n,e){return Lt(e[n.index])}function RM(n,e){return n.data[e]}function vi(n,e){const t=e[n];return gi(t)?t:t[Ot]}function C3(n,e){return null==e?null:n[e]}function HM(n){n[oa]=0}function jH(n){1024&n[_]||(n[_]|=1024,OM(n,1))}function VM(n){1024&n[_]&&(n[_]&=-1025,OM(n,-1))}function OM(n,e){let t=n[w];if(null===t)return;t[te]+=e;let i=t;for(t=t[w];null!==t&&(1===e&&1===i[te]||-1===e&&0===i[te]);)t[te]+=e,i=t,t=t[w]}const v1={lFrame:XM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UM(){return v1.bindingsEnabled}function la(){return null!==v1.skipHydrationRootTNode}function de(){return v1.lFrame.lView}function rt(){return v1.lFrame.tView}function bt(n){return v1.lFrame.contextLView=n,n[P1]}function wt(n){return v1.lFrame.contextLView=null,n}function $2(){let n=BM();for(;null!==n&&64===n.type;)n=n.parent;return n}function BM(){return v1.lFrame.currentTNode}function Wr(n,e){const t=v1.lFrame;t.currentTNode=n,t.isParent=e}function Jh(){return v1.lFrame.isParent}function Kh(){v1.lFrame.isParent=!1}function xn(){const n=v1.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ua(){return v1.lFrame.bindingIndex++}function iV(n,e){const t=v1.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qh(e)}function Qh(n){v1.lFrame.currentDirectiveIndex=n}function $M(){return v1.lFrame.currentQueryIndex}function td(n){v1.lFrame.currentQueryIndex=n}function sV(n){const e=n[y];return 2===e.type?e.declTNode:1===e.type?n[Oe]:null}function qM(n,e,t){if(t&r1.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&r1.Host||(r=sV(s),null===r||(s=s[sa],10&r.type))););if(null===r)return!1;e=r,n=s}const i=v1.lFrame=ZM();return i.currentTNode=e,i.lView=n,!0}function nd(n){const e=ZM(),t=n[y];v1.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ZM(){const n=v1.lFrame,e=null===n?null:n.child;return null===e?XM(n):e}function XM(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YM(){const n=v1.lFrame;return v1.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const JM=YM;function id(){const n=YM();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Cn(){return v1.lFrame.selectedIndex}function As(n){v1.lFrame.selectedIndex=n}function Gt(){const n=v1.lFrame;return RM(n.tView,n.selectedIndex)}let tx=!0;function yl(){return tx}function b3(n){tx=n}function _l(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function Ml(n,e,t){nx(n,e,3,t)}function xl(n,e,t,i){(3&n[_])===t&&nx(n,e,t,i)}function rd(n,e){let t=n[_];(3&t)===e&&(t&=8191,t+=1,n[_]=t)}function nx(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let c=void 0!==i?65535&n[oa]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[oa]+=65536),(a<s||-1==s)&&(fV(n,t,e,c),n[oa]=(4294901760&n[oa])+c+2),c++}function ix(n,e){Gr(4,n,e);const t=R2(null);try{e.call(n)}finally{R2(t),Gr(5,n,e)}}function fV(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[_]>>13<n[oa]>>16&&(3&n[_])===e&&(n[_]+=8192,ix(a,s)):ix(a,s)}const fa=-1;class K0{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function rx(n){return n!==fa}function Cl(n){return 32767&n}function bl(n,e){let t=function mV(n){return n>>16}(n),i=e;for(;t>0;)i=i[sa],t--;return i}let od=!0;function wl(n){const e=od;return od=n,e}const sx=255,ox=5;let gV=0;const jr={};function Sl(n,e){const t=ax(n,e);if(-1!==t)return t;const i=e[y];i.firstCreatePass&&(n.injectorIndex=e.length,ad(i.data,n),ad(e,null),ad(i.blueprint,null));const r=cd(n,e),s=n.injectorIndex;if(rx(r)){const o=Cl(r),a=bl(r,e),c=a[y].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function ad(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ax(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function cd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=px(r),null===i)return fa;if(t++,r=r[sa],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return fa}function ld(n,e,t){!function vV(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Cs)&&(i=t[Cs]),null==i&&(i=t[Cs]=gV++);const r=i&sx;e.data[n+(r>>ox)]|=1<<r}(n,e,t)}function cx(n,e,t){if(t&r1.Optional||void 0!==n)return n;Ms()}function lx(n,e,t,i){if(t&r1.Optional&&void 0===i&&(i=null),!(t&(r1.Self|r1.Host))){const r=n[Ft],s=j2(void 0);try{return r?r.get(e,i,t&r1.Optional):O0(e,i,t&r1.Optional)}finally{j2(s)}}return cx(i,0,t)}function ux(n,e,t,i=r1.Default,r){if(null!==n){if(2048&e[_]&&!(i&r1.Self)){const o=function CV(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[_]&&!(512&o[_]);){const a=fx(s,o,t,i|r1.Self,jr);if(a!==jr)return a;let c=s.parent;if(!c){const l=o[MM];if(l){const u=l.get(t,jr,i);if(u!==jr)return u}c=px(o),o=o[sa]}s=c}return r}(n,e,t,i,jr);if(o!==jr)return o}const s=fx(n,e,t,i,jr);if(s!==jr)return s}return lx(e,t,i,r)}function fx(n,e,t,i,r){const s=function MV(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Cs)?n[Cs]:void 0;return"number"==typeof e?e>=0?e&sx:xV:e}(t);if("function"==typeof s){if(!qM(e,n,i))return i&r1.Host?cx(r,0,i):lx(e,t,i,r);try{const o=s(i);if(null!=o||i&r1.Optional)return o;Ms()}finally{JM()}}else if("number"==typeof s){let o=null,a=ax(n,e),c=fa,l=i&r1.Host?e[d2][Oe]:null;for((-1===a||i&r1.SkipSelf)&&(c=-1===a?cd(n,e):e[a+8],c!==fa&&dx(i,!1)?(o=e[y],a=Cl(c),e=bl(c,e)):a=-1);-1!==a;){const u=e[y];if(hx(s,a,u.data)){const f=_V(a,e,t,o,i,l);if(f!==jr)return f}c=e[a+8],c!==fa&&dx(i,e[y].data[a+8]===l)&&hx(s,a,e)?(o=u,a=Cl(c),e=bl(c,e)):a=-1}}return r}function _V(n,e,t,i,r,s){const o=e[y],a=o.data[n+8],u=Al(a,o,t,null==i?ws(a)&&od:i!=o&&0!=(3&a.type),r&r1.Host&&s===a);return null!==u?zs(e,o,u,a):jr}function Al(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let d=i?a:a+u;d<h;d++){const p=o[d];if(d<c&&t===p||d>=c&&p.type===t)return d}if(r){const d=o[c];if(d&&pr(d)&&d.type===t)return c}return null}function zs(n,e,t,i){let r=n[t];const s=e.data;if(function hV(n){return n instanceof K0}(r)){const o=r;o.resolving&&function m3(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new me(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():M1(n)}(s[t]));const a=wl(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?j2(o.injectImpl):null;qM(n,i,r1.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function uV(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=DM(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&j2(c),wl(a),o.resolving=!1,JM()}}return r}function hx(n,e,t){return!!(t[e+(n>>ox)]&1<<n)}function dx(n,e){return!(n&r1.Self||n&r1.Host&&e)}class ha{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return ux(this._tNode,this._lView,e,xs(i),t)}}function xV(){return new ha($2(),de())}function q2(n){return hr(()=>{const e=n.prototype.constructor,t=e[dr]||ud(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[dr]||ud(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function ud(n){return N0(n)?()=>{const e=ud(d1(n));return e&&e()}:Ss(n)}function px(n){const e=n[y],t=e.type;return 2===t?e.declTNode:1===t?n[Oe]:null}const pa="__parameters__";function ga(n,e,t){return hr(()=>{const i=function fd(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(c,l,u){const f=c.hasOwnProperty(pa)?c[pa]:Object.defineProperty(c,pa,{value:[]})[pa];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(o),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function tc(n,e){n.forEach(t=>Array.isArray(t)?tc(t,e):e(t))}function gx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function El(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function yi(n,e,t){let i=va(n,e);return i>=0?n[1|i]=t:(i=~i,function zV(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function hd(n,e){const t=va(n,e);if(t>=0)return n[1|t]}function va(n,e){return function vx(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Dl=_3(ga("Optional"),8),Ll=_3(ga("SkipSelf"),4);function Rl(n){return 128==(128&n.flags)}var Kn=(()=>((Kn=Kn||{})[Kn.Important=1]="Important",Kn[Kn.DashCase=2]="DashCase",Kn))();const ZV=/^>|^->|<!--|-->|--!>|<!-$/g,XV=/(<|>)/,YV="\u200b$1\u200b";const yd=new Map;let JV=0;const Md="__ngContext__";function rn(n,e){gi(e)?(n[Md]=e[X0],function QV(n){yd.set(n[X0],n)}(e)):n[Md]=e}let xd;function Cd(n,e){return xd(n,e)}function sc(n){const e=n[w];return Yn(e)?e[w]:e}function Vx(n){return Fx(n[q0])}function Ox(n){return Fx(n[I])}function Fx(n){for(;null!==n&&!Yn(n);)n=n[I];return n}function Ma(n,e,t,i,r){if(null!=i){let s,o=!1;Yn(i)?s=i:gi(i)&&(o=!0,i=i[Ot]);const a=Lt(i);0===n&&null!==t?null==r?Wx(e,t,a):Es(e,t,a,r||null,!0):1===n&&null!==t?Es(e,t,a,r||null,!0):2===n?function Ul(n,e,t){const i=Fl(n,e);i&&function yO(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function xO(n,e,t,i,r){const s=t[Ur];s!==Lt(t)&&Ma(e,n,i,s,r);for(let a=nn;a<t.length;a++){const c=t[a];ac(c[y],c,n,e,i,s)}}(e,n,s,t,r)}}function bd(n,e){return n.createComment(function Tx(n){return n.replace(ZV,e=>e.replace(XV,YV))}(e))}function Ol(n,e,t){return n.createElement(e,t)}function Ux(n,e){const t=n[aa],i=t.indexOf(e);VM(e),t.splice(i,1)}function wd(n,e){if(n.length<=nn)return;const t=nn+e,i=n[t];if(i){const r=i[Z0];null!==r&&r!==n&&Ux(r,i),e>0&&(n[t-1][I]=i[I]);const s=El(n,nn+e);!function uO(n,e){ac(n,e,e[g1],2,null,null),e[Ot]=null,e[Oe]=null}(i[y],i);const o=s[kr];null!==o&&o.detachView(s[y]),i[w]=null,i[I]=null,i[_]&=-129}return i}function Bx(n,e){if(!(256&e[_])){const t=e[g1];e[ul]?.destroy(),e[fl]?.destroy(),t.destroyNode&&ac(n,e,t,3,null,null),function dO(n){let e=n[q0];if(!e)return Sd(n[y],n);for(;e;){let t=null;if(gi(e))t=e[q0];else{const i=e[nn];i&&(t=i)}if(!t){for(;e&&!e[I]&&e!==n;)gi(e)&&Sd(e[y],e),e=e[w];null===e&&(e=n),gi(e)&&Sd(e[y],e),t=e&&e[I]}e=t}}(e)}}function Sd(n,e){if(!(256&e[_])){e[_]&=-129,e[_]|=256,function vO(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof K0)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],c=s[o+1];Gr(4,a,c);try{c.call(a)}finally{Gr(5,a,c)}}else{Gr(4,r,s);try{s.call(r)}finally{Gr(5,r,s)}}}}}(n,e),function gO(n,e){const t=n.cleanup,i=e[W1];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[W1]=null);const r=e[x3];if(null!==r){e[x3]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[y].type&&e[g1].destroy();const t=e[Z0];if(null!==t&&Yn(e[w])){t!==e[w]&&Ux(t,e);const i=e[kr];null!==i&&i.detachView(n)}!function eO(n){yd.delete(n[X0])}(e)}}function Ad(n,e,t){return function Gx(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Ot];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===I2.None||s===I2.Emulated)return null}return Jn(i,t)}}(n,e.parent,t)}function Es(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Wx(n,e,t){n.appendChild(e,t)}function jx(n,e,t,i,r){null!==i?Es(n,e,t,i,r):Wx(n,e,t)}function Fl(n,e){return n.parentNode(e)}function $x(n,e,t){return Zx(n,e,t)}let zd,Bl,Ld,Gl,Zx=function qx(n,e,t){return 40&n.type?Jn(n,t):null};function kl(n,e,t,i){const r=Ad(n,i,e),s=e[g1],a=$x(i.parent||e[Oe],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)jx(s,r,t[c],a,!1);else jx(s,r,t,a,!1);void 0!==zd&&zd(s,i,e,t,r)}function oc(n,e){if(null!==e){const t=e.type;if(3&t)return Jn(e,n);if(4&t)return Ed(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return oc(n,i);{const r=n[e.index];return Yn(r)?Ed(-1,r):Lt(r)}}if(32&t)return Cd(e,n)()||Lt(n[e.index]);{const i=Yx(n,e);return null!==i?Array.isArray(i)?i[0]:oc(sc(n[d2]),i):oc(n,e.next)}}return null}function Yx(n,e){return null!==e?n[d2][Oe].projection[e.projection]:null}function Ed(n,e){const t=nn+n+1;if(t<e.length){const i=e[t],r=i[y].firstChild;if(null!==r)return oc(i,r)}return e[Ur]}function Td(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],c=t.type;if(o&&0===e&&(a&&rn(Lt(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)Td(n,e,t.child,i,r,s,!1),Ma(e,n,r,a,s);else if(32&c){const l=Cd(t,i);let u;for(;u=l();)Ma(e,n,r,u,s);Ma(e,n,r,a,s)}else 16&c?Kx(n,e,i,t,r,s):Ma(e,n,r,a,s);t=o?t.projectionNext:t.next}}function ac(n,e,t,i,r,s){Td(t,i,n.firstChild,e,r,s,!1)}function Kx(n,e,t,i,r,s){const o=t[d2],c=o[Oe].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ma(e,n,r,c[l],s);else{let l=c;const u=o[w];Rl(i)&&(l.flags|=128),Td(n,e,l,u,r,s,!0)}}function Qx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eC(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&na(n,e,i),null!==r&&Qx(n,e,r),null!==s&&function bO(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function xa(n){return function Dd(){if(void 0===Bl&&(Bl=null,mt.trustedTypes))try{Bl=mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Bl}()?.createHTML(n)||n}function cc(){if(void 0!==Ld)return Ld;if(typeof document<"u")return document;throw new me(210,!1)}function Nd(){if(void 0===Gl&&(Gl=null,mt.trustedTypes))try{Gl=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Gl}function tC(n){return Nd()?.createHTML(n)||n}function iC(n){return Nd()?.createScriptURL(n)||n}class Ts{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Z5})`}}class EO extends Ts{getTypeName(){return"HTML"}}class TO extends Ts{getTypeName(){return"Style"}}class DO extends Ts{getTypeName(){return"Script"}}class LO extends Ts{getTypeName(){return"URL"}}class NO extends Ts{getTypeName(){return"ResourceURL"}}function _i(n){return n instanceof Ts?n.changingThisBreaksApplicationSecurity:n}function $r(n,e){const t=function PO(n){return n instanceof Ts&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Z5})`)}return t===e}class FO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(xa(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class kO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=xa(e),t}}const BO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wl(n){return(n=String(n)).match(BO)?n:"unsafe:"+n}function C4(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function lc(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const sC=C4("area,br,col,hr,img,wbr"),oC=C4("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aC=C4("rp,rt"),Pd=lc(sC,lc(oC,C4("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),lc(aC,C4("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lc(aC,oC)),Id=C4("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cC=lc(Id,C4("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C4("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GO=C4("script,style,template");class WO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Pd.hasOwnProperty(t))return this.sanitizedSomething=!0,!GO.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!cC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Id[a]&&(c=Wl(c)),this.buf.push(" ",o,'="',lC(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Pd.hasOwnProperty(t)&&!sC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const jO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$O=/([^\#-~ |!])/g;function lC(n){return n.replace(/&/g,"&amp;").replace(jO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($O,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jl;function uC(n,e){let t=null;try{jl=jl||function rC(n){const e=new kO(n);return function UO(){try{return!!(new window.DOMParser).parseFromString(xa(""),"text/html")}catch{return!1}}()?new FO(e):e}(n);let i=e?String(e):"";t=jl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=jl.getInertBodyElement(i)}while(i!==s);return xa((new WO).sanitizeChildren(Rd(t)||t))}finally{if(t){const i=Rd(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Rd(n){return"content"in n&&function qO(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Tt=(()=>((Tt=Tt||{})[Tt.NONE=0]="NONE",Tt[Tt.HTML=1]="HTML",Tt[Tt.STYLE=2]="STYLE",Tt[Tt.SCRIPT=3]="SCRIPT",Tt[Tt.URL=4]="URL",Tt[Tt.RESOURCE_URL=5]="RESOURCE_URL",Tt))();function fC(n){const e=uc();return e?tC(e.sanitize(Tt.HTML,n)||""):$r(n,"HTML")?tC(_i(n)):uC(cc(),M1(n))}function w3(n){const e=uc();return e?e.sanitize(Tt.URL,n)||"":$r(n,"URL")?_i(n):Wl(M1(n))}function hC(n){const e=uc();if(e)return iC(e.sanitize(Tt.RESOURCE_URL,n)||"");if($r(n,"ResourceURL"))return iC(_i(n));throw new me(904,!1)}function uc(){const n=de();return n&&n[Xn].sanitizer}class ke{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Je({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const fc=new ke("ENVIRONMENT_INITIALIZER"),pC=new ke("INJECTOR",-1),mC=new ke("INJECTOR_DEF_TYPES");class gC{get(e,t=y3){if(t===y3){const i=new Error(`NullInjectorError: No provider for ${o2(e)}!`);throw i.name="NullInjectorError",i}return t}}function QO(...n){return{\u0275providers:vC(0,n),\u0275fromNgModule:!0}}function vC(n,...e){const t=[],i=new Set;let r;return tc(e,s=>{const o=s;Vd(o,t,[],i)&&(r||=[],r.push(o))}),void 0!==r&&yC(r,t),t}function yC(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];Od(r,s=>{e.push(s)})}}function Vd(n,e,t,i){if(!(n=d1(n)))return!1;let r=null,s=K5(n);const o=!s&&ot(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const c=n.ngModule;if(s=K5(c),!s)return!1;r=c}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)Vd(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;i.add(r);try{tc(s.imports,u=>{Vd(u,e,t,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&yC(l,e)}if(!a){const l=Ss(r)||(()=>new r);e.push({provide:r,useFactory:l,deps:it},{provide:mC,useValue:r,multi:!0},{provide:fc,useValue:()=>Ye(r),multi:!0})}const c=s.providers;null==c||a||Od(c,u=>{e.push(u)})}}return r!==n&&void 0!==n.providers}function Od(n,e){for(let t of n)P0(t)&&(t=t.\u0275providers),Array.isArray(t)?Od(t,e):e(t)}const eF=ht({provide:String,useValue:ht});function Fd(n){return null!==n&&"object"==typeof n&&eF in n}function Ds(n){return"function"==typeof n}const kd=new ke("Set Injector scope."),$l={},nF={};let Ud;function ql(){return void 0===Ud&&(Ud=new gC),Ud}class qr{}class Bd extends qr{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wd(e,o=>this.processProvider(o)),this.records.set(pC,Ca(void 0,this)),r.has("environment")&&this.records.set(qr,Ca(void 0,this));const s=this.records.get(kd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mC.multi,it,r1.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Fr(this),i=j2(void 0);try{return e()}finally{Fr(t),j2(i)}}get(e,t=y3,i=r1.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tl))return e[tl](this);i=xs(i);const r=Fr(this),s=j2(void 0);try{if(!(i&r1.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function aF(n){return"function"==typeof n||"object"==typeof n&&n instanceof ke}(e)&&Jo(e);a=c&&this.injectableDefInScope(c)?Ca(Gd(e),$l):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&r1.Self?ql():this.parent).get(e,t=i&r1.Optional&&t===y3?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Qo]=o[Qo]||[]).unshift(o2(e)),r)throw o;return function Ah(n,e,t,i){const r=n[Qo];throw e[F0]&&r.unshift(e[F0]),n.message=function zh(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=o2(e);if(Array.isArray(e))r=e.map(o2).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):o2(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(bh,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Qo]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{j2(s),Fr(r)}}resolveInjectorInitializers(){const e=Fr(this),t=j2(void 0);try{const i=this.get(fc.multi,it,r1.Self);for(const r of i)r()}finally{Fr(e),j2(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(o2(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new me(205,!1)}processProvider(e){let t=Ds(e=d1(e))?e:d1(e&&e.provide);const i=function rF(n){return Fd(n)?Ca(void 0,n.useValue):Ca(xC(n),$l)}(e);if(Ds(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ca(void 0,$l,!0),r.factory=()=>U0(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===$l&&(t.value=nF,t.value=t.factory()),"object"==typeof t.value&&t.value&&function oF(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=d1(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Gd(n){const e=Jo(n),t=null!==e?e.factory:Ss(n);if(null!==t)return t;if(n instanceof ke)throw new me(204,!1);if(n instanceof Function)return function iF(n){const e=n.length;if(e>0)throw nc(e,"?"),new me(204,!1);const t=function J5(n){return n&&(n[v3]||n[I0])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new me(204,!1)}function xC(n,e,t){let i;if(Ds(n)){const r=d1(n);return Ss(r)||Gd(r)}if(Fd(n))i=()=>d1(n.useValue);else if(function MC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...U0(n.deps||[]));else if(function _C(n){return!(!n||!n.useExisting)}(n))i=()=>Ye(d1(n.useExisting));else{const r=d1(n&&(n.useClass||n.provide));if(!function sF(n){return!!n.deps}(n))return Ss(r)||Gd(r);i=()=>new r(...U0(n.deps))}return i}function Ca(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Wd(n,e){for(const t of n)Array.isArray(t)?Wd(t,e):t&&P0(t)?Wd(t.\u0275providers,e):e(t)}const Zl=new ke("AppId",{providedIn:"root",factory:()=>cF}),cF="ng",CC=new ke("Platform Initializer"),Ls=new ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bC=new ke("CSP nonce",{providedIn:"root",factory:()=>cc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let SC=(n,e)=>null;function AC(n,e){return SC(n,e)}class vF{}class TC{}class _F{resolveComponentFactory(e){throw function yF(n){const e=Error(`No component factory found for ${o2(n)}.`);return e.ngComponent=n,e}(e)}}let Ql=(()=>{class n{}return n.NULL=new _F,n})();function MF(){return ba($2(),de())}function ba(n,e){return new sn(Jn(n,e))}let sn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=MF,n})();function xF(n){return n instanceof sn?n.nativeElement:n}class LC{}let Zr=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function CF(){const n=de(),t=vi($2().index,n);return(gi(t)?t:n)[g1]}(),n})(),bF=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>null}),n})();class mc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wF=new mc("16.1.4"),tp={};function gc(n){for(;n;){n[_]|=64;const e=sc(n);if(jh(n)&&!e)return n;n=e}return null}function np(n){return n.ngOriginalError}class Ns{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&np(e);for(;t&&np(t);)t=np(t);return t||null}}const IC=new ke("",{providedIn:"root",factory:()=>!1});function b4(n){return n instanceof Function?n():n}class FC extends AM{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){gc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,i){const r=R2(this);this.trackingVersion++;try{e(t,i)}finally{R2(r)}}destroy(){this.trackingVersion++}}let t7=null;function kC(){return t7??=new FC,t7}function UC(n,e){return n[e]??kC()}function BC(n,e){const t=kC();t.hasReadASignal&&(n[e]=t7,t.lView=n,t7=new FC)}const w1={};function we(n){GC(rt(),de(),Cn()+n,!1)}function GC(n,e,t,i){if(!i)if(3==(3&e[_])){const s=n.preOrderCheckHooks;null!==s&&Ml(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xl(e,s,0,t)}As(t)}function qC(n,e=null,t=null,i){const r=ZC(n,e,t,i);return r.resolveInjectorInitializers(),r}function ZC(n,e=null,t=null,i,r=new Set){const s=[t||it,QO(n)];return i=i||("object"==typeof n?void 0:o2(n)),new Bd(s,e||ql(),i||null,r)}let mr=(()=>{class n{static create(t,i){if(Array.isArray(t))return qC({name:""},i,t,"");{const r=t.name??"";return qC({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=y3,n.NULL=new gC,n.\u0275prov=Je({token:n,providedIn:"any",factory:()=>Ye(pC)}),n.__NG_ELEMENT_ID__=-1,n})();function le(n,e=r1.Default){const t=de();return null===t?Ye(n,e):ux($2(),t,d1(n),e)}function n7(n,e,t,i,r,s,o,a,c,l,u){const f=e.blueprint.slice();return f[Ot]=r,f[_]=140|i,(null!==l||n&&2048&n[_])&&(f[_]|=2048),HM(f),f[w]=f[sa]=n,f[P1]=t,f[Xn]=o||n&&n[Xn],f[g1]=a||n&&n[g1],f[Ft]=c||n&&n[Ft]||null,f[Oe]=s,f[X0]=function KV(){return JV++}(),f[_4]=u,f[MM]=l,f[d2]=2==e.type?n[d2]:f,f}function Sa(n,e,t,i,r){let s=n.data[e];if(null===s)s=function ip(n,e,t,i,r){const s=BM(),o=Jh(),c=n.data[e]=function jF(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return la()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,i,r),function nV(){return v1.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function J0(){const n=v1.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Wr(s,!0),s}function vc(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function YC(n,e,t,i,r){const s=UC(e,ul),o=Cn(),a=2&i;try{if(As(-1),a&&e.length>Y1&&GC(n,e,Y1,!1),Gr(a?2:0,r),a)s.runInContext(t,i,r);else{const l=R2(null);try{t(i,r)}finally{R2(l)}}}finally{a&&null===e[ul]&&BC(e,ul),As(o),Gr(a?3:1,r)}}function rp(n,e,t){if(Wh(e)){const i=R2(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{R2(i)}}}function sp(n,e,t){UM()&&(function KF(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;ws(t)&&function sk(n,e,t){const i=Jn(e,n),r=JC(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=i7(n,n7(n,r,null,o,i,e,null,n[Xn].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Sl(t,e),rn(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const c=n.data[a],l=zs(e,n,a,t);rn(l,e),null!==o&&ok(0,a-r,l,c,0,o),pr(c)&&(vi(t.index,e)[P1]=zs(e,n,a,t))}}(n,e,t,Jn(t,e)),64==(64&t.flags)&&nb(n,e,t))}function op(n,e,t=Jn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function JC(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ap(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ap(n,e,t,i,r,s,o,a,c,l,u){const f=Y1+i,h=f+r,d=function FF(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:w1);return t}(f,h),p="function"==typeof l?l():l;return d[y]={type:n,blueprint:d,template:t,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}let KC=n=>null;function QC(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?eb(t,e,r,s):i.hasOwnProperty(r)&&eb(t,e,i[r],s)}return t}function eb(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Mi(n,e,t,i,r,s,o,a){const c=Jn(e,t);let u,l=e.inputs;!a&&null!=l&&(u=l[i])?(hp(n,t,u,i,r),ws(e)&&function ZF(n,e){const t=vi(e,n);16&t[_]||(t[_]|=64)}(t,e.index)):3&e.type&&(i=function qF(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(c,i,r))}function cp(n,e,t,i){if(UM()){const r=null===i?null:{"":-1},s=function ek(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(sl(e,o.selectors,!1))if(i||(i=[]),pr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),lp(n,e,a.length)}else i.unshift(o),lp(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&tb(n,e,t,o,r,a),r&&function tk(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new me(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=bs(t.mergedAttrs,t.attrs)}function tb(n,e,t,i,r,s){for(let l=0;l<i.length;l++)ld(Sl(t,e),n,i[l].type);!function ik(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=vc(n,e,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];t.mergedAttrs=bs(t.mergedAttrs,u.hostAttrs),rk(n,t,e,c,u),nk(c,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const f=u.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function $F(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<r;u++){const f=s[u],h=t?t.get(f):null,p=h?h.outputs:null;c=QC(f.inputs,u,c,h?h.inputs:null),l=QC(f.outputs,u,l,p);const m=null===c||null===o||rl(e)?null:ak(c,u,o);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,s)}function nb(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function rV(){return v1.lFrame.currentDirectiveIndex}();try{As(s);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Qh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&QF(c,l)}}finally{As(-1),Qh(o)}}function QF(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function lp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function nk(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;pr(e)&&(t[""]=n)}}function rk(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Ss(r.type)),o=new K0(s,pr(r),le);n.blueprint[i]=o,t[i]=o,function YF(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function JF(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,vc(n,t,r.hostVars,w1),r)}function Xr(n,e,t,i,r,s){const o=Jn(n,e);!function up(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const a=null==o?M1(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}(e[g1],o,s,n.value,t,i,r)}function ok(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)ib(i,t,o[a++],o[a++],o[a++])}function ib(n,e,t,i,r){const s=R2(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{R2(s)}}function ak(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function rb(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function sb(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const o=n.data[s];td(t[i]),o.contentQueries(2,e[s],s)}}}function i7(n,e){return n[q0]?n[_M][I]=e:n[q0]=e,n[_M]=e,e}function fp(n,e,t){td(0);const i=R2(null);try{e(n,t)}finally{R2(i)}}function ob(n){return n[W1]||(n[W1]=[])}function ab(n){return n.cleanup||(n.cleanup=[])}function lb(n,e){const t=n[Ft],i=t?t.get(Ns,null):null;i&&i.handleError(e)}function hp(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];ib(n.data[o],e[o],i,a,r)}}function ck(n,e){const t=vi(e,n),i=t[y];!function lk(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Ot];null!==r&&null===t[_4]&&(t[_4]=AC(r,t[Ft])),dp(i,t,t[P1])}function dp(n,e,t){nd(e);try{const i=n.viewQuery;null!==i&&fp(1,i,t);const r=n.template;null!==r&&YC(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sb(n,e),n.staticViewQueries&&fp(2,n.viewQuery,t);const s=n.components;null!==s&&function uk(n,e){for(let t=0;t<e.length;t++)ck(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[_]&=-5,id()}}let ub=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const s=typeof Zone>"u"?null:Zone.current,o=new IH(t,l=>{this.all.has(l)&&this.queue.set(l,s)},r);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>new n}),n})();function r7(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=L0(r,a):2==s&&(i=L0(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function yc(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Lt(s)),Yn(s)){for(let a=nn;a<s.length;a++){const c=s[a],l=c[y].firstChild;null!==l&&yc(c[y],c,l,i)}s[Ur]!==s[Ot]&&i.push(s[Ur])}const o=t.type;if(8&o)yc(n,e,t.child,i);else if(32&o){const a=Cd(t,e);let c;for(;c=a();)i.push(c)}else if(16&o){const a=Yx(e,t);if(Array.isArray(a))i.push(...a);else{const c=sc(e[d2]);yc(c[y],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function s7(n,e,t,i=!0){const r=e[Xn].rendererFactory;r.begin&&r.begin();try{fb(n,e,n.template,t)}catch(o){throw i&&lb(e,o),o}finally{r.end&&r.end(),e[Xn].effectManager?.flush()}}function fb(n,e,t,i){const r=e[_];if(256!=(256&r)){e[Xn].effectManager?.flush(),nd(e);try{HM(e),function WM(n){return v1.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&YC(n,e,t,2,i);const o=3==(3&r);if(o){const l=n.preOrderCheckHooks;null!==l&&Ml(e,l,null)}else{const l=n.preOrderHooks;null!==l&&xl(e,l,0,null),rd(e,0)}if(function mk(n){for(let e=Vx(n);null!==e;e=Ox(e)){if(!e[xM])continue;const t=e[aa];for(let i=0;i<t.length;i++){jH(t[i])}}}(e),hb(e,2),null!==n.contentQueries&&sb(n,e),o){const l=n.contentCheckHooks;null!==l&&Ml(e,l)}else{const l=n.contentHooks;null!==l&&xl(e,l,1),rd(e,1)}!function OF(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=UC(e,fl);try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)As(~s);else{const o=s,a=t[++r],c=t[++r];iV(a,o),i.runInContext(c,2,e[o])}}}finally{null===e[fl]&&BC(e,fl),As(-1)}}(n,e);const a=n.components;null!==a&&pb(e,a,0);const c=n.viewQuery;if(null!==c&&fp(2,c,i),o){const l=n.viewCheckHooks;null!==l&&Ml(e,l)}else{const l=n.viewHooks;null!==l&&xl(e,l,2),rd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[_]&=-73,VM(e)}finally{id()}}}function hb(n,e){for(let t=Vx(n);null!==t;t=Ox(t))for(let i=nn;i<t.length;i++)db(t[i],e)}function gk(n,e,t){db(vi(e,n),t)}function db(n,e){if(!function GH(n){return 128==(128&n[_])}(n))return;const t=n[y];if(80&n[_]&&0===e||1024&n[_]||2===e)fb(t,n,t.template,n[P1]);else if(n[te]>0){hb(n,1);const r=n[y].components;null!==r&&pb(n,r,1)}}function pb(n,e,t){for(let i=0;i<e.length;i++)gk(n,e[i],t)}class _c{get rootNodes(){const e=this._lView,t=e[y];return yc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[P1]}set context(e){this._lView[P1]=e}get destroyed(){return 256==(256&this._lView[_])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[w];if(Yn(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(wd(e,i),El(t,i))}this._attachedToViewContainer=!1}Bx(this._lView[y],this._lView)}onDestroy(e){!function FM(n,e){if(256==(256&n[_]))throw new me(911,!1);null===n[x3]&&(n[x3]=[]),n[x3].push(e)}(this._lView,e)}markForCheck(){gc(this._cdRefInjectingView||this._lView)}detach(){this._lView[_]&=-129}reattach(){this._lView[_]|=128}detectChanges(){s7(this._lView[y],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hO(n,e){ac(n,e,e[g1],2,null,null)}(this._lView[y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new me(902,!1);this._appRef=e}}class vk extends _c{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;s7(e[y],e,e[P1],!1)}checkNoChanges(){}get context(){return null}}class mb extends Ql{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ot(e);return new Mc(t,this.ngModule)}}function gb(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class _k{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=xs(i);const r=this.injector.get(e,tp,i);return r!==tp||t===tp?r:this.parentInjector.get(e,t,i)}}class Mc extends TC{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=gb(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return gb(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Vh(n){return n.map(Hh).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof qr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new _k(e,s):e,a=o.get(LC,null);if(null===a)throw new me(407,!1);const u={rendererFactory:a,sanitizer:o.get(bF,null),effectManager:o.get(ub,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",d=i?function kF(n,e,t,i){const s=i.get(IC,!1)||t===I2.ShadowDom,o=n.selectRootElement(e,s);return function UF(n){KC(n)}(o),o}(f,i,this.componentDef.encapsulation,o):Ol(f,h,function yk(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),g=this.componentDef.signals?4608:this.componentDef.onPush?576:528,v=ap(0,null,null,1,0,null,null,null,null,null,null),M=n7(null,v,null,g,null,null,u,f,o,null,null);let x,C;nd(M);try{const b=this.componentDef;let A,E=null;b.findHostDirectiveDefs?(A=[],E=new Map,b.findHostDirectiveDefs(b,A,E),A.push(b)):A=[b];const D=function xk(n,e){const t=n[y],i=Y1;return n[i]=e,Sa(t,i,2,"#host",null)}(M,d),S=function Ck(n,e,t,i,r,s,o){const a=r[y];!function bk(n,e,t,i){for(const r of n)e.mergedAttrs=bs(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(r7(e,e.mergedAttrs,!0),null!==t&&eC(i,t,e))}(i,n,e,o);let c=null;null!==e&&(c=AC(e,r[Ft]));const l=s.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const f=n7(r,JC(t),null,u,r[n.index],n,s,l,null,null,c);return a.firstCreatePass&&lp(a,n,i.length-1),i7(r,f),r[n.index]=f}(D,d,b,A,M,u,f);C=RM(v,Y1),d&&function Sk(n,e,t,i){if(i)na(n,t,["ng-version",wF.full]);else{const{attrs:r,classes:s}=function y4(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!qn(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&na(n,t,r),s&&s.length>0&&Qx(n,t,s.join(" "))}}(f,b,d,i),void 0!==t&&function Ak(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),x=function wk(n,e,t,i,r,s){const o=$2(),a=r[y],c=Jn(o,r);tb(a,r,o,t,null,i);for(let u=0;u<t.length;u++)rn(zs(r,a,o.directiveStart+u,o),r);nb(a,r,o),c&&rn(c,r);const l=zs(r,a,o.directiveStart+o.componentOffset,o);if(n[P1]=r[P1]=l,null!==s)for(const u of s)u(l,e);return rp(a,o,n),l}(S,b,A,E,M,[zk]),dp(v,M,null)}finally{id()}return new Mk(this.componentType,x,ba(C,M),M,C)}}class Mk extends vF{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new vk(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;hp(s[y],s,r,e,t),this.previousInputValues.set(e,t),gc(vi(this._tNode.index,s))}}get injector(){return new ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function zk(){const n=$2();_l(de()[y],n)}function _t(n){let e=function vb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(pr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new me(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=o7(n.inputs),o.inputTransforms=o7(n.inputTransforms),o.declaredInputs=o7(n.declaredInputs),o.outputs=o7(n.outputs);const a=r.hostBindings;a&&Lk(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Tk(n,c),l&&Dk(n,l),Xo(n.inputs,r.inputs),Xo(n.declaredInputs,r.declaredInputs),Xo(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Xo(o.inputTransforms,r.inputTransforms)),pr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===_t&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ek(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=bs(r.hostAttrs,t=bs(t,r.hostAttrs))}}(i)}function o7(n){return n===Bi?{}:n===it?[]:n}function Tk(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Dk(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function Lk(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function xb(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function a7(n){return!!pp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function pp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yr(n,e,t){return n[e]=t}function on(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function gr(n,e,t,i){const r=de();return on(r,ua(),e)&&(rt(),Xr(Gt(),r,n,e,t,i)),gr}function za(n,e,t,i){return on(n,ua(),t)?e+M1(t)+i:w1}function Nt(n,e,t,i,r,s,o,a){const c=de(),l=rt(),u=n+Y1,f=l.firstCreatePass?function nU(n,e,t,i,r,s,o,a,c){const l=e.consts,u=Sa(e,n,4,o||null,C3(l,a));cp(e,t,u,C3(l,c)),_l(e,u);const f=u.tView=ap(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,t,i,r,s,o):l.data[u];Wr(f,!1);const h=Ib(l,c,f,n);yl()&&kl(l,c,h,f),rn(h,c),i7(c,c[u]=rb(h,c,h,f)),dl(f)&&sp(l,c,f),null!=o&&op(c,f,a)}let Ib=function Rb(n,e,t,i){return b3(!0),e[g1].createComment("")};function H2(n){return function ca(n,e){return n[e]}(function tV(){return v1.lFrame.contextLView}(),Y1+n)}function Ne(n,e,t){const i=de();return on(i,ua(),e)&&Mi(rt(),Gt(),i,n,e,i[g1],t,!1),Ne}function Mp(n,e,t,i,r){const o=r?"class":"style";hp(n,t,e.inputs[o],o,i)}function G(n,e,t,i){const r=de(),s=rt(),o=Y1+n,a=r[g1],c=s.firstCreatePass?function oU(n,e,t,i,r,s){const o=e.consts,c=Sa(e,n,2,i,C3(o,r));return cp(e,t,c,C3(o,s)),null!==c.attrs&&r7(c,c.attrs,!1),null!==c.mergedAttrs&&r7(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,e,t,i):s.data[o],l=Hb(s,r,c,a,e,n);r[o]=l;const u=dl(c);return Wr(c,!0),eC(a,l,c),32!=(32&c.flags)&&yl()&&kl(s,r,l,c),0===function qH(){return v1.lFrame.elementDepthCount}()&&rn(l,r),function ZH(){v1.lFrame.elementDepthCount++}(),u&&(sp(s,r,c),rp(s,c,r)),null!==i&&op(r,c),G}function O(){let n=$2();Jh()?Kh():(n=n.parent,Wr(n,!1));const e=n;(function YH(n){return v1.skipHydrationRootTNode===n})(e)&&function eV(){v1.skipHydrationRootTNode=null}(),function XH(){v1.lFrame.elementDepthCount--}();const t=rt();return t.firstCreatePass&&(_l(t,n),Wh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dV(n){return 0!=(8&n.flags)}(e)&&Mp(t,e,de(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pV(n){return 0!=(16&n.flags)}(e)&&Mp(t,e,de(),e.stylesWithoutHost,!1),O}function ve(n,e,t,i){return G(n,e,t,i),O(),ve}let Hb=(n,e,t,i,r,s)=>(b3(!0),Ol(i,r,function ex(){return v1.lFrame.currentNamespace}()));function h7(n,e,t){const i=de(),r=rt(),s=n+Y1,o=r.firstCreatePass?function lU(n,e,t,i,r){const s=e.consts,o=C3(s,i),a=Sa(e,n,8,"ng-container",o);return null!==o&&r7(a,o,!0),cp(e,t,a,C3(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Wr(o,!0);const a=Ob(r,i,o,n);return i[s]=a,yl()&&kl(r,i,a,o),rn(a,i),dl(o)&&(sp(r,i,o),rp(r,o,i)),null!=t&&op(i,o),h7}function d7(){let n=$2();const e=rt();return Jh()?Kh():(n=n.parent,Wr(n,!1)),e.firstCreatePass&&(_l(e,n),Wh(n)&&e.queries.elementEnd(n)),d7}let Ob=(n,e,t,i)=>(b3(!0),bd(e[g1],""));function S3(){return de()}function Sc(n){return!!n&&"function"==typeof n.then}function Fb(n){return!!n&&"function"==typeof n.subscribe}function b1(n,e,t,i){const r=de(),s=rt(),o=$2();return function Ub(n,e,t,i,r,s,o){const a=dl(i),l=n.firstCreatePass&&ab(n),u=e[P1],f=ob(e);let h=!0;if(3&i.type||o){const m=Jn(i,e),g=o?o(m):m,v=f.length,M=o?C=>o(Lt(C[i.index])):i.index;let x=null;if(!o&&a&&(x=function hU(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[W1],c=r[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,h=!1;else{s=Gb(i,e,u,s,!1);const C=t.listen(g,r,s);f.push(s,C),l&&l.push(r,M,v,v+1)}}else s=Gb(i,e,u,s,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const b=e[p[g]][p[g+1]].subscribe(s),A=f.length;f.push(s,b),l&&l.push(r,i.index,A,-(A+1))}}}(s,r,r[g1],o,n,e,i),b1}function Bb(n,e,t,i){try{return Gr(6,e,t),!1!==t(i)}catch(r){return lb(n,r),!1}finally{Gr(7,e,t)}}function Gb(n,e,t,i,r){return function s(o){if(o===Function)return i;gc(n.componentOffset>-1?vi(n.index,e):e);let c=Bb(e,t,i,o),l=s.__ngNextListenerFn__;for(;l;)c=Bb(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&o.preventDefault(),c}}function st(n=1){return function oV(n){return(v1.lFrame.contextLView=function aV(n,e){for(;n>0;)e=e[sa],n--;return e}(n,v1.lFrame.contextLView))[P1]}(n)}function dU(n,e){let t=null;const i=function Nh(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?sl(n,s,!0):Rh(i,s))return r}else t=r}return t}function Is(n,e,t){return xp(n,"",e,"",t),Is}function xp(n,e,t,i,r){const s=de(),o=za(s,e,t,i);return o!==w1&&Mi(rt(),Gt(),s,n,o,s[g1],r,!1),xp}function p7(n,e){return n<<17|e<<2}function A3(n){return n>>17&32767}function Cp(n){return 2|n}function Rs(n){return(131068&n)>>2}function bp(n,e){return-131069&n|e<<2}function wp(n){return 1|n}function ew(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?A3(s):Rs(s),c=!1;for(;0!==a&&(!1===c||o);){const u=n[a+1];_U(n[a],e)&&(c=!0,n[a+1]=i?wp(u):Cp(u)),a=i?A3(u):Rs(u)}c&&(n[t+1]=i?Cp(s):wp(s))}function _U(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&va(n,e)>=0}function Ac(n,e){return function vr(n,e,t,i){const r=de(),s=rt(),o=function x4(n){const e=v1.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function lw(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Cn()],o=function cw(n,e){return e>=n.expandoStartIndex}(n,t);(function dw(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function EU(n,e,t,i){const r=function ed(n){const e=v1.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=zc(t=Sp(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Sp(r,n,e,t,i),null===s){let c=function TU(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Rs(i))return n[A3(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=Sp(null,n,e,c[1],i),c=zc(c,e.attrs,i),function DU(n,e,t,i){n[A3(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else s=function LU(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=zc(i,n[s].hostAttrs,t);return zc(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function vU(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=A3(o),c=Rs(o);n[i]=t;let u,l=!1;if(Array.isArray(t)?(u=t[1],(null===u||va(t,u)>0)&&(l=!0)):u=t,r)if(0!==c){const h=A3(n[a+1]);n[i+1]=p7(h,a),0!==h&&(n[h+1]=bp(n[h+1],i)),n[a+1]=function mU(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=p7(a,0),0!==a&&(n[a+1]=bp(n[a+1],i)),a=i;else n[i+1]=p7(c,0),0===a?a=i:n[c+1]=bp(n[c+1],i),c=i;l&&(n[i+1]=Cp(n[i+1])),ew(n,u,i,!0),ew(n,u,i,!1),function yU(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&va(s,e)>=0&&(t[i+1]=wp(t[i+1]))}(e,u,n,i,s),o=p7(a,c),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==w1&&on(r,o,e)&&function fw(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],u=function gU(n){return 1==(1&n)}(l)?hw(c,e,t,r,Rs(l),o):void 0;m7(u)||(m7(s)||function pU(n){return 2==(2&n)}(l)&&(s=hw(c,null,t,r,a,o)),function CO(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Kn.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Kn.Important),n.setStyle(t,i,r,s))}}(i,o,vl(Cn(),t),r,s))}(s,s.data[Cn()],r,r[g1],n,r[o+1]=function RU(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=o2(_i(n)))),n}(e,t),i,o)}(n,e,null,!0),Ac}function Sp(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=zc(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function zc(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),yi(n,o,!!t||e[++s]))}return void 0===n?null:n}function hw(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let h=t[r+1];h===w1&&(h=f?it:void 0);let d=f?hd(h,i):u===i?h:void 0;if(l&&!m7(d)&&(d=hd(c,i)),m7(d)&&(a=d,o))return a;const p=n[r+1];r=o?A3(p):Rs(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=hd(c,i))}return a}function m7(n){return void 0!==n}function Le(n,e=""){const t=de(),i=rt(),r=n+Y1,s=i.firstCreatePass?Sa(i,r,1,e,null):i.data[r],o=pw(i,t,s,e,n);t[r]=o,yl()&&kl(i,t,o,s),Wr(s,!1)}let pw=(n,e,t,i,r)=>(b3(!0),function Vl(n,e){return n.createText(e)}(e[g1],i));function z3(n){return S4("",n,""),z3}function S4(n,e,t){const i=de(),r=za(i,n,e,t);return r!==w1&&function w4(n,e,t){const i=vl(e,n);!function kx(n,e,t){n.setValue(e,t)}(n[g1],i,t)}(i,Cn(),r),S4}function Ap(n,e,t){const i=de();return on(i,ua(),e)&&Mi(rt(),Gt(),i,n,e,i[g1],t,!0),Ap}const Va="en-US";let Rw=Va;function Tp(n,e,t,i,r){if(n=d1(n),Array.isArray(n))for(let s=0;s<n.length;s++)Tp(n[s],e,t,i,r);else{const s=rt(),o=de();let a=Ds(n)?n:d1(n.provide),c=xC(n);const l=$2(),u=1048575&l.providerIndexes,f=l.directiveStart,h=l.providerIndexes>>20;if(Ds(n)||!n.multi){const d=new K0(c,r,le),p=Lp(a,e,r?u:u+h,f);-1===p?(ld(Sl(l,o),s,a),Dp(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(d),o.push(d)):(t[p]=d,o[p]=d)}else{const d=Lp(a,e,u+h,f),p=Lp(a,e,u,u+h),g=p>=0&&t[p];if(r&&!g||!r&&!(d>=0&&t[d])){ld(Sl(l,o),s,a);const v=function tG(n,e,t,i,r){const s=new K0(n,t,le);return s.multi=[],s.index=e,s.componentProviders=0,oS(s,r,i&&!t),s}(r?eG:QB,t.length,r,i,c);!r&&g&&(t[p].providerFactory=v),Dp(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(v),o.push(v)}else Dp(s,n,d>-1?d:p,oS(t[r?p:d],c,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function Dp(n,e,t,i){const r=Ds(e),s=function tF(n){return!!n.useClass}(e);if(r||s){const c=(s?d1(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=l.indexOf(t);-1===u?l.push(t,[i,c]):l[u+1].push(i,c)}else l.push(t,c)}}}function oS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lp(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function QB(n,e,t,i){return Np(this.multi,[])}function eG(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=zs(t,t[y],this.providerFactory.index,i);s=a.slice(0,o),Np(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Np(r,s);return s}function Np(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function gt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function KB(n,e,t){const i=rt();if(i.firstCreatePass){const r=pr(n);Tp(t,i.data,i.blueprint,r,!0),Tp(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Oa{}class aS{}class Pp extends Oa{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mb(this);const r=_n(e);this._bootstrapComponents=b4(r.bootstrap),this._r3Injector=ZC(e,t,[{provide:Oa,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver},...i],o2(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ip extends aS{constructor(e){super(),this.moduleType=e}create(e){return new Pp(this.moduleType,e,[])}}class cS extends Oa{constructor(e){super(),this.componentFactoryResolver=new mb(this),this.instance=null;const t=new Bd([...e.providers,{provide:Oa,useValue:this},{provide:Ql,useValue:this.componentFactoryResolver}],e.parent||ql(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Rp(n,e,t=null){return new cS({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let rG=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=vC(0,t.type),r=i.length>0?Rp([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Je({token:n,providedIn:"environment",factory:()=>new n(Ye(qr))}),n})();function lS(n){n.getStandaloneInjector=e=>e.get(rG).getOrCreateStandaloneInjector(n)}function ji(n,e,t){const i=xn()+n,r=de();return r[i]===w1?Yr(r,i,t?e.call(t):e()):function xc(n,e){return n[e]}(r,i)}function Pc(n,e,t,i){return function vS(n,e,t,i,r,s){const o=e+t;return on(n,o,r)?Yr(n,o+1,s?i.call(s,r):i(r)):Ic(n,o+1)}(de(),xn(),n,e,t,i)}function gS(n,e,t,i,r){return function yS(n,e,t,i,r,s,o){const a=e+t;return function Ps(n,e,t,i){const r=on(n,e,t);return on(n,e+1,i)||r}(n,a,r,s)?Yr(n,a+2,o?i.call(o,r,s):i(r,s)):Ic(n,a+2)}(de(),xn(),n,e,t,i,r)}function Ic(n,e){const t=n[e];return t===w1?void 0:t}function Vp(n){return e=>{setTimeout(n,void 0,e)}}const Qt=class zG extends Bn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Vp(s),r&&(r=Vp(r)),o&&(o=Vp(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof fi&&e.add(a),a}};function EG(){return this._results[Symbol.iterator]()}class Op{get changes(){return this._changes||(this._changes=new Qt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Op.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=EG)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function Gi(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function SV(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let A4=(()=>{class n{}return n.__NG_ELEMENT_ID__=LG,n})();const TG=A4,DG=class extends TG{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t,null)}createEmbeddedViewImpl(e,t,i){const o=this._declarationTContainer.tView,a=n7(this._declarationLView,o,e,4096&this._declarationLView[_]?4096:16,null,o.declTNode,null,null,null,t||null,i||null);a[Z0]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[kr];return null!==l&&(a[kr]=l.createEmbeddedView(o)),dp(o,a,e),new _c(a)}};function LG(){return M7($2(),de())}function M7(n,e){return 4&n.type?new DG(e,n,ba(n,e)):null}let _r=(()=>{class n{}return n.__NG_ELEMENT_ID__=OG,n})();function OG(){return zS($2(),de())}const FG=_r,SS=class extends FG{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ba(this._hostTNode,this._hostLView)}get injector(){return new ha(this._hostTNode,this._hostLView)}get parentInjector(){const e=cd(this._hostTNode,this._hostLView);if(rx(e)){const t=bl(e,this._hostLView),i=Cl(e);return new ha(t[y].data[i+8],t)}return new ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=AS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-nn}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,s){const o=e&&!function ec(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}const c=o?e:new Mc(ot(e)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const g=(o?l:this.parentInjector).get(qr,null);g&&(s=g)}ot(c.componentType??{});const d=c.create(l,r,null,s);return this.insertImpl(d.hostView,a,false),d}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView,s=r[y];if(function WH(n){return Yn(n[w])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=r[w],u=new SS(l,l[Oe],l[w]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;if(function pO(n,e,t,i){const r=nn+i,s=t.length;i>0&&(t[r-1][I]=e),i<s-nn?(e[I]=t[r],gx(t,nn+i,e)):(t.push(e),e[I]=null),e[w]=t;const o=e[Z0];null!==o&&t!==o&&function mO(n,e){const t=n[aa];e[d2]!==e[w][w][d2]&&(n[xM]=!0),null===t?n[aa]=[e]:t.push(e)}(o,e);const a=e[kr];null!==a&&a.insertView(n),e[_]|=128}(s,r,a,o),!i){const c=Ed(o,a),l=r[g1],u=Fl(l,a[Ur]);null!==u&&function fO(n,e,t,i,r,s){i[Ot]=r,i[Oe]=e,ac(n,i,t,1,r,s)}(s,a[Oe],l,r,u,c)}return e.attachToViewContainerRef(),gx(kp(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=AS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=wd(this._lContainer,t);i&&(El(kp(this._lContainer),t),Bx(i[y],i))}detach(e){const t=this._adjustIndex(e,-1),i=wd(this._lContainer,t);return i&&null!=El(kp(this._lContainer),t)?new _c(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function AS(n){return n[8]}function kp(n){return n[8]||(n[8]=[])}function zS(n,e){let t;const i=e[n.index];return Yn(i)?t=i:(t=rb(i,e,null,n),e[n.index]=t,i7(e,t)),ES(t,e,n,i),new SS(t,n,e)}let ES=function TS(n,e,t,i){if(n[Ur])return;let r;r=8&t.type?Lt(i):function kG(n,e){const t=n[g1],i=t.createComment(""),r=Jn(e,n);return Es(t,Fl(t,r),i,function _O(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Ur]=r};class Up{constructor(e){this.queryList=e,this.matches=null}clone(){return new Up(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Bp(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==RS(e,t).matches&&this.queries[t].setDirty()}}class DS{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Gp{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Gp(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wp{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,GG(t,s)),this.matchTNodeWithReadOption(e,t,Al(t,e,s,!1,!1))}else i===A4?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Al(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===sn||r===_r||r===A4&&4&t.type)this.addMatch(t.index,-2);else{const s=Al(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function GG(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function jG(n,e,t,i){return-1===t?function WG(n,e){return 11&n.type?ba(n,e):4&n.type?M7(n,e):null}(e,n):-2===t?function $G(n,e,t){return t===sn?ba(e,n):t===A4?M7(e,n):t===_r?zS(e,n):void 0}(n,e,i):zs(n,n[y],t,e)}function LS(n,e,t,i){const r=e[kr].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:jG(e,s[l],o[c+1],t.metadata.read))}r.matches=a}return r.matches}function jp(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=LS(n,e,r,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)i.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let f=nn;f<u.length;f++){const h=u[f];h[Z0]===h[w]&&jp(h[y],h,l,i)}if(null!==u[aa]){const f=u[aa];for(let h=0;h<f.length;h++){const d=f[h];jp(d[y],d,l,i)}}}}}return i}function an(n){const e=de(),t=rt(),i=$M();td(i+1);const r=RS(t,i);if(n.dirty&&function BH(n){return 4==(4&n[_])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?jp(t,e,i,[]):LS(t,e,r,i);n.reset(s,xF),n.notifyOnChanges()}return!0}return!1}function wn(n,e,t){const i=rt();i.firstCreatePass&&(IS(i,new DS(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),PS(i,de(),e)}function cn(){return function qG(n,e){return n[kr].queries[e].queryList}(de(),$M())}function PS(n,e,t){const i=new Op(4==(4&t));(function WF(n,e,t,i){const r=ob(e);r.push(t),n.firstCreatePass&&ab(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[kr]&&(e[kr]=new Bp),e[kr].queries.push(new Up(i))}function IS(n,e,t){null===n.queries&&(n.queries=new Gp),n.queries.track(new Wp(e,t))}function RS(n,e){return n.queries.getByIndex(e)}const Jp=new ke("Application Initializer");let Kp=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=He(Jp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(Sc(s))t.push(s);else if(Fb(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const z4=new ke("LocaleId",{providedIn:"root",factory:()=>He(z4,r1.Optional|r1.SkipSelf)||function gW(){return typeof $localize<"u"&&$localize.locale||Va}()});let C7=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let QS=(()=>{class n{compileModuleSync(t){return new Ip(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=b4(_n(t).declarations).reduce((o,a)=>{const c=ot(a);return c&&o.push(new Mc(c)),o},[]);return new yW(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nA(...n){}class Wt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new me(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function xW(){const n="function"==typeof mt.requestAnimationFrame;let e=mt[n?"requestAnimationFrame":"setTimeout"],t=mt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function wW(n){const e=()=>{!function bW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,em(n),n.isCheckStableRunning=!0,Qp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),em(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return iA(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),rA(n)}},onInvoke:(t,i,r,s,o,a,c)=>{try{return iA(n),t.invoke(r,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),rA(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,em(n),Qp(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wt.isInAngularZone())throw new me(909,!1)}static assertNotInAngularZone(){if(Wt.isInAngularZone())throw new me(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,CW,nA,nA);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const CW={};function Qp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function em(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function iA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rA(n){n._nesting--,Qp(n)}class SW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const sA=new ke("",{providedIn:"root",factory:oA});function oA(){const n=He(Wt);let e=!0;return function p3(...n){const e=vs(n),t=function sh(n,e){return"number"==typeof T0(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?mi(i[0]):m4(t)(s2(i,e)):ki}(new pt(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new pt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Wt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(q5()))}const aA=new ke(""),b7=new ke("");let im,tm=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,im||(function AW(n){im=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ye(Wt),Ye(nm),Ye(b7))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),nm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return im?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),E3=null;const cA=new ke("AllowMultipleToken"),rm=new ke("PlatformDestroyListeners"),sm=new ke("appBootstrapListener");class uA{constructor(e,t){this.name=e,this.token=t}}function hA(n,e,t=[]){const i=`Platform: ${e}`,r=new ke(i);return(s=[])=>{let o=om();if(!o||o.injector.get(cA,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function TW(n){if(E3&&!E3.get(cA,!1))throw new me(400,!1);(function lA(){!function NH(n){zM=n}(()=>{throw new me(600,!1)})})(),E3=n;const e=n.get(pA);(function fA(n){n.get(CC,null)?.forEach(t=>t())})(n)}(function dA(n=[],e){return mr.create({name:e,providers:[{provide:kd,useValue:"platform"},{provide:rm,useValue:new Set([()=>E3=null])},...n]})}(a,i))}return function LW(n){const e=om();if(!e)throw new me(401,!1);return e}()}}function om(){return E3?.get(pA)??null}let pA=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function NW(n="zone.js",e){return"noop"===n?new SW:"zone.js"===n?new Wt(e):n}(i?.ngZone,function mA(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function iG(n,e,t){return new Pp(n,e,t)}(t.moduleType,this.injector,function MA(n){return[{provide:Wt,useFactory:n},{provide:fc,multi:!0,useFactory:()=>{const e=He(IW,{optional:!0});return()=>e.initialize()}},{provide:_A,useFactory:PW},{provide:sA,useFactory:oA}]}(()=>r)),o=s.injector.get(Ns,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{w7(this._modules,s),a.unsubscribe()})}),function gA(n,e,t){try{const i=t();return Sc(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(Kp);return a.runInitializers(),a.donePromise.then(()=>(function Hw(n){$n(n,"Expected localeId to be defined"),"string"==typeof n&&(Rw=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(z4,Va)||Va),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=vA({},i);return function zW(n,e,t){const i=new Ip(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ua);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new me(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new me(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(rm,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ye(mr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vA(n,e){return Array.isArray(e)?e.reduce(vA,n):{...n,...e}}let Ua=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=He(_A),this.zoneIsStable=He(sA),this.componentTypes=[],this.components=[],this.isStable=He(C7).hasPendingTasks.pipe(Wn(t=>t?l1(!1):this.zoneIsStable),function uh(n,e=hi){return n=n??fh,Yt((t,i)=>{let r,s=!0;t.subscribe(Vt(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}(),q5()),this._injector=He(qr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof TC;if(!this._injector.get(Kp).done)throw!r&&function M3(n){const e=ot(n)||Ct(n)||X1(n);return null!==e&&e.standalone}(t),new me(405,!1);let o;o=r?t:this._injector.get(Ql).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function EW(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Oa),l=o.create(mr.NULL,[],i||o.selector,a),u=l.location.nativeElement,f=l.injector.get(aA,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),w7(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new me(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;w7(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(sm,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>w7(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new me(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _A=new ke("",{providedIn:"root",factory:()=>He(Ns).handleError.bind(void 0)});function PW(){const n=He(Wt),e=He(Ns);return t=>n.runOutsideAngular(()=>e.handleError(t))}let IW=(()=>{class n{constructor(){this.zone=He(Wt),this.applicationRef=He(Ua)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let S7=(()=>{class n{}return n.__NG_ELEMENT_ID__=HW,n})();function HW(n){return function VW(n,e,t){if(ws(n)&&!t){const i=vi(n.index,e);return new _c(i,i)}return 47&n.type?new _c(e[d2],e):null}($2(),de(),16==(16&n))}class wA{constructor(){}supports(e){return a7(e)}create(e){return new GW(e)}}const BW=(n,e)=>e;class GW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||BW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<AA(i,r,s)?t:i,a=AA(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const l=a-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const d=h<s.length?s[h]:s[h]=0,p=d+h;u<=p&&p<l&&(s[h]=d+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!a7(e))throw new me(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function Ok(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new WW(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SA),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SA),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class WW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class SA{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new jW,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AA(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class zA{constructor(){}supports(e){return e instanceof Map||pp(e)}create(){return new $W}}class $W{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||pp(e)))throw new me(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new qW(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class qW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EA(){return new E7([new wA])}let E7=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||EA()),deps:[[n,new Ll,new Dl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new me(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:EA}),n})();function TA(){return new Vc([new zA])}let Vc=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||TA()),deps:[[n,new Ll,new Dl]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new me(901,!1)}}return n.\u0275prov=Je({token:n,providedIn:"root",factory:TA}),n})();const YW=hA(null,"core",[]);let JW=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ye(Ua))},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({}),n})();function Ba(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let dm=null;function T3(){return dm}class lj{}const An=new ke("DocumentToken");let pm=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return He(fj)},providedIn:"platform"}),n})();const uj=new ke("Location Initialized");let fj=(()=>{class n extends pm{constructor(){super(),this._doc=He(An),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T3().getBaseHref(this._doc)}onPopState(t){const i=T3().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=T3().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function mm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function HA(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function E4(n){return n&&"?"!==n[0]?"?"+n:n}let Os=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return He(OA)},providedIn:"root"}),n})();const VA=new ke("appBaseHref");let OA=(()=>{class n extends Os{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??He(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return mm(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+E4(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+E4(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+E4(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(pm),Ye(VA,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hj=(()=>{class n extends Os{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=mm(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+E4(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+E4(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(pm),Ye(VA,8))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})(),gm=(()=>{class n{constructor(t){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function mj(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(HA(FA(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+E4(i))}normalize(t){return n.stripTrailingSlash(function pj(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,FA(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E4(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+E4(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=E4,n.joinWithSlash=mm,n.stripTrailingSlash=HA,n.\u0275fac=function(t){return new(t||n)(Ye(Os))},n.\u0275prov=Je({token:n,factory:function(){return function dj(){return new gm(Ye(Os))}()},providedIn:"root"}),n})();function FA(n){return n.replace(/\/index.html$/,"")}function ZA(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}const Am=/\s+/,XA=[];let YA=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=XA,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Am):XA}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Am):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Am).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(le(E7),le(Vc),le(sn),le(Zr))},n.\u0275dir=h1({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Qj{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zm=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Qj(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),KA(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{KA(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(_r),le(A4),le(E7))},n.\u0275dir=h1({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function KA(n,e){n.context.$implicit=e.item}let kc=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new e$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){QA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){QA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(le(_r),le(A4))},n.\u0275dir=h1({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class e${constructor(){this.$implicit=null,this.ngIf=null}}function QA(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${o2(e)}'.`)}let tz=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:Kn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(le(sn),le(Vc),le(Zr))},n.\u0275dir=h1({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({}),n})();function rz(n){return"server"===n}let D$=(()=>{class n{}return n.\u0275prov=Je({token:n,providedIn:"root",factory:()=>new L$(Ye(An),window)}),n})();class L${constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function N$(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=sz(this.window.history)||sz(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function sz(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oz{}class tq extends lj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Im extends tq{static makeCurrent(){!function cj(n){dm||(dm=n)}(new Im)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nq(){return Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null}();return null==t?null:function iq(n){U7=U7||document.createElement("a"),U7.setAttribute("href",n);const e=U7.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ZA(document.cookie,e)}}let U7,Bc=null,sq=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Rm=new ke("EventManagerPlugins");let fz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new me(5101,!1);return this._eventNameToPlugin.set(t,i),i}}return n.\u0275fac=function(t){return new(t||n)(Ye(Rm),Ye(Wt))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class hz{constructor(e){this._doc=e}}const Hm="ng-app-id";let dz=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rz(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Hm}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(Hm),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Hm,this.appId),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(Ye(An),Ye(Zl),Ye(bC,8),Ye(Ls))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const Vm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Om=/%COMP%/g,lq=new ke("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function mz(n,e){return e.map(t=>t.replace(Om,n))}let gz=(()=>{class n{constructor(t,i,r,s,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=rz(a),this.defaultRenderer=new Fm(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===I2.ShadowDom&&(i={...i,encapsulation:I2.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof yz?r.applyToHost(t):r instanceof km&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case I2.Emulated:s=new yz(c,l,i,this.appId,u,o,a,f);break;case I2.ShadowDom:return new dq(c,l,t,i,o,a,this.nonce,f);default:s=new km(c,l,i,u,o,a,f)}s.onDestroy=()=>r.delete(i.id),r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(Ye(fz),Ye(dz),Ye(Zl),Ye(lq),Ye(An),Ye(Ls),Ye(Wt),Ye(bC))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();class Fm{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Vm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(vz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new me(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=Vm[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Vm[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Kn.DashCase|Kn.Important)?e.style.setProperty(t,i,r&Kn.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=T3().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function vz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class dq extends Fm{constructor(e,t,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=mz(r.id,r.styles);for(const u of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=u,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class km extends Fm{constructor(e,t,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.rendererUsageCount=0,this.styles=c?mz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class yz extends km{constructor(e,t,i,r,s,o,a,c){const l=r+"-"+i.id;super(e,t,i,s,o,a,c,l),this.contentAttr=function uq(n){return"_ngcontent-%COMP%".replace(Om,n)}(l),this.hostAttr=function fq(n){return"_nghost-%COMP%".replace(Om,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let pq=(()=>{class n extends hz{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Ye(An))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const _z=["alt","control","meta","shift"],mq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vq=(()=>{class n extends hz{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T3().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),_z.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let r=mq[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),_z.forEach(o=>{o!==r&&(0,gq[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ye(An))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const xz=[{provide:Ls,useValue:"browser"},{provide:CC,useValue:function yq(){Im.makeCurrent()},multi:!0},{provide:An,useFactory:function Mq(){return function zO(n){Ld=n}(document),document},deps:[]}],xq=hA(YW,"browser",xz),Cq=new ke(""),Cz=[{provide:b7,useClass:class rq{addToWindow(e){mt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new me(5103,!1);return s},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements(),mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(i=>{const r=mt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(c){o=o||c,s--,0==s&&i(o)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?T3().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:aA,useClass:tm,deps:[Wt,nm,b7]},{provide:tm,useClass:tm,deps:[Wt,nm,b7]}],bz=[{provide:kd,useValue:"root"},{provide:Ns,useFactory:function _q(){return new Ns},deps:[]},{provide:Rm,useClass:pq,multi:!0,deps:[An,Wt,Ls]},{provide:Rm,useClass:vq,multi:!0,deps:[An]},gz,dz,fz,{provide:LC,useExisting:gz},{provide:oz,useClass:sq,deps:[]},[]];let bq=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Zl,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(Ye(Cq,12))},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({providers:[...bz,...Cz],imports:[A$,JW]}),n})(),wz=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(Ye(An))},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new t:function Sq(){return new wz(Ye(An))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let zz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new(t||n):Ye(Ez),i},providedIn:"root"}),n})(),Ez=(()=>{class n extends zz{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Tt.NONE:return i;case Tt.HTML:return $r(i,"HTML")?_i(i):uC(this._doc,String(i)).toString();case Tt.STYLE:return $r(i,"Style")?_i(i):i;case Tt.SCRIPT:if($r(i,"Script"))return _i(i);throw new me(5200,!1);case Tt.URL:return $r(i,"URL")?_i(i):Wl(String(i));case Tt.RESOURCE_URL:if($r(i,"ResourceURL"))return _i(i);throw new me(5201,!1);default:throw new me(5202,!1)}}bypassSecurityTrustHtml(t){return function IO(n){return new EO(n)}(t)}bypassSecurityTrustStyle(t){return function RO(n){return new TO(n)}(t)}bypassSecurityTrustScript(t){return function HO(n){return new DO(n)}(t)}bypassSecurityTrustUrl(t){return function VO(n){return new LO(n)}(t)}bypassSecurityTrustResourceUrl(t){return function OO(n){return new NO(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(Ye(An))},n.\u0275prov=Je({token:n,factory:function(t){let i=null;return i=t?new t:function Tq(n){return new Ez(n.get(An))}(Ye(mr)),i},providedIn:"root"}),n})();function Ga(n,e){return Z1(e)?A2(n,e,1):A2(n,1)}function D4(n,e){return Yt((t,i)=>{let r=0;t.subscribe(Vt(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Gc(n){return Yt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class B7{}class G7{}class ln{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ln?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ln;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ln?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Dq{encodeKey(e){return Dz(e)}encodeValue(e){return Dz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Nq=/%(\d[a-f0-9])/gi,Pq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dz(n){return encodeURIComponent(n).replace(Nq,(e,t)=>Pq[t]??e)}function W7(n){return`${n}`}class L3{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Lq(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(W7):[W7(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new L3({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(W7(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(W7(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Iq{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Lz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Nz(n){return typeof Blob<"u"&&n instanceof Blob}function Pz(n){return typeof FormData<"u"&&n instanceof FormData}class Wc{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Rq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ln),this.context||(this.context=new Iq),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new L3,this.urlWithParams=t}serializeBody(){return null===this.body?null:Lz(this.body)||Nz(this.body)||Pz(this.body)||function Hq(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof L3?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pz(this.body)?null:Nz(this.body)?this.body.type||null:Lz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof L3?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),l)),new Wc(t,i,s,{params:l,headers:c,context:u,reportProgress:a,responseType:r,withCredentials:o})}}var g2=(()=>((g2=g2||{})[g2.Sent=0]="Sent",g2[g2.UploadProgress=1]="UploadProgress",g2[g2.ResponseHeader=2]="ResponseHeader",g2[g2.DownloadProgress=3]="DownloadProgress",g2[g2.Response=4]="Response",g2[g2.User=5]="User",g2))();class Bm{constructor(e,t=200,i="OK"){this.headers=e.headers||new ln,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Gm extends Bm{constructor(e={}){super(e),this.type=g2.ResponseHeader}clone(e={}){return new Gm({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Wa extends Bm{constructor(e={}){super(e),this.type=g2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Wa({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Iz extends Bm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Wm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rz=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Wc)s=t;else{let c,l;c=r.headers instanceof ln?r.headers:new ln(r.headers),r.params&&(l=r.params instanceof L3?r.params:new L3({fromObject:r.params})),s=new Wc(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=l1(s).pipe(Ga(c=>this.handler.handle(c)));if(t instanceof Wc||"events"===r.observe)return o;const a=o.pipe(D4(c=>c instanceof Wa));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(C1(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(C1(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(C1(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(C1(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new L3).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Wm(r,i))}post(t,i,r={}){return this.request("POST",t,Wm(r,i))}put(t,i,r={}){return this.request("PUT",t,Wm(r,i))}}return n.\u0275fac=function(t){return new(t||n)(Ye(B7))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function Oz(n,e){return e(n)}function Oq(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const kq=new ke(""),jc=new ke(""),Fz=new ke("");function Uq(){let n=null;return(e,t)=>{null===n&&(n=(He(kq,{optional:!0})??[]).reduceRight(Oq,Oz));const i=He(C7),r=i.add();return n(e,t).pipe(Gc(()=>i.remove(r)))}}let kz=(()=>{class n extends B7{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=He(C7)}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(jc),...this.injector.get(Fz,[])]));this.chain=r.reduceRight((s,o)=>function Fq(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(s,o,this.injector),Oz)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Gc(()=>this.pendingTasks.remove(i)))}}return n.\u0275fac=function(t){return new(t||n)(Ye(G7),Ye(qr))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const jq=/^\)\]\}',?\n/;let Bz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new me(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?s2(i.\u0275loadImpl()):l1(null)).pipe(Wn(()=>new pt(s=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const m=t.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(t.responseType){const m=t.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const m=o.statusText||"OK",g=new ln(o.getAllResponseHeaders()),v=function $q(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new Gm({headers:g,status:o.status,statusText:m,url:v}),c},u=()=>{let{headers:m,status:g,statusText:v,url:M}=l(),x=null;204!==g&&(x=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=x?200:0);let C=g>=200&&g<300;if("json"===t.responseType&&"string"==typeof x){const b=x;x=x.replace(jq,"");try{x=""!==x?JSON.parse(x):null}catch(A){x=b,C&&(C=!1,x={error:A,text:x})}}C?(s.next(new Wa({body:x,headers:m,status:g,statusText:v,url:M||void 0})),s.complete()):s.error(new Iz({error:x,headers:m,status:g,statusText:v,url:M||void 0}))},f=m=>{const{url:g}=l(),v=new Iz({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(v)};let h=!1;const d=m=>{h||(s.next(l()),h=!0);let g={type:g2.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===t.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:g2.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",d),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:g2.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",d),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(Ye(oz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const jm=new ke("XSRF_ENABLED"),Gz=new ke("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Wz=new ke("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jz{}let Xq=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZA(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(Ye(An),Ye(Ls),Ye(Gz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function Yq(n,e){const t=n.url.toLowerCase();if(!He(jm)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=He(jz).getToken(),r=He(Wz);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var kt=(()=>((kt=kt||{})[kt.Interceptors=0]="Interceptors",kt[kt.LegacyInterceptors=1]="LegacyInterceptors",kt[kt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",kt[kt.NoXsrfProtection=3]="NoXsrfProtection",kt[kt.JsonpSupport=4]="JsonpSupport",kt[kt.RequestsMadeViaParent=5]="RequestsMadeViaParent",kt[kt.Fetch=6]="Fetch",kt))();function Fs(n,e){return{\u0275kind:n,\u0275providers:e}}function Jq(...n){const e=[Rz,Bz,kz,{provide:B7,useExisting:kz},{provide:G7,useExisting:Bz},{provide:jc,useValue:Yq,multi:!0},{provide:jm,useValue:!0},{provide:jz,useClass:Xq}];for(const t of n)e.push(...t.\u0275providers);return function Hd(n){return{\u0275providers:n}}(e)}const $z=new ke("LEGACY_INTERCEPTOR_FN");let Qq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({providers:[Jq(Fs(kt.LegacyInterceptors,[{provide:$z,useFactory:Uq},{provide:jc,useExisting:$z,multi:!0}]))]}),n})();const{isArray:sZ}=Array,{getPrototypeOf:oZ,prototype:aZ,keys:cZ}=Object;function qz(n){if(1===n.length){const e=n[0];if(sZ(e))return{args:e,keys:null};if(function lZ(n){return n&&"object"==typeof n&&oZ(n)===aZ}(e)){const t=cZ(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:uZ}=Array;function Zz(n){return C1(e=>function fZ(n,e){return uZ(e)?n(...e):n(e)}(n,e))}function Xz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Yz=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(le(Zr),le(sn))},n.\u0275dir=h1({type:n}),n})(),ks=(()=>{class n extends Yz{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275dir=h1({type:n,features:[_t]}),n})();const Qr=new ke("NgValueAccessor"),pZ={provide:Qr,useExisting:xt(()=>ja),multi:!0},gZ=new ke("CompositionEventMode");let ja=(()=>{class n extends Yz{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mZ(){const n=T3()?T3().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Zr),le(sn),le(gZ,8))},n.\u0275dir=h1({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&b1("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[gt([pZ]),_t]}),n})();const un=new ke("NgValidators"),P3=new ke("NgAsyncValidators");function tE(n){return function N3(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function $7(n){return null}function aE(n){return null!=n}function cE(n){return Sc(n)?s2(n):n}function lE(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uE(n,e){return e.map(t=>t(n))}function fE(n){return n.map(e=>function yZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function $m(n){return null!=n?function hE(n){if(!n)return null;const e=n.filter(aE);return 0==e.length?null:function(t){return lE(uE(t,e))}}(fE(n)):null}function qm(n){return null!=n?function dE(n){if(!n)return null;const e=n.filter(aE);return 0==e.length?null:function(t){return function hZ(...n){const e=D0(n),{args:t,keys:i}=qz(n),r=new pt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let f=!1;mi(t[u]).subscribe(Vt(s,h=>{f||(f=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(i?Xz(i,a):a),s.complete())}))}});return e?r.pipe(Zz(e)):r}(uE(t,e).map(cE)).pipe(C1(lE))}}(fE(n)):null}function pE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zm(n){return n?Array.isArray(n)?n:[n]:[]}function q7(n,e){return Array.isArray(n)?n.includes(e):n===e}function vE(n,e){const t=Zm(e);return Zm(n).forEach(r=>{q7(t,r)||t.push(r)}),t}function yE(n,e){return Zm(e).filter(t=>!q7(n,t))}class _E{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$m(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zn extends _E{get formDirective(){return null}get path(){return null}}class I3 extends _E{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ME{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Z7=(()=>{class n extends ME{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(I3,2))},n.\u0275dir=h1({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Ac("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_t]}),n})(),X7=(()=>{class n extends ME{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(le(zn,10))},n.\u0275dir=h1({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Ac("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_t]}),n})();const $c="VALID",J7="INVALID",$a="PENDING",qc="DISABLED";function Jm(n){return(K7(n)?n.validators:n)||null}function Km(n,e){return(K7(e)?e.asyncValidators:n)||null}function K7(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$c}get invalid(){return this.status===J7}get pending(){return this.status==$a}get disabled(){return this.status===qc}get enabled(){return this.status!==qc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yE(e,this._rawAsyncValidators))}hasValidator(e){return q7(this._rawValidators,e)}hasAsyncValidator(e){return q7(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=$a,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$c,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$c||this.status===$a)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qc:$c}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=$a,this._hasOwnPendingAsyncValidator=!0;const t=cE(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?qc:this.errors?J7:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($a)?$a:this._anyControlsHaveStatus(J7)?J7:$c}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){K7(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function CZ(n){return Array.isArray(n)?$m(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bZ(n){return Array.isArray(n)?qm(n):n||null}(this._rawAsyncValidators)}}class Qm extends wE{constructor(e,t,i){super(Jm(t),Km(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function bE(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new me(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function CE(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new me(1e3,"");if(!i[t])throw new me(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qa=new ke("CallSetDisabledState",{providedIn:"root",factory:()=>Q7}),Q7="always";function Zc(n,e,t=Q7){eg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function AZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SE(n,e)})}(n,e),function EZ(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function SZ(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function n9(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eg(n,e){const t=function mE(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function gE(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pE(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();n9(e._rawValidators,r),n9(e._rawAsyncValidators,r)}function SE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const PZ={provide:zn,useExisting:xt(()=>Za)},Xc=(()=>Promise.resolve())();let Za=(()=>{class n extends zn{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qt,this.form=new Qm({},$m(t),qm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Xc.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Zc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Xc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Xc.then(()=>{const i=this._findContainer(t.path),r=new Qm({});(function AE(n,e){eg(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Xc.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Xc.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function zE(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(le(un,10),le(P3,10),le(qa,8))},n.\u0275dir=h1({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&b1("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[gt([PZ]),_t]}),n})();function EE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function TE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const DE=class extends wE{constructor(e=null,t,i){super(Jm(t),Km(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K7(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=TE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){EE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){EE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){TE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},HZ={provide:I3,useExisting:xt(()=>Yc)},PE=(()=>Promise.resolve())();let Yc=(()=>{class n extends I3{constructor(t,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new DE,this._registered=!1,this.name="",this.update=new Qt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ig(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===ja?t=s:function LZ(n){return Object.getPrototypeOf(n.constructor)===ks}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ng(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){PE.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Ba(i);PE.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function e9(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(le(zn,9),le(un,10),le(P3,10),le(Qr,10),le(S7,8),le(qa,8))},n.\u0275dir=h1({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gt([HZ]),_t,Mn]}),n})(),r9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),RE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({}),n})(),Us=(()=>{class n{constructor(){this._validator=$7}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):$7,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,features:[Mn]}),n})();const eX={provide:un,useExisting:xt(()=>Xa),multi:!0};let Xa=(()=>{class n extends Us{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ba,this.createValidator=t=>tE}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275dir=h1({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&gr("required",i._enabled?"":null)},inputs:{required:"required"},features:[gt([eX]),_t]}),n})(),oX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({imports:[RE]}),n})(),cX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qa,useValue:t.callSetDisabledState??Q7}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({imports:[oX]}),n})();function lg(...n){const e=vs(n),t=D0(n),{args:i,keys:r}=qz(n);if(0===i.length)return s2([],e);const s=new pt(function uX(n,e,t=hi){return i=>{QE(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let c=0;c<r;c++)QE(e,()=>{const l=s2(n[c],e);let u=!1;l.subscribe(Vt(i,f=>{s[c]=f,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>Xz(r,o):hi));return t?s.pipe(Zz(t)):s}function QE(n,e,t){n?fr(t,n,e):e()}const s9=Bo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ug(...n){return function fX(){return m4(1)}()(s2(n,vs(n)))}function eT(n){return new pt(e=>{mi(n()).subscribe(e)})}function Jc(n,e){const t=Z1(n)?n:()=>n,i=r=>r.error(t());return new pt(e?r=>e.schedule(i,0,r):i)}function fg(){return Yt((n,e)=>{let t=null;n._refCount++;const i=Vt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tT extends pt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$o(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fi;const t=this.getSubject();e.add(this.source.subscribe(Vt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fi.EMPTY)}return e}refCount(){return fg()(this)}}function Ya(n){return n<=0?()=>ki:Yt((e,t)=>{let i=0;e.subscribe(Vt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function o9(n){return Yt((e,t)=>{let i=!1;e.subscribe(Vt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function nT(n=dX){return Yt((e,t)=>{let i=!1;e.subscribe(Vt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function dX(){return new s9}function Bs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D4((r,s)=>n(r,s,i)):hi,Ya(1),t?o9(e):nT(()=>new s9))}function En(n,e,t){const i=Z1(n)||e||t?{next:n,error:e,complete:t}:n;return i?Yt((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Vt(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):hi}function Gs(n){return Yt((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Vt(t,void 0,void 0,o=>{s=mi(n(o,Gs(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function hg(n){return n<=0?()=>ki:Yt((e,t)=>{let i=[];e.subscribe(Vt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}const A1="primary",Kc=Symbol("RouteTitle");class yX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ja(n){return new yX(n)}function _X(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function e4(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!iT(n[r],e[r]))return!1;return!0}function iT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function rT(n){return n.length>0?n[n.length-1]:null}function R3(n){return function lX(n){return!!n&&(n instanceof pt||Z1(n.lift)&&Z1(n.subscribe))}(n)?n:Sc(n)?s2(Promise.resolve(n)):l1(n)}const xX={exact:function aT(n,e,t){if(!Ws(n.segments,e.segments)||!a9(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!aT(n.children[i],e.children[i],t))return!1;return!0},subset:cT},sT={exact:function CX(n,e){return e4(n,e)},subset:function bX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iT(n[t],e[t]))},ignored:()=>!0};function oT(n,e,t){return xX[t.paths](n.root,e.root,t.matrixParams)&&sT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cT(n,e,t){return lT(n,e,e.segments,t)}function lT(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ws(r,t)||e.hasChildren()||!a9(r,t,i))}if(n.segments.length===t.length){if(!Ws(n.segments,t)||!a9(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!cT(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ws(n.segments,r)&&a9(n.segments,r,i)&&n.children[A1])&&lT(n.children[A1],e,s,i)}}function a9(n,e,t){return e.every((i,r)=>sT[t](n[r].parameters,i.parameters))}class Ka{constructor(e=new Mt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return AX.serialize(this)}}class Mt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c9(this)}}class Qc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ja(this.parameters)),this._parameterMap}toString(){return hT(this)}}function Ws(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let e8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return new dg},providedIn:"root"}),n})();class dg{parse(e){const t=new VX(e);return new Ka(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${t8(e.root,!0)}`,i=function TX(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${l9(t)}=${l9(r)}`).join("&"):`${l9(t)}=${l9(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function zX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const AX=new dg;function c9(n){return n.segments.map(e=>hT(e)).join("/")}function t8(n,e){if(!n.hasChildren())return c9(n);if(e){const t=n.children[A1]?t8(n.children[A1],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==A1&&i.push(`${r}:${t8(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function SX(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===A1&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==A1&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===A1?[t8(n.children[A1],!1)]:[`${r}:${t8(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[A1]?`${c9(n)}/${t[0]}`:`${c9(n)}/(${t.join("//")})`}}function uT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function l9(n){return uT(n).replace(/%3B/gi,";")}function pg(n){return uT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function u9(n){return decodeURIComponent(n)}function fT(n){return u9(n.replace(/\+/g,"%20"))}function hT(n){return`${pg(n.path)}${function EX(n){return Object.keys(n).map(e=>`;${pg(e)}=${pg(n[e])}`).join("")}(n.parameters)}`}const DX=/^[^\/()?;#]+/;function mg(n){const e=n.match(DX);return e?e[0]:""}const LX=/^[^\/()?;=#]+/,PX=/^[^=?&#]+/,RX=/^[^&#]+/;class VX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mt([],{}):new Mt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[A1]=new Mt(e,t)),i}parseSegment(){const e=mg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new me(4009,!1);return this.capture(e),new Qc(u9(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function NX(n){const e=n.match(LX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=mg(this.remaining);r&&(i=r,this.capture(i))}e[u9(t)]=u9(i)}parseQueryParam(e){const t=function IX(n){const e=n.match(PX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function HX(n){const e=n.match(RX);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=fT(t),s=fT(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=mg(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new me(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=A1);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[A1]:new Mt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new me(4011,!1)}}function dT(n){return n.segments.length>0?new Mt([],{[A1]:n}):n}function pT(n){const e={};for(const i of Object.keys(n.children)){const s=pT(n.children[i]);if(i===A1&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function OX(n){if(1===n.numberOfChildren&&n.children[A1]){const e=n.children[A1];return new Mt(n.segments.concat(e.segments),e.children)}return n}(new Mt(n.segments,e))}function js(n){return n instanceof Ka}function mT(n){let e;const i=function t(s){const o={};for(const c of s.children){const l=t(c);o[c.outlet]=l}const a=new Mt(s.url,o);return s===n&&(e=a),a}(n.root),r=dT(i);return e??r}function gT(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return gg(r,r,r,t,i);const s=function kX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yT(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new yT(t,e,i)}(e);if(s.toRoot())return gg(r,r,new Mt([],{}),t,i);const o=function UX(n,e,t){if(n.isAbsolute)return new h9(e,!0,0);if(!t)return new h9(e,!1,NaN);if(null===t.parent)return new h9(t,!0,0);const i=f9(n.commands[0])?0:1;return function BX(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new me(4005,!1);r=i.segments.length}return new h9(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?i8(o.segmentGroup,o.index,s.commands):_T(o.segmentGroup,o.index,s.commands);return gg(r,o.segmentGroup,a,t,i)}function f9(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function n8(n){return"object"==typeof n&&null!=n&&n.outlets}function gg(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=n===e?t:vT(n,e,t);const a=dT(pT(o));return new Ka(a,s,r)}function vT(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:vT(s,e,t)}),new Mt(n.segments,i)}class yT{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&f9(i[0]))throw new me(4003,!1);const r=i.find(n8);if(r&&r!==rT(i))throw new me(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class h9{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _T(n,e,t){if(n||(n=new Mt([],{})),0===n.segments.length&&n.hasChildren())return i8(n,e,t);const i=function WX(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(n8(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!xT(c,l,o))return s;i+=2}else{if(!xT(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Mt(n.segments.slice(0,i.pathIndex),{});return s.children[A1]=new Mt(n.segments.slice(i.pathIndex),n.children),i8(s,0,r)}return i.match&&0===r.length?new Mt(n.segments,{}):i.match&&!n.hasChildren()?vg(n,e,t):i.match?i8(n,0,r):vg(n,e,t)}function i8(n,e,t){if(0===t.length)return new Mt(n.segments,{});{const i=function GX(n){return n8(n[0])?n[0].outlets:{[A1]:n}}(t),r={};if(!i[A1]&&n.children[A1]&&1===n.numberOfChildren&&0===n.children[A1].segments.length){const s=i8(n.children[A1],e,t);return new Mt(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=_T(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Mt(n.segments,r)}}function vg(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(n8(s)){const c=jX(s.outlets);return new Mt(i,c)}if(0===r&&f9(t[0])){i.push(new Qc(n.segments[e].path,MT(t[0]))),r++;continue}const o=n8(s)?s.outlets[A1]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&f9(a)?(i.push(new Qc(o,MT(a))),r+=2):(i.push(new Qc(o,{})),r++)}return new Mt(i,{})}function jX(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=vg(new Mt([],{}),0,i))}),e}function MT(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function xT(n,e,t){return n==t.path&&e4(e,t.parameters)}const r8="imperative";class t4{constructor(e,t){this.id=e,this.url=t}}class yg extends t4{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class H3 extends t4{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class d9 extends t4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class s8 extends t4{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class _g extends t4{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $X extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qX extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZX extends t4{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class XX extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YX extends t4{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class QX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eY{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tY{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nY{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CT{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class iY{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new o8,this.attachRef=null}}let o8=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new iY,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Mg(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Mg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return xg(e,this._root).map(t=>t.value)}}function Mg(n,e){if(n===e.value)return e;for(const t of e.children){const i=Mg(n,t);if(i)return i}return null}function xg(n,e){if(n===e.value)return[e];for(const t of e.children){const i=xg(n,t);if(i.length)return i.unshift(e),i}return[]}class L4{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wT extends bT{constructor(e,t){super(e),this.snapshot=t,Cg(this,e)}toString(){return this.snapshot.toString()}}function ST(n,e){const t=function rY(n,e){const o=new p9([],{},{},"",{},A1,e,null,{});return new zT("",new L4(o,[]))}(0,e),i=new Gn([new Qc("",{})]),r=new Gn({}),s=new Gn({}),o=new Gn({}),a=new Gn(""),c=new V3(i,r,o,a,s,A1,e,t.root);return c.snapshot=t.root,new wT(new L4(c,[]),t)}class V3{constructor(e,t,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(C1(l=>l[Kc]))??l1(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C1(e=>Ja(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C1(e=>Ja(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AT(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function sY(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class p9{get title(){return this.data?.[Kc]}constructor(e,t,i,r,s,o,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zT extends bT{constructor(e,t){super(t),this.url=e,Cg(this,t)}toString(){return ET(this._root)}}function Cg(n,e){e.value._routerState=n,e.children.forEach(t=>Cg(n,t))}function ET(n){const e=n.children.length>0?` { ${n.children.map(ET).join(", ")} } `:"";return`${n.value}${e}`}function bg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,e4(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),e4(e.params,t.params)||n.paramsSubject.next(t.params),function MX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!e4(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),e4(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wg(n,e){const t=e4(n.params,e.params)&&function wX(n,e){return Ws(n,e)&&n.every((t,i)=>e4(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wg(n.parent,e.parent))}let Sg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=A1,this.activateEvents=new Qt,this.deactivateEvents=new Qt,this.attachEvents=new Qt,this.detachEvents=new Qt,this.parentContexts=He(o8),this.location=He(_r),this.changeDetector=He(S7),this.environmentInjector=He(qr),this.inputBinder=He(m9,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new me(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new me(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new me(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new me(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new oY(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mn]}),n})();class oY{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===V3?this.route:e===o8?this.childContexts:this.parent.get(e,t)}}const m9=new ke("");let TT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=lg([i.queryParams,i.params,i.data]).pipe(Wn(([s,o,a],c)=>(a={...s,...o,...a},0===c?l1(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function aj(n){const e=ot(n);if(!e)return null;const t=new Mc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function a8(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function cY(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return a8(n,i,r);return a8(n,i)})}(n,e,t);return new L4(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>a8(n,a)),o}}const i=function lY(n){return new V3(new Gn(n.url),new Gn(n.params),new Gn(n.queryParams),new Gn(n.fragment),new Gn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>a8(n,s));return new L4(i,r)}}const Ag="ngNavigationCancelingError";function DT(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=LT(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function LT(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ag]=!0,i.cancellationCode=e,t&&(i.url=t),i}function NT(n){return PT(n)&&js(n.url)}function PT(n){return n&&n[Ag]}let IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jt({type:n,selectors:[["ng-component"]],standalone:!0,features:[lS],decls:1,vars:0,template:function(t,i){1&t&&ve(0,"router-outlet")},dependencies:[Sg],encapsulation:2}),n})();function zg(n){const e=n.children&&n.children.map(zg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==A1&&(t.component=IT),t}function br(n){return n.outlet||A1}function c8(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class gY{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),bg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Qa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Qa(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new nY(s.value.snapshot))}),e.children.length&&this.forwardEvent(new eY(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(bg(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bg(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=c8(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class RT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class g9{constructor(e,t){this.component=e,this.route=t}}function vY(n,e,t){const i=n._root;return l8(i,e?e._root:null,t,[i.value])}function e6(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function vh(n){return null!==Jo(n)}(n)?e.get(n):n:i}function l8(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qa(e);return n.children.forEach(o=>{(function _Y(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function MY(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ws(n.url,e.url)||!e4(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,e)||!e4(n.queryParams,e.queryParams);default:return!wg(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new RT(i)):(s.data=o.data,s._resolvedData=o._resolvedData),l8(n,e,s.component?a?a.children:null:t,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new g9(a.outlet.component,o))}else o&&u8(e,a,r),r.canActivateChecks.push(new RT(i)),l8(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>u8(a,t.getContext(o),r)),r}function u8(n,e,t){const i=Qa(n),r=n.value;Object.entries(i).forEach(([s,o])=>{u8(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new g9(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function f8(n){return"function"==typeof n}function HT(n){return n instanceof s9||"EmptyError"===n?.name}const v9=Symbol("INITIAL_VALUE");function t6(){return Wn(n=>lg(n.map(e=>e.pipe(Ya(1),function hX(...n){const e=vs(n);return Yt((t,i)=>{(e?ug(n,t,e):ug(n,t)).subscribe(i)})}(v9)))).pipe(C1(e=>{for(const t of e)if(!0!==t){if(t===v9)return v9;if(!1===t||t instanceof Ka)return t}return!0}),D4(e=>e!==v9),Ya(1)))}function VT(n){return function di(...n){return Hr(n)}(En(e=>{if(js(e))throw DT(0,e)}),C1(e=>!0===e))}class y9{constructor(e){this.segmentGroup=e||null}}class OT{constructor(e){this.urlTree=e}}function n6(n){return Jc(new y9(n))}function FT(n){return Jc(new OT(n))}class kY{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new me(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return l1(i);if(r.numberOfChildren>1||!r.children[A1])return Jc(new me(4e3,!1));r=r.children[A1]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ka(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new Mt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new me(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Eg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UY(n,e,t,i,r){const s=Tg(n,e,t);return s.matched?(i=function uY(n,e){return n.providers&&!n._injector&&(n._injector=Rp(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function VY(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?l1(r.map(o=>{const a=e6(o,n);return R3(function AY(n){return n&&f8(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(t6(),VT()):l1(!0)}(i,e,t).pipe(C1(o=>!0===o?s:{...Eg}))):l1(s)}function Tg(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Eg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||_X)(t,n,e);if(!r)return{...Eg};const s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function kT(n,e,t,i){return t.length>0&&function WY(n,e,t){return t.some(i=>_9(n,e,i)&&br(i)!==A1)}(n,t,i)?{segmentGroup:new Mt(e,GY(i,new Mt(t,n.children))),slicedSegments:[]}:0===t.length&&function jY(n,e,t){return t.some(i=>_9(n,e,i))}(n,t,i)?{segmentGroup:new Mt(n.segments,BY(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Mt(n.segments,n.children),slicedSegments:t}}function BY(n,e,t,i,r){const s={};for(const o of i)if(_9(n,t,o)&&!r[br(o)]){const a=new Mt([],{});s[br(o)]=a}return{...r,...s}}function GY(n,e){const t={};t[A1]=e;for(const i of n)if(""===i.path&&br(i)!==A1){const r=new Mt([],{});t[br(i)]=r}return t}function _9(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class XY{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new kY(this.urlSerializer,this.urlTree)}noMatchError(e){return new me(4002,!1)}recognize(){const e=kT(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,A1).pipe(Gs(t=>{if(t instanceof OT)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof y9?this.noMatchError(t):t}),C1(t=>{const i=new p9([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},A1,this.rootComponentType,null,{}),r=new L4(i,t),s=new zT("",r),o=function FX(n,e,t=null,i=null){return gT(mT(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,A1).pipe(Gs(i=>{throw i instanceof y9?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=AT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return s2(r).pipe(Ga(s=>{const o=i.children[s],a=function pY(n,e){const t=n.filter(i=>br(i)===e);return t.push(...n.filter(i=>br(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function mX(n,e){return Yt(function pX(n,e,t,i,r){return(s,o)=>{let a=t,c=e,l=0;s.subscribe(Vt(o,u=>{const f=l++;c=a?n(c,u,f):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),o9(null),function gX(n,e){const t=arguments.length>=2;return i=>i.pipe(n?D4((r,s)=>n(r,s,i)):hi,hg(1),t?o9(e):nT(()=>new s9))}(),A2(s=>{if(null===s)return n6(i);const o=UT(s);return function YY(n){n.sort((e,t)=>e.value.outlet===A1?-1:t.value.outlet===A1?1:e.value.outlet.localeCompare(t.value.outlet))}(o),l1(o)}))}processSegment(e,t,i,r,s,o){return s2(t).pipe(Ga(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(Gs(c=>{if(c instanceof y9)return l1(null);throw c}))),Bs(a=>!!a),Gs(a=>{if(HT(a))return function qY(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?l1([]):n6(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function $Y(n,e,t,i){return!!(br(n)===i||i!==A1&&_9(e,t,n))&&("**"===n.path||Tg(e,n,t).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):n6(r):n6(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?FT(s):this.applyRedirects.lineralizeSegments(i,s).pipe(A2(o=>{const a=new Mt(o,{});return this.processSegment(e,t,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=Tg(t,r,s);if(!a)return n6(t);const f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?FT(f):this.applyRedirects.lineralizeSegments(r,f).pipe(A2(h=>this.processSegment(e,i,t,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a;if("**"===i.path){const c=r.length>0?rT(r).parameters:{};a=l1({snapshot:new p9(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BT(i),br(i),i.component??i._loadedComponent??null,i,GT(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=UY(t,i,r,e).pipe(C1(({matched:c,consumedSegments:l,remainingSegments:u,parameters:f})=>c?{snapshot:new p9(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BT(i),br(i),i.component??i._loadedComponent??null,i,GT(i)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Wn(c=>null===c?n6(t):this.getChildConfig(e=i._injector??e,i,r).pipe(Wn(({routes:l})=>{const u=i._loadedInjector??e,{snapshot:f,consumedSegments:h,remainingSegments:d}=c,{segmentGroup:p,slicedSegments:m}=kT(t,h,d,l);if(0===m.length&&p.hasChildren())return this.processChildren(u,l,p).pipe(C1(v=>null===v?null:[new L4(f,v)]));if(0===l.length&&0===m.length)return l1([new L4(f,[])]);const g=br(i)===s;return this.processSegment(u,l,p,m,g?A1:s,!0).pipe(C1(v=>[new L4(f,v)]))}))))}getChildConfig(e,t,i){return t.children?l1({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?l1({routes:t._loadedRoutes,injector:t._loadedInjector}):function HY(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?l1(!0):l1(r.map(o=>{const a=e6(o,n);return R3(function CY(n){return n&&f8(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(t6(),VT())}(e,t,i).pipe(A2(r=>r?this.configLoader.loadChildren(e,t).pipe(En(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function FY(n){return Jc(LT(!1,3))}())):l1({routes:[],injector:e})}}function JY(n){const e=n.value.routeConfig;return e&&""===e.path}function UT(n){const e=[],t=new Set;for(const i of n){if(!JY(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=UT(i.children);e.push(new L4(i.value,r))}return e.filter(i=>!t.has(i))}function BT(n){return n.data||{}}function GT(n){return n.resolve||{}}function WT(n){return"string"==typeof n.title||null===n.title}function Dg(n){return Wn(e=>{const t=n(e);return t?s2(t).pipe(C1(()=>e)):l1(e)})}const i6=new ke("ROUTES");let Lg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=He(QS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return l1(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=R3(t.loadComponent()).pipe(C1(jT),En(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Gc(()=>{this.componentLoaders.delete(t)})),r=new tT(i,()=>new Bn).pipe(fg());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return l1({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(C1(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l;return Array.isArray(a)?l=a:(c=a.create(t).injector,l=c.get(i6,[],r1.Self|r1.Optional).flat()),{routes:l.map(zg),injector:c}}),Gc(()=>{this.childrenLoaders.delete(i)})),o=new tT(s,()=>new Bn).pipe(fg());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return R3(t()).pipe(C1(jT),A2(i=>i instanceof aS||Array.isArray(i)?l1(i):s2(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jT(n){return function rJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let M9=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Bn,this.configLoader=He(Lg),this.environmentInjector=He(qr),this.urlSerializer=He(e8),this.rootContexts=He(o8),this.inputBindingEnabled=null!==He(m9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>l1(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new KX(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new JX(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Gn({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:r8,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(D4(i=>0!==i.id),C1(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),Wn(i=>{let r=!1,s=!1;return l1(i).pipe(En(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Wn(o=>{const a=t.browserUrlTree.toString(),c=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new s8(o.id,t.serializeUrl(i.rawUrl),u,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),ki}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return $T(o.source)&&(t.browserUrlTree=o.extractedUrl),l1(o).pipe(Wn(u=>{const f=this.transitions?.getValue();return this.events.next(new yg(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),f!==this.transitions?.getValue()?ki:Promise.resolve(u)}),function KY(n,e,t,i,r,s){return A2(o=>function ZY(n,e,t,i,r,s,o="emptyOnly"){return new XY(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(C1(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),En(u=>{if(i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);t.setBrowserUrl(h,u)}t.browserUrlTree=u.urlAfterRedirects}const f=new $X(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:u,extractedUrl:f,source:h,restoredState:d,extras:p}=o,m=new yg(u,this.urlSerializer.serialize(f),h,d);this.events.next(m);const g=ST(0,this.rootComponentType).snapshot;return l1(i={...o,targetSnapshot:g,urlAfterRedirects:f,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const u="";return this.events.next(new s8(o.id,t.serializeUrl(i.extractedUrl),u,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),ki}}),En(o=>{const a=new qX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),C1(o=>i={...o,guards:vY(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function EY(n,e){return A2(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?l1({...t,guardsResult:!0}):function TY(n,e,t,i){return s2(n).pipe(A2(r=>function RY(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return l1(!0);const o=s.map(a=>{const c=c8(e)??r,l=e6(a,c);return R3(function SY(n){return n&&f8(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(Bs())});return l1(o).pipe(t6())}(r.component,r.route,t,e,i)),Bs(r=>!0!==r,!0))}(o,i,r,n).pipe(A2(a=>a&&function xY(n){return"boolean"==typeof n}(a)?function DY(n,e,t,i){return s2(e).pipe(Ga(r=>ug(function NY(n,e){return null!==n&&e&&e(new QX(n)),l1(!0)}(r.route.parent,i),function LY(n,e){return null!==n&&e&&e(new tY(n)),l1(!0)}(r.route,i),function IY(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function yY(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>eT(()=>l1(o.guards.map(c=>{const l=c8(o.node)??t,u=e6(c,l);return R3(function wY(n){return n&&f8(n.canActivateChild)}(u)?u.canActivateChild(i,n):l.runInContext(()=>u(i,n))).pipe(Bs())})).pipe(t6())));return l1(s).pipe(t6())}(n,r.path,t),function PY(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return l1(!0);const r=i.map(s=>eT(()=>{const o=c8(e)??t,a=e6(s,o);return R3(function bY(n){return n&&f8(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Bs())}));return l1(r).pipe(t6())}(n,r.route,t))),Bs(r=>!0!==r,!0))}(i,s,n,e):l1(a)),C1(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),En(o=>{if(i.guardsResult=o.guardsResult,js(o.guardsResult))throw DT(0,o.guardsResult);const a=new ZX(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),D4(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Dg(o=>{if(o.guards.canActivateChecks.length)return l1(o).pipe(En(a=>{const c=new XX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),Wn(a=>{let c=!1;return l1(a).pipe(function QY(n,e){return A2(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return l1(t);let s=0;return s2(r).pipe(Ga(o=>function eJ(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!WT(r)&&(s[Kc]=r.title),function tJ(n,e,t,i){const r=function nJ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return l1({});const s={};return s2(r).pipe(A2(o=>function iJ(n,e,t,i){const r=c8(e)??i,s=e6(n,r);return R3(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Bs(),En(a=>{s[o]=a}))),hg(1),function vX(n){return C1(()=>n)}(s),Gs(o=>HT(o)?ki:Jc(o)))}(s,n,e,i).pipe(C1(o=>(n._resolvedData=o,n.data=AT(n,t).resolve,r&&WT(r)&&(n.data[Kc]=r.title),null)))}(o.route,i,n,e)),En(()=>s++),hg(1),A2(o=>s===r.length?l1(t):ki))})}(t.paramsInheritanceStrategy,this.environmentInjector),En({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),En(a=>{const c=new YX(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Dg(o=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(En(u=>{c.component=u}),C1(()=>{})));for(const u of c.children)l.push(...a(u));return l};return lg(a(o.targetSnapshot.root)).pipe(o9(),Ya(1))}),Dg(()=>this.afterPreactivation()),C1(o=>{const a=function aY(n,e,t){const i=a8(n,e._root,t?t._root:void 0);return new wT(i,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),En(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t,i)=>C1(r=>(new gY(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ya(1),En({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new H3(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Gc(()=>{r||s||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Gs(o=>{if(s=!0,PT(o)){NT(o)||(t.navigated=!0,t.restoreHistory(i,!0));const a=new d9(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),NT(o)){const c=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||$T(i.source)};t.scheduleNavigation(c,r8,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const a=new _g(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);this.events.next(a);try{i.resolve(t.errorHandler(o))}catch(c){i.reject(c)}}return ki}))}))}cancelNavigationTransition(t,i,r){const s=new d9(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $T(n){return n!==r8}let qT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===A1);return i}getResolvedTitleForRoute(t){return t.data[Kc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return He(sJ)},providedIn:"root"}),n})(),sJ=(()=>{class n extends qT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(Ye(wz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return He(cJ)},providedIn:"root"}),n})();class aJ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let cJ=(()=>{class n extends aJ{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=q2(n)))(i||n)}}(),n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x9=new ke("",{providedIn:"root",factory:()=>({})});let lJ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:function(){return He(uJ)},providedIn:"root"}),n})(),uJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var xi=(()=>((xi=xi||{})[xi.COMPLETE=0]="COMPLETE",xi[xi.FAILED=1]="FAILED",xi[xi.REDIRECTING=2]="REDIRECTING",xi))();function ZT(n,e){n.events.pipe(D4(t=>t instanceof H3||t instanceof d9||t instanceof _g||t instanceof s8),C1(t=>t instanceof H3||t instanceof s8?xi.COMPLETE:t instanceof d9&&(0===t.code||1===t.code)?xi.REDIRECTING:xi.FAILED),D4(t=>t!==xi.REDIRECTING),Ya(1)).subscribe(()=>{e()})}function fJ(n){throw n}function hJ(n,e,t){return e.parse("/")}const dJ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pJ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Tn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=He(KS),this.isNgZoneEnabled=!1,this.options=He(x9,{optional:!0})||{},this.pendingTasks=He(C7),this.errorHandler=this.options.errorHandler||fJ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hJ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=He(lJ),this.routeReuseStrategy=He(oJ),this.titleStrategy=He(qT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=He(i6,{optional:!0})?.flat()??[],this.navigationTransitions=He(M9),this.urlSerializer=He(e8),this.location=He(gm),this.componentInputBindingEnabled=!!He(m9,{optional:!0}),this.isNgZoneEnabled=He(Wt)instanceof Wt&&Wt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ka,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ST(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),r8,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(zg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o;let f,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{f=mT(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return gT(f,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=js(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,r8,null,i)}navigate(t,i={skipLocationChange:!1}){return function mJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new me(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...dJ}:!1===i?{...pJ}:i,js(t))return oT(this.currentUrlTree,t,r);const s=this.parseUrl(t);return oT(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,h)=>{a=f,c=h});const u=this.pendingTasks.add();return ZT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,(this.browserPageId??0)+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O3=(()=>{class n{constructor(t,i,r,s,o,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Bn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof H3&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function dC(n,e,t){return function KO(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hC:w3}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(le(Tn),le(V3),function zl(n){return function yV(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(nl(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}($2(),n)}("tabindex"),le(Zr),le(sn),le(Os))},n.\u0275dir=h1({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&b1("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&gr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Ba],skipLocationChange:["skipLocationChange","skipLocationChange",Ba],replaceUrl:["replaceUrl","replaceUrl",Ba],routerLink:"routerLink"},standalone:!0,features:[xb,Mn]}),n})(),XT=(()=>{class n{get isActive(){return this._isActive}constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Qt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof H3&&this.update()})}ngAfterContentInit(){l1(this.links.changes,l1(null)).pipe(m4()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=s2(t).pipe(m4()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function gJ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(le(Tn),le(sn),le(Zr),le(S7),le(O3,8))},n.\u0275dir=h1({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&function NS(n,e,t,i){const r=rt();if(r.firstCreatePass){const s=$2();IS(r,new DS(e,t,i),s.index),function ZG(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}PS(r,de(),t)}(r,O3,5),2&t){let s;an(s=cn())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mn]}),n})();class YT{}let vJ=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(D4(t=>t instanceof H3),Ga(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Rp(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return s2(r).pipe(m4())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):l1(null);const s=r.pipe(A2(o=>null===o?l1(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?s2([s,this.loader.loadComponent(i)]).pipe(m4()):s})}}return n.\u0275fac=function(t){return new(t||n)(Ye(Tn),Ye(QS),Ye(qr),Ye(YT),Ye(Lg))},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ng=new ke("");let JT=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof H3?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof s8&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function XC(){throw new Error("invalid")}()},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function N4(n,e){return{\u0275kind:n,\u0275providers:e}}function QT(){const n=He(mr);return e=>{const t=n.get(Ua);if(e!==t.components[0])return;const i=n.get(Tn),r=n.get(eD);1===n.get(Pg)&&i.initialNavigation(),n.get(tD,null,r1.Optional)?.setUpPreloading(),n.get(Ng,null,r1.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const eD=new ke("",{factory:()=>new Bn}),Pg=new ke("",{providedIn:"root",factory:()=>1}),tD=new ke("");function xJ(n){return N4(0,[{provide:tD,useExisting:vJ},{provide:YT,useExisting:n}])}const nD=new ke("ROUTER_FORROOT_GUARD"),bJ=[gm,{provide:e8,useClass:dg},Tn,o8,{provide:V3,useFactory:function KT(n){return n.routerState.root},deps:[Tn]},Lg,[]];function wJ(){return new uA("Router",Tn)}let C9=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[bJ,[],{provide:i6,multi:!0,useValue:t},{provide:nD,useFactory:EJ,deps:[[Tn,new Dl,new Ll]]},{provide:x9,useValue:i||{}},i?.useHash?{provide:Os,useClass:hj}:{provide:Os,useClass:OA},{provide:Ng,useFactory:()=>{const n=He(D$),e=He(Wt),t=He(x9),i=He(M9),r=He(e8);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JT(r,i,n,e,t)}},i?.preloadingStrategy?xJ(i.preloadingStrategy).\u0275providers:[],{provide:uA,multi:!0,useFactory:wJ},i?.initialNavigation?TJ(i):[],i?.bindToComponentInputs?N4(8,[TT,{provide:m9,useExisting:TT}]).\u0275providers:[],[{provide:iD,useFactory:QT},{provide:sm,multi:!0,useExisting:iD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:i6,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(Ye(nD,8))},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({}),n})();function EJ(n){return"guarded"}function TJ(n){return["disabled"===n.initialNavigation?N4(3,[{provide:Jp,multi:!0,useFactory:()=>{const e=He(Tn);return()=>{e.setUpLocationChangeListener()}}},{provide:Pg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?N4(2,[{provide:Pg,useValue:0},{provide:Jp,multi:!0,deps:[mr],useFactory:e=>{const t=e.get(uj,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Tn),s=e.get(eD);ZT(r,()=>{i(!0)}),e.get(M9).afterPreactivation=()=>(i(!0),s.closed?l1(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const iD=new ke("");var Ig={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},Rg={prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},r6={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},Hg={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},rD={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},sD={prefix:"fas",iconName:"coffee",icon:[640,512,[],"f0f4","M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"]},b9={prefix:"fas",iconName:"folder-open",icon:[576,512,[],"f07c","M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"]},oD={prefix:"fas",iconName:"mail-bulk",icon:[576,512,[],"f674","M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"]},aD={prefix:"fas",iconName:"map-marker-alt",icon:[384,512,[],"f3c5","M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"]},cD={prefix:"fas",iconName:"moon",icon:[512,512,[],"f186","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"]},lD={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]},uD={prefix:"fas",iconName:"sun",icon:[512,512,[],"f185","M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"]};function P4(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fD(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Vg,fn,e2,$t,Xi,Gg,Wg,vD,MD,u6,_8,c,l,u,f,h,d,n,e,t,i,r,s,o,a,p,Ci={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},s6={duration:.5,overwrite:!1,delay:0},Zi=1e8,zt=1e-8,Og=2*Math.PI,X8e=Og/4,Y8e=0,hD=Math.sqrt,J8e=Math.cos,K8e=Math.sin,V2=function(e){return"string"==typeof e},t2=function(e){return"function"==typeof e},I4=function(e){return"number"==typeof e},Fg=function(e){return typeof e>"u"},n4=function(e){return"object"==typeof e},ti=function(e){return!1!==e},kg=function(){return typeof window<"u"},w9=function(e){return t2(e)||V2(e)},dD="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},hn=Array.isArray,Ug=/(?:-?\.?\d|\.)+/gi,pD=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,o6=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Bg=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,mD=/[+-]=-?[.\d]+/,gD=/[^,'"\[\]\s]+/gi,Q8e=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,bi={},S9={},yD=function(e){return(S9=qs(e,bi))&&si},jg=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},A9=function(e,t){return!t&&console.warn(e)},_D=function(e,t){return e&&(bi[e]=t)&&S9&&(S9[e]=t)||bi},h8=function(){return 0},e5e={suppressEvents:!0,isStart:!0,kill:!1},z9={suppressEvents:!0,kill:!1},t5e={suppressEvents:!0},$g={},F3=[],qg={},wi={},Zg={},xD=30,E9=[],Xg="",Yg=function(e){var i,r,t=e[0];if(n4(t)||t2(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=E9.length;r--&&!E9[r].targetTest(t););i=E9[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new YD(e[r],i)))||e.splice(r,1);return e},$s=function(e){return e._gsap||Yg(Ki(e))[0]._gsap},CD=function(e,t,i){return(i=e[t])&&t2(i)?e[t]():Fg(i)&&e.getAttribute&&e.getAttribute(t)||i},ni=function(e,t){return(e=e.split(",")).forEach(t)||e},l2=function(e){return Math.round(1e5*e)/1e5||0},Z2=function(e){return Math.round(1e7*e)/1e7||0},a6=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+r:"-"===i?e-r:"*"===i?e*r:e/r},n5e=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},T9=function(){var i,r,e=F3.length,t=F3.slice(0);for(qg={},F3.length=0,i=0;i<e;i++)(r=t[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},bD=function(e,t,i,r){F3.length&&!fn&&T9(),e.render(t,i,r||fn&&t<0&&(e._initted||e._startAt)),F3.length&&!fn&&T9()},wD=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(gD).length<2?t:V2(e)?e.trim():e},SD=function(e){return e},Yi=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},qs=function(e,t){for(var i in t)e[i]=t[i];return e},AD=function n(e,t){for(var i in t)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=n4(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},D9=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},d8=function(e){var t=e.parent||$t,i=e.keyframes?function(e){return function(t,i){for(var r in i)r in t||"duration"===r&&e||"ease"===r||(t[r]=i[r])}}(hn(e.keyframes)):Yi;if(ti(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},zD=function(e,t,i,r,s){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,o=e[r];if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},L9=function(e,t,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},k3=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Zs=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Jg=function(e,t,i,r){return e._startAt&&(fn?e._startAt.revert(z9):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},o5e=function n(e){return!e||e._ts&&n(e.parent)},ED=function(e){return e._repeat?c6(e._tTime,e=e.duration()+e._rDelay)*e:0},c6=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},N9=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},P9=function(e){return e._end=Z2(e._start+(e._tDur/Math.abs(e._ts||e._rts||zt)||0))},I9=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Z2(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),P9(e),i._dirty||Zs(i,e)),e},TD=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=N9(e.rawTime(),t),(!t._dur||m8(0,t.totalDuration(),i)-t._tTime>zt)&&t.render(i,!0)),Zs(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-zt}},i4=function(e,t,i,r){return t.parent&&k3(t),t._start=Z2((I4(i)?i:i||e!==$t?Ji(e,i,t):e._time)+t._delay),t._end=Z2(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),zD(e,t,"_first","_last",e._sort?"_start":0),Kg(t)||(e._recent=t),r||TD(e,t),e._ts<0&&I9(e,e._tTime),e},DD=function(e,t){return(bi.ScrollTrigger||jg("scrollTrigger",t))&&bi.ScrollTrigger.create(t,e)},LD=function(e,t,i,r,s){return av(e,t,s),e._initted?!i&&e._pt&&!fn&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&MD!==Si.frame?(F3.push(e),e._lazy=[s,r],1):void 0:1},a5e=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},Kg=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},l6=function(e,t,i,r){var s=e._repeat,o=Z2(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Z2(o*(s+1)+e._rDelay*s):o,a>0&&!r&&I9(e,e._tTime=e._tDur*a),e.parent&&P9(e),i||Zs(e.parent,e),e},ND=function(e){return e instanceof ii?Zs(e):l6(e,e._dur)},u5e={_start:0,endTime:h8,totalDuration:h8},Ji=function n(e,t,i){var a,c,l,r=e.labels,s=e._recent||u5e,o=e.duration()>=Zi?s.endTime(!1):e._dur;return V2(t)&&(isNaN(t)||t in r)?(c=t.charAt(0),l="%"===t.substr(-1),a=t.indexOf("="),"<"===c||">"===c?(a>=0&&(t=t.replace(/=/,"")),("<"===c?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(l?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(c=parseFloat(t.charAt(a-1)+t.substr(a+1)),l&&i&&(c=c/100*(hn(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+c:o+c)):null==t?o:+t},p8=function(e,t,i){var a,c,r=I4(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s];if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,c=i;c&&!("immediateRender"in a);)a=c.vars.defaults||{},c=ti(c.vars.inherit)&&c.parent;o.immediateRender=ti(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new v2(t[0],o,t[s+1])},U3=function(e,t){return e||0===e?t(e):t},m8=function(e,t,i){return i<e?e:i>t?t:i},dn=function(e,t){return V2(e)&&(t=Q8e.exec(e))?t[1]:""},Qg=[].slice,PD=function(e,t){return e&&n4(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&n4(e[0]))&&!e.nodeType&&e!==Xi},Ki=function(e,t,i){return e2&&!t&&e2.selector?e2.selector(e):!V2(e)||i||!Gg&&f6()?hn(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach(function(r){var s;return V2(r)&&!t||PD(r,1)?(s=i).push.apply(s,Ki(r)):i.push(r)})||i}(e,i):PD(e)?Qg.call(e,0):e?[e]:[]:Qg.call((t||Wg).querySelectorAll(e),0)},ev=function(e){return e=Ki(e)[0]||A9("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ki(t,i.querySelectorAll?i:i===e?A9("Invalid scope")||Wg.createElement("div"):e)}},ID=function(e){return e.sort(function(){return.5-Math.random()})},RD=function(e){if(t2(e))return e;var t=n4(e)?e:{each:e},i=Xs(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,c=isNaN(r)||a,l=t.axis,u=r,f=r;return V2(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&c&&(u=r[0],f=r[1]),function(h,d,p){var v,M,x,C,b,A,E,D,S,m=(p||t).length,g=o[m];if(!g){if(!(S="auto"===t.grid?0:(t.grid||[1,Zi])[1])){for(E=-Zi;E<(E=p[S++].getBoundingClientRect().left)&&S<m;);S--}for(g=o[m]=[],v=c?Math.min(S,m)*u-.5:r%S,M=S===Zi?0:c?m*f/S-.5:r/S|0,E=0,D=Zi,A=0;A<m;A++)x=A%S-v,C=M-(A/S|0),g[A]=b=l?Math.abs("y"===l?C:x):hD(x*x+C*C),b>E&&(E=b),b<D&&(D=b);"random"===r&&ID(g),g.max=E-D,g.min=D,g.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(S>m?m-1:l?"y"===l?m/S:S:Math.max(S,m/S))||0)*("edges"===r?-1:1),g.b=m<0?s-m:s,g.u=dn(t.amount||t.each)||0,i=i&&m<0?qD(i):i}return m=(g[h]-g.min)/g.max||0,Z2(g.b+(i?i(m):m)*g.v)+g.u}},tv=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Z2(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(I4(i)?0:dn(i))}},HD=function(e,t){var r,s,i=hn(e);return!i&&n4(e)&&(r=i=e.radius||Zi,e.values?(e=Ki(e.values),(s=!I4(e[0]))&&(r*=r)):e=tv(e.increment)),U3(t,i?t2(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var h,d,a=parseFloat(s?o.x:o),c=parseFloat(s?o.y:0),l=Zi,u=0,f=e.length;f--;)(h=s?(h=e[f].x-a)*h+(d=e[f].y-c)*d:Math.abs(e[f]-a))<l&&(l=h,u=f);return u=!r||l<=r?e[u]:o,s||u===o||I4(o)?u:u+dn(o)}:tv(e))},VD=function(e,t,i,r){return U3(hn(e)?!t:!0===i?!!(i=0):!r,function(){return hn(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*r)/r})},OD=function(e,t,i){return U3(i,function(r){return e[~~t(r)]})},g8=function(e){for(var r,s,o,a,t=0,i="";~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a="["===e.charAt(r+7),s=e.substr(r+7,o-r-7).match(a?gD:Ug),i+=e.substr(t,r-t)+VD(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},FD=function(e,t,i,r,s){var o=t-e,a=r-i;return U3(s,function(c){return i+((c-e)/o*a||0)})},kD=function(e,t,i){var o,a,c,r=e.labels,s=Zi;for(o in r)(a=r[o]-t)<0==!!i&&a&&s>(a=Math.abs(a))&&(c=o,s=a);return c},Qi=function(e,t,i){var c,l,u,r=e.vars,s=r[t],o=e2,a=e._ctx;if(s)return c=r[t+"Params"],l=r.callbackScope||e,i&&F3.length&&T9(),a&&(e2=a),u=c?s.apply(l,c):s.call(l),e2=o,u},v8=function(e){return k3(e),e.scrollTrigger&&e.scrollTrigger.kill(!!fn),e.progress()<1&&Qi(e,"onInterrupt"),e},UD=[],BD=function(e){if(kg()&&e){var t=(e=!e.name&&e.default||e).name,i=t2(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:h8,render:uv,add:sv,kill:I5e,modifier:P5e,rawVars:0},o={targetTest:0,get:0,getSetter:lv,aliases:{},register:0};if(f6(),e!==r){if(wi[t])return;Yi(r,Yi(D9(e,s),o)),qs(r.prototype,qs(s,D9(e,o))),wi[r.prop=t]=r,e.targetTest&&(E9.push(r),$g[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_D(t,r),e.register&&e.register(si,r,ri)}else e&&UD.push(e)},Et=255,y8={aqua:[0,Et,Et],lime:[0,Et,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Et],navy:[0,0,128],white:[Et,Et,Et],olive:[128,128,0],yellow:[Et,Et,0],orange:[Et,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Et,0,0],pink:[Et,192,203],cyan:[0,Et,Et],transparent:[Et,Et,Et,0]},nv=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*Et+.5|0},GD=function(e,t,i){var s,o,a,c,l,u,f,h,d,p,r=e?I4(e)?[e>>16,e>>8&Et,e&Et]:0:y8.black;if(!r){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),y8[e])r=y8[e];else if("#"===e.charAt(0)){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(r=parseInt(e.substr(1,6),16))>>16,r>>8&Et,r&Et,parseInt(e.substr(7),16)/255];r=[(e=parseInt(e.substr(1),16))>>16,e>>8&Et,e&Et]}else if("hsl"===e.substr(0,3))if(r=p=e.match(Ug),t){if(~e.indexOf("="))return r=e.match(pD),i&&r.length<4&&(r[3]=1),r}else c=+r[0]%360/360,l=+r[1]/100,s=2*(u=+r[2]/100)-(o=u<=.5?u*(l+1):u+l-u*l),r.length>3&&(r[3]*=1),r[0]=nv(c+1/3,s,o),r[1]=nv(c,s,o),r[2]=nv(c-1/3,s,o);else r=e.match(Ug)||y8.transparent;r=r.map(Number)}return t&&!p&&(s=r[0]/Et,o=r[1]/Et,a=r[2]/Et,u=((f=Math.max(s,o,a))+(h=Math.min(s,o,a)))/2,f===h?c=l=0:(d=f-h,l=u>.5?d/(2-f-h):d/(f+h),c=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,c*=60),r[0]=~~(c+.5),r[1]=~~(100*l+.5),r[2]=~~(100*u+.5)),i&&r.length<4&&(r[3]=1),r},WD=function(e){var t=[],i=[],r=-1;return e.split(B3).forEach(function(s){var o=s.match(o6)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},jD=function(e,t,i){var c,l,u,f,r="",s=(e+r).match(B3),o=t?"hsla(":"rgba(",a=0;if(!s)return e;if(s=s.map(function(h){return(h=GD(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=WD(e),(c=i.c).join(r)!==u.c.join(r)))for(f=(l=e.replace(B3,"1").split(o6)).length-1;a<f;a++)r+=l[a]+(~c.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!l)for(f=(l=e.split(B3)).length-1;a<f;a++)r+=l[a]+s[a];return r+l[f]},B3=function(){var e,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in y8)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),_5e=/hsl[a]?\(/,$D=function(e){var i,t=e.join(" ");if(B3.lastIndex=0,B3.test(t))return i=_5e.test(t),e[1]=jD(e[1],i),e[0]=jD(e[0],i,WD(e[1])),!0},Si=(n=Date.now,e=500,t=33,i=n(),r=i,o=s=1e3/240,p=function m(g){var x,C,b,A,v=n()-r,M=!0===g;if(v>e&&(i+=v-t),((x=(b=(r+=v)-i)-o)>0||M)&&(A=++f.frame,h=b-1e3*f.time,f.time=b/=1e3,o+=x+(x>=s?4:s-x),C=1),M||(c=l(m)),C)for(d=0;d<a.length;d++)a[d](b,h,A,g)},f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){vD&&(!Gg&&kg()&&(Xi=Gg=window,Wg=Xi.document||{},bi.gsap=si,(Xi.gsapVersions||(Xi.gsapVersions=[])).push(si.version),yD(S9||Xi.GreenSockGlobals||!Xi.gsap&&Xi||{}),u=Xi.requestAnimationFrame,UD.forEach(BD)),c&&f.sleep(),l=u||function(g){return setTimeout(g,o-1e3*f.time+1|0)},_8=1,p(2))},sleep:function(){(u?Xi.cancelAnimationFrame:clearTimeout)(c),_8=0,l=h8},lagSmoothing:function(g,v){e=g||1/0,t=Math.min(v||33,e)},fps:function(g){o=1e3*f.time+(s=1e3/(g||240))},add:function(g,v,M){var x=v?function(C,b,A,E){g(C,b,A,E),f.remove(x)}:g;return f.remove(g),a[M?"unshift":"push"](x),f6(),x},remove:function(g,v){~(v=a.indexOf(g))&&a.splice(v,1)&&d>=v&&d--},_listeners:a=[]}),f6=function(){return!_8&&Si.wake()},et={},M5e=/^[\d.\-M][\d.\-,\s]/,x5e=/["']/g,C5e=function(e){for(var a,c,l,t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length;s<o;s++)c=i[s],a=s!==o-1?c.lastIndexOf(","):c.length,l=c.substr(0,a),t[r]=isNaN(l)?l.replace(x5e,"").trim():+l,r=c.substr(a+1).trim();return t},qD=function(e){return function(t){return 1-e(1-t)}},ZD=function n(e,t){for(var r,i=e._first;i;)i instanceof ii?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},Xs=function(e,t){return e&&(t2(e)?e:et[e]||function(e){var t=(e+"").split("("),i=et[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[C5e(t[1])]:function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)}(e).split(",").map(wD)):et._CE&&M5e.test(e)?et._CE("",e):i}(e))||t},Ys=function(e,t,i,r){void 0===i&&(i=function(c){return 1-t(1-c)}),void 0===r&&(r=function(c){return c<.5?t(2*c)/2:1-t(2*(1-c))/2});var o,s={easeIn:t,easeOut:i,easeInOut:r};return ni(e,function(a){for(var c in et[a]=bi[a]=s,et[o=a.toLowerCase()]=i,s)et[o+("easeIn"===c?".in":"easeOut"===c?".out":".inOut")]=et[a+"."+c]=s[c]}),s},XD=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},iv=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/Og*(Math.asin(1/r)||0),a=function(u){return 1===u?1:r*Math.pow(2,-10*u)*K8e((u-o)*s)+1},c="out"===e?a:"in"===e?function(l){return 1-a(1-l)}:XD(a);return s=Og/s,c.config=function(l,u){return n(e,l,u)},c},rv=function n(e,t){void 0===t&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r="out"===e?i:"in"===e?function(s){return 1-i(1-s)}:XD(i);return r.config=function(s){return n(e,s)},r};ni("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Ys(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(2*i,t)/2:1-Math.pow(2*(1-i),t)/2})}),et.Linear.easeNone=et.none=et.Linear.easeIn,Ys("Elastic",iv("in"),iv("out"),iv()),function(n,e){var s=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/e,2)+.75:a<.9090909090909092?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Ys("Bounce",function(o){return 1-s(1-o)},s)}(7.5625,2.75),Ys("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Ys("Circ",function(n){return-(hD(1-n*n)-1)}),Ys("Sine",function(n){return 1===n?1:1-J8e(n*X8e)}),Ys("Back",rv("in"),rv("out"),rv()),et.SteppedEase=et.steps=bi.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0;return function(a){return((r*m8(0,.99999999,a)|0)+s)*i}}},s6.ease=et["quad.out"],ni("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Xg+=n+","+n+"Params,"});var YD=function(e,t){this.id=Y8e++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:CD,this.set=t?t.getSetter:lv},M8=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,l6(this,+t.duration,1,1),this.data=t.data,e2&&(this._ctx=e2,e2.data.push(this)),_8||Si.wake()}var e=n.prototype;return e.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,l6(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(f6(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(I9(this,i),!s._dp||s.parent||TD(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&i4(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===zt||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),bD(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+ED(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+ED(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?c6(this._tTime,s)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?N9(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-zt?0:this._rts,this.totalTime(m8(-Math.abs(this._delay),this._tDur,r),!0),P9(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(f6(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==zt&&(this._tTime-=zt)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&i4(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(ti(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?N9(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){void 0===i&&(i=t5e);var r=fn;return fn=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),fn=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(r._ts||1),r=r._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,ND(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,ND(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Ji(this,i),ti(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,ti(r))},e.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-zt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},e.isActive=function(){var s,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-zt))},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),"onUpdate"===i&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=t2(i)?i:SD,a=function(){var l=r.then;r.then=null,t2(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=l),s(o),r.then=l};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){v8(this)},n}();Yi(M8.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var ii=function(n){function e(i,r){var s;return void 0===i&&(i={}),(s=n.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=ti(i.sortChildren),$t&&i4(i.parent||$t,P4(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&DD(P4(s),i.scrollTrigger),s}fD(e,n);var t=e.prototype;return t.to=function(r,s,o){return p8(0,arguments,this),this},t.from=function(r,s,o){return p8(1,arguments,this),this},t.fromTo=function(r,s,o,a){return p8(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,d8(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new v2(r,s,Ji(this,o),1),this},t.call=function(r,s,o){return i4(this,v2.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,c,l,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=l,o.onCompleteParams=u,o.parent=this,new v2(r,o,Ji(this,c)),this},t.staggerFrom=function(r,s,o,a,c,l,u){return o.runBackwards=1,d8(o).immediateRender=ti(o.immediateRender),this.staggerTo(r,s,o,a,c,l,u)},t.staggerFromTo=function(r,s,o,a,c,l,u,f){return a.startAt=o,d8(a).immediateRender=ti(a.immediateRender),this.staggerTo(r,s,a,c,l,u,f)},t.render=function(r,s,o){var h,d,p,m,g,v,M,x,C,b,A,E,a=this._time,c=this._dirty?this.totalDuration():this._tDur,l=this._dur,u=r<=0?0:Z2(r),f=this._zTime<0!=r<0&&(this._initted||!l);if(this!==$t&&u>c&&r>=0&&(u=c),u!==this._tTime||o||f){if(a!==this._time&&l&&(u+=this._time-a,r+=this._time-a),h=u,C=this._start,v=!(x=this._ts),f&&(l||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(A=this._yoyo,g=l+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*g+r,s,o);if(h=Z2(u%g),u===c?(m=this._repeat,h=l):((m=~~(u/g))&&m===u/g&&(h=l,m--),h>l&&(h=l)),b=c6(this._tTime,g),!a&&this._tTime&&b!==m&&this._tTime-b*g-this._dur<=0&&(b=m),A&&1&m&&(h=l-h,E=1),m!==b&&!this._lock){var D=A&&1&b,S=D===(A&&1&m);if(m<b&&(D=!D),a=D?0:u%l?l:u,this._lock=1,this.render(a||(E?0:Z2(m*g)),s,!l)._lock=0,this._tTime=u,!s&&this.parent&&Qi(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(l=this._dur,c=this._tDur,S&&(this._lock=2,this.render(a=D?l:-1e-4,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;ZD(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(M=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Z2(a),Z2(h)),M&&(u-=h-(h=M._start))),this._tTime=u,this._time=h,this._act=!x,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&h&&!s&&!m&&(Qi(this,"onStart"),this._tTime!==u))return this;if(h>=a&&r>=0)for(d=this._first;d;){if(p=d._next,(d._act||h>=d._start)&&d._ts&&M!==d){if(d.parent!==this)return this.render(r,s,o);if(d.render(d._ts>0?(h-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(h-d._start)*d._ts,s,o),h!==this._time||!this._ts&&!v){M=0,p&&(u+=this._zTime=-zt);break}}d=p}else{d=this._last;for(var z=r<0?r:h;d;){if(p=d._prev,(d._act||z<=d._end)&&d._ts&&M!==d){if(d.parent!==this)return this.render(r,s,o);if(d.render(d._ts>0?(z-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(z-d._start)*d._ts,s,o||fn&&(d._initted||d._startAt)),h!==this._time||!this._ts&&!v){M=0,p&&(u+=this._zTime=z?-zt:zt);break}}d=p}}if(M&&!s&&(this.pause(),M.render(h>=a?0:-zt)._zTime=h>=a?1:-1,this._ts))return this._start=C,P9(this),this.render(r,s,o);this._onUpdate&&!s&&Qi(this,"onUpdate",!0),(u===c&&this._tTime>=this.totalDuration()||!u&&a)&&(C===this._start||Math.abs(x)!==Math.abs(this._ts))&&(this._lock||((r||!l)&&(u===c&&this._ts>0||!u&&this._ts<0)&&k3(this,1),!s&&(!(r<0)||a)&&(u||a||!c)&&(Qi(this,u===c&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<c&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(I4(s)||(s=Ji(this,s,r)),!(r instanceof M8)){if(hn(r))return r.forEach(function(a){return o.add(a,s)}),this;if(V2(r))return this.addLabel(r,s);if(!t2(r))return this;r=v2.delayedCall(0,r)}return this!==r?i4(this,r,s):this},t.getChildren=function(r,s,o,a){void 0===r&&(r=!0),void 0===s&&(s=!0),void 0===o&&(o=!0),void 0===a&&(a=-Zi);for(var c=[],l=this._first;l;)l._start>=a&&(l instanceof v2?s&&c.push(l):(o&&c.push(l),r&&c.push.apply(c,l.getChildren(!0,s,o)))),l=l._next;return c},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return V2(r)?this.removeLabel(r):t2(r)?this.killTweensOf(r):(L9(this,r),r===this._recent&&(this._recent=this._last),Zs(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Z2(Si.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Ji(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=v2.delayedCall(0,s||h8,o);return a.data="isPause",this._hasPause=1,i4(this,a,Ji(this,r))},t.removePause=function(r){var s=this._first;for(r=Ji(this,r);s;)s._start===r&&"isPause"===s.data&&k3(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),c=a.length;c--;)G3!==a[c]&&a[c].kill(r,s);return this},t.getTweensOf=function(r,s){for(var u,o=[],a=Ki(r),c=this._first,l=I4(s);c;)c instanceof v2?n5e(c._targets,a)&&(l?(!G3||c._initted&&c._ts)&&c.globalTime(0)<=s&&c.globalTime(c.totalDuration())>s:!s||c.isActive())&&o.push(c):(u=c.getTweensOf(a,s)).length&&o.push.apply(o,u),c=c._next;return o},t.tweenTo=function(r,s){s=s||{};var d,o=this,a=Ji(o,r),l=s.startAt,u=s.onStart,f=s.onStartParams,h=s.immediateRender,p=v2.to(o,Yi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale())||zt,onStart:function(){if(o.pause(),!d){var g=s.duration||Math.abs((a-(l&&"time"in l?l.time:o._time))/o.timeScale());p._dur!==g&&l6(p,g,0,1).render(p._time,!0,!0),d=1}u&&u.apply(p,f||[])}},s));return h?p.render(0):p},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Yi({startAt:{time:Ji(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return void 0===r&&(r=this._time),kD(this,Ji(this,r))},t.previousLabel=function(r){return void 0===r&&(r=this._time),kD(this,Ji(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+zt)},t.shiftChildren=function(r,s,o){void 0===o&&(o=0);for(var l,a=this._first,c=this.labels;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(l in c)c[l]>=o&&(c[l]+=r);return Zs(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){void 0===r&&(r=!0);for(var o,s=this._first;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),Zs(this)},t.totalDuration=function(r){var l,u,f,s=0,o=this,a=o._last,c=Zi;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(f=o.parent;a;)l=a._prev,a._dirty&&a.totalDuration(),(u=a._start)>c&&o._sort&&a._ts&&!o._lock?(o._lock=1,i4(o,a,u-a._delay,1)._lock=0):c=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),c=0),a._end>s&&a._ts&&(s=a._end),a=l;l6(o,o===$t&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if($t._ts&&(bD($t,N9(r,$t)),MD=Si.frame),Si.frame>=xD){xD+=Ci.autoSleep||120;var s=$t._first;if((!s||!s._ts)&&Ci.autoSleep&&Si._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Si.sleep()}}},e}(M8);Yi(ii.prototype,{_lock:0,_hasPause:0,_forcing:0});var G3,ov,S5e=function(e,t,i,r,s,o,a){var f,h,d,p,m,g,v,M,c=new ri(this._pt,e,t,0,1,nL,null,s),l=0,u=0;for(c.b=i,c.e=r,i+="",(v=~(r+="").indexOf("random("))&&(r=g8(r)),o&&(o(M=[i,r],e,t),i=M[0],r=M[1]),h=i.match(Bg)||[];f=Bg.exec(r);)p=f[0],m=r.substring(l,f.index),d?d=(d+1)%5:"rgba("===m.substr(-5)&&(d=1),p!==h[u++]&&(g=parseFloat(h[u-1])||0,c._pt={_next:c._pt,p:m||1===u?m:",",s:g,c:"="===p.charAt(1)?a6(g,p)-g:parseFloat(p)-g,m:d&&d<4?Math.round:0},l=Bg.lastIndex);return c.c=l<r.length?r.substring(l,r.length):"",c.fp=a,(mD.test(r)||v)&&(c.e=0),this._pt=c,c},sv=function(e,t,i,r,s,o,a,c,l,u){t2(r)&&(r=r(s||0,e,o));var p,f=e[t],h="get"!==i?i:t2(f)?l?e[t.indexOf("set")||!t2(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():f,d=t2(f)?l?D5e:eL:cv;if(V2(r)&&(~r.indexOf("random(")&&(r=g8(r)),"="===r.charAt(1)&&((p=a6(h,r)+(dn(h)||0))||0===p)&&(r=p)),!u||h!==r||ov)return isNaN(h*r)||""===r?(!f&&!(t in e)&&jg(t,r),S5e.call(this,e,t,h,r,d,c||Ci.stringFilter,l)):(p=new ri(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof f?N5e:tL,0,d),l&&(p.fp=l),a&&p.modifier(a,this,e),this._pt=p)},JD=function(e,t,i,r,s,o){var a,c,l,u;if(wi[e]&&!1!==(a=new wi[e]).init(s,a.rawVars?t[e]:function(e,t,i,r,s){if(t2(e)&&(e=x8(e,s,t,i,r)),!n4(e)||e.style&&e.nodeType||hn(e)||dD(e))return V2(e)?x8(e,s,t,i,r):e;var a,o={};for(a in e)o[a]=x8(e[a],s,t,i,r);return o}(t[e],r,s,o,i),i,r,o)&&(i._pt=c=new ri(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==u6))for(l=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)l[a._props[u]]=c;return a},av=function n(e,t,i){var E,D,S,z,k,Z,B,F,j,ne,X,J,ae,r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,c=r.lazy,l=r.onUpdate,u=r.onUpdateParams,f=r.callbackScope,h=r.runBackwards,d=r.yoyoEase,p=r.keyframes,m=r.autoRevert,g=e._dur,v=e._startAt,M=e._targets,x=e.parent,C=x&&"nested"===x.data?x.vars.targets:M,b="auto"===e._overwrite&&!Vg,A=e.timeline;if(A&&(!p||!s)&&(s="none"),e._ease=Xs(s,s6.ease),e._yEase=d?qD(Xs(!0===d?s:d,s6.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!A&&!!r.runBackwards,!A||p&&!r.stagger){if(J=(F=M[0]?$s(M[0]).harness:0)&&r[F.prop],E=D9(r,$g),v&&(v._zTime<0&&v.progress(1),t<0&&h&&a&&!m?v.render(-1,!0):v.revert(h&&g?z9:e5e),v._lazy=0),o){if(k3(e._startAt=v2.set(M,Yi({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!v&&ti(c),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:f,stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fn||!a&&!m)&&e._startAt.revert(z9),a&&g&&t<=0&&i<=0)return void(t&&(e._zTime=t))}else if(h&&g&&!v)if(t&&(a=!1),S=Yi({overwrite:!1,data:"isFromStart",lazy:a&&!v&&ti(c),immediateRender:a,stagger:0,parent:x},E),J&&(S[F.prop]=J),k3(e._startAt=v2.set(M,S)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fn?e._startAt.revert(z9):e._startAt.render(-1,!0)),e._zTime=t,a){if(!t)return}else n(e._startAt,zt,zt);for(e._pt=e._ptCache=0,c=g&&ti(c)||c&&!g,D=0;D<M.length;D++){if(B=(k=M[D])._gsap||Yg(M)[D]._gsap,e._ptLookup[D]=ne={},qg[B.id]&&F3.length&&T9(),X=C===M?D:C.indexOf(k),F&&!1!==(j=new F).init(k,J||E,e,X,C)&&(e._pt=z=new ri(e._pt,k,j.name,0,1,j.render,j,0,j.priority),j._props.forEach(function(P){ne[P]=z}),j.priority&&(Z=1)),!F||J)for(S in E)wi[S]&&(j=JD(S,E,e,X,k,C))?j.priority&&(Z=1):ne[S]=z=sv.call(e,k,S,"get",E[S],X,C,0,r.stringFilter);e._op&&e._op[D]&&e.kill(k,e._op[D]),b&&e._pt&&(G3=e,$t.killTweensOf(k,ne,e.globalTime(t)),ae=!e.parent,G3=0),e._pt&&c&&(qg[B.id]=1)}Z&&iL(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!ae,p&&t<=0&&A.render(Zi,!0,!0)},T5e=function(e,t,i,r){var o,a,s=t.ease||r||"power1.inOut";if(hn(t))a=i[e]||(i[e]=[]),t.forEach(function(c,l){return a.push({t:l/(t.length-1)*100,v:c,e:s})});else for(o in t)a=i[o]||(i[o]=[]),"ease"===o||a.push({t:parseFloat(e),v:t[o],e:s})},x8=function(e,t,i,r,s){return t2(e)?e.call(t,i,r,s):V2(e)&&~e.indexOf("random(")?g8(e):e},KD=Xg+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",QD={};ni(KD+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return QD[n]=1});var v2=function(n){function e(i,r,s,o){var a;"number"==typeof r&&(s.duration=r,r=s,s=null);var C,b,A,E,D,S,z,k,c=(a=n.call(this,o?r:d8(r))||this).vars,l=c.duration,u=c.delay,f=c.immediateRender,h=c.stagger,d=c.overwrite,p=c.keyframes,m=c.defaults,g=c.scrollTrigger,v=c.yoyoEase,M=r.parent||$t,x=(hn(i)||dD(i)?I4(i[0]):"length"in r)?[i]:Ki(i);if(a._targets=x.length?Yg(x):A9("GSAP target "+i+" not found. https://greensock.com",!Ci.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||h||w9(l)||w9(u)){if(r=a.vars,(C=a.timeline=new ii({data:"nested",defaults:m||{},targets:M&&"nested"===M.data?M.vars.targets:x})).kill(),C.parent=C._dp=P4(a),C._start=0,h||w9(l)||w9(u)){if(E=x.length,z=h&&RD(h),n4(h))for(D in h)~KD.indexOf(D)&&(k||(k={}),k[D]=h[D]);for(b=0;b<E;b++)(A=D9(r,QD)).stagger=0,v&&(A.yoyoEase=v),k&&qs(A,k),S=x[b],A.duration=+x8(l,P4(a),b,S,x),A.delay=(+x8(u,P4(a),b,S,x)||0)-a._delay,!h&&1===E&&A.delay&&(a._delay=u=A.delay,a._start+=u,A.delay=0),C.to(S,A,z?z(b,S,x):0),C._ease=et.none;C.duration()?l=u=0:a.timeline=0}else if(p){d8(Yi(C.vars.defaults,{ease:"none"})),C._ease=Xs(p.ease||r.ease||"none");var B,F,j,Z=0;if(hn(p))p.forEach(function(ne){return C.to(x,ne,">")}),C.duration();else{for(D in A={},p)"ease"===D||"easeEach"===D||T5e(D,p[D],A,p.easeEach);for(D in A)for(B=A[D].sort(function(ne,X){return ne.t-X.t}),Z=0,b=0;b<B.length;b++)(j={ease:(F=B[b]).e,duration:(F.t-(b?B[b-1].t:0))/100*l})[D]=F.v,C.to(x,j,Z),Z+=j.duration;C.duration()<l&&C.to({},{duration:l-C.duration()})}}l||a.duration(l=C.duration())}else a.timeline=0;return!0===d&&!Vg&&(G3=P4(a),$t.killTweensOf(x),G3=0),i4(M,P4(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!l&&!p&&a._start===Z2(M._time)&&ti(f)&&o5e(P4(a))&&"nested"!==M.data)&&(a._tTime=-zt,a.render(Math.max(0,-u)||0)),g&&DD(P4(a),g),a}fD(e,n);var t=e.prototype;return t.render=function(r,s,o){var h,d,p,m,g,v,M,x,C,a=this._time,c=this._tDur,l=this._dur,u=r<0,f=r>c-zt&&!u?c:r<zt?0:r;if(l){if(f!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(h=f,x=this.timeline,this._repeat){if(m=l+this._rDelay,this._repeat<-1&&u)return this.totalTime(100*m+r,s,o);if(h=Z2(f%m),f===c?(p=this._repeat,h=l):((p=~~(f/m))&&p===f/m&&(h=l,p--),h>l&&(h=l)),(v=this._yoyo&&1&p)&&(C=this._yEase,h=l-h),g=c6(this._tTime,m),h===a&&!o&&this._initted)return this._tTime=f,this;p!==g&&(x&&this._yEase&&ZD(x,v),this.vars.repeatRefresh&&!v&&!this._lock&&(this._lock=o=1,this.render(Z2(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(LD(this,u?r:h,o,s,f))return this._tTime=0,this;if(a!==this._time)return this;if(l!==this._dur)return this.render(r,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=M=(C||this._ease)(h/l),this._from&&(this.ratio=M=1-M),h&&!a&&!s&&!p&&(Qi(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(M,d.d),d=d._next;x&&x.render(r<0?r:!h&&v?-zt:x._dur*x._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&Jg(this,r,0,o),Qi(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&Qi(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&Jg(this,r,0,!0),(r||!l)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&k3(this,1),!s&&(!u||a)&&(f||a||v)&&(Qi(this,f===c?"onComplete":"onReverseComplete",!0),this._prom&&!(f<c&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,r){var l,u,f,s=e.ratio,o=t<0||!t&&(!e._start&&a5e(e)&&(e._initted||!Kg(e))||(e._ts<0||e._dp._ts<0)&&!Kg(e))?0:1,a=e._rDelay,c=0;if(a&&e._repeat&&(c=m8(0,e._tDur,t),u=c6(c,a),e._yoyo&&1&u&&(o=1-o),u!==c6(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||fn||r||e._zTime===zt||!t&&e._zTime){if(!e._initted&&LD(e,t,r,i,c))return;for(f=e._zTime,e._zTime=t||(i?zt:0),i||(i=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,l=e._pt;l;)l.r(o,l.d),l=l._next;t<0&&Jg(e,t,0,!0),e._onUpdate&&!i&&Qi(e,"onUpdate"),c&&e._repeat&&!i&&e.parent&&Qi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&k3(e,1),!i&&!fn&&(Qi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,r,s,o);return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a){_8||Si.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||av(this,c),function(e,t,i,r,s,o,a){var l,u,f,h,c=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!c)for(c=e._ptCache[t]=[],f=e._ptLookup,h=e._targets.length;h--;){if((l=f[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return ov=1,e.vars[t]="+=0",av(e,a),ov=0,1;c.push(l)}for(h=c.length;h--;)(l=(u=c[h])._pt||u).s=!r&&0!==r||s?l.s+(r||0)+o*l.c:r,l.c=i-l.s,u.e&&(u.e=l2(i)+dn(u.e)),u.b&&(u.b=l.s+dn(u.b))}(this,r,s,o,a,this._ease(c/this._dur),c)?this.resetTo(r,s,o,a):(I9(this,0),this.parent||zD(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(void 0===s&&(s="all"),!(r||s&&"all"!==s))return this._lazy=this._pt=0,this.parent?v8(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,G3&&!0!==G3.vars.overwrite)._first||v8(this),this.parent&&o!==this.timeline.totalDuration()&&l6(this,this._dur*this.timeline._tDur/o,0,1),this}var f,h,d,p,m,g,v,a=this._targets,c=r?Ki(r):a,l=this._ptLookup,u=this._pt;if((!s||"all"===s)&&function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0}(a,c))return"all"===s&&(this._pt=0),v8(this);for(f=this._op=this._op||[],"all"!==s&&(V2(s)&&(m={},ni(s,function(M){return m[M]=1}),s=m),s=function(e,t){var s,o,a,c,i=e[0]?$s(e[0]).harness:0,r=i&&i.aliases;if(!r)return t;for(o in s=qs({},t),r)if(o in s)for(a=(c=r[o].split(",")).length;a--;)s[c[a]]=s[o];return s}(a,s)),v=a.length;v--;)if(~c.indexOf(a[v]))for(m in h=l[v],"all"===s?(f[v]=s,p=h,d={}):(d=f[v]=f[v]||{},p=s),p)(g=h&&h[m])&&((!("kill"in g.d)||!0===g.d.kill(m))&&L9(this,g,"_pt"),delete h[m]),"all"!==d&&(d[m]=1);return this._initted&&!this._pt&&u&&v8(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return p8(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return p8(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return $t.killTweensOf(r,s,o)},e}(M8);Yi(v2.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ni("staggerTo,staggerFrom,staggerFromTo",function(n){v2[n]=function(){var e=new ii,t=Qg.call(arguments,0);return t.splice("staggerFromTo"===n?5:4,0,0),e[n].apply(e,t)}});var cv=function(e,t,i){return e[t]=i},eL=function(e,t,i){return e[t](i)},D5e=function(e,t,i,r){return e[t](r.fp,i)},L5e=function(e,t,i){return e.setAttribute(t,i)},lv=function(e,t){return t2(e[t])?eL:Fg(e[t])&&e.setAttribute?L5e:cv},tL=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},N5e=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nL=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},uv=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},P5e=function(e,t,i,r){for(var o,s=this._pt;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},I5e=function(e){for(var i,r,t=this._pt;t;)r=t._next,t.p===e&&!t.op||t.op===e?L9(this,t,"_pt"):t.dep||(i=1),t=r;return!i},R5e=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},iL=function(e){for(var i,r,s,o,t=e._pt;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},ri=function(){function n(t,i,r,s,o,a,c,l,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||tL,this.d=c||this,this.set=l||cv,this.pr=u||0,this._next=t,t&&(t._prev=this)}return n.prototype.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=R5e,this.m=i,this.mt=s,this.tween=r},n}();ni(Xg+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return $g[n]=1}),bi.TweenMax=bi.TweenLite=v2,bi.TimelineLite=bi.TimelineMax=ii,$t=new ii({sortChildren:!1,defaults:s6,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ci.stringFilter=$D;var Js=[],R9={},H5e=[],rL=0,V5e=0,fv=function(e){return(R9[e]||H5e).map(function(t){return t()})},hv=function(){var e=Date.now(),t=[];e-rL>2&&(fv("matchMediaInit"),Js.forEach(function(i){var o,a,c,l,r=i.queries,s=i.conditions;for(a in r)(o=Xi.matchMedia(r[a]).matches)&&(c=1),o!==s[a]&&(s[a]=o,l=1);l&&(i.revert(),c&&t.push(i))}),fv("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i)}),rL=e,fv("matchMedia"))},sL=function(){function n(t,i){this.selector=i&&ev(i),this.data=[],this._r=[],this.isReverted=!1,this.id=V5e++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){t2(i)&&(s=r,r=i,i=t2);var o=this,a=function(){var f,l=e2,u=o.selector;return l&&l!==o&&l.data.push(o),s&&(o.selector=ev(s)),e2=o,f=r.apply(o,arguments),t2(f)&&o._r.push(f),e2=l,o.selector=u,o.isReverted=!1,f};return o.last=a,i===t2?a(o):i?o[i]=a:a},e.ignore=function(i){var r=e2;e2=null,i(this),e2=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof v2&&!(r.parent&&"nested"===r.parent.data)&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i){var o=this.getTweens();this.data.forEach(function(c){"isFlip"===c.data&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(l){return o.splice(o.indexOf(l),1)}))}),o.map(function(c){return{g:c.globalTime(0),t:c}}).sort(function(c,l){return l.g-c.g||-1/0}).forEach(function(c){return c.t.revert(i)}),this.data.forEach(function(c){return!(c instanceof v2)&&c.revert&&c.revert(i)}),this._r.forEach(function(c){return c(i,s)}),this.isReverted=!0}else this.data.forEach(function(c){return c.kill&&c.kill()});if(this.clear(),r)for(var a=Js.length;a--;)Js[a].id===this.id&&Js.splice(a,1)},e.revert=function(i){this.kill(i||{})},n}(),O5e=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(i,r,s){n4(i)||(i={matches:i});var c,l,u,o=new sL(0,s||this.scope),a=o.conditions={};for(l in e2&&!o.selector&&(o.selector=e2.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i,i)"all"===l?u=1:(c=Xi.matchMedia(i[l]))&&(Js.indexOf(o)<0&&Js.push(o),(a[l]=c.matches)&&(u=1),c.addListener?c.addListener(hv):c.addEventListener("change",hv));return u&&r(o),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),H9={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return BD(r)})},timeline:function(e){return new ii(e)},getTweensOf:function(e,t){return $t.getTweensOf(e,t)},getProperty:function(e,t,i,r){V2(e)&&(e=Ki(e)[0]);var s=$s(e||{}).get,o=i?SD:wD;return"native"===i&&(i=""),e&&(t?o((wi[t]&&wi[t].get||s)(e,t,i,r)):function(a,c,l){return o((wi[a]&&wi[a].get||s)(e,a,c,l))})},quickSetter:function(e,t,i){if((e=Ki(e)).length>1){var r=e.map(function(u){return si.quickSetter(u,t,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}var o=wi[t],a=$s(e=e[0]||{}),c=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(u){var f=new o;u6._pt=0,f.init(e,i?u+i:u,u6,0,[e]),f.render(1,f),u6._pt&&uv(1,u6)}:a.set(e,c);return o?l:function(u){return l(e,c,i?u+i:u,a,1)}},quickTo:function(e,t,i){var r,s=si.to(e,qs(((r={})[t]="+=0.1",r.paused=!0,r),i||{})),o=function(c,l,u){return s.resetTo(t,c,l,u)};return o.tween=s,o},isTweening:function(e){return $t.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Xs(e.ease,s6.ease)),AD(s6,e||{})},config:function(e){return AD(Ci,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,s=e.defaults,o=e.extendTimeline;(e.plugins||"").split(",").forEach(function(a){return a&&!wi[a]&&!bi[a]&&A9(t+" effect requires "+a+" plugin.")}),Zg[t]=function(a,c,l){return i(Ki(a),Yi(c||{},s),l)},o&&(ii.prototype[t]=function(a,c,l){return this.add(Zg[t](a,n4(c)?c:(l=c)&&{},this),l)})},registerEase:function(e,t){et[e]=Xs(t)},parseEase:function(e,t){return arguments.length?Xs(e,t):et},getById:function(e){return $t.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,s,i=new ii(e);for(i.smoothChildTiming=ti(e.smoothChildTiming),$t.remove(i),i._dp=0,i._time=i._tTime=$t._time,r=$t._first;r;)s=r._next,(t||!(!r._dur&&r instanceof v2&&r.vars.onComplete===r._targets[0]))&&i4(i,r,r._start-r._delay),r=s;return i4($t,i,0),i},context:function(e,t){return e?new sL(e,t):e2},matchMedia:function(e){return new O5e(e)},matchMediaRefresh:function(){return Js.forEach(function(e){var i,r,t=e.conditions;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||hv()},addEventListener:function(e,t){var i=R9[e]||(R9[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=R9[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:function n(e,t,i){var r=t-e;return hn(e)?OD(e,n(0,e.length),t):U3(i,function(s){return(r+(s-e)%r)%r+e})},wrapYoyo:function n(e,t,i){var r=t-e,s=2*r;return hn(e)?OD(e,n(0,e.length-1),t):U3(i,function(o){return e+((o=(s+(o-e)%s)%s||0)>r?s-o:o)})},distribute:RD,random:VD,snap:HD,normalize:function(e,t,i){return FD(e,t,0,1,i)},getUnit:dn,clamp:function(e,t,i){return U3(i,function(r){return m8(e,t,r)})},splitColor:GD,toArray:Ki,selector:ev,mapRange:FD,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||dn(i))}},interpolate:function n(e,t,i,r){var s=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!s){var c,l,u,f,h,o=V2(e),a={};if(!0===i&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(hn(e)&&!hn(t)){for(u=[],h=(f=e.length)-2,l=1;l<f;l++)u.push(n(e[l-1],e[l]));f--,s=function(p){p*=f;var m=Math.min(h,~~p);return u[m](p-m)},i=t}else r||(e=qs(hn(e)?[]:{},e));if(!u){for(c in t)sv.call(a,e,c,"get",t[c]);s=function(p){return uv(p,a)||(o?e.p:e)}}}return U3(i,s)},shuffle:ID},install:yD,effects:Zg,ticker:Si,updateRoot:ii.updateRoot,plugins:wi,globalTimeline:$t,core:{PropTween:ri,globals:_D,Tween:v2,Timeline:ii,Animation:M8,getCache:$s,_removeLinkedListItem:L9,reverting:function(){return fn},context:function(e){return e&&e2&&(e2.data.push(e),e._ctx=e2),e2},suppressOverwrites:function(e){return Vg=e}}};ni("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return H9[n]=v2[n]}),Si.add(ii.updateRoot),u6=H9.to({},{duration:0});var F5e=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},dv=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var c,l;if(V2(s)&&(c={},ni(s,function(u){return c[u]=1}),s=c),t){for(l in c={},s)c[l]=t(s[l]);s=c}!function(e,t){var r,s,o,i=e._targets;for(r in t)for(s=i.length;s--;)(o=e._ptLookup[s][r])&&(o=o.d)&&(o._pt&&(o=F5e(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))}(a,s)}}}},si=H9.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,c;for(o in this.tween=i,t)c=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(c||0)+"",t[o],r,s,0,0,o)).op=o,a.b=c,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)fn?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},dv("roundProps",tv),dv("modifiers"),dv("snap",HD))||H9;v2.version=ii.version=si.version="3.12.2",vD=1,kg()&&f6();var oL,W3,h6,pv,Ks,aL,mv,dL,R4={},Qs=180/Math.PI,d6=Math.PI/180,p6=Math.atan2,cL=1e8,gv=/([A-Z])/g,G5e=/(left|right|width|margin|padding|x)/i,W5e=/[\s,\(]\S/,r4={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},vv=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},j5e=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},$5e=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},q5e=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},lL=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},uL=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},Z5e=function(e,t,i){return e.style[t]=i},X5e=function(e,t,i){return e.style.setProperty(t,i)},Y5e=function(e,t,i){return e._gsap[t]=i},J5e=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},K5e=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Q5e=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},qt="transform",wr=qt+"Origin",ele=function n(e,t){var i=this,r=this.target,s=r.style;if(e in R4&&s){if(this.tfm=this.tfm||{},"transform"===e)return r4.transform.split(",").forEach(function(o){return n.call(i,o,t)});if(~(e=r4[e]||e).indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=H4(r,o)}):this.tfm[e]=r._gsap.x?r._gsap[e]:H4(r,e),this.props.indexOf(qt)>=0)return;r._gsap.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(wr,t,"")),e=qt}(s||t)&&this.props.push(e,t,s[e])},fL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},tle=function(){var s,o,e=this.props,t=this.target,i=t.style,r=t._gsap;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty("--"===e[s].substr(0,2)?e[s]:e[s].replace(gv,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),(!(s=mv())||!s.isStart)&&!i[qt]&&(fL(i),r.uncache=1)}},hL=function(e,t){var i={target:e,props:[],revert:tle,save:ele};return e._gsap||si.core.getCache(e),t&&t.split(",").forEach(function(r){return i.save(r)}),i},yv=function(e,t){var i=W3.createElementNS?W3.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):W3.createElement(e);return i.style?i:W3.createElement(e)},s4=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(gv,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,m6(t)||t,1)||""},pL="O,Moz,ms,Ms,Webkit".split(","),m6=function(e,t,i){var s=(t||Ks).style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(pL[o]+e in s););return o<0?null:(3===o?"ms":o>=0?pL[o]:"")+e},_v=function(){typeof window<"u"&&window.document&&(oL=window,h6=(W3=oL.document).documentElement,Ks=yv("div")||{style:{}},yv("div"),qt=m6(qt),wr=qt+"Origin",Ks.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",dL=!!m6("perspective"),mv=si.core.reverting,pv=1)},Mv=function n(e){var o,t=yv("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(h6.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),h6.removeChild(t),this.style.cssText=s,o},mL=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},gL=function(e){var t;try{t=e.getBBox()}catch{t=Mv.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Mv||(t=Mv.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+mL(e,["x","cx","x1"])||0,y:+mL(e,["y","cy","y1"])||0,width:0,height:0}},vL=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!gL(e))},C8=function(e,t){if(t){var i=e.style;t in R4&&t!==wr&&(t=qt),i.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),i.removeProperty(t.replace(gv,"-$1").toLowerCase())):i.removeAttribute(t)}},j3=function(e,t,i,r,s,o){var a=new ri(e._pt,t,i,0,1,o?uL:lL);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},yL={deg:1,rad:1,turn:1},nle={grid:1,flex:1},$3=function n(e,t,i,r){var p,m,g,v,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Ks.style,c=G5e.test(t),l="svg"===e.tagName.toLowerCase(),u=(l?"client":"offset")+(c?"Width":"Height"),f=100,h="px"===r,d="%"===r;return r===o||!s||yL[r]||yL[o]?s:("px"!==o&&!h&&(s=n(e,t,i,"px")),v=e.getCTM&&vL(e),!d&&"%"!==o||!R4[t]&&!~t.indexOf("adius")?(a[c?"width":"height"]=f+(h?o:r),m=~t.indexOf("adius")||"em"===r&&e.appendChild&&!l?e:e.parentNode,v&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===W3||!m.appendChild)&&(m=W3.body),(g=m._gsap)&&d&&g.width&&c&&g.time===Si.time&&!g.uncache?l2(s/g.width*f):((d||"%"===o)&&!nle[s4(m,"display")]&&(a.position=s4(e,"position")),m===e&&(a.position="static"),m.appendChild(Ks),p=Ks[u],m.removeChild(Ks),a.position="absolute",c&&d&&((g=$s(m)).time=Si.time,g.width=m[u]),l2(h?p*s/f:p&&s?f/p*s:0))):(p=v?e.getBBox()[c?"width":"height"]:e[u],l2(d?s/p*f:s/100*p)))},H4=function(e,t,i,r){var s;return pv||_v(),t in r4&&"transform"!==t&&~(t=r4[t]).indexOf(",")&&(t=t.split(",")[0]),R4[t]&&"transform"!==t?(s=w8(e,r),s="transformOrigin"!==t?s[t]:s.svg?s.origin:O9(s4(e,wr))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||r||~(s+"").indexOf("calc("))&&(s=V9[t]&&V9[t](e,t,i)||s4(e,t)||CD(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?$3(e,t,s,i)+i:s},ile=function(e,t,i,r){if(!i||"none"===i){var s=m6(t,e,1),o=s&&s4(e,s,1);o&&o!==i?(t=s,i=o):"borderColor"===t&&(i=s4(e,"borderTopColor"))}var u,f,h,d,p,m,g,v,M,x,C,a=new ri(this._pt,e.style,t,0,1,nL),c=0,l=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(e.style[t]=r,r=s4(e,t)||r,e.style[t]=i),$D(u=[i,r]),r=u[1],h=(i=u[0]).match(o6)||[],(r.match(o6)||[]).length){for(;f=o6.exec(r);)g=f[0],M=r.substring(c,f.index),p?p=(p+1)%5:("rgba("===M.substr(-5)||"hsla("===M.substr(-5))&&(p=1),g!==(m=h[l++]||"")&&(d=parseFloat(m)||0,C=m.substr((d+"").length),"="===g.charAt(1)&&(g=a6(d,g)+C),v=parseFloat(g),x=g.substr((v+"").length),c=o6.lastIndex-x.length,x||(x=x||Ci.units[t]||C,c===r.length&&(r+=x,a.e+=x)),C!==x&&(d=$3(e,t,m,x)||0),a._pt={_next:a._pt,p:M||1===l?M:",",s:d,c:v-d,m:p&&p<4||"zIndex"===t?Math.round:0});a.c=c<r.length?r.substring(c,r.length):""}else a.r="display"===t&&"none"===r?uL:lL;return mD.test(r)&&(a.e=0),this._pt=a,a},_L={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},rle=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(e=i,i=r,r=e),t[0]=_L[i]||i,t[1]=_L[r]||r,t.join(" ")},sle=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var a,c,l,i=t.t,r=i.style,s=t.u,o=i._gsap;if("all"===s||!0===s)r.cssText="",c=1;else for(l=(s=s.split(",")).length;--l>-1;)R4[a=s[l]]&&(c=1,a="transformOrigin"===a?wr:qt),C8(i,a);c&&(C8(i,qt),o&&(o.svg&&i.removeAttribute("transform"),w8(i,1),o.uncache=1,fL(r)))}},V9={clearProps:function(e,t,i,r,s){if("isFromStart"!==s.data){var o=e._pt=new ri(e._pt,t,i,0,0,sle);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},b8=[1,0,0,1,0,0],ML={},xL=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},CL=function(e){var t=s4(e,qt);return xL(t)?b8:t.substr(7).match(pD).map(l2)},xv=function(e,t){var o,a,c,l,i=e._gsap||$s(e),r=e.style,s=CL(e);return i.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(s=[(c=e.transform.baseVal.consolidate().matrix).a,c.b,c.c,c.d,c.e,c.f]).join(",")?b8:s:(s===b8&&!e.offsetParent&&e!==h6&&!i.svg&&(c=r.display,r.display="block",(!(o=e.parentNode)||!e.offsetParent)&&(l=1,a=e.nextElementSibling,h6.appendChild(e)),s=CL(e),c?r.display=c:C8(e,"display"),l&&(a?o.insertBefore(e,a):o?o.appendChild(e):h6.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Cv=function(e,t,i,r,s,o){var A,E,S,a=e._gsap,c=s||xv(e,!0),l=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,d=c[0],p=c[1],m=c[2],g=c[3],v=c[4],M=c[5],x=t.split(" "),C=parseFloat(x[0])||0,b=parseFloat(x[1])||0;i?c!==b8&&(E=d*g-p*m)&&(S=C*(-p/E)+b*(d/E)-(d*M-p*v)/E,C=C*(g/E)+b*(-m/E)+(m*M-g*v)/E,b=S):(C=(A=gL(e)).x+(~x[0].indexOf("%")?C/100*A.width:C),b=A.y+(~(x[1]||x[0]).indexOf("%")?b/100*A.height:b)),r||!1!==r&&a.smooth?(a.xOffset=f+((v=C-l)*d+(M=b-u)*m)-v,a.yOffset=h+(v*p+M*g)-M):a.xOffset=a.yOffset=0,a.xOrigin=C,a.yOrigin=b,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[wr]="0px 0px",o&&(j3(o,a,"xOrigin",l,C),j3(o,a,"yOrigin",u,b),j3(o,a,"xOffset",f,a.xOffset),j3(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",C+" "+b)},w8=function(e,t){var i=e._gsap||new YD(e);if("x"in i&&!t&&!i.uncache)return i;var u,f,h,d,p,m,g,v,M,x,C,b,A,E,D,S,z,k,Z,B,F,j,ne,X,J,ae,P,W,ce,xe,_e,Ce,r=e.style,s=i.scaleX<0,o="px",a="deg",c=getComputedStyle(e),l=s4(e,wr)||"0";return u=f=h=m=g=v=M=x=C=0,d=p=1,i.svg=!(!e.getCTM||!vL(e)),c.translate&&(("none"!==c.translate||"none"!==c.scale||"none"!==c.rotate)&&(r[qt]=("none"!==c.translate?"translate3d("+(c.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==c.rotate?"rotate("+c.rotate+") ":"")+("none"!==c.scale?"scale("+c.scale.split(" ").join(",")+") ":"")+("none"!==c[qt]?c[qt]:"")),r.scale=r.rotate=r.translate="none"),E=xv(e,i.svg),i.svg&&(i.uncache?(J=e.getBBox(),l=i.xOrigin-J.x+"px "+(i.yOrigin-J.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),Cv(e,X||l,!!X||i.originIsAbsolute,!1!==i.smooth,E)),b=i.xOrigin||0,A=i.yOrigin||0,E!==b8&&(k=E[0],Z=E[1],B=E[2],F=E[3],u=j=E[4],f=ne=E[5],6===E.length?(d=Math.sqrt(k*k+Z*Z),p=Math.sqrt(F*F+B*B),m=k||Z?p6(Z,k)*Qs:0,(M=B||F?p6(B,F)*Qs+m:0)&&(p*=Math.abs(Math.cos(M*d6))),i.svg&&(u-=b-(b*k+A*B),f-=A-(b*Z+A*F))):(xe=E[7],P=E[8],W=E[9],_e=E[11],u=E[12],f=E[13],h=E[14],g=(D=p6(Ce=E[6],ce=E[10]))*Qs,D&&(X=j*(S=Math.cos(-D))+P*(z=Math.sin(-D)),J=ne*S+W*z,ae=Ce*S+ce*z,P=j*-z+P*S,W=ne*-z+W*S,ce=Ce*-z+ce*S,_e=xe*-z+_e*S,j=X,ne=J,Ce=ae),v=(D=p6(-B,ce))*Qs,D&&(S=Math.cos(-D),_e=F*(z=Math.sin(-D))+_e*S,k=X=k*S-P*z,Z=J=Z*S-W*z,B=ae=B*S-ce*z),m=(D=p6(Z,k))*Qs,D&&(X=k*(S=Math.cos(D))+Z*(z=Math.sin(D)),J=j*S+ne*z,Z=Z*S-k*z,ne=ne*S-j*z,k=X,j=J),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,v=180-v),d=l2(Math.sqrt(k*k+Z*Z+B*B)),p=l2(Math.sqrt(ne*ne+Ce*Ce)),D=p6(j,ne),M=Math.abs(D)>2e-4?D*Qs:0,C=_e?1/(_e<0?-_e:_e):0),i.svg&&(X=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!xL(s4(e,qt)),X&&e.setAttribute("transform",X))),Math.abs(M)>90&&Math.abs(M)<270&&(s?(d*=-1,M+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,M+=M<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=h+o,i.scaleX=l2(d),i.scaleY=l2(p),i.rotation=l2(m)+a,i.rotationX=l2(g)+a,i.rotationY=l2(v)+a,i.skewX=M+a,i.skewY=x+a,i.transformPerspective=C+o,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[wr]=O9(l)),i.xOffset=i.yOffset=0,i.force3D=Ci.force3D,i.renderTransform=i.svg?ale:dL?bL:ole,i.uncache=0,i},O9=function(e){return(e=e.split(" "))[0]+" "+e[1]},bv=function(e,t,i){var r=dn(t);return l2(parseFloat(t)+parseFloat($3(e,"x",i+"px",r)))+r},ole=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,bL(e,t)},eo="0deg",S8="0px",to=") ",bL=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,c=i.z,l=i.rotation,u=i.rotationY,f=i.rotationX,h=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,g=i.transformPerspective,v=i.force3D,M=i.target,x=i.zOrigin,C="",b="auto"===v&&e&&1!==e||!0===v;if(x&&(f!==eo||u!==eo)){var S,A=parseFloat(u)*d6,E=Math.sin(A),D=Math.cos(A);A=parseFloat(f)*d6,S=Math.cos(A),o=bv(M,o,E*S*-x),a=bv(M,a,-Math.sin(A)*-x),c=bv(M,c,D*S*-x+x)}g!==S8&&(C+="perspective("+g+to),(r||s)&&(C+="translate("+r+"%, "+s+"%) "),(b||o!==S8||a!==S8||c!==S8)&&(C+=c!==S8||b?"translate3d("+o+", "+a+", "+c+") ":"translate("+o+", "+a+to),l!==eo&&(C+="rotate("+l+to),u!==eo&&(C+="rotateY("+u+to),f!==eo&&(C+="rotateX("+f+to),(h!==eo||d!==eo)&&(C+="skew("+h+", "+d+to),(1!==p||1!==m)&&(C+="scale("+p+", "+m+to),M.style[qt]=C||"translate(0, 0)"},ale=function(e,t){var b,A,E,D,S,i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,c=i.rotation,l=i.skewX,u=i.skewY,f=i.scaleX,h=i.scaleY,d=i.target,p=i.xOrigin,m=i.yOrigin,g=i.xOffset,v=i.yOffset,M=i.forceCSS,x=parseFloat(o),C=parseFloat(a);c=parseFloat(c),l=parseFloat(l),(u=parseFloat(u))&&(l+=u=parseFloat(u),c+=u),c||l?(c*=d6,l*=d6,b=Math.cos(c)*f,A=Math.sin(c)*f,E=Math.sin(c-l)*-h,D=Math.cos(c-l)*h,l&&(u*=d6,S=Math.tan(l-u),E*=S=Math.sqrt(1+S*S),D*=S,u&&(S=Math.tan(u),b*=S=Math.sqrt(1+S*S),A*=S)),b=l2(b),A=l2(A),E=l2(E),D=l2(D)):(b=f,D=h,A=E=0),(x&&!~(o+"").indexOf("px")||C&&!~(a+"").indexOf("px"))&&(x=$3(d,"x",o,"px"),C=$3(d,"y",a,"px")),(p||m||g||v)&&(x=l2(x+p-(p*b+m*E)+g),C=l2(C+m-(p*A+m*D)+v)),(r||s)&&(S=d.getBBox(),x=l2(x+r/100*S.width),C=l2(C+s/100*S.height)),d.setAttribute("transform",S="matrix("+b+","+A+","+E+","+D+","+x+","+C+")"),M&&(d.style[qt]=S)},cle=function(e,t,i,r,s){var f,h,o=360,a=V2(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Qs:1)-r,u=r+l+"deg";return a&&("short"===(f=s.split("_")[1])&&(l%=o)!=l%180&&(l+=l<0?o:-o),"cw"===f&&l<0?l=(l+o*cL)%o-~~(l/o)*o:"ccw"===f&&l>0&&(l=(l-o*cL)%o-~~(l/o)*o)),e._pt=h=new ri(e._pt,t,i,r,l,j5e),h.e=u,h.u="deg",e._props.push(i),h},wL=function(e,t){for(var i in t)e[i]=t[i];return e},lle=function(e,t,i){var a,c,l,u,f,h,p,r=wL({},i._gsap),o=i.style;for(c in r.svg?(l=i.getAttribute("transform"),i.setAttribute("transform",""),o[qt]=t,a=w8(i,1),C8(i,qt),i.setAttribute("transform",l)):(l=getComputedStyle(i)[qt],o[qt]=t,a=w8(i,1),o[qt]=l),R4)(l=r[c])!==(u=a[c])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(c)<0&&(f=dn(l)!==(p=dn(u))?$3(i,c,l,p):parseFloat(l),h=parseFloat(u),e._pt=new ri(e._pt,a,c,f,h-f,vv),e._pt.u=p||0,e._props.push(c));wL(a,r)};ni("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});V9[e>1?"border"+n:n]=function(a,c,l,u,f){var h,d;if(arguments.length<4)return h=o.map(function(p){return H4(a,p,l)}),5===(d=h.join(" ")).split(h[0]).length?h[0]:d;h=(u+"").split(" "),d={},o.forEach(function(p,m){return d[p]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(c,d,f)}});var SL={name:"css",register:_v,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var l,u,f,h,d,p,m,g,v,M,x,C,b,A,E,D,o=this._props,a=e.style,c=i.vars.startAt;for(m in pv||_v(),this.styles=this.styles||hL(e),D=this.styles.props,this.tween=i,t)if("autoRound"!==m&&(u=t[m],!wi[m]||!JD(m,t,i,r,e,s)))if(p=V9[m],"function"==(d=typeof u)&&(d=typeof(u=u.call(i,r,e,s))),"string"===d&&~u.indexOf("random(")&&(u=g8(u)),p)p(this,e,m,u,i)&&(E=1);else if("--"===m.substr(0,2))l=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",B3.lastIndex=0,B3.test(l)||(g=dn(l),v=dn(u)),v?g!==v&&(l=$3(e,m,l,v)+v):g&&(u+=g),this.add(a,"setProperty",l,u,r,s,0,0,m),o.push(m),D.push(m,0,a[m]);else if("undefined"!==d){if(c&&m in c?(l="function"==typeof c[m]?c[m].call(i,r,e,s):c[m],V2(l)&&~l.indexOf("random(")&&(l=g8(l)),dn(l+"")||(l+=Ci.units[m]||dn(H4(e,m))||""),"="===(l+"").charAt(1)&&(l=H4(e,m))):l=H4(e,m),h=parseFloat(l),(M="string"===d&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),f=parseFloat(u),m in r4&&("autoAlpha"===m&&(1===h&&"hidden"===H4(e,"visibility")&&f&&(h=0),D.push("visibility",0,a.visibility),j3(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),"scale"!==m&&"transform"!==m&&~(m=r4[m]).indexOf(",")&&(m=m.split(",")[0])),x=m in R4)if(this.styles.save(m),C||((b=e._gsap).renderTransform&&!t.parseTransform||w8(e,t.parseTransform),A=!1!==t.smoothOrigin&&b.smooth,(C=this._pt=new ri(this._pt,a,qt,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===m)this._pt=new ri(this._pt,b,"scaleY",b.scaleY,(M?a6(b.scaleY,M+f):f)-b.scaleY||0,vv),this._pt.u=0,o.push("scaleY",m),m+="X";else{if("transformOrigin"===m){D.push(wr,0,a[wr]),u=rle(u),b.svg?Cv(e,u,0,A,0,this):((v=parseFloat(u.split(" ")[2])||0)!==b.zOrigin&&j3(this,b,"zOrigin",b.zOrigin,v),j3(this,a,m,O9(l),O9(u)));continue}if("svgOrigin"===m){Cv(e,u,1,A,0,this);continue}if(m in ML){cle(this,b,m,h,M?a6(h,M+u):u);continue}if("smoothOrigin"===m){j3(this,b,"smooth",b.smooth,u);continue}if("force3D"===m){b[m]=u;continue}if("transform"===m){lle(this,u,e);continue}}else m in a||(m=m6(m)||m);if(x||(f||0===f)&&(h||0===h)&&!W5e.test(u)&&m in a)f||(f=0),(g=(l+"").substr((h+"").length))!==(v=dn(u)||(m in Ci.units?Ci.units[m]:g))&&(h=$3(e,m,l,v)),this._pt=new ri(this._pt,x?b:a,m,h,(M?a6(h,M+f):f)-h,x||"px"!==v&&"zIndex"!==m||!1===t.autoRound?vv:q5e),this._pt.u=v||0,g!==v&&"%"!==v&&(this._pt.b=l,this._pt.r=$5e);else if(m in a)ile.call(this,e,m,l,M?M+u:u);else if(m in e)this.add(e,m,l||e[m],M?M+u:u,r,s);else if("parseTransform"!==m){jg(m,u);continue}x||(m in a?D.push(m,0,a[m]):D.push(m,1,l||e[m])),o.push(m)}E&&iL(this)},render:function(e,t){if(t.tween._time||!mv())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:H4,aliases:r4,getSetter:function(e,t,i){var r=r4[t];return r&&r.indexOf(",")<0&&(t=r),t in R4&&t!==wr&&(e._gsap.x||H4(e,"x"))?i&&aL===i?"scale"===t?J5e:Y5e:(aL=i||{})&&("scale"===t?K5e:Q5e):e.style&&!Fg(e.style[t])?Z5e:~t.indexOf("-")?X5e:lv(e,t)},core:{_removeProperty:C8,_getMatrix:xv}};si.utils.checkPrefix=m6,si.core.getStyleSaver=hL,function(n,e,t,i){var r=ni(n+","+e+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(s){R4[s]=1});ni(e,function(s){Ci.units[s]="deg",ML[s]=1}),r4[r[13]]=n+","+e,ni("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(s){var o=s.split(":");r4[o[1]]=r[o[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),ni("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Ci.units[n]="px"}),si.registerPlugin(SL);var wv=si.registerPlugin(SL)||si;function AL(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var X2,Sv,Ai,q3,Z3,g6,zL,no,A8,EL,V4,Sr,TL,DL=function(){return X2||typeof window<"u"&&(X2=window.gsap)&&X2.registerPlugin&&X2},LL=1,v6=[],$1=[],o4=[],z8=Date.now,Av=function(e,t){return t},X3=function(e,t){return~o4.indexOf(e)&&o4[o4.indexOf(e)+1][t]},E8=function(e){return!!~EL.indexOf(e)},Dn=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},Ln=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},F9="scrollLeft",k9="scrollTop",zv=function(){return V4&&V4.isPressed||$1.cache++},U9=function(e,t){var i=function r(s){if(s||0===s){LL&&(Ai.history.scrollRestoration="manual");var o=V4&&V4.isPressed;s=r.v=Math.round(s)||(V4&&V4.iOS?1:0),e(s),r.cacheID=$1.cache,o&&Av("ss",s)}else(t||$1.cache!==r.cacheID||Av("ref"))&&(r.cacheID=$1.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Nn={s:F9,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:U9(function(n){return arguments.length?Ai.scrollTo(n,D2.sc()):Ai.pageXOffset||q3[F9]||Z3[F9]||g6[F9]||0})},D2={s:k9,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Nn,sc:U9(function(n){return arguments.length?Ai.scrollTo(Nn.sc(),n):Ai.pageYOffset||q3[k9]||Z3[k9]||g6[k9]||0})},oi=function(e,t){return(t&&t._ctx&&t._ctx.selector||X2.utils.toArray)(e)[0]||("string"==typeof e&&!1!==X2.config().nullTargetWarn?console.warn("Element not found:",e):null)},Y3=function(e,t){var i=t.s,r=t.sc;E8(e)&&(e=q3.scrollingElement||Z3);var s=$1.indexOf(e),o=r===D2.sc?1:2;!~s&&(s=$1.push(e)-1),$1[s+o]||Dn(e,"scroll",zv);var a=$1[s+o],c=a||($1[s+o]=U9(X3(e,i),!0)||(E8(e)?r:U9(function(l){return arguments.length?e[i]=l:e[i]})));return c.target=e,a||(c.smooth="smooth"===X2.getProperty(e,"scrollBehavior")),c},Ev=function(e,t,i){var r=e,s=e,o=z8(),a=o,c=t||50,l=Math.max(500,3*c),u=function(p,m){var g=z8();m||g-o>c?(s=r,r=p,a=o,o=g):i?r+=p:r=s+(p-s)/(g-a)*(o-a)};return{update:u,reset:function(){s=r=i?0:r,a=o=0},getVelocity:function(p){var m=a,g=s,v=z8();return(p||0===p)&&p!==r&&u(p),o===a||v-a>l?0:(r+(i?g:-g))/((i?v:o)-m)*1e3}}},T8=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},NL=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},PL=function(){(A8=X2.core.globals().ScrollTrigger)&&A8.core&&function(){var e=A8.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,$1),r.push.apply(r,o4),$1=i,o4=r,Av=function(o,a){return t[o](a)}}()},IL=function(e){return(X2=e||DL())&&typeof document<"u"&&document.body&&(Ai=window,q3=document,EL=[Ai,q3,Z3=q3.documentElement,g6=q3.body],TL=X2.core.context||function(){},no="onpointerenter"in g6?"pointer":"mouse",zL=y2.isTouch=Ai.matchMedia&&Ai.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Ai||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,Sr=y2.eventTypes=("ontouchstart"in Z3?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Z3?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return LL=0},500),PL(),Sv=1),Sv};Nn.op=D2,$1.cache=0;var y2=function(){function n(t){this.init(t)}return n.prototype.init=function(i){Sv||IL(X2)||console.warn("Please gsap.registerPlugin(Observer)"),A8||PL();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,c=i.lineHeight,l=i.debounce,u=i.preventDefault,f=i.onStop,h=i.onStopDelay,d=i.ignore,p=i.wheelSpeed,m=i.event,g=i.onDragStart,v=i.onDragEnd,M=i.onDrag,x=i.onPress,C=i.onRelease,b=i.onRight,A=i.onLeft,E=i.onUp,D=i.onDown,S=i.onChangeX,z=i.onChangeY,k=i.onChange,Z=i.onToggleX,B=i.onToggleY,F=i.onHover,j=i.onHoverEnd,ne=i.onMove,X=i.ignoreCheck,J=i.isNormalizer,ae=i.onGestureStart,P=i.onGestureEnd,W=i.onWheel,ce=i.onEnable,xe=i.onDisable,_e=i.onClick,Ce=i.scrollSpeed,Ue=i.capture,Pe=i.allowClicks,Be=i.lockAxis,y1=i.onLockAxis;this.target=a=oi(a)||Z3,this.vars=i,d&&(d=X2.utils.toArray(d)),r=r||1e-9,s=s||0,p=p||1,Ce=Ce||1,o=o||"wheel,touch,pointer",l=!1!==l,c||(c=parseFloat(Ai.getComputedStyle(g6).lineHeight)||22);var at,e1,H,fe,re,ge,ue,U=this,Ee=0,Ve=0,f1=Y3(a,Nn),s1=Y3(a,D2),vt=f1(),R=s1(),T=~o.indexOf("touch")&&!~o.indexOf("pointer")&&"pointerdown"===Sr[0],ee=E8(a),he=a.ownerDocument||q3,ye=[0,0,0],be=[0,0,0],Xe=0,Se=function(){return Xe=z8()},oe=function(Ie,T1){return(U.event=Ie)&&d&&~d.indexOf(Ie.target)||T1&&T&&"touch"!==Ie.pointerType||X&&X(Ie,T1)},i1=function(){var Ie=U.deltaX=NL(ye),T1=U.deltaY=NL(be),U1=Math.abs(Ie)>=r,We=Math.abs(T1)>=r;k&&(U1||We)&&k(U,Ie,T1,ye,be),U1&&(b&&U.deltaX>0&&b(U),A&&U.deltaX<0&&A(U),S&&S(U),Z&&U.deltaX<0!=Ee<0&&Z(U),Ee=U.deltaX,ye[0]=ye[1]=ye[2]=0),We&&(D&&U.deltaY>0&&D(U),E&&U.deltaY<0&&E(U),z&&z(U),B&&U.deltaY<0!=Ve<0&&B(U),Ve=U.deltaY,be[0]=be[1]=be[2]=0),(fe||H)&&(ne&&ne(U),H&&(M(U),H=!1),fe=!1),ge&&!(ge=!1)&&y1&&y1(U),re&&(W(U),re=!1),at=0},o1=function(Ie,T1,U1){ye[U1]+=Ie,be[U1]+=T1,U._vx.update(Ie),U._vy.update(T1),l?at||(at=requestAnimationFrame(i1)):i1()},$e=function(Ie,T1){Be&&!ue&&(U.axis=ue=Math.abs(Ie)>Math.abs(T1)?"x":"y",ge=!0),"y"!==ue&&(ye[2]+=Ie,U._vx.update(Ie,!0)),"x"!==ue&&(be[2]+=T1,U._vy.update(T1,!0)),l?at||(at=requestAnimationFrame(i1)):i1()},Ge=function(Ie){if(!oe(Ie,1)){var T1=(Ie=T8(Ie,u)).clientX,U1=Ie.clientY,We=T1-U.x,q1=U1-U.y,m1=U.isDragging;U.x=T1,U.y=U1,(m1||Math.abs(U.startX-T1)>=s||Math.abs(U.startY-U1)>=s)&&(M&&(H=!0),m1||(U.isDragging=!0),$e(We,q1),m1||g&&g(U))}},x1=U.onPress=function(a1){oe(a1,1)||a1&&a1.button||(U.axis=ue=null,e1.pause(),U.isPressed=!0,a1=T8(a1),Ee=Ve=0,U.startX=U.x=a1.clientX,U.startY=U.y=a1.clientY,U._vx.reset(),U._vy.reset(),Dn(J?a:he,Sr[1],Ge,u,!0),U.deltaX=U.deltaY=0,x&&x(U))},nt=U.onRelease=function(a1){if(!oe(a1,1)){Ln(J?a:he,Sr[1],Ge,!0);var Ie=!isNaN(U.y-U.startY),T1=U.isDragging&&(Math.abs(U.x-U.startX)>3||Math.abs(U.y-U.startY)>3),U1=T8(a1);!T1&&Ie&&(U._vx.reset(),U._vy.reset(),u&&Pe&&X2.delayedCall(.08,function(){if(z8()-Xe>300&&!a1.defaultPrevented)if(a1.target.click)a1.target.click();else if(he.createEvent){var We=he.createEvent("MouseEvents");We.initMouseEvent("click",!0,!0,Ai,1,U1.screenX,U1.screenY,U1.clientX,U1.clientY,!1,!1,!1,!1,0,null),a1.target.dispatchEvent(We)}})),U.isDragging=U.isGesturing=U.isPressed=!1,f&&!J&&e1.restart(!0),v&&T1&&v(U),C&&C(U,T1)}},V=function(Ie){return Ie.touches&&Ie.touches.length>1&&(U.isGesturing=!0)&&ae(Ie,U.isDragging)},ze=function(){return(U.isGesturing=!1)||P(U)},Q=function(Ie){if(!oe(Ie)){var T1=f1(),U1=s1();o1((T1-vt)*Ce,(U1-R)*Ce,1),vt=T1,R=U1,f&&e1.restart(!0)}},Me=function(Ie){if(!oe(Ie)){Ie=T8(Ie,u),W&&(re=!0);var T1=(1===Ie.deltaMode?c:2===Ie.deltaMode?Ai.innerHeight:1)*p;o1(Ie.deltaX*T1,Ie.deltaY*T1,0),f&&!J&&e1.restart(!0)}},Ae=function(Ie){if(!oe(Ie)){var T1=Ie.clientX,U1=Ie.clientY,We=T1-U.x,q1=U1-U.y;U.x=T1,U.y=U1,fe=!0,(We||q1)&&$e(We,q1)}},H1=function(Ie){U.event=Ie,F(U)},yt=function(Ie){U.event=Ie,j(U)},At=function(Ie){return oe(Ie)||T8(Ie,u)&&_e(U)};e1=U._dc=X2.delayedCall(h||.25,function(){U._vx.reset(),U._vy.reset(),e1.pause(),f&&f(U)}).pause(),U.deltaX=U.deltaY=0,U._vx=Ev(0,50,!0),U._vy=Ev(0,50,!0),U.scrollX=f1,U.scrollY=s1,U.isDragging=U.isGesturing=U.isPressed=!1,TL(this),U.enable=function(a1){return U.isEnabled||(Dn(ee?he:a,"scroll",zv),o.indexOf("scroll")>=0&&Dn(ee?he:a,"scroll",Q,u,Ue),o.indexOf("wheel")>=0&&Dn(a,"wheel",Me,u,Ue),(o.indexOf("touch")>=0&&zL||o.indexOf("pointer")>=0)&&(Dn(a,Sr[0],x1,u,Ue),Dn(he,Sr[2],nt),Dn(he,Sr[3],nt),Pe&&Dn(a,"click",Se,!1,!0),_e&&Dn(a,"click",At),ae&&Dn(he,"gesturestart",V),P&&Dn(he,"gestureend",ze),F&&Dn(a,no+"enter",H1),j&&Dn(a,no+"leave",yt),ne&&Dn(a,no+"move",Ae)),U.isEnabled=!0,a1&&a1.type&&x1(a1),ce&&ce(U)),U},U.disable=function(){U.isEnabled&&(v6.filter(function(a1){return a1!==U&&E8(a1.target)}).length||Ln(ee?he:a,"scroll",zv),U.isPressed&&(U._vx.reset(),U._vy.reset(),Ln(J?a:he,Sr[1],Ge,!0)),Ln(ee?he:a,"scroll",Q,Ue),Ln(a,"wheel",Me,Ue),Ln(a,Sr[0],x1,Ue),Ln(he,Sr[2],nt),Ln(he,Sr[3],nt),Ln(a,"click",Se,!0),Ln(a,"click",At),Ln(he,"gesturestart",V),Ln(he,"gestureend",ze),Ln(a,no+"enter",H1),Ln(a,no+"leave",yt),Ln(a,no+"move",Ae),U.isEnabled=U.isPressed=U.isDragging=!1,xe&&xe(U))},U.kill=U.revert=function(){U.disable();var a1=v6.indexOf(U);a1>=0&&v6.splice(a1,1),V4===U&&(V4=0)},v6.push(U),J&&E8(a)&&(V4=U),U.enable(m)},function ule(n,e,t){e&&AL(n.prototype,e),t&&AL(n,t)}(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();y2.version="3.12.2",y2.create=function(n){return new y2(n)},y2.register=IL,y2.getAll=function(){return v6.slice()},y2.getById=function(n){return v6.filter(function(e){return e.vars.id===n})[0]},DL()&&X2.registerPlugin(y2);var qe,y6,tt,Zt,Ar,Pt,RL,B9,G9,_6,W9,j9,pn,$9,Tv,Pn,HL,VL,M6,OL,Dv,FL,zi,kL,UL,BL,J3,Lv,Nv,x6,Pv,Iv,V8,Hn,oN,F8,q9=1,In=Date.now,Rv=In(),er=0,D8=0,GL=function(e,t,i){var r=Ei(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},WL=function(e,t){return!t||Ei(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},dle=function n(){return D8&&requestAnimationFrame(n)},jL=function(){return $9=1},$L=function(){return $9=0},a4=function(e){return e},L8=function(e){return Math.round(1e5*e)/1e5||0},qL=function(){return typeof window<"u"},ZL=function(){return qe||qL()&&(qe=window.gsap)&&qe.registerPlugin&&qe},io=function(e){return!!~RL.indexOf(e)},XL=function(e){return("Height"===e?Pv:tt["inner"+e])||Ar["client"+e]||Pt["client"+e]},YL=function(e){return X3(e,"getBoundingClientRect")||(io(e)?function(){return ou.width=tt.innerWidth,ou.height=Pv,ou}:function(){return F4(e)})},O4=function(e,t){var i,r=t.d2,s=t.d,o=t.a;return Math.max(0,(i="scroll"+r)&&(o=X3(e,i))?o()-YL(e)()[s]:io(e)?(Ar[i]||Pt[i])-XL(r):e[i]-e["offset"+r])},Z9=function(e,t){for(var i=0;i<M6.length;i+=3)(!t||~t.indexOf(M6[i+1]))&&e(M6[i],M6[i+1],M6[i+2])},Ei=function(e){return"string"==typeof e},Rn=function(e){return"function"==typeof e},X9=function(e){return"number"==typeof e},ro=function(e){return"object"==typeof e},N8=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},Hv=function(e,t){if(e.enabled){var i=t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},C6=Math.abs,Vv="right",Ov="bottom",so="width",oo="height",P8="Right",I8="Left",R8="Top",H8="Bottom",_2="padding",tr="margin",b6="Width",Fv="Height",Y2="px",nr=function(e){return tt.getComputedStyle(e)},QL=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},F4=function(e,t){var i=t&&"matrix(1, 0, 0, 1, 0, 0)"!==nr(e)[Tv]&&qe.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},kv=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},eN=function(e){var s,t=[],i=e.labels,r=e.duration();for(s in i)t.push(i[s]/r);return t},Uv=function(e){var t=qe.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){var a;if(void 0===o&&(o=.001),!s)return t(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){void 0===o&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},Y9=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},O2=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},F2=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},J9=function(e,t,i){(i=i&&i.wheelHandler)&&(e(t,"wheel",i),e(t,"touchmove",i))},tN={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},K9={toggleActions:"play",anticipatePin:0},Q9={top:0,left:0,center:.5,bottom:1,right:1},eu=function(e,t){if(Ei(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in Q9?Q9[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},tu=function(e,t,i,r,s,o,a,c){var l=s.startColor,u=s.endColor,f=s.fontSize,h=s.indent,d=s.fontWeight,p=Zt.createElement("div"),m=io(i)||"fixed"===X3(i,"pinType"),g=-1!==e.indexOf("scroller"),v=m?Pt:i,M=-1!==e.indexOf("start"),x=M?l:u,C="border-color:"+x+";font-size:"+f+";color:"+x+";font-weight:"+d+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return C+="position:"+((g||c)&&m?"fixed;":"absolute;"),(g||c||!m)&&(C+=(r===D2?Vv:Ov)+":"+(o+parseFloat(h))+"px;"),a&&(C+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=M,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=C,p.innerText=t||0===t?e+"-"+t:e,v.children[0]?v.insertBefore(p,v.children[0]):v.appendChild(p),p._offset=p["offset"+r.op.d2],nu(p,0,r,M),p},nu=function(e,t,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+b6]=1,s["border"+a+b6]=0,s[i.p]=t+"px",qe.set(e,s)},k1=[],Bv={},nN=function(){return In()-er>34&&(V8||(V8=requestAnimationFrame(k4)))},w6=function(){(!zi||!zi.isPressed||zi.startX>Pt.clientWidth)&&($1.cache++,zi?V8||(V8=requestAnimationFrame(k4)):k4(),er||co("scrollStart"),er=In())},Gv=function(){BL=tt.innerWidth,UL=tt.innerHeight},O8=function(){$1.cache++,!pn&&!FL&&!Zt.fullscreenElement&&!Zt.webkitFullscreenElement&&(!kL||BL!==tt.innerWidth||Math.abs(tt.innerHeight-UL)>.25*tt.innerHeight)&&B9.restart(!0)},ao={},_le=[],iN=function n(){return F2(J1,"scrollEnd",n)||uo(!0)},co=function(e){return ao[e]&&ao[e].map(function(t){return t()})||_le},Ti=[],rN=function(e){for(var t=0;t<Ti.length;t+=5)(!e||Ti[t+4]&&Ti[t+4].query===e)&&(Ti[t].style.cssText=Ti[t+1],Ti[t].getBBox&&Ti[t].setAttribute("transform",Ti[t+2]||""),Ti[t+3].uncache=1)},Wv=function(e,t){var i;for(Pn=0;Pn<k1.length;Pn++)(i=k1[Pn])&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));t&&rN(t),t||co("revert")},sN=function(e,t){$1.cache++,(t||!Hn)&&$1.forEach(function(i){return Rn(i)&&i.cacheID++&&(i.rec=0)}),Ei(e)&&(tt.history.scrollRestoration=Nv=e)},lo=0,aN=function(){Pt.appendChild(x6),Pv=x6.offsetHeight||tt.innerHeight,Pt.removeChild(x6)},uo=function(e,t){if(!er||e){aN(),Hn=J1.isRefreshing=!0,$1.forEach(function(r){return Rn(r)&&++r.cacheID&&(r.rec=r())});var i=co("refreshInit");OL&&J1.sort(),t||Wv(),$1.forEach(function(r){Rn(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),k1.slice(0).forEach(function(r){return r.refresh()}),k1.forEach(function(r,s){if(r._subPinOffset&&r.pin){var o=r.vars.horizontal?"offsetWidth":"offsetHeight",a=r.pin[o];r.revert(!0,1),r.adjustPinSpacing(r.pin[o]-a),r.refresh()}}),k1.forEach(function(r){var s=O4(r.scroller,r._dir);("max"===r.vars.end||r._endClamp&&r.end>s)&&r.setPositions(r.start,Math.max(r.start+1,s),!0)}),i.forEach(function(r){return r&&r.render&&r.render(-1)}),$1.forEach(function(r){Rn(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),sN(Nv,1),B9.pause(),lo++,Hn=2,k4(2),k1.forEach(function(r){return Rn(r.vars.onRefresh)&&r.vars.onRefresh(r)}),Hn=J1.isRefreshing=!1,co("refresh")}else O2(J1,"scrollEnd",iN)},jv=0,iu=1,k4=function(e){if(!Hn||2===e){J1.isUpdating=!0,F8&&F8.update(0);var t=k1.length,i=In(),r=i-Rv>=50,s=t&&k1[0].scroll();if(iu=jv>s?-1:1,Hn||(jv=s),r&&(er&&!$9&&i-er>200&&(er=0,co("scrollEnd")),W9=Rv,Rv=i),iu<0){for(Pn=t;Pn-- >0;)k1[Pn]&&k1[Pn].update(0,r);iu=1}else for(Pn=0;Pn<t;Pn++)k1[Pn]&&k1[Pn].update(0,r);J1.isUpdating=!1}V8=0},$v=["left","top",Ov,Vv,tr+H8,tr+P8,tr+R8,tr+I8,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],ru=$v.concat([so,oo,"boxSizing","max"+b6,"max"+Fv,"position",tr,_2,_2+R8,_2+P8,_2+H8,_2+I8]),qv=function(e,t,i,r){if(!e._gsap.swappedIn){for(var c,s=$v.length,o=t.style,a=e.style;s--;)o[c=$v[s]]=i[c];o.position="absolute"===i.position?"absolute":"relative","inline"===i.display&&(o.display="inline-block"),a[Ov]=a[Vv]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[so]=kv(e,Nn)+Y2,o[oo]=kv(e,D2)+Y2,o[_2]=a[tr]=a.top=a.left="0",S6(r),a[so]=a["max"+b6]=i[so],a[oo]=a["max"+Fv]=i[oo],a[_2]=i[_2],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},Cle=/([A-Z])/g,S6=function(e){if(e){var s,o,t=e.t.style,i=e.length,r=0;for((e.t._gsap||qe.core.getCache(e.t)).uncache=1;r<i;r+=2)s=e[r],(o=e[r+1])?t[s]=o:t[s]&&t.removeProperty(s.replace(Cle,"-$1").toLowerCase())}},su=function(e){for(var t=ru.length,i=e.style,r=[],s=0;s<t;s++)r.push(ru[s],i[ru[s]]);return r.t=e,r},ou={left:0,top:0},cN=function(e,t,i,r,s,o,a,c,l,u,f,h,d,p){Rn(e)&&(e=e(c)),Ei(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?eu("0"+e.substr(3),i):0));var g,v,M,m=d?d.time():0;if(d&&d.seek(0),isNaN(e)||(e=+e),X9(e))d&&(e=qe.utils.mapRange(d.scrollTrigger.start,d.scrollTrigger.end,0,h,e)),a&&nu(a,i,r,!0);else{Rn(t)&&(t=t(c));var C,b,A,E,x=(e||"0").split(" ");M=oi(t,c)||Pt,(!(C=F4(M)||{})||!C.left&&!C.top)&&"none"===nr(M).display&&(E=M.style.display,M.style.display="block",C=F4(M),E?M.style.display=E:M.style.removeProperty("display")),b=eu(x[0],C[r.d]),A=eu(x[1]||"0",i),e=C[r.p]-l[r.p]-u+b+s-A,a&&nu(a,A,r,i-A<20||a._isStart&&A>20),i-=i-A}if(p&&(c[p]=e||-.001,e<0&&(e=0)),o){var D=e+i,S=o._isStart;g="scroll"+r.d2,nu(o,D,r,S&&D>20||!S&&(f?Math.max(Pt[g],Ar[g]):o.parentNode[g])<=D+1),f&&(l=F4(a),f&&(o.style[r.op.p]=l[r.op.p]-r.op.m-o._offset+Y2))}return d&&M&&(g=F4(M),d.seek(h),v=F4(M),d._caScrollDist=g[r.p]-v[r.p],e=e/d._caScrollDist*h),d&&d.seek(m),d?e:Math.round(e)},wle=/(webkit|moz|length|cssText|inset)/i,lN=function(e,t,i,r){if(e.parentNode!==t){var o,a,s=e.style;if(t===Pt){for(o in e._stOrig=s.cssText,a=nr(e))!+o&&!wle.test(o)&&a[o]&&"string"==typeof s[o]&&"0"!==o&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=e._stOrig;qe.core.getCache(e).uncache=1,t.appendChild(e)}},uN=function(e,t,i){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=o,o}},au=function(e,t,i){var r={};r[t.p]="+="+i,qe.set(e,r)},fN=function(e,t){var i=Y3(e,t),r="_scroll"+t.p2,s=function o(a,c,l,u,f){var h=o.tween,d=c.onComplete,p={};l=l||i();var m=uN(i,l,function(){h.kill(),o.tween=0});return f=u&&f||0,u=u||a-l,h&&h.kill(),c[r]=a,c.modifiers=p,p[r]=function(){return m(l+u*h.ratio+f*h.ratio*h.ratio)},c.onUpdate=function(){$1.cache++,k4()},c.onComplete=function(){o.tween=0,d&&d.call(h)},h=o.tween=qe.to(e,c)};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},O2(e,"wheel",i.wheelHandler),J1.isTouch&&O2(e,"touchmove",i.wheelHandler),s},J1=function(){function n(t,i){y6||n.register(qe)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),Lv(this),this.init(t,i)}return n.prototype.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),D8){var Be,y1,at,e1,H,fe,re,ge,ue,U,Ee,Ve,f1,s1,vt,R,T,ee,he,ye,be,Xe,Se,oe,Ze,i1,o1,$e,Ge,x1,nt,V,ze,Q,Me,Ae,H1,yt,At,o=(i=QL(Ei(i)||X9(i)||i.nodeType?{trigger:i}:i,K9)).onUpdate,a=i.toggleClass,c=i.id,l=i.onToggle,u=i.onRefresh,f=i.scrub,h=i.trigger,d=i.pin,p=i.pinSpacing,m=i.invalidateOnRefresh,g=i.anticipatePin,v=i.onScrubComplete,M=i.onSnapComplete,x=i.once,C=i.snap,b=i.pinReparent,A=i.pinSpacer,E=i.containerAnimation,D=i.fastScrollEnd,S=i.preventOverlaps,z=i.horizontal||i.containerAnimation&&!1!==i.horizontal?Nn:D2,k=!f&&0!==f,Z=oi(i.scroller||tt),B=qe.core.getCache(Z),F=io(Z),j="fixed"===("pinType"in i?i.pinType:X3(Z,"pinType")||F&&"fixed"),ne=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],X=k&&i.toggleActions.split(" "),J="markers"in i?i.markers:K9.markers,ae=F?0:parseFloat(nr(Z)["border"+z.p2+b6])||0,P=this,W=i.onRefreshInit&&function(){return i.onRefreshInit(P)},ce=function(e,t,i){var r=i.d,s=i.d2,o=i.a;return(o=X3(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?XL(s):e["client"+s])||0}}(Z,F,z),xe=function(e,t){return!t||~o4.indexOf(e)?YL(e):function(){return ou}}(Z,F),_e=0,Ce=0,Ue=0,Pe=Y3(Z,z);if(P._startClamp=P._endClamp=!1,P._dir=z,g*=45,P.scroller=Z,P.scroll=E?E.time.bind(E):Pe,e1=Pe(),P.vars=i,r=r||i.animation,"refreshPriority"in i&&(OL=1,-9999===i.refreshPriority&&(F8=P)),B.tweenScroll=B.tweenScroll||{top:fN(Z,D2),left:fN(Z,Nn)},P.tweenTo=Be=B.tweenScroll[z.p],P.scrubDuration=function(We){(ze=X9(We)&&We)?V?V.duration(We):V=qe.to(r,{ease:"expo",totalProgress:"+=0",duration:ze,paused:!0,onComplete:function(){return v&&v(P)}}):(V&&V.progress(1).kill(),V=0)},r&&(r.vars.lazy=!1,r._initted&&!P.isReverted||!1!==r.vars.immediateRender&&!1!==i.immediateRender&&r.duration()&&r.render(0,!0,!0),P.animation=r.pause(),r.scrollTrigger=P,P.scrubDuration(f),x1=0,c||(c=r.vars.id)),C&&((!ro(C)||C.push)&&(C={snapTo:C}),"scrollBehavior"in Pt.style&&qe.set(F?[Pt,Ar]:Z,{scrollBehavior:"auto"}),$1.forEach(function(We){return Rn(We)&&We.target===(F?Zt.scrollingElement||Ar:Z)&&(We.smooth=!1)}),at=Rn(C.snapTo)?C.snapTo:"labels"===C.snapTo?function(e){return function(t){return qe.utils.snap(eN(e),t)}}(r):"labelsDirectional"===C.snapTo?function(e){return function(t,i){return Uv(eN(e))(t,i.direction)}}(r):!1!==C.directional?function(We,q1){return Uv(C.snapTo)(We,In()-Ce<500?0:q1.direction)}:qe.utils.snap(C.snapTo),Q=ro(Q=C.duration||{min:.1,max:2})?_6(Q.min,Q.max):_6(Q,Q),Me=qe.delayedCall(C.delay||ze/2||.1,function(){var We=Pe(),q1=In()-Ce<500,m1=Be.tween;if(!(q1||Math.abs(P.getVelocity())<10)||m1||$9||_e===We)P.isActive&&_e!==We&&Me.restart(!0);else{var D1=(We-fe)/s1,f2=r&&!k?r.totalProgress():D1,B1=q1?0:(f2-nt)/(In()-W9)*1e3||0,Ut=qe.utils.clamp(-D1,1-D1,C6(B1/2)*B1/.185),J2=D1+(!1===C.inertia?0:Ut),P2=_6(0,1,at(J2,P)),Rt=Math.round(fe+P2*s1),Y=C.onStart,K=C.onInterrupt,q=C.onComplete;if(We<=re&&We>=fe&&Rt!==We){if(m1&&!m1._initted&&m1.data<=C6(Rt-We))return;!1===C.inertia&&(Ut=P2-D1),Be(Rt,{duration:Q(C6(.185*Math.max(C6(J2-f2),C6(P2-f2))/B1/.05||0)),ease:C.ease||"power3",data:C6(Rt-We),onInterrupt:function(){return Me.restart(!0)&&K&&K(P)},onComplete:function(){P.update(),_e=Pe(),x1=nt=r&&!k?r.totalProgress():P.progress,M&&M(P),q&&q(P)}},We,Ut*s1,Rt-We-Ut*s1),Y&&Y(P,Be.tween)}}}).pause()),c&&(Bv[c]=P),(At=(h=P.trigger=oi(h||!0!==d&&d))&&h._gsap&&h._gsap.stRevert)&&(At=At(P)),d=!0===d?h:oi(d),Ei(a)&&(a={targets:h,className:a}),d&&(!1===p||p===tr||(p=!(!p&&d.parentNode&&d.parentNode.style&&"flex"===nr(d.parentNode).display)&&_2),P.pin=d,(y1=qe.core.getCache(d)).spacer?vt=y1.pinState:(A&&((A=oi(A))&&!A.nodeType&&(A=A.current||A.nativeElement),y1.spacerIsNative=!!A,A&&(y1.spacerState=su(A))),y1.spacer=ee=A||Zt.createElement("div"),ee.classList.add("pin-spacer"),c&&ee.classList.add("pin-spacer-"+c),y1.pinState=vt=su(d)),!1!==i.force3D&&qe.set(d,{force3D:!0}),P.spacer=ee=y1.spacer,Ge=nr(d),oe=Ge[p+z.os2],ye=qe.getProperty(d),be=qe.quickSetter(d,z.a,Y2),qv(d,ee,Ge),T=su(d)),J){Ve=ro(J)?QL(J,tN):tN,U=tu("scroller-start",c,Z,z,Ve,0),Ee=tu("scroller-end",c,Z,z,Ve,0,U),he=U["offset"+z.op.d2];var a1=oi(X3(Z,"content")||Z);ge=this.markerStart=tu("start",c,a1,z,Ve,he,0,E),ue=this.markerEnd=tu("end",c,a1,z,Ve,he,0,E),E&&(yt=qe.quickSetter([ge,ue],z.a,Y2)),!j&&(!o4.length||!0!==X3(Z,"fixedMarkers"))&&(function(e){var t=nr(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"}(F?Pt:Z),qe.set([U,Ee],{force3D:!0}),i1=qe.quickSetter(U,z.a,Y2),$e=qe.quickSetter(Ee,z.a,Y2))}if(E){var Ie=E.vars.onUpdate,T1=E.vars.onUpdateParams;E.eventCallback("onUpdate",function(){P.update(0,0,1),Ie&&Ie.apply(E,T1||[])})}if(P.previous=function(){return k1[k1.indexOf(P)-1]},P.next=function(){return k1[k1.indexOf(P)+1]},P.revert=function(We,q1){if(!q1)return P.kill(!0);var m1=!1!==We||!P.enabled,D1=pn;m1!==P.isReverted&&(m1&&(Ae=Math.max(Pe(),P.scroll.rec||0),Ue=P.progress,H1=r&&r.progress()),ge&&[ge,ue,U,Ee].forEach(function(f2){return f2.style.display=m1?"none":"block"}),m1&&(pn=P,P.update(m1)),d&&(!b||!P.isActive)&&(m1?function(e,t,i){S6(i);var r=e._gsap;if(r.spacerIsNative)S6(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1}(d,ee,vt):qv(d,ee,nr(d),Ze)),m1||P.update(m1),pn=D1,P.isReverted=m1)},P.refresh=function(We,q1,m1,D1){if(!pn&&P.enabled||q1){if(d&&We&&er)return void O2(n,"scrollEnd",iN);!Hn&&W&&W(P),pn=P,Be.tween&&!m1&&(Be.tween.kill(),Be.tween=0),V&&V.pause(),m&&r&&r.revert({kill:!1}).invalidate(),P.isReverted||P.revert(!0,!0),P._subPinOffset=!1;var je,Qe,c1,L1,n1,t1,ct,Ht,ui,kn,dt,V1,ls,f2=ce(),B1=xe(),Ut=E?E.duration():O4(Z,z),J2=s1<=.01,P2=0,Rt=D1||0,L=ro(m1)?m1.end:i.end,Y=i.endTrigger||h,K=ro(m1)?m1.start:i.start||(0!==i.start&&h?d?"0 0":"0 100%":0),q=P.pinnedContainer=i.pinnedContainer&&oi(i.pinnedContainer,P),se=h&&Math.max(0,k1.indexOf(P))||0,De=se;for(J&&ro(m1)&&(V1=qe.getProperty(U,z.p),ls=qe.getProperty(Ee,z.p));De--;)(t1=k1[De]).end||t1.refresh(0,1)||(pn=P),(ct=t1.pin)&&(ct===h||ct===d||ct===q)&&!t1.isReverted&&(kn||(kn=[]),kn.unshift(t1),t1.revert(!0,!0)),t1!==k1[De]&&(se--,De--);for(Rn(K)&&(K=K(P)),K=GL(K,"start",P),fe=cN(K,h,f2,z,Pe(),ge,U,P,B1,ae,j,Ut,E,P._startClamp&&"_startClamp")||(d?-.001:0),Rn(L)&&(L=L(P)),Ei(L)&&!L.indexOf("+=")&&(~L.indexOf(" ")?L=(Ei(K)?K.split(" ")[0]:"")+L:(P2=eu(L.substr(2),f2),L=Ei(K)?K:(E?qe.utils.mapRange(0,E.duration(),E.scrollTrigger.start,E.scrollTrigger.end,fe):fe)+P2,Y=h)),L=GL(L,"end",P),re=Math.max(fe,cN(L||(Y?"100% 0":Ut),Y,f2,z,Pe()+P2,ue,Ee,P,B1,ae,j,Ut,E,P._endClamp&&"_endClamp"))||-.001,P2=0,De=se;De--;)(ct=(t1=k1[De]).pin)&&t1.start-t1._pinPush<=fe&&!E&&t1.end>0&&(je=t1.end-(P._startClamp?Math.max(0,t1.start):t1.start),(ct===h&&t1.start-t1._pinPush<fe||ct===q)&&isNaN(K)&&(P2+=je*(1-t1.progress)),ct===d&&(Rt+=je));if(fe+=P2,re+=P2,P._startClamp&&(P._startClamp+=P2),P._endClamp&&!Hn&&(P._endClamp=re||-.001,re=Math.min(re,O4(Z,z))),s1=re-fe||(fe-=.01)&&.001,J2&&(Ue=qe.utils.clamp(0,1,qe.utils.normalize(fe,re,Ae))),P._pinPush=Rt,ge&&P2&&((je={})[z.a]="+="+P2,q&&(je[z.p]="-="+Pe()),qe.set([ge,ue],je)),d)je=nr(d),L1=z===D2,c1=Pe(),Xe=parseFloat(ye(z.a))+Rt,!Ut&&re>1&&(dt={style:dt=(F?Zt.scrollingElement||Ar:Z).style,value:dt["overflow"+z.a.toUpperCase()]},F&&"scroll"!==nr(Pt)["overflow"+z.a.toUpperCase()]&&(dt.style["overflow"+z.a.toUpperCase()]="scroll")),qv(d,ee,je),T=su(d),Qe=F4(d,!0),Ht=j&&Y3(Z,L1?Nn:D2)(),p&&((Ze=[p+z.os2,s1+Rt+Y2]).t=ee,(De=p===_2?kv(d,z)+s1+Rt:0)&&Ze.push(z.d,De+Y2),S6(Ze),q&&k1.forEach(function(Bt){Bt.pin===q&&!1!==Bt.vars.pinSpacing&&(Bt._subPinOffset=!0)}),j&&Pe(Ae)),j&&((n1={top:Qe.top+(L1?c1-fe:Ht)+Y2,left:Qe.left+(L1?Ht:c1-fe)+Y2,boxSizing:"border-box",position:"fixed"})[so]=n1["max"+b6]=Math.ceil(Qe.width)+Y2,n1[oo]=n1["max"+Fv]=Math.ceil(Qe.height)+Y2,n1[tr]=n1[tr+R8]=n1[tr+P8]=n1[tr+H8]=n1[tr+I8]="0",n1[_2]=je[_2],n1[_2+R8]=je[_2+R8],n1[_2+P8]=je[_2+P8],n1[_2+H8]=je[_2+H8],n1[_2+I8]=je[_2+I8],R=function(e,t,i){for(var a,r=[],s=e.length,o=i?8:0;o<s;o+=2)r.push(a=e[o],a in t?t[a]:e[o+1]);return r.t=e.t,r}(vt,n1,b),Hn&&Pe(0)),r?(ui=r._initted,Dv(1),r.render(r.duration(),!0,!0),Se=ye(z.a)-Xe+s1+Rt,o1=Math.abs(s1-Se)>1,j&&o1&&R.splice(R.length-2,2),r.render(0,!0,!0),ui||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),Dv(0)):Se=s1,dt&&(dt.value?dt.style["overflow"+z.a.toUpperCase()]=dt.value:dt.style.removeProperty("overflow-"+z.a));else if(h&&Pe()&&!E)for(Qe=h.parentNode;Qe&&Qe!==Pt;)Qe._pinOffset&&(fe-=Qe._pinOffset,re-=Qe._pinOffset),Qe=Qe.parentNode;kn&&kn.forEach(function(Bt){return Bt.revert(!1,!0)}),P.start=fe,P.end=re,e1=H=Hn?Ae:Pe(),!E&&!Hn&&(e1<Ae&&Pe(Ae),P.scroll.rec=0),P.revert(!1,!0),Ce=In(),Me&&(_e=-1,Me.restart(!0)),pn=0,r&&k&&(r._initted||H1)&&r.progress()!==H1&&r.progress(H1||0,!0).render(r.time(),!0,!0),(J2||Ue!==P.progress||E)&&(r&&!k&&r.totalProgress(E&&fe<-.001&&!Ue?qe.utils.normalize(fe,re,0):Ue,!0),P.progress=J2||(e1-fe)/s1===Ue?0:Ue),d&&p&&(ee._pinOffset=Math.round(P.progress*Se)),V&&V.invalidate(),isNaN(V1)||(V1-=qe.getProperty(U,z.p),ls-=qe.getProperty(Ee,z.p),au(U,z,V1),au(ge,z,V1-(D1||0)),au(Ee,z,ls),au(ue,z,ls-(D1||0))),J2&&!Hn&&P.update(),u&&!Hn&&!f1&&(f1=!0,u(P),f1=!1)}},P.getVelocity=function(){return(Pe()-H)/(In()-W9)*1e3||0},P.endAnimation=function(){N8(P.callbackAnimation),r&&(V?V.progress(1):r.paused()?k||N8(r,P.direction<0,1):N8(r,r.reversed()))},P.labelToScroll=function(We){return r&&r.labels&&(fe||P.refresh()||fe)+r.labels[We]/r.duration()*s1||0},P.getTrailing=function(We){var q1=k1.indexOf(P),m1=P.direction>0?k1.slice(0,q1).reverse():k1.slice(q1+1);return(Ei(We)?m1.filter(function(D1){return D1.vars.preventOverlaps===We}):m1).filter(function(D1){return P.direction>0?D1.end<=fe:D1.start>=re})},P.update=function(We,q1,m1){if(!E||m1||We){var J2,Rt,L,Y,K,q,se,D1=!0===Hn?Ae:P.scroll(),f2=We?0:(D1-fe)/s1,B1=f2<0?0:f2>1?1:f2||0,Ut=P.progress;if(q1&&(H=e1,e1=E?Pe():D1,C&&(nt=x1,x1=r&&!k?r.totalProgress():B1)),g&&!B1&&d&&!pn&&!q9&&er&&fe<D1+(D1-H)/(In()-W9)*g&&(B1=1e-4),B1!==Ut&&P.enabled){if(Y=(K=(J2=P.isActive=!!B1&&B1<1)!=(!!Ut&&Ut<1))||!!B1!=!!Ut,P.direction=B1>Ut?1:-1,P.progress=B1,Y&&!pn&&(Rt=B1&&!Ut?0:1===B1?1:1===Ut?2:3,k&&(L=!K&&"none"!==X[Rt+1]&&X[Rt+1]||X[Rt],se=r&&("complete"===L||"reset"===L||L in r))),S&&(K||se)&&(se||f||!r)&&(Rn(S)?S(P):P.getTrailing(S).forEach(function(c1){return c1.endAnimation()})),k||(!V||pn||q9?r&&r.totalProgress(B1,!(!pn||!Ce&&!We)):(V._dp._time-V._start!==V._time&&V.render(V._dp._time-V._start),V.resetTo?V.resetTo("totalProgress",B1,r._tTime/r._tDur):(V.vars.totalProgress=B1,V.invalidate().restart()))),d)if(We&&p&&(ee.style[p+z.os2]=oe),j){if(Y){if(q=!We&&B1>Ut&&re+1>D1&&D1+1>=O4(Z,z),b)if(We||!J2&&!q)lN(d,ee);else{var De=F4(d,!0),je=D1-fe;lN(d,Pt,De.top+(z===D2?je:0)+Y2,De.left+(z===D2?0:je)+Y2)}S6(J2||q?R:T),o1&&B1<1&&J2||be(Xe+(1!==B1||q?0:Se))}}else be(L8(Xe+Se*B1));C&&!Be.tween&&!pn&&!q9&&Me.restart(!0),a&&(K||x&&B1&&(B1<1||!Iv))&&G9(a.targets).forEach(function(c1){return c1.classList[J2||x?"add":"remove"](a.className)}),o&&!k&&!We&&o(P),Y&&!pn?(k&&(se&&("complete"===L?r.pause().totalProgress(1):"reset"===L?r.restart(!0).pause():"restart"===L?r.restart(!0):r[L]()),o&&o(P)),(K||!Iv)&&(l&&K&&Hv(P,l),ne[Rt]&&Hv(P,ne[Rt]),x&&(1===B1?P.kill(!1,1):ne[Rt]=0),K||ne[Rt=1===B1?1:3]&&Hv(P,ne[Rt])),D&&!J2&&Math.abs(P.getVelocity())>(X9(D)?D:2500)&&(N8(P.callbackAnimation),V?V.progress(1):N8(r,"reverse"===L?1:!B1,1))):k&&o&&!pn&&o(P)}if($e){var Qe=E?D1/E.duration()*(E._caScrollDist||0):D1;i1(Qe+(U._isFlipped?1:0)),$e(Qe)}yt&&yt(-D1/E.duration()*(E._caScrollDist||0))}},P.enable=function(We,q1){P.enabled||(P.enabled=!0,O2(Z,"resize",O8),F||O2(Z,"scroll",w6),W&&O2(n,"refreshInit",W),!1!==We&&(P.progress=Ue=0,e1=H=_e=Pe()),!1!==q1&&P.refresh())},P.getTween=function(We){return We&&Be?Be.tween:V},P.setPositions=function(We,q1,m1,D1){if(E){var f2=E.scrollTrigger,B1=E.duration(),Ut=f2.end-f2.start;We=f2.start+Ut*We/B1,q1=f2.start+Ut*q1/B1}P.refresh(!1,!1,{start:WL(We,m1&&!!P._startClamp),end:WL(q1,m1&&!!P._endClamp)},D1),P.update()},P.adjustPinSpacing=function(We){if(Ze&&We){var q1=Ze.indexOf(z.d)+1;Ze[q1]=parseFloat(Ze[q1])+We+Y2,Ze[1]=parseFloat(Ze[1])+We+Y2,S6(Ze)}},P.disable=function(We,q1){if(P.enabled&&(!1!==We&&P.revert(!0,!0),P.enabled=P.isActive=!1,q1||V&&V.pause(),Ae=0,y1&&(y1.uncache=1),W&&F2(n,"refreshInit",W),Me&&(Me.pause(),Be.tween&&Be.tween.kill()&&(Be.tween=0)),!F)){for(var m1=k1.length;m1--;)if(k1[m1].scroller===Z&&k1[m1]!==P)return;F2(Z,"resize",O8),F||F2(Z,"scroll",w6)}},P.kill=function(We,q1){P.disable(We,q1),V&&!q1&&V.kill(),c&&delete Bv[c];var m1=k1.indexOf(P);m1>=0&&k1.splice(m1,1),m1===Pn&&iu>0&&Pn--,m1=0,k1.forEach(function(D1){return D1.scroller===P.scroller&&(m1=1)}),m1||Hn||(P.scroll.rec=0),r&&(r.scrollTrigger=null,We&&r.revert({kill:!1}),q1||r.kill()),ge&&[ge,ue,U,Ee].forEach(function(D1){return D1.parentNode&&D1.parentNode.removeChild(D1)}),F8===P&&(F8=0),d&&(y1&&(y1.uncache=1),m1=0,k1.forEach(function(D1){return D1.pin===d&&m1++}),m1||(y1.spacer=0)),i.onKill&&i.onKill(P)},k1.push(P),P.enable(!1,!1),At&&At(P),r&&r.add&&!s1){var U1=P.update;P.update=function(){P.update=U1,fe||re||P.refresh()},qe.delayedCall(.01,P.update),s1=.01,fe=re=0}else P.refresh();d&&function(){if(oN!==lo){var e=oN=lo;requestAnimationFrame(function(){return e===lo&&uo(!0)})}}()}else this.update=this.refresh=this.kill=a4},n.register=function(i){return y6||(qe=i||ZL(),qL()&&window.document&&n.enable(),y6=D8),y6},n.defaults=function(i){if(i)for(var r in i)K9[r]=i[r];return K9},n.disable=function(i,r){D8=0,k1.forEach(function(o){return o[r?"kill":"disable"](i)}),F2(tt,"wheel",w6),F2(Zt,"scroll",w6),clearInterval(j9),F2(Zt,"touchcancel",a4),F2(Pt,"touchstart",a4),Y9(F2,Zt,"pointerdown,touchstart,mousedown",jL),Y9(F2,Zt,"pointerup,touchend,mouseup",$L),B9.kill(),Z9(F2);for(var s=0;s<$1.length;s+=3)J9(F2,$1[s],$1[s+1]),J9(F2,$1[s],$1[s+2])},n.enable=function(){if(tt=window,Zt=document,Ar=Zt.documentElement,Pt=Zt.body,qe&&(G9=qe.utils.toArray,_6=qe.utils.clamp,Lv=qe.core.context||a4,Dv=qe.core.suppressOverwrites||a4,Nv=tt.history.scrollRestoration||"auto",jv=tt.pageYOffset,qe.core.globals("ScrollTrigger",n),Pt)){D8=1,(x6=document.createElement("div")).style.height="100vh",x6.style.position="absolute",aN(),dle(),y2.register(qe),n.isTouch=y2.isTouch,J3=y2.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),O2(tt,"wheel",w6),RL=[tt,Zt,Ar,Pt],qe.matchMedia?(n.matchMedia=function(c){var u,l=qe.matchMedia();for(u in c)l.add(u,c[u]);return l},qe.addEventListener("matchMediaInit",function(){return Wv()}),qe.addEventListener("matchMediaRevert",function(){return rN()}),qe.addEventListener("matchMedia",function(){uo(0,1),co("matchMedia")}),qe.matchMedia("(orientation: portrait)",function(){return Gv(),Gv})):console.warn("Requires GSAP 3.11.0 or later"),Gv(),O2(Zt,"scroll",w6);var o,a,i=Pt.style,r=i.borderTopStyle,s=qe.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",o=F4(Pt),D2.m=Math.round(o.top+D2.sc())||0,Nn.m=Math.round(o.left+Nn.sc())||0,r?i.borderTopStyle=r:i.removeProperty("border-top-style"),j9=setInterval(nN,250),qe.delayedCall(.5,function(){return q9=0}),O2(Zt,"touchcancel",a4),O2(Pt,"touchstart",a4),Y9(O2,Zt,"pointerdown,touchstart,mousedown",jL),Y9(O2,Zt,"pointerup,touchend,mouseup",$L),Tv=qe.utils.checkPrefix("transform"),ru.push(Tv),y6=In(),B9=qe.delayedCall(.2,uo).pause(),M6=[Zt,"visibilitychange",function(){var c=tt.innerWidth,l=tt.innerHeight;Zt.hidden?(HL=c,VL=l):(HL!==c||VL!==l)&&O8()},Zt,"DOMContentLoaded",uo,tt,"load",uo,tt,"resize",O8],Z9(O2),k1.forEach(function(c){return c.enable(0,1)}),a=0;a<$1.length;a+=3)J9(F2,$1[a],$1[a+1]),J9(F2,$1[a],$1[a+2])}},n.config=function(i){"limitCallbacks"in i&&(Iv=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(j9)||(j9=r)&&setInterval(nN,r),"ignoreMobileResize"in i&&(kL=1===n.isTouch&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(Z9(F2)||Z9(O2,i.autoRefreshEvents||"none"),FL=-1===(i.autoRefreshEvents+"").indexOf("resize"))},n.scrollerProxy=function(i,r){var s=oi(i),o=$1.indexOf(s),a=io(s);~o&&$1.splice(o,a?6:2),r&&(a?o4.unshift(tt,r,Pt,r,Ar,r):o4.unshift(s,r))},n.clearMatchMedia=function(i){k1.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var o=(Ei(i)?oi(i):i).getBoundingClientRect(),a=o[s?so:oo]*r||0;return s?o.right-a>0&&o.left+a<tt.innerWidth:o.bottom-a>0&&o.top+a<tt.innerHeight},n.positionInViewport=function(i,r,s){Ei(i)&&(i=oi(i));var o=i.getBoundingClientRect(),a=o[s?so:oo],c=null==r?a/2:r in Q9?Q9[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+c)/tt.innerWidth:(o.top+c)/tt.innerHeight},n.killAll=function(i){if(k1.slice(0).forEach(function(s){return"ScrollSmoother"!==s.vars.id&&s.kill()}),!0!==i){var r=ao.killAll||[];ao={},r.forEach(function(s){return s()})}},n}();J1.version="3.12.2",J1.saveStyles=function(n){return n?G9(n).forEach(function(e){if(e&&e.style){var t=Ti.indexOf(e);t>=0&&Ti.splice(t,5),Ti.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),qe.core.getCache(e),Lv())}}):Ti},J1.revert=function(n,e){return Wv(!n,e)},J1.create=function(n,e){return new J1(n,e)},J1.refresh=function(n){return n?O8():(y6||J1.register())&&uo(!0)},J1.update=function(n){return++$1.cache&&k4(!0===n?2:0)},J1.clearScrollMemory=sN,J1.maxScroll=function(n,e){return O4(n,e?Nn:D2)},J1.getScrollFunc=function(n,e){return Y3(oi(n),e?Nn:D2)},J1.getById=function(n){return Bv[n]},J1.getAll=function(){return k1.filter(function(n){return"ScrollSmoother"!==n.vars.id})},J1.isScrolling=function(){return!!er},J1.snapDirectional=Uv,J1.addEventListener=function(n,e){var t=ao[n]||(ao[n]=[]);~t.indexOf(e)||t.push(e)},J1.removeEventListener=function(n,e){var t=ao[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)},J1.batch=function(n,e){var a,t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,o=function(l,u){var f=[],h=[],d=qe.delayedCall(r,function(){u(f,h),f=[],h=[]}).pause();return function(p){f.length||d.restart(!0),f.push(p.trigger),h.push(p),s<=f.length&&d.progress(1)}};for(a in e)i[a]="on"===a.substr(0,2)&&Rn(e[a])&&"onRefreshInit"!==a?o(0,e[a]):e[a];return Rn(s)&&(s=s(),O2(J1,"refresh",function(){return s=e.batchMax()})),G9(n).forEach(function(c){var l={};for(a in i)l[a]=i[a];l.trigger=c,t.push(J1.create(l))}),t};var pN,hN=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},Zv=function n(e,t){!0===t?e.style.removeProperty("touch-action"):e.style.touchAction=!0===t?"auto":t?"pan-"+t+(y2.isTouch?" pinch-zoom":""):"none",e===Ar&&n(Pt,t)},cu={auto:1,scroll:1},Sle=function(e){var c,t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||qe.core.getCache(s),a=In();if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==Pt&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!cu[(c=nr(s)).overflowY]&&!cu[c.overflowX]);)s=s.parentNode;o._isScroll=s&&s!==i&&!io(s)&&(cu[(c=nr(s)).overflowY]||cu[c.overflowX]),o._isScrollT=a}(o._isScroll||"x"===r)&&(t.stopPropagation(),t._gsapAllow=!0)},dN=function(e,t,i,r){return y2.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&Sle,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&O2(Zt,y2.eventTypes[0],mN,!1,!0)},onDisable:function(){return F2(Zt,y2.eventTypes[0],mN,!0)}})},Ale=/(input|label|select|textarea)/i,mN=function(e){var t=Ale.test(e.target.tagName);(t||pN)&&(e._gsapAllow=!0,pN=t)};function k8(n){return k8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k8(n)}function gN(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Dle(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K1(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.forEach(function(r){Dle(n,r,t[r])})}return n}function Xv(n,e){return function Nle(n){if(Array.isArray(n))return n}(n)||function Ile(n,e){var t=[],i=!0,r=!1,s=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done)&&(t.push(a.value),!e||t.length!==e);i=!0);}catch(c){r=!0,s=c}finally{try{!i&&null!=o.return&&o.return()}finally{if(r)throw s}}return t}(n,e)||function Hle(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}J1.sort=function(n){return k1.sort(n||function(e,t){return-1e6*(e.vars.refreshPriority||0)+e.start-(t.start+-1e6*(t.vars.refreshPriority||0))})},J1.observe=function(n){return new y2(n)},J1.normalizeScroll=function(n){if(typeof n>"u")return zi;if(!0===n&&zi)return zi.enable();if(!1===n)return zi&&zi.kill();var e=n instanceof y2?n:function(e){ro(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var a,c,x,C,Z,B,F,j,i=e.normalizeScrollX,r=e.momentum,s=e.allowNestedScroll,o=e.onRelease,l=oi(e.target)||Ar,u=qe.core.globals().ScrollSmoother,f=u&&u.get(),h=J3&&(e.content&&oi(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),d=Y3(l,D2),p=Y3(l,Nn),m=1,g=(y2.isTouch&&tt.visualViewport?tt.visualViewport.scale*tt.visualViewport.width:tt.outerWidth)/tt.innerWidth,v=0,M=Rn(r)?function(){return r(a)}:function(){return r||2.8},b=dN(l,e.type,!0,s),A=function(){return C=!1},E=a4,D=a4,S=function(){c=O4(l,D2),D=_6(J3?1:0,c),i&&(E=_6(0,O4(l,Nn))),x=lo},z=function(){h._gsap.y=L8(parseFloat(h._gsap.y)+d.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",d.offset=d.cacheID=0},ne=function(){S(),Z.isActive()&&Z.vars.scrollY>c&&(d()>c?Z.progress(1)&&d(c):Z.resetTo("scrollY",c))};return h&&qe.set(h,{y:"+=0"}),e.ignoreCheck=function(X){return J3&&"touchmove"===X.type&&function(){if(C){requestAnimationFrame(A);var J=L8(a.deltaY/2),ae=D(d.v-J);if(h&&ae!==d.v+d.offset){d.offset=ae-d.v;var P=L8((parseFloat(h&&h._gsap.y)||0)-d.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+P+", 0, 1)",h._gsap.y=P+"px",d.cacheID=$1.cache,k4()}return!0}d.offset&&z(),C=!0}()||m>1.05&&"touchstart"!==X.type||a.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){C=!1;var X=m;m=L8((tt.visualViewport&&tt.visualViewport.scale||1)/g),Z.pause(),X!==m&&Zv(l,m>1.01||!i&&"x"),B=p(),F=d(),S(),x=lo},e.onRelease=e.onGestureStart=function(X,J){if(d.offset&&z(),J){$1.cache++;var P,W,ae=M();i&&(P=p(),ae*=hN(p,P,W=P+.05*ae*-X.velocityX/.227,O4(l,Nn)),Z.vars.scrollX=E(W)),P=d(),ae*=hN(d,P,W=P+.05*ae*-X.velocityY/.227,O4(l,D2)),Z.vars.scrollY=D(W),Z.invalidate().duration(ae).play(.01),(J3&&Z.vars.scrollY>=c||P>=c-1)&&qe.to({},{onUpdate:ne,duration:ae})}else j.restart(!0);o&&o(X)},e.onWheel=function(){Z._ts&&Z.pause(),In()-v>1e3&&(x=0,v=In())},e.onChange=function(X,J,ae,P,W){if(lo!==x&&S(),J&&i&&p(E(P[2]===J?B+(X.startX-X.x):p()+J-P[1])),ae){d.offset&&z();var ce=W[2]===ae,xe=ce?F+X.startY-X.y:d()+ae-W[1],_e=D(xe);ce&&xe!==_e&&(F+=_e-xe),d(_e)}(ae||J)&&k4()},e.onEnable=function(){Zv(l,!i&&"x"),J1.addEventListener("refresh",ne),O2(tt,"resize",ne),d.smooth&&(d.target.style.scrollBehavior="auto",d.smooth=p.smooth=!1),b.enable()},e.onDisable=function(){Zv(l,!0),F2(tt,"resize",ne),J1.removeEventListener("refresh",ne),b.kill()},e.lockAxis=!1!==e.lockAxis,(a=new y2(e)).iOS=J3,J3&&!d()&&d(1),J3&&qe.ticker.add(a4),j=a._dc,Z=qe.to(a,{ease:"power4",paused:!0,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:uN(d,d(),function(){return Z.pause()})},onUpdate:k4,onComplete:j.vars.onComplete}),a}(n);return zi&&zi.target===e.target&&zi.kill(),io(e.target)&&(zi=e),e},J1.core={_getVelocityProp:Ev,_inputObserver:dN,_scrollers:$1,_proxies:o4,bridge:{ss:function(){er||co("scrollStart"),er=In()},ref:function(){return pn}}},ZL()&&qe.registerPlugin(J1);var Jv={},yN={};try{typeof window<"u"&&(Jv=window),typeof document<"u"&&(yN=document),typeof MutationObserver<"u"&&MutationObserver,typeof performance<"u"&&performance}catch{}var xN=(Jv.navigator||{}).userAgent,CN=void 0===xN?"":xN,A6=Jv,M2=yN,U4=!!M2.documentElement&&!!M2.head&&"function"==typeof M2.addEventListener&&"function"==typeof M2.createElement,B4=(~CN.indexOf("MSIE")||CN.indexOf("Trident/"),"___FONT_AWESOME___"),SN="fa",AN="svg-inline--fa",DN=(function(){try{return!0}catch{return!1}}(),[1,2,3,4,5,6,7,8,9,10]),qle=DN.concat([11,12,13,14,15,16,17,18,19,20]),fo={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},LN=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",fo.GROUP,fo.SWAP_OPACITY,fo.PRIMARY,fo.SECONDARY].concat(DN.map(function(n){return"".concat(n,"x")})).concat(qle.map(function(n){return"w-".concat(n)})),A6.FontAwesomeConfig||{});M2&&"function"==typeof M2.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=Xv(n,2),i=e[1],r=function Jle(n){return""===n||"false"!==n&&("true"===n||n)}(function Yle(n){var e=M2.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=r&&(LN[i]=r)});var ey=K1({},{familyPrefix:SN,replacementClass:AN,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},LN);ey.autoReplaceSvg||(ey.observeMutations=!1);var S1=K1({},ey);A6.FontAwesomeConfig=S1;var G4=A6||{};G4[B4]||(G4[B4]={}),G4[B4].styles||(G4[B4].styles={}),G4[B4].hooks||(G4[B4].hooks={}),G4[B4].shims||(G4[B4].shims=[]);var zr=G4[B4],NN=[];U4&&((M2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(M2.readyState)||M2.addEventListener("DOMContentLoaded",function n(){M2.removeEventListener("DOMContentLoaded",n),NN.map(function(e){return e()})}));var ny,ty="pending",PN="settled",fu="fulfilled",hu="rejected",n7e=function(){},IN=typeof global<"u"&&typeof global.process<"u"&&"function"==typeof global.process.emit,i7e=typeof setImmediate>"u"?setTimeout:setImmediate,U8=[];function r7e(){for(var n=0;n<U8.length;n++)U8[n][0](U8[n][1]);U8=[],ny=!1}function du(n,e){U8.push([n,e]),ny||(ny=!0,i7e(r7e,0))}function RN(n){var e=n.owner,t=e._state,i=e._data,r=n[t],s=n.then;if("function"==typeof r){t=fu;try{i=r(i)}catch(o){B8(s,o)}}HN(s,i)||(t===fu&&iy(s,i),t===hu&&B8(s,i))}function HN(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===k8(e))){var i=e.then;if("function"==typeof i)return i.call(e,function(r){t||(t=!0,e===r?VN(n,r):iy(n,r))},function(r){t||(t=!0,B8(n,r))}),!0}}catch(r){return t||B8(n,r),!0}return!1}function iy(n,e){(n===e||!HN(n,e))&&VN(n,e)}function VN(n,e){n._state===ty&&(n._state=PN,n._data=e,du(o7e,n))}function B8(n,e){n._state===ty&&(n._state=PN,n._data=e,du(a7e,n))}function ON(n){n._then=n._then.forEach(RN)}function o7e(n){n._state=fu,ON(n)}function a7e(n){n._state=hu,ON(n),!n._handled&&IN&&global.process.emit("unhandledRejection",n._data,n)}function c7e(n){global.process.emit("rejectionHandled",n)}function Di(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof Di))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function s7e(n,e){function i(r){B8(e,r)}try{n(function t(r){iy(e,r)},i)}catch(r){i(r)}}(n,this)}Di.prototype={constructor:Di,_state:ty,_then:null,_data:void 0,_handled:!1,then:function(e,t){var i={owner:this,then:new this.constructor(n7e),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===hu&&IN&&du(c7e,this)),this._state===fu||this._state===hu?du(RN,i):this._then.push(i),i.then},catch:function(e){return this.then(null,e)}},Di.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new Di(function(e,t){var i=[],r=0;function s(c){return r++,function(l){i[c]=l,--r||e(i)}}for(var a,o=0;o<n.length;o++)(a=n[o])&&"function"==typeof a.then?a.then(s(o),t):i[o]=a;r||e(i)})},Di.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new Di(function(e,t){for(var r,i=0;i<n.length;i++)(r=n[i])&&"function"==typeof r.then?r.then(e,t):e(r)})},Di.resolve=function(n){return n&&"object"===k8(n)&&n.constructor===Di?n:new Di(function(e){e(n)})},Di.reject=function(n){return new Di(function(e,t){t(n)})};var W4={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var u7e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function G8(){for(var n=12,e="";n-- >0;)e+=u7e[62*Math.random()|0];return e}function kN(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pu(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function sy(n){return n.size!==W4.size||n.x!==W4.x||n.y!==W4.y||n.rotate!==W4.rotate||n.flipX||n.flipY}function UN(n){var e=n.transform,i=n.iconWidth,r={transform:"translate(".concat(n.containerWidth/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}var oy={x:0,y:0,width:"100%",height:"100%"};function BN(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function p7e(n){return"g"===n.tag?n.children:[n]}var uy=function(e,t,i,r){var c,l,u,s=Object.keys(e),o=s.length,a=void 0!==r?function(e,t){return function(i,r,s,o){return e.call(t,i,r,s,o)}}(t,r):t;for(void 0===i?(c=1,u=e[s[0]]):(c=0,u=i);c<o;c++)u=a(u,e[l=s[c]],l,e);return u};function qN(n,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==i&&i,s=Object.keys(e).reduce(function(o,a){var c=e[a];return c.icon?o[c.iconName]=c.icon:o[a]=c,o},{});"function"!=typeof zr.hooks.addPack||r?zr.styles[n]=K1({},zr.styles[n]||{},s):zr.hooks.addPack(n,s),"fas"===n&&qN("fa",e)}var ZN=zr.styles,C7e=zr.shims,KN=function(){var e=function(r){return uy(ZN,function(s,o,a){return s[a]=uy(o,r,{}),s},{})};e(function(i,r,s){return r[3]&&(i[r[3]]=s),i}),e(function(i,r,s){var o=r[2];return i[s]=s,o.forEach(function(a){i[a]=s}),i});var t="far"in ZN;uy(C7e,function(i,r){var o=r[1];return"far"===o&&!t&&(o="fas"),i[r[0]]={prefix:o,iconName:r[2]},i},{})};function eP(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function T6(n){var e=n.tag,t=n.attributes,i=void 0===t?{}:t,r=n.children,s=void 0===r?[]:r;return"string"==typeof n?kN(n):"<".concat(e," ").concat(function h7e(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(kN(n[t]),'" ')},"").trim()}(i),">").concat(s.map(T6).join(""),"</").concat(e,">")}KN();function j8(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(j8.prototype=Object.create(Error.prototype)).constructor=j8;var vu={fill:"currentColor"},oP={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},py=(K1({},vu,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),K1({},oP,{attributeName:"opacity"}));function gy(n){var e=n[0],t=n[1],s=Xv(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(S1.familyPrefix,"-").concat(fo.GROUP)},children:[{tag:"path",attributes:{class:"".concat(S1.familyPrefix,"-").concat(fo.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(S1.familyPrefix,"-").concat(fo.PRIMARY),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}K1({},vu,{cx:"256",cy:"364",r:"28"}),K1({},oP,{attributeName:"r",values:"28;14;28;28;14;28;"}),K1({},py,{values:"1;0;1;1;0;1;"}),K1({},vu,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),K1({},py,{values:"1;0;0;0;0;1;"}),K1({},vu,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),K1({},py,{values:"0;0;1;1;0;0;"});var Y7e='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';var J7e=function(){function n(){(function Ele(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function Tle(n,e,t){e&&gN(n.prototype,e),t&&gN(n,t)}(n,[{key:"add",value:function(){for(var t=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){t.definitions[a]=K1({},t.definitions[a]||{},o[a]),qN(a,o[a]),KN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var o=r[s],a=o.prefix,c=o.iconName,l=o.icon;t[a]||(t[a]={}),t[a][c]=l}),t}}]),n}();function $8(){S1.autoAddCss&&!_u&&(function FN(n){if(n&&U4){var e=M2.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=M2.head.childNodes,i=null,r=t.length-1;r>-1;r--){var s=t[r],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=s)}return M2.head.insertBefore(e,i),n}}(function yy(){var n=SN,e=AN,t=S1.familyPrefix,i=S1.replacementClass,r=Y7e;if(t!==n||i!==e){var s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");r=r.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(i))}return r}()),_u=!0)}function _y(n){var e=n.prefix,t=void 0===e?"fa":e,i=n.iconName;if(i)return eP(fP.definitions,t,i)||eP(zr.styles,t,i)}var fP=new J7e,_u=!1,hP_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),o=s[0],a=s.slice(1).join("-");if(o&&"h"===a)return i.flipX=!0,i;if(o&&"v"===a)return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a}return i},t):t}(e)},dP=function K7e(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(e||{}).icon?e:_y(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:_y(r||{})),n(i,K1({},t,{mask:r}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,i=void 0===t?W4:t,r=e.symbol,s=void 0!==r&&r,o=e.mask,a=void 0===o?null:o,c=e.maskId,l=void 0===c?null:c,u=e.title,f=void 0===u?null:u,h=e.titleId,d=void 0===h?null:h,p=e.classes,m=void 0===p?[]:p,g=e.attributes,v=void 0===g?{}:g,M=e.styles,x=void 0===M?{}:M;if(n){var C=n.prefix,b=n.iconName,A=n.icon;return function yu(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(i){return T6(i)})}}),Object.defineProperty(n,"node",{get:function(){if(U4){var i=M2.createElement("div");return i.innerHTML=n.html,i.children}}}),n}(K1({type:"icon"},n),function(){return $8(),S1.autoA11y&&(f?v["aria-labelledby"]="".concat(S1.replacementClass,"-title-").concat(d||G8()):(v["aria-hidden"]="true",v.focusable="false")),function ay(n){var e=n.icons,t=e.main,i=e.mask,r=n.prefix,s=n.iconName,o=n.transform,a=n.symbol,c=n.title,l=n.maskId,u=n.titleId,f=n.extra,h=n.watchable,d=void 0!==h&&h,p=i.found?i:t,m=p.width,g=p.height,v="fak"===r,M=v?"":"fa-w-".concat(Math.ceil(m/g*16)),x=[S1.replacementClass,s?"".concat(S1.familyPrefix,"-").concat(s):"",M].filter(function(z){return-1===f.classes.indexOf(z)}).filter(function(z){return""!==z||!!z}).concat(f.classes).join(" "),C={children:[],attributes:K1({},f.attributes,{"data-prefix":r,"data-icon":s,class:x,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})},b=v&&!~f.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};d&&(C.attributes["data-fa-i2svg"]=""),c&&C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||G8())},children:[c]});var A=K1({},C,{prefix:r,iconName:s,main:t,mask:i,maskId:l,transform:o,symbol:a,styles:K1({},b,f.styles)}),E=i.found&&t.found?function m7e(n){var e=n.children,t=n.attributes,i=n.main,r=n.mask,s=n.maskId,c=i.icon,u=r.icon,f=UN({transform:n.transform,containerWidth:r.width,iconWidth:i.width}),h={tag:"rect",attributes:K1({},oy,{fill:"white"})},d=c.children?{children:c.children.map(BN)}:{},p={tag:"g",attributes:K1({},f.inner),children:[BN(K1({tag:c.tag,attributes:K1({},c.attributes,f.path)},d))]},m={tag:"g",attributes:K1({},f.outer),children:[p]},g="mask-".concat(s||G8()),v="clip-".concat(s||G8()),M={tag:"mask",attributes:K1({},oy,{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:v},children:p7e(u)},M]};return e.push(x,{tag:"rect",attributes:K1({fill:"currentColor","clip-path":"url(#".concat(v,")"),mask:"url(#".concat(g,")")},oy)}),{children:e,attributes:t}}(A):function g7e(n){var e=n.children,t=n.attributes,i=n.main,r=n.transform,o=pu(n.styles);if(o.length>0&&(t.style=o),sy(r)){var a=UN({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:K1({},a.outer),children:[{tag:"g",attributes:K1({},a.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:K1({},i.icon.attributes,a.path)}]}]})}else e.push(i.icon);return{children:e,attributes:t}}(A),S=E.attributes;return A.children=E.children,A.attributes=S,a?function y7e(n){var t=n.iconName,i=n.children,s=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:K1({},n.attributes,{id:!0===s?"".concat(n.prefix,"-").concat(S1.familyPrefix,"-").concat(t):s}),children:i}]}]}(A):function v7e(n){var e=n.children,t=n.main,i=n.mask,r=n.attributes,s=n.styles,o=n.transform;if(sy(o)&&t.found&&!i.found){var l={x:t.width/t.height/2,y:.5};r.style=pu(K1({},s,{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(A)}({icons:{main:gy(A),mask:a?gy(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:C,iconName:b,transform:K1({},W4,i),symbol:s,title:f,maskId:l,titleId:d,extra:{attributes:v,styles:x,classes:m}})})}});const o9e=["*"],l9e=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let h9e=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d9e=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...t){for(const i of t){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),p9e=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h1({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Mn]}),n})(),m9e=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(le(Zr),le(sn))},n.\u0275cmp=Jt({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Mn],ngContentSelectors:o9e,decls:1,vars:0,template:function(t,i){1&t&&(function Wb(n){const e=de()[d2][Oe];if(!e.projection){const i=e.projection=nc(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?dU(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),function jb(n,e=0,t){const i=de(),r=rt(),s=Sa(r,Y1+n,16,null,t||null);null===s.projection&&(s.projection=e),Kh(),(!i[_4]||la())&&32!=(32&s.flags)&&function MO(n,e,t){Kx(e[g1],0,e,t,Ad(n,t,e),$x(t.parent||e[Oe],t,e))}(r,i,s)}(0))},encapsulation:2}),n})(),ho=(()=>{class n{constructor(t,i,r,s,o){this.sanitizer=t,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=o&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let i=null;if(i=null==this.icon?this.config.fallbackIcon:this.icon,t){const r=this.findIconDefinition(i);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const i=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(i),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?hP_transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...l9e(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,i){const r=dP(t,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(le(zz),le(h9e),le(d9e),le(p9e,8),le(m9e,8))},n.\u0275cmp=Jt({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,i){2&t&&(Ap("innerHTML",i.renderedIconHTML,fC),gr("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Mn],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),g9e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({}),n})();const pP=["headerText"],v9e=["svgElement"],y9e=["playVideoButon"],_9e=["viewProjectsButonWORK"],M9e=["headerE1"],x9e=["mask"],C9e=["containerSubTitleProjectWord"],b9e=["videoEl"],mP=function(){return["/projects"]},w9e=function(){return["/"]};let S9e=(()=>{class n{constructor(t){this.elementRef=t,this.faArrowRight=r6,this.faPlayCircle=lD}ngAfterViewInit(){if(this.containerRef){const t=this.containerRef.nativeElement,i=this.video.nativeElement,r=this.headerTextElementRef.nativeElement,o=this.playVideoButon.nativeElement,a=this.viewProjectsButonWORK.nativeElement,c=this.mask.nativeElement;window.addEventListener("click",function(){o.style.opacity="0",c.style.opacity="0.75"}),wv.registerPlugin(J1),wv.to(r,{scrollTrigger:{trigger:r,start:"top top",end:"+=2000",scrub:1,pin:t,onEnter:()=>{o.classList.add("diplayOn"),a.classList.add("diplayOn")},onLeave:()=>{o.classList.remove("diplayOn"),a.classList.remove("diplayOn")},onEnterBack:()=>{o.classList.add("diplayOn"),a.classList.add("diplayOn")},onLeaveBack:()=>{o.classList.remove("diplayOn"),a.classList.remove("diplayOn")}},scale:15,x:-50,transformOrigin:"center center"}),i.load(),document.addEventListener("mousedown",()=>{i.play().catch(l=>{console.log("play error",l),console.log("entra")})}),document.addEventListener("touchstart",()=>{i.play().catch(l=>{console.log("play error",l)})}),window.innerWidth<=768&&(this.containerRef.nativeElement.style.display="none",this.viewProjectsButonWORK.nativeElement.style.display="none")}}}return n.\u0275fac=function(t){return new(t||n)(le(sn))},n.\u0275cmp=Jt({type:n,selectors:[["app-mega-text-video"]],viewQuery:function(t,i){if(1&t&&(wn(pP,5),wn(v9e,5),wn(y9e,5),wn(_9e,5),wn(M9e,5),wn(x9e,5),wn(pP,5),wn(C9e,7),wn(b9e,7,sn)),2&t){let r;an(r=cn())&&(i.headerTextElementRef=r.first),an(r=cn())&&(i.svgElementRef=r.first),an(r=cn())&&(i.playVideoButon=r.first),an(r=cn())&&(i.viewProjectsButonWORK=r.first),an(r=cn())&&(i.containerRef=r.first),an(r=cn())&&(i.mask=r.first),an(r=cn())&&(i.zoomElement=r.first),an(r=cn())&&(i.containerSubTitleProjectWord=r.first),an(r=cn())&&(i.video=r.first)}},decls:36,vars:8,consts:[[1,"containerSubTitleProjectWord"],["containerSubTitleProjectWord",""],[1,"subTitleProjectWord"],["fragment","projectsTitle",3,"routerLink"],[1,"linkBGdark"],[3,"icon"],[1,"playVideoButon"],["playVideoButon",""],[1,"containerMegavideoText"],["headerE1",""],[1,"mask"],["mask",""],["preload","","autoplay","","loop","","muted","","playsinline",""],["videoEl",""],["src","../../../assets/media/MyWork.mp4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 500 80","preserveAspectRatio","xMidYMid slice"],["svgElement",""],["id","mask","x","0","y","0","width","100%","height","100%"],["x","0","y","0","width","100%","height","100%"],["id","header-text","x","50%","y","50","text-anchor","middle","dominant-baseline","middle"],["headerText",""],[1,"viewProjectsButonWORK"],["viewProjectsButonWORK",""],[1,"viewProjectsButonWORKspan",3,"routerLink"],["fragment","aboutMe",1,"viewProjectsButonWORKspan",3,"routerLink"]],template:function(t,i){1&t&&(ve(0,"div",0),G(1,"div",0,1)(3,"span",2),Le(4,"Hi there! I'm Alejandro Alonzo, "),G(5,"a",3)(6,"span",4),Le(7,"+3 years coding. // Let me show you "),ve(8,"fa-icon",5),O()()()(),G(9,"span",6,7),ve(11,"fa-icon",5),O(),G(12,"header",8,9),ve(14,"div",10,11),G(16,"video",12,13),ve(18,"source",14),O(),function KM(){v1.lFrame.currentNamespace="svg"}(),G(19,"svg",15,16)(21,"defs")(22,"mask",17),ve(23,"rect",18),G(24,"text",19,20),Le(26,"WORK"),O()()(),ve(27,"rect",18),O()(),function QM(){!function lV(){v1.lFrame.currentNamespace=null}()}(),G(28,"div",21,22)(30,"span")(31,"a",23),Le(32,"PROJECTS "),O()(),Le(33,"|"),G(34,"span",24),Le(35," ABOUT"),O()()),2&t&&(we(5),Ne("routerLink",ji(5,mP)),we(3),Ne("icon",i.faArrowRight),we(3),Ne("icon",i.faPlayCircle),we(20),Ne("routerLink",ji(6,mP)),we(3),Ne("routerLink",ji(7,w9e)))},dependencies:[O3,ho],styles:["@font-face{font-family:IMPACT;src:url(IMPACT.1a7ecb646e1eba77.ttf)}@font-face{font-family:MavenPro-Regular;src:url(MavenPro-Regular.f5d986a9e3695a5d.ttf)}header[_ngcontent-%COMP%]{width:100%;margin:0 auto;position:relative;max-width:100%;scroll-snap-type:y mandatory}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:120vw!important;object-fit:cover}.mask[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#ffffffd9}svg[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;height:100%;scroll-snap-align:start}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-weight:700;text-transform:uppercase;font-size:4.5em;letter-spacing:-2px;text-align:center}svg[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%]{fill:#fff}svg[_ngcontent-%COMP%] > rect[_ngcontent-%COMP%]{-webkit-mask:url(#mask);mask:url(#mask);fill:#35373e}svg[_ngcontent-%COMP%] > text[_ngcontent-%COMP%]{fill:#000;width:100%}#header-text[_ngcontent-%COMP%]{transform-origin:center center;transition:transform .5s ease-out}.containerSubTitleProjectWord[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#2d2f35}.subTitleProjectWord[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;top:160px;left:calc(50% + 136px);z-index:2}.containerSubTitleProjectWord2[_ngcontent-%COMP%]{display:flex;width:100%;background-color:#35373e;justify-content:flex-end}.subTitleProjectWord2[_ngcontent-%COMP%]{font-family:MavenPro-Regular;color:#acafba;position:relative;bottom:55px;right:calc(50% - 650px);z-index:2}.fixed-height[_ngcontent-%COMP%]{position:fixed;top:0}.viewProjectsButonWORK[_ngcontent-%COMP%]{width:400px;font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-size:2em;position:fixed;bottom:5%;right:5%;text-align:center;z-index:10;opacity:0}.viewProjectsButonWORKspan[_ngcontent-%COMP%]{color:#35373e}.viewProjectsButonWORKspan[_ngcontent-%COMP%]:hover{cursor:pointer;color:#00adb5}.playVideoButon[_ngcontent-%COMP%]{font-size:3em;color:#eeeef0;position:fixed;top:40%;left:50%;z-index:10;opacity:0;animation:_ngcontent-%COMP%_faAnimado 2s infinite}.diplayOn[_ngcontent-%COMP%]{opacity:1}.playVideoButon[_ngcontent-%COMP%]:hover{animation-play-state:paused;color:#35373e!important}@keyframes _ngcontent-%COMP%_faAnimado{0%{color:#eeeef0}50%{color:#00adb5}to{color:#eeeef0}}@media (max-width: 1550px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:130px;left:calc(50% + 110px)}.subTitleProjectWord2[_ngcontent-%COMP%]{position:relative;bottom:50px;right:calc(50% - 540px)}}@media (max-width: 845px){.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:280px;left:10px}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;font-size:1.6em!important;letter-spacing:-1px!important}.playVideoButon[_ngcontent-%COMP%]{display:none}.subTitleProjectWord[_ngcontent-%COMP%]{position:relative;top:0}.containerMegavideoText[_ngcontent-%COMP%]{display:none}}"]}),n})();const A9e=function(){return["/contact"]};let gP=(()=>{class n{constructor(){this.faArrowUp=Hg}ngOnInit(){}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jt({type:n,selectors:[["app-footer"]],decls:12,vars:3,consts:[[1,"footerTextContainer"],[1,"footerText","animatedBAckToTop"],[3,"click"],[1,"socialIcons","linkBGdark",3,"icon"],[1,"footerText"],["fragment","createProject",1,"linkBGdark",3,"routerLink"]],template:function(t,i){1&t&&(G(0,"footer")(1,"div",0)(2,"div",1)(3,"a",2),b1("click",function(){return i.scrollToTop()}),ve(4,"fa-icon",3),O()(),G(5,"div",4),Le(6," Wanna get in touch or talk about a project? "),O(),G(7,"div",4),Le(8," Feel free to drop a line in the form at the "),G(9,"a",5),Le(10,"contact page"),O(),Le(11,". "),O()()()),2&t&&(we(4),Ne("icon",i.faArrowUp),we(5),Ne("routerLink",ji(2,A9e)))},dependencies:[O3,ho]}),n})();function vP(n,e,t,i,r,s,o){try{var a=n[s](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}const _P=1,D9e=2,j4=3,Mu=0,Y9e=1,J9e=2,q4=0,K9e=1,Q9e=2,eue=3,tue=4,nue=5,po=301,mo=302,q8=306,Vn=1001,x2=1003,C2=1006,go=1008,ts=1009,ns=1014,Z4=1015,Z8=1016,vo=1020,ir=1023,yo=1026,N6=1027,_o=3001,z1="srgb",c4="srgb-linear",rI="display-p3",sI="300 es",X4=2e3;class R6{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const mn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Co=Math.PI/180,H6=180/Math.PI;function Li(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(mn[255&n]+mn[n>>8&255]+mn[n>>16&255]+mn[n>>24&255]+"-"+mn[255&e]+mn[e>>8&255]+"-"+mn[e>>16&15|64]+mn[e>>24&255]+"-"+mn[63&t|128]+mn[t>>8&255]+"-"+mn[t>>16&255]+mn[t>>24&255]+mn[255&i]+mn[i>>8&255]+mn[i>>16&255]+mn[i>>24&255]).toLowerCase()}function n2(n,e,t){return Math.max(e,Math.min(t,n))}function X8(n,e,t){return(1-t)*n+t*e}function Hy(n){return 0==(n&n-1)&&0!==n}function Lu(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function I1(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(n2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class O1{constructor(e,t,i,r,s,o,a,c,l){O1.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,c,l)}set(e,t,i,r,s,o,a,c,l){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=c,u[6]=i,u[7]=o,u[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],c=i[6],l=i[1],u=i[4],f=i[7],h=i[2],d=i[5],p=i[8],m=r[0],g=r[3],v=r[6],M=r[1],x=r[4],C=r[7],b=r[2],A=r[5],E=r[8];return s[0]=o*m+a*M+c*b,s[3]=o*g+a*x+c*A,s[6]=o*v+a*C+c*E,s[1]=l*m+u*M+f*b,s[4]=l*g+u*x+f*A,s[7]=l*v+u*C+f*E,s[2]=h*m+d*M+p*b,s[5]=h*g+d*x+p*A,s[8]=h*v+d*C+p*E,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8];return t*o*u-t*a*l-i*s*u+i*a*c+r*s*l-r*o*c}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=u*o-a*l,h=a*c-u*s,d=l*s-o*c,p=t*f+i*h+r*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=f*m,e[1]=(r*l-u*i)*m,e[2]=(a*i-r*o)*m,e[3]=h*m,e[4]=(u*t-r*c)*m,e[5]=(r*s-a*t)*m,e[6]=d*m,e[7]=(i*c-l*t)*m,e[8]=(o*t-i*s)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const c=Math.cos(s),l=Math.sin(s);return this.set(i*c,i*l,-i*(c*o+l*a)+o+e,-r*l,r*c,-r*(-l*o+c*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Vy.makeScale(e,t)),this}rotate(e){return this.premultiply(Vy.makeRotation(-e)),this}translate(e,t){return this.premultiply(Vy.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Vy=new O1;function cI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function Y8(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const lI={};function J8(n){n in lI||(lI[n]=!0,console.warn(n))}function O6(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Oy(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Uue=(new O1).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Bue=(new O1).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),jue={[c4]:n=>n,[z1]:n=>n.convertSRGBToLinear(),[rI]:function Gue(n){return n.convertSRGBToLinear().applyMatrix3(Bue)}},$ue={[c4]:n=>n,[z1]:n=>n.convertLinearToSRGB(),[rI]:function Wue(n){return n.applyMatrix3(Uue).convertLinearToSRGB()}},Tr={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return c4},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=jue[e],r=$ue[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let F6;class uI{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===F6&&(F6=Y8("canvas")),F6.width=e.width,F6.height=e.height;const i=F6.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=F6}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Y8("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*O6(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*O6(t[i]/255)):O6(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let que=0;class k6{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:que++}),this.uuid=Li(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(Fy(r[o].isDataTexture?r[o].image:r[o]))}else s=Fy(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Fy(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?uI.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Zue=0,l4=(()=>{class n extends R6{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=Vn,s=Vn,o=C2,a=go,c=ir,l=ts,u=n.DEFAULT_ANISOTROPY,f=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zue++}),this.uuid=Li(),this.name="",this.source=new k6(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=c,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new O1,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof f?this.colorSpace=f:(J8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===_o?z1:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Vn:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Vn:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return J8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===z1?_o:3e3}set encoding(t){J8("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===_o?z1:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class St{constructor(e=0,t=0,i=0,r=1){St.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const c=e.elements,l=c[0],u=c[4],f=c[8],h=c[1],d=c[5],p=c[9],m=c[2],g=c[6],v=c[10];if(Math.abs(u-h)<.01&&Math.abs(f-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+m)<.1&&Math.abs(p+g)<.1&&Math.abs(l+d+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const x=(l+1)/2,C=(d+1)/2,b=(v+1)/2,A=(u+h)/4,E=(f+m)/4,D=(p+g)/4;return x>C&&x>b?x<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(x),r=A/i,s=E/i):C>b?C<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(C),i=A/r,s=D/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=E/s,r=D/s),this.set(i,r,s,t),this}let M=Math.sqrt((g-p)*(g-p)+(f-m)*(f-m)+(h-u)*(h-u));return Math.abs(M)<.001&&(M=1),this.x=(g-p)/M,this.y=(f-m)/M,this.z=(h-u)/M,this.w=Math.acos((l+d+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class bo extends R6{constructor(e=1,t=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new St(0,0,e,t),this.scissorTest=!1,this.viewport=new St(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(J8("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===_o?z1:""),this.texture=new l4(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:C2,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new k6(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ky extends l4{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=Vn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class fI extends l4{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=x2,this.minFilter=x2,this.wrapR=Vn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let c=i[r+0],l=i[r+1],u=i[r+2],f=i[r+3];const h=s[o+0],d=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return e[t+0]=c,e[t+1]=l,e[t+2]=u,void(e[t+3]=f);if(1===a)return e[t+0]=h,e[t+1]=d,e[t+2]=p,void(e[t+3]=m);if(f!==m||c!==h||l!==d||u!==p){let g=1-a;const v=c*h+l*d+u*p+f*m,M=v>=0?1:-1,x=1-v*v;if(x>Number.EPSILON){const b=Math.sqrt(x),A=Math.atan2(b,v*M);g=Math.sin(g*A)/b,a=Math.sin(a*A)/b}const C=a*M;if(c=c*g+h*C,l=l*g+d*C,u=u*g+p*C,f=f*g+m*C,g===1-a){const b=1/Math.sqrt(c*c+l*l+u*u+f*f);c*=b,l*=b,u*=b,f*=b}}e[t]=c,e[t+1]=l,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],c=i[r+1],l=i[r+2],u=i[r+3],f=s[o],h=s[o+1],d=s[o+2],p=s[o+3];return e[t]=a*p+u*f+c*d-l*h,e[t+1]=c*p+u*h+l*f-a*d,e[t+2]=l*p+u*d+a*h-c*f,e[t+3]=u*p-a*f-c*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,c=Math.sin,l=a(i/2),u=a(r/2),f=a(s/2),h=c(i/2),d=c(r/2),p=c(s/2);switch(o){case"XYZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"YXZ":this._x=h*u*f+l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"ZXY":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f-h*d*p;break;case"ZYX":this._x=h*u*f-l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f+h*d*p;break;case"YZX":this._x=h*u*f+l*d*p,this._y=l*d*f+h*u*p,this._z=l*u*p-h*d*f,this._w=l*u*f-h*d*p;break;case"XZY":this._x=h*u*f-l*d*p,this._y=l*d*f-h*u*p,this._z=l*u*p+h*d*f,this._w=l*u*f+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],c=t[9],l=t[2],u=t[6],f=t[10],h=i+a+f;if(h>0){const d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-c)*d,this._y=(s-l)*d,this._z=(o-r)*d}else if(i>a&&i>f){const d=2*Math.sqrt(1+i-a-f);this._w=(u-c)/d,this._x=.25*d,this._y=(r+o)/d,this._z=(s+l)/d}else if(a>f){const d=2*Math.sqrt(1+a-i-f);this._w=(s-l)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(c+u)/d}else{const d=2*Math.sqrt(1+f-i-a);this._w=(o-r)/d,this._x=(s+l)/d,this._y=(c+u)/d,this._z=.25*d}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(n2(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,c=t._y,l=t._z,u=t._w;return this._x=i*u+o*a+r*l-s*c,this._y=r*u+o*c+s*a-i*l,this._z=s*u+o*l+i*c-r*a,this._w=o*u-i*a-r*c-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const c=1-a*a;if(c<=Number.EPSILON){const d=1-t;return this._w=d*o+t*this._w,this._x=d*i+t*this._x,this._y=d*r+t*this._y,this._z=d*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),u=Math.atan2(l,a),f=Math.sin((1-t)*u)/l,h=Math.sin(t*u)/l;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(e=0,t=0,i=0){N.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(hI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(hI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,c=e.w,l=c*t+o*r-a*i,u=c*i+a*t-s*r,f=c*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=l*c+h*-s+u*-a-f*-o,this.y=u*c+h*-o+f*-s-l*-a,this.z=f*c+h*-a+l*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,c=t.z;return this.x=r*c-s*a,this.y=s*o-i*c,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Uy.copy(this).projectOnVector(e),this.sub(Uy)}reflect(e){return this.sub(Uy.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(n2(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Uy=new N,hI=new Pi;class Y4{constructor(e=new N(1/0,1/0,1/0),t=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(K4.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(K4.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=K4.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),U6.copy(e.boundingBox),U6.applyMatrix4(e.matrixWorld),this.union(U6);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)K4.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(K4)}else null===r.boundingBox&&r.computeBoundingBox(),U6.copy(r.boundingBox),U6.applyMatrix4(e.matrixWorld),this.union(U6)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,K4),K4.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(K8),Nu.subVectors(this.max,K8),B6.subVectors(e.a,K8),G6.subVectors(e.b,K8),W6.subVectors(e.c,K8),is.subVectors(G6,B6),rs.subVectors(W6,G6),wo.subVectors(B6,W6);let t=[0,-is.z,is.y,0,-rs.z,rs.y,0,-wo.z,wo.y,is.z,0,-is.x,rs.z,0,-rs.x,wo.z,0,-wo.x,-is.y,is.x,0,-rs.y,rs.x,0,-wo.y,wo.x,0];return!(!By(t,B6,G6,W6,Nu)||(t=[1,0,0,0,1,0,0,0,1],!By(t,B6,G6,W6,Nu)))&&(Pu.crossVectors(is,rs),t=[Pu.x,Pu.y,Pu.z],By(t,B6,G6,W6,Nu))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,K4).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(K4).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(J4[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),J4[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),J4[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),J4[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),J4[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),J4[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),J4[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),J4[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(J4)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const J4=[new N,new N,new N,new N,new N,new N,new N,new N],K4=new N,U6=new Y4,B6=new N,G6=new N,W6=new N,is=new N,rs=new N,wo=new N,K8=new N,Nu=new N,Pu=new N,So=new N;function By(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){So.fromArray(n,s);const a=r.x*Math.abs(So.x)+r.y*Math.abs(So.y)+r.z*Math.abs(So.z),c=e.dot(So),l=t.dot(So),u=i.dot(So);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>a)return!1}return!0}const Xue=new Y4,Q8=new N,Gy=new N;class u4{constructor(e=new N,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Xue.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Q8.subVectors(e,this.center);const t=Q8.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(Q8,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Gy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Q8.copy(e.center).add(Gy)),this.expandByPoint(Q8.copy(e.center).sub(Gy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Q4=new N,Wy=new N,Iu=new N,ss=new N,jy=new N,Ru=new N,$y=new N;class e5{constructor(e=new N,t=new N(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Q4)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Q4.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Q4.copy(this.origin).addScaledVector(this.direction,t),Q4.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Wy.copy(e).add(t).multiplyScalar(.5),Iu.copy(t).sub(e).normalize(),ss.copy(this.origin).sub(Wy);const s=.5*e.distanceTo(t),o=-this.direction.dot(Iu),a=ss.dot(this.direction),c=-ss.dot(Iu),l=ss.lengthSq(),u=Math.abs(1-o*o);let f,h,d,p;if(u>0)if(f=o*c-a,h=o*a-c,p=s*u,f>=0)if(h>=-p)if(h<=p){const m=1/u;f*=m,h*=m,d=f*(f+o*h+2*a)+h*(o*f+h+2*c)+l}else h=s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*c)+l;else h=-s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*c)+l;else h<=-p?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l):h<=p?(f=0,h=Math.min(Math.max(-s,-c),s),d=h*(h+2*c)+l):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-c),s),d=-f*f+h*(h+2*c)+l);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),d=-f*f+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(Wy).addScaledVector(Iu,h),d}intersectSphere(e,t){Q4.subVectors(e.center,this.origin);const i=Q4.dot(this.direction),r=Q4.dot(Q4)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,c=i+o;return c<0?null:this.at(a<0?c:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,c;const l=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-h.z)*f,c=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,c=(e.min.z-h.z)*f),i>c||a>r)||((a>i||i!=i)&&(i=a),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Q4)}intersectTriangle(e,t,i,r,s){jy.subVectors(t,e),Ru.subVectors(i,e),$y.crossVectors(jy,Ru);let a,o=this.direction.dot($y);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ss.subVectors(this.origin,e);const c=a*this.direction.dot(Ru.crossVectors(ss,Ru));if(c<0)return null;const l=a*this.direction.dot(jy.cross(ss));if(l<0||c+l>o)return null;const u=-a*ss.dot($y);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class E1{constructor(e,t,i,r,s,o,a,c,l,u,f,h,d,p,m,g){E1.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,c,l,u,f,h,d,p,m,g)}set(e,t,i,r,s,o,a,c,l,u,f,h,d,p,m,g){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=c,v[2]=l,v[6]=u,v[10]=f,v[14]=h,v[3]=d,v[7]=p,v[11]=m,v[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new E1).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/j6.setFromMatrixColumn(e,0).length(),s=1/j6.setFromMatrixColumn(e,1).length(),o=1/j6.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),c=Math.cos(r),l=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if("XYZ"===e.order){const h=o*u,d=o*f,p=a*u,m=a*f;t[0]=c*u,t[4]=-c*f,t[8]=l,t[1]=d+p*l,t[5]=h-m*l,t[9]=-a*c,t[2]=m-h*l,t[6]=p+d*l,t[10]=o*c}else if("YXZ"===e.order){const h=c*u,d=c*f,p=l*u,m=l*f;t[0]=h+m*a,t[4]=p*a-d,t[8]=o*l,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=d*a-p,t[6]=m+h*a,t[10]=o*c}else if("ZXY"===e.order){const h=c*u,d=c*f,p=l*u,m=l*f;t[0]=h-m*a,t[4]=-o*f,t[8]=p+d*a,t[1]=d+p*a,t[5]=o*u,t[9]=m-h*a,t[2]=-o*l,t[6]=a,t[10]=o*c}else if("ZYX"===e.order){const h=o*u,d=o*f,p=a*u,m=a*f;t[0]=c*u,t[4]=p*l-d,t[8]=h*l+m,t[1]=c*f,t[5]=m*l+h,t[9]=d*l-p,t[2]=-l,t[6]=a*c,t[10]=o*c}else if("YZX"===e.order){const h=o*c,d=o*l,p=a*c,m=a*l;t[0]=c*u,t[4]=m-h*f,t[8]=p*f+d,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-l*u,t[6]=d*f+p,t[10]=h-m*f}else if("XZY"===e.order){const h=o*c,d=o*l,p=a*c,m=a*l;t[0]=c*u,t[4]=-f,t[8]=l*u,t[1]=h*f+m,t[5]=o*u,t[9]=d*f-p,t[2]=p*f-d,t[6]=a*u,t[10]=m*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Yue,e,Jue)}lookAt(e,t,i){const r=this.elements;return Ii.subVectors(e,t),0===Ii.lengthSq()&&(Ii.z=1),Ii.normalize(),os.crossVectors(i,Ii),0===os.lengthSq()&&(1===Math.abs(i.z)?Ii.x+=1e-4:Ii.z+=1e-4,Ii.normalize(),os.crossVectors(i,Ii)),os.normalize(),Hu.crossVectors(Ii,os),r[0]=os.x,r[4]=Hu.x,r[8]=Ii.x,r[1]=os.y,r[5]=Hu.y,r[9]=Ii.y,r[2]=os.z,r[6]=Hu.z,r[10]=Ii.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],c=i[8],l=i[12],u=i[1],f=i[5],h=i[9],d=i[13],p=i[2],m=i[6],g=i[10],v=i[14],M=i[3],x=i[7],C=i[11],b=i[15],A=r[0],E=r[4],D=r[8],S=r[12],z=r[1],k=r[5],Z=r[9],B=r[13],F=r[2],j=r[6],ne=r[10],X=r[14],J=r[3],ae=r[7],P=r[11],W=r[15];return s[0]=o*A+a*z+c*F+l*J,s[4]=o*E+a*k+c*j+l*ae,s[8]=o*D+a*Z+c*ne+l*P,s[12]=o*S+a*B+c*X+l*W,s[1]=u*A+f*z+h*F+d*J,s[5]=u*E+f*k+h*j+d*ae,s[9]=u*D+f*Z+h*ne+d*P,s[13]=u*S+f*B+h*X+d*W,s[2]=p*A+m*z+g*F+v*J,s[6]=p*E+m*k+g*j+v*ae,s[10]=p*D+m*Z+g*ne+v*P,s[14]=p*S+m*B+g*X+v*W,s[3]=M*A+x*z+C*F+b*J,s[7]=M*E+x*k+C*j+b*ae,s[11]=M*D+x*Z+C*ne+b*P,s[15]=M*S+x*B+C*X+b*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],c=e[9],l=e[13],u=e[2],f=e[6],h=e[10],d=e[14];return e[3]*(+s*c*f-r*l*f-s*a*h+i*l*h+r*a*d-i*c*d)+e[7]*(+t*c*d-t*l*h+s*o*h-r*o*d+r*l*u-s*c*u)+e[11]*(+t*l*f-t*a*d-s*o*f+i*o*d+s*a*u-i*l*u)+e[15]*(-r*a*u-t*c*f+t*a*h+r*o*f-i*o*h+i*c*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],c=e[6],l=e[7],u=e[8],f=e[9],h=e[10],d=e[11],p=e[12],m=e[13],g=e[14],v=e[15],M=f*g*l-m*h*l+m*c*d-a*g*d-f*c*v+a*h*v,x=p*h*l-u*g*l-p*c*d+o*g*d+u*c*v-o*h*v,C=u*m*l-p*f*l+p*a*d-o*m*d-u*a*v+o*f*v,b=p*f*c-u*m*c-p*a*h+o*m*h+u*a*g-o*f*g,A=t*M+i*x+r*C+s*b;if(0===A)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/A;return e[0]=M*E,e[1]=(m*h*s-f*g*s-m*r*d+i*g*d+f*r*v-i*h*v)*E,e[2]=(a*g*s-m*c*s+m*r*l-i*g*l-a*r*v+i*c*v)*E,e[3]=(f*c*s-a*h*s-f*r*l+i*h*l+a*r*d-i*c*d)*E,e[4]=x*E,e[5]=(u*g*s-p*h*s+p*r*d-t*g*d-u*r*v+t*h*v)*E,e[6]=(p*c*s-o*g*s-p*r*l+t*g*l+o*r*v-t*c*v)*E,e[7]=(o*h*s-u*c*s+u*r*l-t*h*l-o*r*d+t*c*d)*E,e[8]=C*E,e[9]=(p*f*s-u*m*s-p*i*d+t*m*d+u*i*v-t*f*v)*E,e[10]=(o*m*s-p*a*s+p*i*l-t*m*l-o*i*v+t*a*v)*E,e[11]=(u*a*s-o*f*s-u*i*l+t*f*l+o*i*d-t*a*d)*E,e[12]=b*E,e[13]=(u*m*r-p*f*r+p*i*h-t*m*h-u*i*g+t*f*g)*E,e[14]=(p*a*r-o*m*r-p*i*c+t*m*c+o*i*g-t*a*g)*E,e[15]=(o*f*r-u*a*r+u*i*c-t*f*c-o*i*h+t*a*h)*E,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,c=e.z,l=s*o,u=s*a;return this.set(l*o+i,l*a-r*c,l*c+r*a,0,l*a+r*c,u*a+i,u*c-r*o,0,l*c-r*a,u*c+r*o,s*c*c+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,c=t._w,l=s+s,u=o+o,f=a+a,h=s*l,d=s*u,p=s*f,m=o*u,g=o*f,v=a*f,M=c*l,x=c*u,C=c*f,b=i.x,A=i.y,E=i.z;return r[0]=(1-(m+v))*b,r[1]=(d+C)*b,r[2]=(p-x)*b,r[3]=0,r[4]=(d-C)*A,r[5]=(1-(h+v))*A,r[6]=(g+M)*A,r[7]=0,r[8]=(p+x)*E,r[9]=(g-M)*E,r[10]=(1-(h+m))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=j6.set(r[0],r[1],r[2]).length();const o=j6.set(r[4],r[5],r[6]).length(),a=j6.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Dr.copy(this);const l=1/s,u=1/o,f=1/a;return Dr.elements[0]*=l,Dr.elements[1]*=l,Dr.elements[2]*=l,Dr.elements[4]*=u,Dr.elements[5]*=u,Dr.elements[6]*=u,Dr.elements[8]*=f,Dr.elements[9]*=f,Dr.elements[10]*=f,t.setFromRotationMatrix(Dr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=X4){const c=this.elements,l=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r);let d,p;if(a===X4)d=-(o+s)/(o-s),p=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);d=-o/(o-s),p=-o*s/(o-s)}return c[0]=l,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=u,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=d,c[14]=p,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=X4){const c=this.elements,l=1/(t-e),u=1/(i-r),f=1/(o-s),h=(t+e)*l,d=(i+r)*u;let p,m;if(a===X4)p=(o+s)*f,m=-2*f;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=s*f,m=-1*f}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*u,c[9]=0,c[13]=-d,c[2]=0,c[6]=0,c[10]=m,c[14]=-p,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const j6=new N,Dr=new E1,Yue=new N(0,0,0),Jue=new N(1,1,1),os=new N,Hu=new N,Ii=new N,dI=new E1,pI=new Pi;let Kue=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],c=s[8],l=s[1],u=s[5],f=s[9],h=s[2],d=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(n2(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-n2(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(c,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(n2(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-n2(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(n2(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(c,p));break;case"XZY":this._z=Math.asin(-n2(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(c,o)):(this._x=Math.atan2(-f,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return dI.makeRotationFromQuaternion(t),this.setFromRotationMatrix(dI,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return pI.setFromEuler(this),this.setFromQuaternion(pI,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class qy{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Que=0;const mI=new N,$6=new Pi,e3=new E1,Vu=new N,t5=new N,efe=new N,tfe=new Pi,gI=new N(1,0,0),vI=new N(0,1,0),yI=new N(0,0,1),nfe={type:"added"},_I={type:"removed"};let Ri=(()=>{class n extends R6{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Que++}),this.uuid=Li(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new N,i=new Kue,r=new Pi,s=new N(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new E1},normalMatrix:{value:new O1}}),this.matrix=new E1,this.matrixWorld=new E1,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qy,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return $6.setFromAxisAngle(t,i),this.quaternion.multiply($6),this}rotateOnWorldAxis(t,i){return $6.setFromAxisAngle(t,i),this.quaternion.premultiply($6),this}rotateX(t){return this.rotateOnAxis(gI,t)}rotateY(t){return this.rotateOnAxis(vI,t)}rotateZ(t){return this.rotateOnAxis(yI,t)}translateOnAxis(t,i){return mI.copy(t).applyQuaternion(this.quaternion),this.position.add(mI.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(gI,t)}translateY(t){return this.translateOnAxis(vI,t)}translateZ(t){return this.translateOnAxis(yI,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(e3.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?Vu.copy(t):Vu.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),t5.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e3.lookAt(t5,Vu,this.up):e3.lookAt(Vu,t5,this.up),this.quaternion.setFromRotationMatrix(e3),s&&(e3.extractRotation(s.matrixWorld),$6.setFromRotationMatrix(e3),this.quaternion.premultiply($6.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(nfe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(_I)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const i=this.children[t];i.parent=null,i.dispatchEvent(_I)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),e3.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),e3.multiply(t.parent.matrixWorld)),t.applyMatrix4(e3),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(t5,t,efe),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(t5,tfe,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const c=s[o];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++)o(t.shapes,l[u]);else o(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,u=this.material.length;l<u;l++)c.push(o(t.materials,this.material[l]));s.material=c}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(o(t.animations,this.animations[c]))}if(i){const c=a(t.geometries),l=a(t.materials),u=a(t.textures),f=a(t.images),h=a(t.shapes),d=a(t.skeletons),p=a(t.animations),m=a(t.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function a(c){const l=[];for(const u in c){const f=c[u];delete f.metadata,l.push(f)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new N(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Lr=new N,t3=new N,Zy=new N,n3=new N,q6=new N,Z6=new N,MI=new N,Xy=new N,Yy=new N,Jy=new N;let Ou=!1;class Hi{constructor(e=new N,t=new N,i=new N){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Lr.subVectors(e,t),r.cross(Lr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Lr.subVectors(r,t),t3.subVectors(i,t),Zy.subVectors(e,t);const o=Lr.dot(Lr),a=Lr.dot(t3),c=Lr.dot(Zy),l=t3.dot(t3),u=t3.dot(Zy),f=o*l-a*a;if(0===f)return s.set(-2,-1,-1);const h=1/f,d=(l*c-a*u)*h,p=(o*u-a*c)*h;return s.set(1-d-p,p,d)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,n3),n3.x>=0&&n3.y>=0&&n3.x+n3.y<=1}static getUV(e,t,i,r,s,o,a,c){return!1===Ou&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ou=!0),this.getInterpolation(e,t,i,r,s,o,a,c)}static getInterpolation(e,t,i,r,s,o,a,c){return this.getBarycoord(e,t,i,r,n3),c.setScalar(0),c.addScaledVector(s,n3.x),c.addScaledVector(o,n3.y),c.addScaledVector(a,n3.z),c}static isFrontFacing(e,t,i,r){return Lr.subVectors(i,t),t3.subVectors(e,t),Lr.cross(t3).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Lr.subVectors(this.c,this.b),t3.subVectors(this.a,this.b),.5*Lr.cross(t3).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Hi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Hi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===Ou&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Ou=!0),Hi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Hi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Hi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Hi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;q6.subVectors(r,i),Z6.subVectors(s,i),Xy.subVectors(e,i);const c=q6.dot(Xy),l=Z6.dot(Xy);if(c<=0&&l<=0)return t.copy(i);Yy.subVectors(e,r);const u=q6.dot(Yy),f=Z6.dot(Yy);if(u>=0&&f<=u)return t.copy(r);const h=c*f-u*l;if(h<=0&&c>=0&&u<=0)return o=c/(c-u),t.copy(i).addScaledVector(q6,o);Jy.subVectors(e,s);const d=q6.dot(Jy),p=Z6.dot(Jy);if(p>=0&&d<=p)return t.copy(s);const m=d*l-c*p;if(m<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(i).addScaledVector(Z6,a);const g=u*p-d*f;if(g<=0&&f-u>=0&&d-p>=0)return MI.subVectors(s,r),a=(f-u)/(f-u+(d-p)),t.copy(r).addScaledVector(MI,a);const v=1/(g+m+h);return o=m*v,a=h*v,t.copy(i).addScaledVector(q6,o).addScaledVector(Z6,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let ife=0;class X6 extends R6{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ife++}),this.uuid=Li(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const c=s[a];delete c.metadata,o.push(c)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const xI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nr={h:0,s:0,l:0},Fu={h:0,s:0,l:0};function Ky(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Fe{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=z1){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Tr.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Tr.workingColorSpace){return this.r=e,this.g=t,this.b=i,Tr.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Tr.workingColorSpace){if(e=function Ry(n,e){return(n%e+e)%e}(e,1),t=n2(t,0,1),i=n2(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=Ky(o,s,e+1/3),this.g=Ky(o,s,e),this.b=Ky(o,s,e-1/3)}return Tr.toWorkingColorSpace(this,r),this}setStyle(e,t=z1){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=z1){const i=xI[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=O6(e.r),this.g=O6(e.g),this.b=O6(e.b),this}copyLinearToSRGB(e){return this.r=Oy(e.r),this.g=Oy(e.g),this.b=Oy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=z1){return Tr.fromWorkingColorSpace(gn.copy(this),e),65536*Math.round(n2(255*gn.r,0,255))+256*Math.round(n2(255*gn.g,0,255))+Math.round(n2(255*gn.b,0,255))}getHexString(e=z1){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Tr.workingColorSpace){Tr.fromWorkingColorSpace(gn.copy(this),t);const i=gn.r,r=gn.g,s=gn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let c,l;const u=(a+o)/2;if(a===o)c=0,l=0;else{const f=o-a;switch(l=u<=.5?f/(o+a):f/(2-o-a),o){case i:c=(r-s)/f+(r<s?6:0);break;case r:c=(s-i)/f+2;break;case s:c=(i-r)/f+4}c/=6}return e.h=c,e.s=l,e.l=u,e}getRGB(e,t=Tr.workingColorSpace){return Tr.fromWorkingColorSpace(gn.copy(this),t),e.r=gn.r,e.g=gn.g,e.b=gn.b,e}getStyle(e=z1){Tr.fromWorkingColorSpace(gn.copy(this),e);const t=gn.r,i=gn.g,r=gn.b;return e!==z1?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Nr),Nr.h+=e,Nr.s+=t,Nr.l+=i,this.setHSL(Nr.h,Nr.s,Nr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Nr),e.getHSL(Fu);const i=X8(Nr.h,Fu.h,t),r=X8(Nr.s,Fu.s,t),s=X8(Nr.l,Fu.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const gn=new Fe;Fe.NAMES=xI;class as extends X6{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Mu,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const b2=new N,ku=new pe;class k2{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=Z4,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)ku.fromBufferAttribute(this,t),ku.applyMatrix3(e),this.setXY(t,ku.x,ku.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix3(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyMatrix4(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.applyNormalMatrix(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)b2.fromBufferAttribute(this,t),b2.transformDirection(e),this.setXYZ(t,b2.x,b2.y,b2.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=I1(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=I1(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=I1(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=I1(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=I1(t,this.array),i=I1(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=I1(t,this.array),i=I1(i,this.array),r=I1(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=I1(t,this.array),i=I1(i,this.array),r=I1(r,this.array),s=I1(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class CI extends k2{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class bI extends k2{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class Ke extends k2{constructor(e,t,i){super(new Float32Array(e),t,i)}}let sfe=0;const rr=new E1,Qy=new Ri,Y6=new N,Vi=new Y4,i5=new Y4,U2=new N;class F1 extends R6{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sfe++}),this.uuid=Li(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(cI(e)?bI:CI)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new O1).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return rr.makeRotationFromQuaternion(e),this.applyMatrix4(rr),this}rotateX(e){return rr.makeRotationX(e),this.applyMatrix4(rr),this}rotateY(e){return rr.makeRotationY(e),this.applyMatrix4(rr),this}rotateZ(e){return rr.makeRotationZ(e),this.applyMatrix4(rr),this}translate(e,t,i){return rr.makeTranslation(e,t,i),this.applyMatrix4(rr),this}scale(e,t,i){return rr.makeScale(e,t,i),this.applyMatrix4(rr),this}lookAt(e){return Qy.lookAt(e),Qy.updateMatrix(),this.applyMatrix4(Qy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Y6).negate(),this.translate(Y6.x,Y6.y,Y6.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ke(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Y4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Vi.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(U2.addVectors(this.boundingBox.min,Vi.min),this.boundingBox.expandByPoint(U2),U2.addVectors(this.boundingBox.max,Vi.max),this.boundingBox.expandByPoint(U2)):(this.boundingBox.expandByPoint(Vi.min),this.boundingBox.expandByPoint(Vi.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new u4);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new N,1/0);if(e){const i=this.boundingSphere.center;if(Vi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)i5.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(U2.addVectors(Vi.min,i5.min),Vi.expandByPoint(U2),U2.addVectors(Vi.max,i5.max),Vi.expandByPoint(U2)):(Vi.expandByPoint(i5.min),Vi.expandByPoint(i5.max));Vi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)U2.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(U2));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],c=this.morphTargetsRelative;for(let l=0,u=a.count;l<u;l++)U2.fromBufferAttribute(a,l),c&&(Y6.fromBufferAttribute(e,l),U2.add(Y6)),r=Math.max(r,i.distanceToSquared(U2))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new k2(new Float32Array(4*a),4));const c=this.getAttribute("tangent").array,l=[],u=[];for(let z=0;z<a;z++)l[z]=new N,u[z]=new N;const f=new N,h=new N,d=new N,p=new pe,m=new pe,g=new pe,v=new N,M=new N;function x(z,k,Z){f.fromArray(r,3*z),h.fromArray(r,3*k),d.fromArray(r,3*Z),p.fromArray(o,2*z),m.fromArray(o,2*k),g.fromArray(o,2*Z),h.sub(f),d.sub(f),m.sub(p),g.sub(p);const B=1/(m.x*g.y-g.x*m.y);isFinite(B)&&(v.copy(h).multiplyScalar(g.y).addScaledVector(d,-m.y).multiplyScalar(B),M.copy(d).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(B),l[z].add(v),l[k].add(v),l[Z].add(v),u[z].add(M),u[k].add(M),u[Z].add(M))}let C=this.groups;0===C.length&&(C=[{start:0,count:i.length}]);for(let z=0,k=C.length;z<k;++z){const Z=C[z],B=Z.start;for(let j=B,ne=B+Z.count;j<ne;j+=3)x(i[j+0],i[j+1],i[j+2])}const b=new N,A=new N,E=new N,D=new N;function S(z){E.fromArray(s,3*z),D.copy(E);const k=l[z];b.copy(k),b.sub(E.multiplyScalar(E.dot(k))).normalize(),A.crossVectors(D,k);const B=A.dot(u[z])<0?-1:1;c[4*z]=b.x,c[4*z+1]=b.y,c[4*z+2]=b.z,c[4*z+3]=B}for(let z=0,k=C.length;z<k;++z){const Z=C[z],B=Z.start;for(let j=B,ne=B+Z.count;j<ne;j+=3)S(i[j+0]),S(i[j+1]),S(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new k2(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,d=i.count;h<d;h++)i.setXYZ(h,0,0,0);const r=new N,s=new N,o=new N,a=new N,c=new N,l=new N,u=new N,f=new N;if(e)for(let h=0,d=e.count;h<d;h+=3){const p=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),o.fromBufferAttribute(t,g),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),a.fromBufferAttribute(i,p),c.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),a.add(u),c.add(u),l.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(m,c.x,c.y,c.z),i.setXYZ(g,l.x,l.y,l.z)}else for(let h=0,d=t.count;h<d;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)U2.fromBufferAttribute(e,t),U2.normalize(),e.setXYZ(t,U2.x,U2.y,U2.z)}toNonIndexed(){function e(a,c){const l=a.array,u=a.itemSize,f=a.normalized,h=new l.constructor(c.length*u);let d=0,p=0;for(let m=0,g=c.length;m<g;m++){d=a.isInterleavedBufferAttribute?c[m]*a.data.stride+a.offset:c[m]*u;for(let v=0;v<u;v++)h[p++]=l[d++]}return new k2(h,u,f)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new F1,i=this.index.array,r=this.attributes;for(const a in r){const l=e(r[a],i);t.setAttribute(a,l)}const s=this.morphAttributes;for(const a in s){const c=[],l=s[a];for(let u=0,f=l.length;u<f;u++){const d=e(l[u],i);c.push(d)}t.morphAttributes[a]=c}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,c=o.length;a<c;a++){const l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(e[l]=c[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const c in i)e.data.attributes[c]=i[c].toJSON(e.data);const r={};let s=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],u=[];for(let f=0,h=l.length;f<h;f++)u.push(l[f].toJSON(e.data));u.length>0&&(r[c]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const u=[],f=s[l];for(let h=0,d=f.length;h<d;h++)u.push(f[h].clone(t));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,u=o.length;l<u;l++){const f=o[l];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const c=e.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wI=new E1,Ao=new e5,Uu=new u4,SI=new N,J6=new N,K6=new N,Q6=new N,e_=new N,Bu=new N,Gu=new pe,Wu=new pe,ju=new pe,AI=new N,zI=new N,EI=new N,$u=new N,qu=new N;class li extends Ri{constructor(e=new F1,t=new as){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){Bu.set(0,0,0);for(let c=0,l=s.length;c<l;c++){const u=a[c];0!==u&&(e_.fromBufferAttribute(s[c],e),Bu.addScaledVector(o?e_:e_.sub(t),u))}t.add(Bu)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Uu.copy(i.boundingSphere),Uu.applyMatrix4(s),Ao.copy(e.ray).recast(e.near),(!1!==Uu.containsPoint(Ao.origin)||!(null===Ao.intersectSphere(Uu,SI)||Ao.origin.distanceToSquared(SI)>(e.far-e.near)**2))&&(wI.copy(s).invert(),Ao.copy(e.ray).applyMatrix4(wI),(null===i.boundingBox||!1!==Ao.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,Ao)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,c=s.attributes.position,l=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,d=s.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,m=h.length;p<m;p++){const g=h[p],v=o[g.materialIndex];for(let C=Math.max(g.start,d.start),b=Math.min(a.count,Math.min(g.start+g.count,d.start+d.count));C<b;C+=3)r=Zu(this,v,e,i,l,u,f,a.getX(C),a.getX(C+1),a.getX(C+2)),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,d.start),v=Math.min(a.count,d.start+d.count);g<v;g+=3)r=Zu(this,o,e,i,l,u,f,a.getX(g),a.getX(g+1),a.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),t.push(r));else if(void 0!==c)if(Array.isArray(o))for(let p=0,m=h.length;p<m;p++){const g=h[p],v=o[g.materialIndex];for(let C=Math.max(g.start,d.start),b=Math.min(c.count,Math.min(g.start+g.count,d.start+d.count));C<b;C+=3)r=Zu(this,v,e,i,l,u,f,C,C+1,C+2),r&&(r.faceIndex=Math.floor(C/3),r.face.materialIndex=g.materialIndex,t.push(r))}else for(let g=Math.max(0,d.start),v=Math.min(c.count,d.start+d.count);g<v;g+=3)r=Zu(this,o,e,i,l,u,f,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),t.push(r))}}function Zu(n,e,t,i,r,s,o,a,c,l){n.getVertexPosition(a,J6),n.getVertexPosition(c,K6),n.getVertexPosition(l,Q6);const u=function ofe(n,e,t,i,r,s,o,a){let c;if(c=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===e.side,a),null===c)return null;qu.copy(a),qu.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(qu);return l<t.near||l>t.far?null:{distance:l,point:qu.clone(),object:n}}(n,e,t,i,J6,K6,Q6,$u);if(u){r&&(Gu.fromBufferAttribute(r,a),Wu.fromBufferAttribute(r,c),ju.fromBufferAttribute(r,l),u.uv=Hi.getInterpolation($u,J6,K6,Q6,Gu,Wu,ju,new pe)),s&&(Gu.fromBufferAttribute(s,a),Wu.fromBufferAttribute(s,c),ju.fromBufferAttribute(s,l),u.uv1=Hi.getInterpolation($u,J6,K6,Q6,Gu,Wu,ju,new pe),u.uv2=u.uv1),o&&(AI.fromBufferAttribute(o,a),zI.fromBufferAttribute(o,c),EI.fromBufferAttribute(o,l),u.normal=Hi.getInterpolation($u,J6,K6,Q6,AI,zI,EI,new N),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:c,c:l,normal:new N,materialIndex:0};Hi.getNormal(J6,K6,Q6,f.normal),u.face=f}return u}class e0 extends F1{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const c=[],l=[],u=[],f=[];let h=0,d=0;function p(m,g,v,M,x,C,b,A,E,D,S){const z=C/E,k=b/D,Z=C/2,B=b/2,F=A/2,j=E+1,ne=D+1;let X=0,J=0;const ae=new N;for(let P=0;P<ne;P++){const W=P*k-B;for(let ce=0;ce<j;ce++)ae[m]=(ce*z-Z)*M,ae[g]=W*x,ae[v]=F,l.push(ae.x,ae.y,ae.z),ae[m]=0,ae[g]=0,ae[v]=A>0?1:-1,u.push(ae.x,ae.y,ae.z),f.push(ce/E),f.push(1-P/D),X+=1}for(let P=0;P<D;P++)for(let W=0;W<E;W++){const xe=h+W+j*(P+1),_e=h+(W+1)+j*(P+1),Ce=h+(W+1)+j*P;c.push(h+W+j*P,xe,Ce),c.push(xe,_e,Ce),J+=6}a.addGroup(d,J,S),d+=J,h+=X}p("z","y","x",-1,-1,i,t,e,o,s,0),p("z","y","x",1,-1,i,t,-e,o,s,1),p("x","z","y",1,1,e,i,t,r,o,2),p("x","z","y",1,-1,e,i,-t,r,o,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(c),this.setAttribute("position",new Ke(l,3)),this.setAttribute("normal",new Ke(u,3)),this.setAttribute("uv",new Ke(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function t0(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function On(n){const e={};for(let t=0;t<n.length;t++){const i=t0(n[t]);for(const r in i)e[r]=i[r]}return e}function TI(n){return null===n.getRenderTarget()?n.outputColorSpace:c4}const cfe={clone:t0,merge:On};class r3 extends X6{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=t0(e.uniforms),this.uniformsGroups=function afe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class t_ extends Ri{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new E1,this.projectionMatrix=new E1,this.projectionMatrixInverse=new E1,this.coordinateSystem=X4}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class B2 extends t_{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*H6*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Co*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*H6*Math.atan(Math.tan(.5*Co*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Co*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const c=o.fullWidth,l=o.fullHeight;s+=o.offsetX*r/c,t-=o.offsetY*i/l,r*=o.width/c,i*=o.height/l}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class ffe extends Ri{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new B2(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new B2(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new B2(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new B2(-90,1,e,t);a.layers=this.layers,this.add(a);const c=new B2(-90,1,e,t);c.layers=this.layers,this.add(c);const l=new B2(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,c]=t;for(const l of t)this.remove(l);if(e===X4)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,c,l]=this.children,u=e.getRenderTarget(),f=e.toneMapping,h=e.xr.enabled;e.toneMapping=q4,e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,c),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(u),e.toneMapping=f,e.xr.enabled=h,i.texture.needsPMREMUpdate=!0}}class Xu extends l4{constructor(e,t,i,r,s,o,a,c,l,u){super(e=void 0!==e?e:[],t=void 0!==t?t:po,i,r,s,o,a,c,l,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hfe extends bo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(J8("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===_o?z1:""),this.texture=new Xu(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:C2}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new e0(5,5,5),s=new r3({name:"CubemapFromEquirect",uniforms:t0(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new li(r,s),a=t.minFilter;return t.minFilter===go&&(t.minFilter=C2),new ffe(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const n_=new N,dfe=new N,pfe=new O1;class zo{constructor(e=new N(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=n_.subVectors(i,t).cross(dfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(n_),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||pfe.getNormalMatrix(e),r=this.coplanarPoint(n_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Eo=new u4,Yu=new N;class i_{constructor(e=new zo,t=new zo,i=new zo,r=new zo,s=new zo,o=new zo){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=X4){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],c=r[3],l=r[4],u=r[5],f=r[6],h=r[7],d=r[8],p=r[9],m=r[10],g=r[11],v=r[12],M=r[13],x=r[14],C=r[15];if(i[0].setComponents(c-s,h-l,g-d,C-v).normalize(),i[1].setComponents(c+s,h+l,g+d,C+v).normalize(),i[2].setComponents(c+o,h+u,g+p,C+M).normalize(),i[3].setComponents(c-o,h-u,g-p,C-M).normalize(),i[4].setComponents(c-a,h-f,g-m,C-x).normalize(),t===X4)i[5].setComponents(c+a,h+f,g+m,C+x).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,f,m,x).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Eo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Eo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Eo)}intersectsSprite(e){return Eo.center.set(0,0,0),Eo.radius=.7071067811865476,Eo.applyMatrix4(e.matrixWorld),this.intersectsSphere(Eo)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Yu.x=r.normal.x>0?e.max.x:e.min.x,Yu.y=r.normal.y>0?e.max.y:e.min.y,Yu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Yu)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function DI(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function mfe(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);u&&(n.deleteBuffer(u.buffer),i.delete(l))},update:function c(l,u){if(l.isGLBufferAttribute){const h=i.get(l);return void((!h||h.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const f=i.get(l);void 0===f?i.set(l,function r(l,u){const f=l.array,h=l.usage,d=n.createBuffer();let p;if(n.bindBuffer(u,d),n.bufferData(u,f,h),l.onUploadCallback(),f instanceof Float32Array)p=n.FLOAT;else if(f instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)p=n.SHORT;else if(f instanceof Uint32Array)p=n.UNSIGNED_INT;else if(f instanceof Int32Array)p=n.INT;else if(f instanceof Int8Array)p=n.BYTE;else if(f instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(f instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);p=n.UNSIGNED_BYTE}return{buffer:d,type:p,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version}}(l,u)):f.version<l.version&&(function s(l,u,f){const h=u.array,d=u.updateRange;n.bindBuffer(f,l),-1===d.count?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):n.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1),u.onUploadCallback()}(f.buffer,l,u),f.version=l.version)}}}class r5 extends F1{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),c=Math.floor(r),l=a+1,u=c+1,f=e/a,h=t/c,d=[],p=[],m=[],g=[];for(let v=0;v<u;v++){const M=v*h-o;for(let x=0;x<l;x++)p.push(x*f-s,-M,0),m.push(0,0,1),g.push(x/a),g.push(1-v/c)}for(let v=0;v<c;v++)for(let M=0;M<a;M++){const C=M+l*(v+1),b=M+1+l*(v+1),A=M+1+l*v;d.push(M+l*v,C,A),d.push(C,b,A)}this.setIndex(d),this.setAttribute("position",new Ke(p,3)),this.setAttribute("normal",new Ke(m,3)),this.setAttribute("uv",new Ke(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r5(e.width,e.height,e.widthSegments,e.heightSegments)}}const R1={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Te={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new O1},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new O1}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new O1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new O1}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new O1},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new O1},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new O1},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new O1}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new O1}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new O1}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0},uvTransform:{value:new O1}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new O1},alphaMap:{value:null},alphaMapTransform:{value:new O1},alphaTest:{value:0}}},f4={basic:{uniforms:On([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.fog]),vertexShader:R1.meshbasic_vert,fragmentShader:R1.meshbasic_frag},lambert:{uniforms:On([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Fe(0)}}]),vertexShader:R1.meshlambert_vert,fragmentShader:R1.meshlambert_frag},phong:{uniforms:On([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:R1.meshphong_vert,fragmentShader:R1.meshphong_frag},standard:{uniforms:On([Te.common,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.roughnessmap,Te.metalnessmap,Te.fog,Te.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:R1.meshphysical_vert,fragmentShader:R1.meshphysical_frag},toon:{uniforms:On([Te.common,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.gradientmap,Te.fog,Te.lights,{emissive:{value:new Fe(0)}}]),vertexShader:R1.meshtoon_vert,fragmentShader:R1.meshtoon_frag},matcap:{uniforms:On([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,{matcap:{value:null}}]),vertexShader:R1.meshmatcap_vert,fragmentShader:R1.meshmatcap_frag},points:{uniforms:On([Te.points,Te.fog]),vertexShader:R1.points_vert,fragmentShader:R1.points_frag},dashed:{uniforms:On([Te.common,Te.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:R1.linedashed_vert,fragmentShader:R1.linedashed_frag},depth:{uniforms:On([Te.common,Te.displacementmap]),vertexShader:R1.depth_vert,fragmentShader:R1.depth_frag},normal:{uniforms:On([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,{opacity:{value:1}}]),vertexShader:R1.meshnormal_vert,fragmentShader:R1.meshnormal_frag},sprite:{uniforms:On([Te.sprite,Te.fog]),vertexShader:R1.sprite_vert,fragmentShader:R1.sprite_frag},background:{uniforms:{uvTransform:{value:new O1},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:R1.background_vert,fragmentShader:R1.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:R1.backgroundCube_vert,fragmentShader:R1.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:R1.cube_vert,fragmentShader:R1.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:R1.equirect_vert,fragmentShader:R1.equirect_frag},distanceRGBA:{uniforms:On([Te.common,Te.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:R1.distanceRGBA_vert,fragmentShader:R1.distanceRGBA_frag},shadow:{uniforms:On([Te.lights,Te.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:R1.shadow_vert,fragmentShader:R1.shadow_frag}};f4.physical={uniforms:On([f4.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new O1},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new O1},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new O1},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new O1},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new O1},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new O1},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new O1},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new O1},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new O1},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new O1},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new O1},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new O1}}]),vertexShader:R1.meshphysical_vert,fragmentShader:R1.meshphysical_frag};const Ju={r:0,b:0,g:0};function dde(n,e,t,i,r,s,o){const a=new Fe(0);let l,u,c=!0===s?0:1,f=null,h=0,d=null;function m(g,v){g.getRGB(Ju,TI(n)),i.buffers.color.setClear(Ju.r,Ju.g,Ju.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(g,v=1){a.set(g),c=v,m(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,m(a,c)},render:function p(g,v){let M=!1,x=!0===v.isScene?v.background:null;switch(x&&x.isTexture&&(x=(v.backgroundBlurriness>0?t:e).get(x)),null===x?m(a,c):x&&x.isColor&&(m(x,1),M=!0),n.xr.getEnvironmentBlendMode()){case"opaque":M=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,o),M=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,o),M=!0}(n.autoClear||M)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===q8)?(void 0===u&&(u=new li(new e0(1,1,1),new r3({name:"BackgroundCubeMaterial",uniforms:t0(f4.backgroundCube.uniforms),vertexShader:f4.backgroundCube.vertexShader,fragmentShader:f4.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,E,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=x.colorSpace!==z1,(f!==x||h!==x.version||d!==n.toneMapping)&&(u.material.needsUpdate=!0,f=x,h=x.version,d=n.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(void 0===l&&(l=new li(new r5(2,2),new r3({name:"BackgroundMaterial",uniforms:t0(f4.background.uniforms),vertexShader:f4.background.vertexShader,fragmentShader:f4.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=x.colorSpace!==z1,!0===x.matrixAutoUpdate&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||h!==x.version||d!==n.toneMapping)&&(l.material.needsUpdate=!0,f=x,h=x.version,d=n.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}}}function pde(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},c=g(null);let l=c,u=!1;function d(F){return i.isWebGL2?n.bindVertexArray(F):s.bindVertexArrayOES(F)}function p(F){return i.isWebGL2?n.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function g(F){const j=[],ne=[],X=[];for(let J=0;J<r;J++)j[J]=0,ne[J]=0,X[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:ne,attributeDivisors:X,object:F,attributes:{},index:null}}function x(){const F=l.newAttributes;for(let j=0,ne=F.length;j<ne;j++)F[j]=0}function C(F){b(F,0)}function b(F,j){const X=l.enabledAttributes,J=l.attributeDivisors;l.newAttributes[F]=1,0===X[F]&&(n.enableVertexAttribArray(F),X[F]=1),J[F]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,j),J[F]=j)}function A(){const F=l.newAttributes,j=l.enabledAttributes;for(let ne=0,X=j.length;ne<X;ne++)j[ne]!==F[ne]&&(n.disableVertexAttribArray(ne),j[ne]=0)}function E(F,j,ne,X,J,ae,P){!0===P?n.vertexAttribIPointer(F,j,ne,J,ae):n.vertexAttribPointer(F,j,ne,X,J,ae)}function Z(){B(),u=!0,l!==c&&(l=c,d(l.object))}function B(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function f(F,j,ne,X,J){let ae=!1;if(o){const P=function m(F,j,ne){const X=!0===ne.wireframe;let J=a[F.id];void 0===J&&(J={},a[F.id]=J);let ae=J[j.id];void 0===ae&&(ae={},J[j.id]=ae);let P=ae[X];return void 0===P&&(P=g(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),ae[X]=P),P}(X,ne,j);l!==P&&(l=P,d(l.object)),ae=function v(F,j,ne,X){const J=l.attributes,ae=j.attributes;let P=0;const W=ne.getAttributes();for(const ce in W)if(W[ce].location>=0){const _e=J[ce];let Ce=ae[ce];if(void 0===Ce&&("instanceMatrix"===ce&&F.instanceMatrix&&(Ce=F.instanceMatrix),"instanceColor"===ce&&F.instanceColor&&(Ce=F.instanceColor)),void 0===_e||_e.attribute!==Ce||Ce&&_e.data!==Ce.data)return!0;P++}return l.attributesNum!==P||l.index!==X}(F,X,ne,J),ae&&function M(F,j,ne,X){const J={},ae=j.attributes;let P=0;const W=ne.getAttributes();for(const ce in W)if(W[ce].location>=0){let _e=ae[ce];void 0===_e&&("instanceMatrix"===ce&&F.instanceMatrix&&(_e=F.instanceMatrix),"instanceColor"===ce&&F.instanceColor&&(_e=F.instanceColor));const Ce={};Ce.attribute=_e,_e&&_e.data&&(Ce.data=_e.data),J[ce]=Ce,P++}l.attributes=J,l.attributesNum=P,l.index=X}(F,X,ne,J)}else{const P=!0===j.wireframe;(l.geometry!==X.id||l.program!==ne.id||l.wireframe!==P)&&(l.geometry=X.id,l.program=ne.id,l.wireframe=P,ae=!0)}null!==J&&t.update(J,n.ELEMENT_ARRAY_BUFFER),(ae||u)&&(u=!1,function D(F,j,ne,X){if(!1===i.isWebGL2&&(F.isInstancedMesh||X.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;x();const J=X.attributes,ae=ne.getAttributes(),P=j.defaultAttributeValues;for(const W in ae){const ce=ae[W];if(ce.location>=0){let xe=J[W];if(void 0===xe&&("instanceMatrix"===W&&F.instanceMatrix&&(xe=F.instanceMatrix),"instanceColor"===W&&F.instanceColor&&(xe=F.instanceColor)),void 0!==xe){const _e=xe.normalized,Ce=xe.itemSize,Ue=t.get(xe);if(void 0===Ue)continue;const Pe=Ue.buffer,Be=Ue.type,y1=Ue.bytesPerElement,at=!0===i.isWebGL2&&(Be===n.INT||Be===n.UNSIGNED_INT||1013===xe.gpuType);if(xe.isInterleavedBufferAttribute){const e1=xe.data,H=e1.stride,fe=xe.offset;if(e1.isInstancedInterleavedBuffer){for(let re=0;re<ce.locationSize;re++)b(ce.location+re,e1.meshPerAttribute);!0!==F.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=e1.meshPerAttribute*e1.count)}else for(let re=0;re<ce.locationSize;re++)C(ce.location+re);n.bindBuffer(n.ARRAY_BUFFER,Pe);for(let re=0;re<ce.locationSize;re++)E(ce.location+re,Ce/ce.locationSize,Be,_e,H*y1,(fe+Ce/ce.locationSize*re)*y1,at)}else{if(xe.isInstancedBufferAttribute){for(let e1=0;e1<ce.locationSize;e1++)b(ce.location+e1,xe.meshPerAttribute);!0!==F.isInstancedMesh&&void 0===X._maxInstanceCount&&(X._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let e1=0;e1<ce.locationSize;e1++)C(ce.location+e1);n.bindBuffer(n.ARRAY_BUFFER,Pe);for(let e1=0;e1<ce.locationSize;e1++)E(ce.location+e1,Ce/ce.locationSize,Be,_e,Ce*y1,Ce/ce.locationSize*e1*y1,at)}}else if(void 0!==P){const _e=P[W];if(void 0!==_e)switch(_e.length){case 2:n.vertexAttrib2fv(ce.location,_e);break;case 3:n.vertexAttrib3fv(ce.location,_e);break;case 4:n.vertexAttrib4fv(ce.location,_e);break;default:n.vertexAttrib1fv(ce.location,_e)}}}}A()}(F,j,ne,X),null!==J&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(J).buffer))},reset:Z,resetDefaultState:B,dispose:function S(){Z();for(const F in a){const j=a[F];for(const ne in j){const X=j[ne];for(const J in X)p(X[J].object),delete X[J];delete j[ne]}delete a[F]}},releaseStatesOfGeometry:function z(F){if(void 0===a[F.id])return;const j=a[F.id];for(const ne in j){const X=j[ne];for(const J in X)p(X[J].object),delete X[J];delete j[ne]}delete a[F.id]},releaseStatesOfProgram:function k(F){for(const j in a){const ne=a[j];if(void 0===ne[F.id])continue;const X=ne[F.id];for(const J in X)p(X[J].object),delete X[J];delete ne[F.id]}},initAttributes:x,enableAttribute:C,disableUnusedAttributes:A}}function mde(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(l){s=l},this.render=function a(l,u){n.drawArrays(s,l,u),t.update(u,s,1)},this.renderInstances=function c(l,u,f){if(0===f)return;let h,d;if(r)h=n,d="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](s,l,u,f),t.update(u,s,f)}}function gde(n,e,t){let i;function s(E){if("highp"===E){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return"mediump"===E&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const c=s(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const l=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=h>0,C=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const E=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:M,vertexTextures:x,floatFragmentTextures:C,floatVertexTextures:x&&C,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function vde(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new zo,a=new O1,c={value:null,needsUpdate:!1};function u(f,h,d,p){const m=null!==f?f.length:0;let g=null;if(0!==m){if(g=c.value,!0!==p||null===g){const v=d+4*m,M=h.matrixWorldInverse;a.getNormalMatrix(M),(null===g||g.length<v)&&(g=new Float32Array(v));for(let x=0,C=d;x!==m;++x,C+=4)o.copy(f[x]).applyMatrix4(M,a),o.normal.toArray(g,C),g[C+3]=o.constant}c.value=g,c.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const d=0!==f.length||h||0!==i||r;return r=h,i=f.length,d},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,d){const p=f.clippingPlanes,m=f.clipIntersection,g=f.clipShadows,v=n.get(f);if(!r||null===p||0===p.length||s&&!g)s?u(null):function l(){c.value!==t&&(c.value=t,c.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const M=s?0:i,x=4*M;let C=v.clippingState||null;c.value=C,C=u(p,h,x,d);for(let b=0;b!==x;++b)C[b]=t[b];v.clippingState=C,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=M}}}function yde(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=po:304===a&&(o.mapping=mo),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const c=e.get(a);void 0!==c&&(e.delete(a),c.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const c=o.image;if(c&&c.height>0){const l=new hfe(c.height/2);return l.fromEquirectangularTexture(n,o),e.set(o,l),o.addEventListener("dispose",r),t(l.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class r_ extends t_{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,c=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,o=s+l*this.view.width,a-=u*this.view.offsetY,c=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const LI=[.125,.215,.35,.446,.526,.582],s_=new r_,NI=new Fe;let o_=null;const Do=(1+Math.sqrt(5))/2,o0=1/Do,PI=[new N(1,1,1),new N(-1,1,1),new N(1,1,-1),new N(-1,1,-1),new N(0,Do,o0),new N(0,Do,-o0),new N(o0,0,Do),new N(-o0,0,Do),new N(Do,o0,0),new N(-Do,o0,0)];class II{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){o_=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=VI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=HI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(o_),e.scissorTest=!1,Ku(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===po||e.mapping===mo?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),o_=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:C2,minFilter:C2,generateMipmaps:!1,type:Z8,format:ir,colorSpace:c4,depthBuffer:!1},r=RI(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=RI(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function _de(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+LI.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let c=1/a;o>n-4?c=LI[o-n+4-1]:0===o&&(c=0),i.push(c);const l=1/(a-2),u=-l,f=1+l,h=[u,u,f,u,f,f,u,u,f,f,u,f],d=6,p=6,m=3,g=2,v=1,M=new Float32Array(m*p*d),x=new Float32Array(g*p*d),C=new Float32Array(v*p*d);for(let A=0;A<d;A++){const E=A%3*2/3-1,D=A>2?0:-1;M.set([E,D,0,E+2/3,D,0,E+2/3,D+1,0,E,D,0,E+2/3,D+1,0,E,D+1,0],m*p*A),x.set(h,g*p*A),C.set([A,A,A,A,A,A],v*p*A)}const b=new F1;b.setAttribute("position",new k2(M,m)),b.setAttribute("uv",new k2(x,g)),b.setAttribute("faceIndex",new k2(C,v)),e.push(b),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function Mde(n,e,t){const i=new Float32Array(20),r=new N(0,1,0);return new r3({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new li(this._lodPlanes[0],e);this._renderer.compile(t,s_)}_sceneToCubeUV(e,t,i,r){const a=new B2(90,1,t,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(NI),u.toneMapping=q4,u.autoClear=!1;const d=new as({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new li(new e0,d);let m=!1;const g=e.background;g?g.isColor&&(d.color.copy(g),e.background=null,m=!0):(d.color.copy(NI),m=!0);for(let v=0;v<6;v++){const M=v%3;0===M?(a.up.set(0,c[v],0),a.lookAt(l[v],0,0)):1===M?(a.up.set(0,0,c[v]),a.lookAt(0,l[v],0)):(a.up.set(0,c[v],0),a.lookAt(0,0,l[v]));const x=this._cubeSize;Ku(r,M*x,v>2?x:0,x,x),u.setRenderTarget(r),m&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=g}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===po||e.mapping===mo;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=VI()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=HI());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new li(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const c=this._cubeSize;Ku(t,0,0,3*c,2*c),i.setRenderTarget(t),i.render(o,s_)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,PI[(r-1)%PI.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const f=new li(this._lodPlanes[r],l),h=l.uniforms,d=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const v=[];let M=0;for(let E=0;E<20;++E){const D=E/m,S=Math.exp(-D*D/2);v.push(S),0===E?M+=S:E<g&&(M+=2*S)}for(let E=0;E<v.length;E++)v[E]=v[E]/M;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=v,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:x}=this;h.dTheta.value=p,h.mipInt.value=x-i;const C=this._sizeLods[r];Ku(t,3*C*(r>x-4?r-x+4:0),4*(this._cubeSize-C),3*C,2*C),c.setRenderTarget(t),c.render(f,s_)}}function RI(n,e,t){const i=new bo(n,e,t);return i.texture.mapping=q8,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Ku(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function HI(){return new r3({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function VI(){return new r3({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function xde(n){let e=new WeakMap,t=null;function s(a){const c=a.target;c.removeEventListener("dispose",s);const l=e.get(c);void 0!==l&&(e.delete(c),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const c=a.mapping,l=303===c||304===c,u=c===po||c===mo;if(l||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let f=e.get(a);return null===t&&(t=new II(n)),f=l?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}if(e.has(a))return e.get(a).texture;{const f=a.image;if(l&&f&&f.height>0||u&&f&&function r(a){let c=0;for(let u=0;u<6;u++)void 0!==a[u]&&c++;return 6===c}(f)){null===t&&(t=new II(n));const h=l?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function Cde(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function bde(n,e,t,i){const r={},s=new WeakMap;function o(f){const h=f.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const m=h.morphAttributes[p];for(let g=0,v=m.length;g<v;g++)e.remove(m[g])}h.removeEventListener("dispose",o),delete r[h.id];const d=s.get(h);d&&(e.remove(d),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function l(f){const h=[],d=f.index,p=f.attributes.position;let m=0;if(null!==d){const M=d.array;m=d.version;for(let x=0,C=M.length;x<C;x+=3){const b=M[x+0],A=M[x+1],E=M[x+2];h.push(b,A,A,E,E,b)}}else{m=p.version;for(let x=0,C=p.array.length/3-1;x<C;x+=3){const b=x+0,A=x+1,E=x+2;h.push(b,A,A,E,E,b)}}const g=new(cI(h)?bI:CI)(h,1);g.version=m;const v=s.get(f);v&&e.remove(v),s.set(f,g)}return{get:function a(f,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function c(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const d=f.morphAttributes;for(const p in d){const m=d[p];for(let g=0,v=m.length;g<v;g++)e.update(m[g],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(f){const h=s.get(f);if(h){const d=f.index;null!==d&&h.version<d.version&&l(f)}else l(f);return s.get(f)}}}function wde(n,e,t,i){const r=i.isWebGL2;let s,a,c;this.setMode=function o(h){s=h},this.setIndex=function l(h){a=h.type,c=h.bytesPerElement},this.render=function u(h,d){n.drawElements(s,d,a,h*c),t.update(d,s,1)},this.renderInstances=function f(h,d,p){if(0===p)return;let m,g;if(r)m=n,g="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](s,d,a,h*c,p),t.update(d,s,p)}}function Sde(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function Ade(n,e){return n[0]-e[0]}function zde(n,e){return Math.abs(e[1])-Math.abs(n[1])}function Ede(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new St,a=[];for(let l=0;l<8;l++)a[l]=[l,0];return{update:function c(l,u,f){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const d=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==d?d.length:0;let m=s.get(u);if(void 0===m||m.count!==p){let F=function(){Z.dispose(),s.delete(u),u.removeEventListener("dispose",F)};void 0!==m&&m.texture.dispose();const M=void 0!==u.morphAttributes.position,x=void 0!==u.morphAttributes.normal,C=void 0!==u.morphAttributes.color,b=u.morphAttributes.position||[],A=u.morphAttributes.normal||[],E=u.morphAttributes.color||[];let D=0;!0===M&&(D=1),!0===x&&(D=2),!0===C&&(D=3);let S=u.attributes.position.count*D,z=1;S>e.maxTextureSize&&(z=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const k=new Float32Array(S*z*4*p),Z=new ky(k,S,z,p);Z.type=Z4,Z.needsUpdate=!0;const B=4*D;for(let j=0;j<p;j++){const ne=b[j],X=A[j],J=E[j],ae=S*z*4*j;for(let P=0;P<ne.count;P++){const W=P*B;!0===M&&(o.fromBufferAttribute(ne,P),k[ae+W+0]=o.x,k[ae+W+1]=o.y,k[ae+W+2]=o.z,k[ae+W+3]=0),!0===x&&(o.fromBufferAttribute(X,P),k[ae+W+4]=o.x,k[ae+W+5]=o.y,k[ae+W+6]=o.z,k[ae+W+7]=0),!0===C&&(o.fromBufferAttribute(J,P),k[ae+W+8]=o.x,k[ae+W+9]=o.y,k[ae+W+10]=o.z,k[ae+W+11]=4===J.itemSize?o.w:1)}}m={count:p,texture:Z,size:new pe(S,z)},s.set(u,m),u.addEventListener("dispose",F)}let g=0;for(let M=0;M<h.length;M++)g+=h[M];const v=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",v),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}else{const d=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==d){p=[];for(let x=0;x<d;x++)p[x]=[x,0];i[u.id]=p}for(let x=0;x<d;x++){const C=p[x];C[0]=x,C[1]=h[x]}p.sort(zde);for(let x=0;x<8;x++)x<d&&p[x][1]?(a[x][0]=p[x][0],a[x][1]=p[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(Ade);const m=u.morphAttributes.position,g=u.morphAttributes.normal;let v=0;for(let x=0;x<8;x++){const C=a[x],b=C[0],A=C[1];b!==Number.MAX_SAFE_INTEGER&&A?(m&&u.getAttribute("morphTarget"+x)!==m[b]&&u.setAttribute("morphTarget"+x,m[b]),g&&u.getAttribute("morphNormal"+x)!==g[b]&&u.setAttribute("morphNormal"+x,g[b]),r[x]=A,v+=A):(m&&!0===u.hasAttribute("morphTarget"+x)&&u.deleteAttribute("morphTarget"+x),g&&!0===u.hasAttribute("morphNormal"+x)&&u.deleteAttribute("morphNormal"+x),r[x]=0)}const M=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",M),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function Tde(n,e,t,i){let r=new WeakMap;function a(c){const l=c.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(c){const l=i.render.frame,f=e.get(c,c.geometry);if(r.get(f)!==l&&(e.update(f),r.set(f,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",a)&&c.addEventListener("dispose",a),r.get(c)!==l&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&t.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return f},dispose:function o(){r=new WeakMap}}}const OI=new l4,FI=new ky,kI=new fI,UI=new Xu,BI=[],GI=[],WI=new Float32Array(16),jI=new Float32Array(9),$I=new Float32Array(4);function a0(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=BI[r];if(void 0===s&&(s=new Float32Array(r),BI[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function L2(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function N2(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Qu(n,e){let t=GI[e];void 0===t&&(t=new Int32Array(e),GI[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Dde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Lde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2fv(this.addr,e),N2(t,e)}}function Nde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(L2(t,e))return;n.uniform3fv(this.addr,e),N2(t,e)}}function Pde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4fv(this.addr,e),N2(t,e)}}function Ide(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;$I.set(i),n.uniformMatrix2fv(this.addr,!1,$I),N2(t,i)}}function Rde(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;jI.set(i),n.uniformMatrix3fv(this.addr,!1,jI),N2(t,i)}}function Hde(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(L2(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),N2(t,e)}else{if(L2(t,i))return;WI.set(i),n.uniformMatrix4fv(this.addr,!1,WI),N2(t,i)}}function Vde(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ode(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2iv(this.addr,e),N2(t,e)}}function Fde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3iv(this.addr,e),N2(t,e)}}function kde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4iv(this.addr,e),N2(t,e)}}function Ude(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Bde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(L2(t,e))return;n.uniform2uiv(this.addr,e),N2(t,e)}}function Gde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(L2(t,e))return;n.uniform3uiv(this.addr,e),N2(t,e)}}function Wde(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(L2(t,e))return;n.uniform4uiv(this.addr,e),N2(t,e)}}function jde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||OI,r)}function $de(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||kI,r)}function qde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||UI,r)}function Zde(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||FI,r)}function Yde(n,e){n.uniform1fv(this.addr,e)}function Jde(n,e){const t=a0(e,this.size,2);n.uniform2fv(this.addr,t)}function Kde(n,e){const t=a0(e,this.size,3);n.uniform3fv(this.addr,t)}function Qde(n,e){const t=a0(e,this.size,4);n.uniform4fv(this.addr,t)}function epe(n,e){const t=a0(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function tpe(n,e){const t=a0(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function npe(n,e){const t=a0(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function ipe(n,e){n.uniform1iv(this.addr,e)}function rpe(n,e){n.uniform2iv(this.addr,e)}function spe(n,e){n.uniform3iv(this.addr,e)}function ope(n,e){n.uniform4iv(this.addr,e)}function ape(n,e){n.uniform1uiv(this.addr,e)}function cpe(n,e){n.uniform2uiv(this.addr,e)}function lpe(n,e){n.uniform3uiv(this.addr,e)}function upe(n,e){n.uniform4uiv(this.addr,e)}function fpe(n,e,t){const i=this.cache,r=e.length,s=Qu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||OI,s[o])}function hpe(n,e,t){const i=this.cache,r=e.length,s=Qu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||kI,s[o])}function dpe(n,e,t){const i=this.cache,r=e.length,s=Qu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||UI,s[o])}function ppe(n,e,t){const i=this.cache,r=e.length,s=Qu(t,r);L2(i,s)||(n.uniform1iv(this.addr,s),N2(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||FI,s[o])}class gpe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Xde(n){switch(n){case 5126:return Dde;case 35664:return Lde;case 35665:return Nde;case 35666:return Pde;case 35674:return Ide;case 35675:return Rde;case 35676:return Hde;case 5124:case 35670:return Vde;case 35667:case 35671:return Ode;case 35668:case 35672:return Fde;case 35669:case 35673:return kde;case 5125:return Ude;case 36294:return Bde;case 36295:return Gde;case 36296:return Wde;case 35678:case 36198:case 36298:case 36306:case 35682:return jde;case 35679:case 36299:case 36307:return $de;case 35680:case 36300:case 36308:case 36293:return qde;case 36289:case 36303:case 36311:case 36292:return Zde}}(t.type)}}class vpe{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function mpe(n){switch(n){case 5126:return Yde;case 35664:return Jde;case 35665:return Kde;case 35666:return Qde;case 35674:return epe;case 35675:return tpe;case 35676:return npe;case 5124:case 35670:return ipe;case 35667:case 35671:return rpe;case 35668:case 35672:return spe;case 35669:case 35673:return ope;case 5125:return ape;case 36294:return cpe;case 36295:return lpe;case 36296:return upe;case 35678:case 36198:case 36298:case 36306:case 35682:return fpe;case 35679:case 36299:case 36307:return hpe;case 35680:case 36300:case 36308:case 36293:return dpe;case 36289:case 36303:case 36311:case 36292:return ppe}}(t.type)}}class ype{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const c_=/(\w+)(\])?(\[|\.)?/g;function qI(n,e){n.seq.push(e),n.map[e.id]=e}function _pe(n,e,t){const i=n.name,r=i.length;for(c_.lastIndex=0;;){const s=c_.exec(i);let a=s[1];const l=s[3];if("]"===s[2]&&(a|=0),void 0===l||"["===l&&c_.lastIndex+2===r){qI(t,void 0===l?new gpe(a,n,e):new vpe(a,n,e));break}{let f=t.map[a];void 0===f&&(f=new ype(a),qI(t,f)),t=f}}}class ef{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);_pe(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],c=i[a.id];!1!==c.needsUpdate&&a.setValue(e,c.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function ZI(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let Mpe=0;function XI(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function xpe(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function bpe(n,e){const t=function Cpe(n){switch(n){case c4:return["Linear","( value )"];case z1:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function wpe(n,e){let t;switch(e){case K9e:t="Linear";break;case Q9e:t="Reinhard";break;case eue:t="OptimizedCineon";break;case tue:t="ACESFilmic";break;case nue:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function s5(n){return""!==n}function YI(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JI(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Epe=/^[ \t]*#include +<([\w\d./]+)>/gm;function l_(n){return n.replace(Epe,Dpe)}const Tpe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Dpe(n,e){let t=R1[e];if(void 0===t){const i=Tpe.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=R1[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return l_(t)}const Lpe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function KI(n){return n.replace(Lpe,Npe)}function Npe(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function QI(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Ope(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const c=function Ppe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_P?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===D9e?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===j4&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function Ipe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case po:case mo:e="ENVMAP_TYPE_CUBE";break;case q8:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function Rpe(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===mo&&(e="ENVMAP_MODE_REFRACTION"),e}(t),f=function Hpe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Mu:e="ENVMAP_BLENDING_MULTIPLY";break;case Y9e:e="ENVMAP_BLENDING_MIX";break;case J9e:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Vpe(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),d=t.isWebGL2?"":function Spe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(s5).join("\n")}(t),p=function Ape(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),m=r.createProgram();let g,v,M=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(s5).join("\n"),g.length>0&&(g+="\n"),v=[d,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(s5).join("\n"),v.length>0&&(v+="\n")):(g=[QI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(s5).join("\n"),v=[d,QI(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+c:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==q4?"#define TONE_MAPPING":"",t.toneMapping!==q4?R1.tonemapping_pars_fragment:"",t.toneMapping!==q4?wpe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",R1.colorspace_pars_fragment,bpe("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(s5).join("\n")),o=l_(o),o=YI(o,t),o=JI(o,t),a=l_(a),a=YI(a,t),a=JI(a,t),o=KI(o),a=KI(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(M="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",t.glslVersion===sI?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===sI?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const C=M+v+a,b=ZI(r,r.VERTEX_SHADER,M+g+o),A=ZI(r,r.FRAGMENT_SHADER,C);if(r.attachShader(m,b),r.attachShader(m,A),void 0!==t.index0AttributeName?r.bindAttribLocation(m,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),n.debug.checkShaderErrors){const S=r.getProgramInfoLog(m).trim(),z=r.getShaderInfoLog(b).trim(),k=r.getShaderInfoLog(A).trim();let Z=!0,B=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(Z=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,m,b,A);else{const F=XI(r,b,"vertex"),j=XI(r,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+S+"\n"+F+"\n"+j)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):(""===z||""===k)&&(B=!1);B&&(this.diagnostics={runnable:Z,programLog:S,vertexShader:{log:z,prefix:g},fragmentShader:{log:k,prefix:v}})}let E,D;return r.deleteShader(b),r.deleteShader(A),this.getUniforms=function(){return void 0===E&&(E=new ef(r,m)),E},this.getAttributes=function(){return void 0===D&&(D=function zpe(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,m)),D},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Mpe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=A,this}let Fpe=0;class kpe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Upe(e),t.set(e,i)),i}}class Upe{constructor(e){this.id=Fpe++,this.code=e,this.usedTimes=0}}function Bpe(n,e,t,i,r,s,o){const a=new qy,c=new kpe,l=[],u=r.isWebGL2,f=r.logarithmicDepthBuffer,h=r.vertexTextures;let d=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return 0===S?"uv":`uv${S}`}return{getParameters:function g(S,z,k,Z,B){const F=Z.fog,j=B.geometry,X=(S.isMeshStandardMaterial?t:e).get(S.envMap||(S.isMeshStandardMaterial?Z.environment:null)),J=X&&X.mapping===q8?X.image.height:null,ae=p[S.type];null!==S.precision&&(d=r.getMaxPrecision(S.precision),d!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",d,"instead."));const P=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,W=void 0!==P?P.length:0;let xe,_e,Ce,Ue,ce=0;if(void 0!==j.morphAttributes.position&&(ce=1),void 0!==j.morphAttributes.normal&&(ce=2),void 0!==j.morphAttributes.color&&(ce=3),ae){const a1=f4[ae];xe=a1.vertexShader,_e=a1.fragmentShader}else xe=S.vertexShader,_e=S.fragmentShader,c.update(S),Ce=c.getVertexShaderID(S),Ue=c.getFragmentShaderID(S);const Pe=n.getRenderTarget(),Be=!0===B.isInstancedMesh,y1=!!S.map,e1=!!X,H=!!S.aoMap,fe=!!S.lightMap,re=!!S.bumpMap,ge=!!S.normalMap,ue=!!S.displacementMap,U=!!S.emissiveMap,Ee=!!S.metalnessMap,Ve=!!S.roughnessMap,f1=S.anisotropy>0,s1=S.clearcoat>0,vt=S.iridescence>0,R=S.sheen>0,T=S.transmission>0,ee=f1&&!!S.anisotropyMap,he=s1&&!!S.clearcoatMap,ye=s1&&!!S.clearcoatNormalMap,be=s1&&!!S.clearcoatRoughnessMap,Xe=vt&&!!S.iridescenceMap,Se=vt&&!!S.iridescenceThicknessMap,oe=R&&!!S.sheenColorMap,Ze=R&&!!S.sheenRoughnessMap,i1=!!S.specularMap,o1=!!S.specularColorMap,$e=!!S.specularIntensityMap,Ge=T&&!!S.transmissionMap,x1=T&&!!S.thicknessMap,V=!!S.alphaMap,Me=!!S.extensions,Ae=!!j.attributes.uv1,H1=!!j.attributes.uv2,yt=!!j.attributes.uv3;return{isWebGL2:u,shaderID:ae,shaderType:S.type,shaderName:S.name,vertexShader:xe,fragmentShader:_e,defines:S.defines,customVertexShaderID:Ce,customFragmentShaderID:Ue,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:d,instancing:Be,instancingColor:Be&&null!==B.instanceColor,supportsVertexTextures:h,outputColorSpace:null===Pe?n.outputColorSpace:!0===Pe.isXRRenderTarget?Pe.texture.colorSpace:c4,map:y1,matcap:!!S.matcap,envMap:e1,envMapMode:e1&&X.mapping,envMapCubeUVHeight:J,aoMap:H,lightMap:fe,bumpMap:re,normalMap:ge,displacementMap:h&&ue,emissiveMap:U,normalMapObjectSpace:ge&&1===S.normalMapType,normalMapTangentSpace:ge&&0===S.normalMapType,metalnessMap:Ee,roughnessMap:Ve,anisotropy:f1,anisotropyMap:ee,clearcoat:s1,clearcoatMap:he,clearcoatNormalMap:ye,clearcoatRoughnessMap:be,iridescence:vt,iridescenceMap:Xe,iridescenceThicknessMap:Se,sheen:R,sheenColorMap:oe,sheenRoughnessMap:Ze,specularMap:i1,specularColorMap:o1,specularIntensityMap:$e,transmission:T,transmissionMap:Ge,thicknessMap:x1,gradientMap:!!S.gradientMap,opaque:!1===S.transparent&&1===S.blending,alphaMap:V,alphaTest:S.alphaTest>0,alphaHash:!!S.alphaHash,combine:S.combine,mapUv:y1&&m(S.map.channel),aoMapUv:H&&m(S.aoMap.channel),lightMapUv:fe&&m(S.lightMap.channel),bumpMapUv:re&&m(S.bumpMap.channel),normalMapUv:ge&&m(S.normalMap.channel),displacementMapUv:ue&&m(S.displacementMap.channel),emissiveMapUv:U&&m(S.emissiveMap.channel),metalnessMapUv:Ee&&m(S.metalnessMap.channel),roughnessMapUv:Ve&&m(S.roughnessMap.channel),anisotropyMapUv:ee&&m(S.anisotropyMap.channel),clearcoatMapUv:he&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:ye&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:be&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Xe&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:Se&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:Ze&&m(S.sheenRoughnessMap.channel),specularMapUv:i1&&m(S.specularMap.channel),specularColorMapUv:o1&&m(S.specularColorMap.channel),specularIntensityMapUv:$e&&m(S.specularIntensityMap.channel),transmissionMapUv:Ge&&m(S.transmissionMap.channel),thicknessMapUv:x1&&m(S.thicknessMap.channel),alphaMapUv:V&&m(S.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(ge||f1),vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!j.attributes.color&&4===j.attributes.color.itemSize,vertexUv1s:Ae,vertexUv2s:H1,vertexUv3s:yt,pointsUvs:!0===B.isPoints&&!!j.attributes.uv&&(y1||V),fog:!!F,useFog:!0===S.fog,fogExp2:F&&F.isFogExp2,flatShading:!0===S.flatShading,sizeAttenuation:!0===S.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===B.isSkinnedMesh,morphTargets:void 0!==j.morphAttributes.position,morphNormals:void 0!==j.morphAttributes.normal,morphColors:void 0!==j.morphAttributes.color,morphTargetsCount:W,morphTextureStride:ce,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&k.length>0,shadowMapType:n.shadowMap.type,toneMapping:S.toneMapped?n.toneMapping:q4,useLegacyLights:n.useLegacyLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:Me&&!0===S.extensions.derivatives,extensionFragDepth:Me&&!0===S.extensions.fragDepth,extensionDrawBuffers:Me&&!0===S.extensions.drawBuffers,extensionShaderTextureLOD:Me&&!0===S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}},getProgramCacheKey:function v(S){const z=[];if(S.shaderID?z.push(S.shaderID):(z.push(S.customVertexShaderID),z.push(S.customFragmentShaderID)),void 0!==S.defines)for(const k in S.defines)z.push(k),z.push(S.defines[k]);return!1===S.isRawShaderMaterial&&(function M(S,z){S.push(z.precision),S.push(z.outputColorSpace),S.push(z.envMapMode),S.push(z.envMapCubeUVHeight),S.push(z.mapUv),S.push(z.alphaMapUv),S.push(z.lightMapUv),S.push(z.aoMapUv),S.push(z.bumpMapUv),S.push(z.normalMapUv),S.push(z.displacementMapUv),S.push(z.emissiveMapUv),S.push(z.metalnessMapUv),S.push(z.roughnessMapUv),S.push(z.anisotropyMapUv),S.push(z.clearcoatMapUv),S.push(z.clearcoatNormalMapUv),S.push(z.clearcoatRoughnessMapUv),S.push(z.iridescenceMapUv),S.push(z.iridescenceThicknessMapUv),S.push(z.sheenColorMapUv),S.push(z.sheenRoughnessMapUv),S.push(z.specularMapUv),S.push(z.specularColorMapUv),S.push(z.specularIntensityMapUv),S.push(z.transmissionMapUv),S.push(z.thicknessMapUv),S.push(z.combine),S.push(z.fogExp2),S.push(z.sizeAttenuation),S.push(z.morphTargetsCount),S.push(z.morphAttributeCount),S.push(z.numDirLights),S.push(z.numPointLights),S.push(z.numSpotLights),S.push(z.numSpotLightMaps),S.push(z.numHemiLights),S.push(z.numRectAreaLights),S.push(z.numDirLightShadows),S.push(z.numPointLightShadows),S.push(z.numSpotLightShadows),S.push(z.numSpotLightShadowsWithMaps),S.push(z.shadowMapType),S.push(z.toneMapping),S.push(z.numClippingPlanes),S.push(z.numClipIntersection),S.push(z.depthPacking)}(z,S),function x(S,z){a.disableAll(),z.isWebGL2&&a.enable(0),z.supportsVertexTextures&&a.enable(1),z.instancing&&a.enable(2),z.instancingColor&&a.enable(3),z.matcap&&a.enable(4),z.envMap&&a.enable(5),z.normalMapObjectSpace&&a.enable(6),z.normalMapTangentSpace&&a.enable(7),z.clearcoat&&a.enable(8),z.iridescence&&a.enable(9),z.alphaTest&&a.enable(10),z.vertexColors&&a.enable(11),z.vertexAlphas&&a.enable(12),z.vertexUv1s&&a.enable(13),z.vertexUv2s&&a.enable(14),z.vertexUv3s&&a.enable(15),z.vertexTangents&&a.enable(16),z.anisotropy&&a.enable(17),S.push(a.mask),a.disableAll(),z.fog&&a.enable(0),z.useFog&&a.enable(1),z.flatShading&&a.enable(2),z.logarithmicDepthBuffer&&a.enable(3),z.skinning&&a.enable(4),z.morphTargets&&a.enable(5),z.morphNormals&&a.enable(6),z.morphColors&&a.enable(7),z.premultipliedAlpha&&a.enable(8),z.shadowMapEnabled&&a.enable(9),z.useLegacyLights&&a.enable(10),z.doubleSided&&a.enable(11),z.flipSided&&a.enable(12),z.useDepthPacking&&a.enable(13),z.dithering&&a.enable(14),z.transmission&&a.enable(15),z.sheen&&a.enable(16),z.opaque&&a.enable(17),z.pointsUvs&&a.enable(18),S.push(a.mask)}(z,S),z.push(n.outputColorSpace)),z.push(S.customProgramCacheKey),z.join()},getUniforms:function C(S){const z=p[S.type];let k;return k=z?cfe.clone(f4[z].uniforms):S.uniforms,k},acquireProgram:function b(S,z){let k;for(let Z=0,B=l.length;Z<B;Z++){const F=l[Z];if(F.cacheKey===z){k=F,++k.usedTimes;break}}return void 0===k&&(k=new Ope(n,z,S,s),l.push(k)),k},releaseProgram:function A(S){if(0==--S.usedTimes){const z=l.indexOf(S);l[z]=l[l.length-1],l.pop(),S.destroy()}},releaseShaderCache:function E(S){c.remove(S)},programs:l,dispose:function D(){c.dispose()}}}function Gpe(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function Wpe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function eR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function tR(){const n=[];let e=0;const t=[],i=[],r=[];function o(f,h,d,p,m,g){let v=n[e];return void 0===v?(v={id:f.id,object:f,geometry:h,material:d,groupOrder:p,renderOrder:f.renderOrder,z:m,group:g},n[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=d,v.groupOrder=p,v.renderOrder=f.renderOrder,v.z=m,v.group=g),e++,v}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(f,h,d,p,m,g){const v=o(f,h,d,p,m,g);d.transmission>0?i.push(v):!0===d.transparent?r.push(v):t.push(v)},unshift:function c(f,h,d,p,m,g){const v=o(f,h,d,p,m,g);d.transmission>0?i.unshift(v):!0===d.transparent?r.unshift(v):t.unshift(v)},finish:function u(){for(let f=e,h=n.length;f<h;f++){const d=n[f];if(null===d.id)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.group=null}},sort:function l(f,h){t.length>1&&t.sort(f||Wpe),i.length>1&&i.sort(h||eR),r.length>1&&r.sort(h||eR)}}}function jpe(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new tR,n.set(i,[o])):r>=s.length?(o=new tR,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function $pe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new N,color:new Fe};break;case"SpotLight":t={position:new N,direction:new N,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new N,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":t={direction:new N,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":t={color:new Fe,position:new N,halfWidth:new N,halfHeight:new N}}return n[e.id]=t,t}}}let Zpe=0;function Xpe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Ype(n,e){const t=new $pe,i=function qpe(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new N);const s=new N,o=new E1,a=new E1;return{setup:function c(u,f){let h=0,d=0,p=0;for(let k=0;k<9;k++)r.probe[k].set(0,0,0);let m=0,g=0,v=0,M=0,x=0,C=0,b=0,A=0,E=0,D=0;u.sort(Xpe);const S=!0===f?Math.PI:1;for(let k=0,Z=u.length;k<Z;k++){const B=u[k],F=B.color,j=B.intensity,ne=B.distance,X=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=F.r*j*S,d+=F.g*j*S,p+=F.b*j*S;else if(B.isLightProbe)for(let J=0;J<9;J++)r.probe[J].addScaledVector(B.sh.coefficients[J],j);else if(B.isDirectionalLight){const J=t.get(B);if(J.color.copy(B.color).multiplyScalar(B.intensity*S),B.castShadow){const ae=B.shadow,P=i.get(B);P.shadowBias=ae.bias,P.shadowNormalBias=ae.normalBias,P.shadowRadius=ae.radius,P.shadowMapSize=ae.mapSize,r.directionalShadow[m]=P,r.directionalShadowMap[m]=X,r.directionalShadowMatrix[m]=B.shadow.matrix,C++}r.directional[m]=J,m++}else if(B.isSpotLight){const J=t.get(B);J.position.setFromMatrixPosition(B.matrixWorld),J.color.copy(F).multiplyScalar(j*S),J.distance=ne,J.coneCos=Math.cos(B.angle),J.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),J.decay=B.decay,r.spot[v]=J;const ae=B.shadow;if(B.map&&(r.spotLightMap[E]=B.map,E++,ae.updateMatrices(B),B.castShadow&&D++),r.spotLightMatrix[v]=ae.matrix,B.castShadow){const P=i.get(B);P.shadowBias=ae.bias,P.shadowNormalBias=ae.normalBias,P.shadowRadius=ae.radius,P.shadowMapSize=ae.mapSize,r.spotShadow[v]=P,r.spotShadowMap[v]=X,A++}v++}else if(B.isRectAreaLight){const J=t.get(B);J.color.copy(F).multiplyScalar(j),J.halfWidth.set(.5*B.width,0,0),J.halfHeight.set(0,.5*B.height,0),r.rectArea[M]=J,M++}else if(B.isPointLight){const J=t.get(B);if(J.color.copy(B.color).multiplyScalar(B.intensity*S),J.distance=B.distance,J.decay=B.decay,B.castShadow){const ae=B.shadow,P=i.get(B);P.shadowBias=ae.bias,P.shadowNormalBias=ae.normalBias,P.shadowRadius=ae.radius,P.shadowMapSize=ae.mapSize,P.shadowCameraNear=ae.camera.near,P.shadowCameraFar=ae.camera.far,r.pointShadow[g]=P,r.pointShadowMap[g]=X,r.pointShadowMatrix[g]=B.shadow.matrix,b++}r.point[g]=J,g++}else if(B.isHemisphereLight){const J=t.get(B);J.skyColor.copy(B.color).multiplyScalar(j*S),J.groundColor.copy(B.groundColor).multiplyScalar(j*S),r.hemi[x]=J,x++}}M>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Te.LTC_FLOAT_1,r.rectAreaLTC2=Te.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Te.LTC_HALF_1,r.rectAreaLTC2=Te.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=d,r.ambient[2]=p;const z=r.hash;(z.directionalLength!==m||z.pointLength!==g||z.spotLength!==v||z.rectAreaLength!==M||z.hemiLength!==x||z.numDirectionalShadows!==C||z.numPointShadows!==b||z.numSpotShadows!==A||z.numSpotMaps!==E)&&(r.directional.length=m,r.spot.length=v,r.rectArea.length=M,r.point.length=g,r.hemi.length=x,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=A+E-D,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=D,z.directionalLength=m,z.pointLength=g,z.spotLength=v,z.rectAreaLength=M,z.hemiLength=x,z.numDirectionalShadows=C,z.numPointShadows=b,z.numSpotShadows=A,z.numSpotMaps=E,r.version=Zpe++)},setupView:function l(u,f){let h=0,d=0,p=0,m=0,g=0;const v=f.matrixWorldInverse;for(let M=0,x=u.length;M<x;M++){const C=u[M];if(C.isDirectionalLight){const b=r.directional[h];b.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),h++}else if(C.isSpotLight){const b=r.spot[p];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),b.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(v),p++}else if(C.isRectAreaLight){const b=r.rectArea[m];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),a.identity(),o.copy(C.matrixWorld),o.premultiply(v),a.extractRotation(o),b.halfWidth.set(.5*C.width,0,0),b.halfHeight.set(0,.5*C.height,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),m++}else if(C.isPointLight){const b=r.point[d];b.position.setFromMatrixPosition(C.matrixWorld),b.position.applyMatrix4(v),d++}else if(C.isHemisphereLight){const b=r.hemi[g];b.direction.setFromMatrixPosition(C.matrixWorld),b.direction.transformDirection(v),g++}}},state:r}}function nR(n,e){const t=new Ype(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function c(f){t.setup(i,f)},setupLightsView:function l(f){t.setupView(i,f)},pushLight:function o(f){i.push(f)},pushShadow:function a(f){r.push(f)}}}function Jpe(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let c;return void 0===a?(c=new nR(n,e),t.set(s,[c])):o>=a.length?(c=new nR(n,e),a.push(c)):c=a[o],c},dispose:function r(){t=new WeakMap}}}class iR extends X6{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class rR extends X6{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function eme(n,e,t){let i=new i_;const r=new pe,s=new pe,o=new St,a=new iR({depthPacking:3201}),c=new rR,l={},u=t.maxTextureSize,f={0:1,1:0,2:2},h=new r3({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new F1;p.setAttribute("position",new k2(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new li(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_P;let v=this.type;function M(b,A){const E=e.update(m);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,d.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),null===b.mapPass&&(b.mapPass=new bo(r.x,r.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(A,null,E,h,m,null),d.uniforms.shadow_pass.value=b.mapPass.texture,d.uniforms.resolution.value=b.mapSize,d.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(A,null,E,d,m,null)}function x(b,A,E,D){let S=null;const z=!0===E.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(void 0!==z)S=z;else if(S=!0===E.isPointLight?c:a,n.localClippingEnabled&&!0===A.clipShadows&&Array.isArray(A.clippingPlanes)&&0!==A.clippingPlanes.length||A.displacementMap&&0!==A.displacementScale||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0){const k=S.uuid,Z=A.uuid;let B=l[k];void 0===B&&(B={},l[k]=B);let F=B[Z];void 0===F&&(F=S.clone(),B[Z]=F),S=F}return S.visible=A.visible,S.wireframe=A.wireframe,S.side=D===j4?null!==A.shadowSide?A.shadowSide:A.side:null!==A.shadowSide?A.shadowSide:f[A.side],S.alphaMap=A.alphaMap,S.alphaTest=A.alphaTest,S.map=A.map,S.clipShadows=A.clipShadows,S.clippingPlanes=A.clippingPlanes,S.clipIntersection=A.clipIntersection,S.displacementMap=A.displacementMap,S.displacementScale=A.displacementScale,S.displacementBias=A.displacementBias,S.wireframeLinewidth=A.wireframeLinewidth,S.linewidth=A.linewidth,!0===E.isPointLight&&!0===S.isMeshDistanceMaterial&&(n.properties.get(S).light=E),S}function C(b,A,E,D,S){if(!1===b.visible)return;if(b.layers.test(A.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&S===j4)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,b.matrixWorld);const Z=e.update(b),B=b.material;if(Array.isArray(B)){const F=Z.groups;for(let j=0,ne=F.length;j<ne;j++){const X=F[j],J=B[X.materialIndex];if(J&&J.visible){const ae=x(b,J,D,S);n.renderBufferDirect(E,null,Z,ae,b,X)}}}else if(B.visible){const F=x(b,B,D,S);n.renderBufferDirect(E,null,Z,F,b,null)}}const k=b.children;for(let Z=0,B=k.length;Z<B;Z++)C(k[Z],A,E,D,S)}this.render=function(b,A,E){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===b.length)return;const D=n.getRenderTarget(),S=n.getActiveCubeFace(),z=n.getActiveMipmapLevel(),k=n.state;k.setBlending(0),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const Z=v!==j4&&this.type===j4,B=v===j4&&this.type!==j4;for(let F=0,j=b.length;F<j;F++){const ne=b[F],X=ne.shadow;if(void 0===X){console.warn("THREE.WebGLShadowMap:",ne,"has no shadow.");continue}if(!1===X.autoUpdate&&!1===X.needsUpdate)continue;r.copy(X.mapSize);const J=X.getFrameExtents();if(r.multiply(J),s.copy(X.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/J.x),r.x=s.x*J.x,X.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/J.y),r.y=s.y*J.y,X.mapSize.y=s.y)),null===X.map||!0===Z||!0===B){const P=this.type!==j4?{minFilter:x2,magFilter:x2}:{};null!==X.map&&X.map.dispose(),X.map=new bo(r.x,r.y,P),X.map.texture.name=ne.name+".shadowMap",X.camera.updateProjectionMatrix()}n.setRenderTarget(X.map),n.clear();const ae=X.getViewportCount();for(let P=0;P<ae;P++){const W=X.getViewport(P);o.set(s.x*W.x,s.y*W.y,s.x*W.z,s.y*W.w),k.viewport(o),X.updateMatrices(ne,P),i=X.getFrustum(),C(A,E,X.camera,ne,this.type)}!0!==X.isPointLightShadow&&this.type===j4&&M(X,E),X.needsUpdate=!1}v=this.type,g.needsUpdate=!1,n.setRenderTarget(D,S,z)}}function tme(n,e,t){const i=t.isWebGL2,a=new function r(){let V=!1;const ze=new St;let Q=null;const Me=new St(0,0,0,0);return{setMask:function(Ae){Q!==Ae&&!V&&(n.colorMask(Ae,Ae,Ae,Ae),Q=Ae)},setLocked:function(Ae){V=Ae},setClear:function(Ae,H1,yt,At,a1){!0===a1&&(Ae*=At,H1*=At,yt*=At),ze.set(Ae,H1,yt,At),!1===Me.equals(ze)&&(n.clearColor(Ae,H1,yt,At),Me.copy(ze))},reset:function(){V=!1,Q=null,Me.set(-1,0,0,0)}}},c=new function s(){let V=!1,ze=null,Q=null,Me=null;return{setTest:function(Ae){Ae?Pe(n.DEPTH_TEST):Be(n.DEPTH_TEST)},setMask:function(Ae){ze!==Ae&&!V&&(n.depthMask(Ae),ze=Ae)},setFunc:function(Ae){if(Q!==Ae){switch(Ae){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}Q=Ae}},setLocked:function(Ae){V=Ae},setClear:function(Ae){Me!==Ae&&(n.clearDepth(Ae),Me=Ae)},reset:function(){V=!1,ze=null,Q=null,Me=null}}},l=new function o(){let V=!1,ze=null,Q=null,Me=null,Ae=null,H1=null,yt=null,At=null,a1=null;return{setTest:function(Ie){V||(Ie?Pe(n.STENCIL_TEST):Be(n.STENCIL_TEST))},setMask:function(Ie){ze!==Ie&&!V&&(n.stencilMask(Ie),ze=Ie)},setFunc:function(Ie,T1,U1){(Q!==Ie||Me!==T1||Ae!==U1)&&(n.stencilFunc(Ie,T1,U1),Q=Ie,Me=T1,Ae=U1)},setOp:function(Ie,T1,U1){(H1!==Ie||yt!==T1||At!==U1)&&(n.stencilOp(Ie,T1,U1),H1=Ie,yt=T1,At=U1)},setLocked:function(Ie){V=Ie},setClear:function(Ie){a1!==Ie&&(n.clearStencil(Ie),a1=Ie)},reset:function(){V=!1,ze=null,Q=null,Me=null,Ae=null,H1=null,yt=null,At=null,a1=null}}},u=new WeakMap,f=new WeakMap;let h={},d={},p=new WeakMap,m=[],g=null,v=!1,M=null,x=null,C=null,b=null,A=null,E=null,D=null,S=!1,z=null,k=null,Z=null,B=null,F=null;const j=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,X=0;const J=n.getParameter(n.VERSION);-1!==J.indexOf("WebGL")?(X=parseFloat(/^WebGL (\d)/.exec(J)[1]),ne=X>=1):-1!==J.indexOf("OpenGL ES")&&(X=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),ne=X>=2);let ae=null,P={};const W=n.getParameter(n.SCISSOR_BOX),ce=n.getParameter(n.VIEWPORT),xe=(new St).fromArray(W),_e=(new St).fromArray(ce);function Ce(V,ze,Q,Me){const Ae=new Uint8Array(4),H1=n.createTexture();n.bindTexture(V,H1),n.texParameteri(V,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(V,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let yt=0;yt<Q;yt++)!i||V!==n.TEXTURE_3D&&V!==n.TEXTURE_2D_ARRAY?n.texImage2D(ze+yt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ae):n.texImage3D(ze,0,n.RGBA,1,1,Me,0,n.RGBA,n.UNSIGNED_BYTE,Ae);return H1}const Ue={};function Pe(V){!0!==h[V]&&(n.enable(V),h[V]=!0)}function Be(V){!1!==h[V]&&(n.disable(V),h[V]=!1)}Ue[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Ue[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),c.setClear(1),l.setClear(0),Pe(n.DEPTH_TEST),c.setFunc(3),ue(!1),U(1),Pe(n.CULL_FACE),re(0);const H={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)H[103]=n.MIN,H[104]=n.MAX;else{const V=e.get("EXT_blend_minmax");null!==V&&(H[103]=V.MIN_EXT,H[104]=V.MAX_EXT)}const fe={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function re(V,ze,Q,Me,Ae,H1,yt,At){if(0!==V){if(!1===v&&(Pe(n.BLEND),v=!0),5===V)Ae=Ae||ze,H1=H1||Q,yt=yt||Me,(ze!==x||Ae!==A)&&(n.blendEquationSeparate(H[ze],H[Ae]),x=ze,A=Ae),(Q!==C||Me!==b||H1!==E||yt!==D)&&(n.blendFuncSeparate(fe[Q],fe[Me],fe[H1],fe[yt]),C=Q,b=Me,E=H1,D=yt),M=V,S=!1;else if(V!==M||At!==S){if((100!==x||100!==A)&&(n.blendEquation(n.FUNC_ADD),x=100,A=100),At)switch(V){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",V)}else switch(V){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",V)}C=null,b=null,E=null,D=null,M=V,S=At}}else!0===v&&(Be(n.BLEND),v=!1)}function ue(V){z!==V&&(n.frontFace(V?n.CW:n.CCW),z=V)}function U(V){0!==V?(Pe(n.CULL_FACE),V!==k&&n.cullFace(1===V?n.BACK:2===V?n.FRONT:n.FRONT_AND_BACK)):Be(n.CULL_FACE),k=V}function Ve(V,ze,Q){V?(Pe(n.POLYGON_OFFSET_FILL),(B!==ze||F!==Q)&&(n.polygonOffset(ze,Q),B=ze,F=Q)):Be(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:c,stencil:l},enable:Pe,disable:Be,bindFramebuffer:function y1(V,ze){return d[V]!==ze&&(n.bindFramebuffer(V,ze),d[V]=ze,i&&(V===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=ze),V===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=ze)),!0)},drawBuffers:function at(V,ze){let Q=m,Me=!1;if(V)if(Q=p.get(ze),void 0===Q&&(Q=[],p.set(ze,Q)),V.isWebGLMultipleRenderTargets){const Ae=V.texture;if(Q.length!==Ae.length||Q[0]!==n.COLOR_ATTACHMENT0){for(let H1=0,yt=Ae.length;H1<yt;H1++)Q[H1]=n.COLOR_ATTACHMENT0+H1;Q.length=Ae.length,Me=!0}}else Q[0]!==n.COLOR_ATTACHMENT0&&(Q[0]=n.COLOR_ATTACHMENT0,Me=!0);else Q[0]!==n.BACK&&(Q[0]=n.BACK,Me=!0);Me&&(t.isWebGL2?n.drawBuffers(Q):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Q))},useProgram:function e1(V){return g!==V&&(n.useProgram(V),g=V,!0)},setBlending:re,setMaterial:function ge(V,ze){2===V.side?Be(n.CULL_FACE):Pe(n.CULL_FACE);let Q=1===V.side;ze&&(Q=!Q),ue(Q),1===V.blending&&!1===V.transparent?re(0):re(V.blending,V.blendEquation,V.blendSrc,V.blendDst,V.blendEquationAlpha,V.blendSrcAlpha,V.blendDstAlpha,V.premultipliedAlpha),c.setFunc(V.depthFunc),c.setTest(V.depthTest),c.setMask(V.depthWrite),a.setMask(V.colorWrite);const Me=V.stencilWrite;l.setTest(Me),Me&&(l.setMask(V.stencilWriteMask),l.setFunc(V.stencilFunc,V.stencilRef,V.stencilFuncMask),l.setOp(V.stencilFail,V.stencilZFail,V.stencilZPass)),Ve(V.polygonOffset,V.polygonOffsetFactor,V.polygonOffsetUnits),!0===V.alphaToCoverage?Pe(n.SAMPLE_ALPHA_TO_COVERAGE):Be(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ue,setCullFace:U,setLineWidth:function Ee(V){V!==Z&&(ne&&n.lineWidth(V),Z=V)},setPolygonOffset:Ve,setScissorTest:function f1(V){V?Pe(n.SCISSOR_TEST):Be(n.SCISSOR_TEST)},activeTexture:function s1(V){void 0===V&&(V=n.TEXTURE0+j-1),ae!==V&&(n.activeTexture(V),ae=V)},bindTexture:function vt(V,ze,Q){void 0===Q&&(Q=null===ae?n.TEXTURE0+j-1:ae);let Me=P[Q];void 0===Me&&(Me={type:void 0,texture:void 0},P[Q]=Me),(Me.type!==V||Me.texture!==ze)&&(ae!==Q&&(n.activeTexture(Q),ae=Q),n.bindTexture(V,ze||Ue[V]),Me.type=V,Me.texture=ze)},unbindTexture:function R(){const V=P[ae];void 0!==V&&void 0!==V.type&&(n.bindTexture(V.type,null),V.type=void 0,V.texture=void 0)},compressedTexImage2D:function T(){try{n.compressedTexImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexImage3D:function ee(){try{n.compressedTexImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texImage2D:function Ze(){try{n.texImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texImage3D:function i1(){try{n.texImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},updateUBOMapping:function Ge(V,ze){let Q=f.get(ze);void 0===Q&&(Q=new WeakMap,f.set(ze,Q));let Me=Q.get(V);void 0===Me&&(Me=n.getUniformBlockIndex(ze,V.name),Q.set(V,Me))},uniformBlockBinding:function x1(V,ze){const Me=f.get(ze).get(V);u.get(ze)!==Me&&(n.uniformBlockBinding(ze,Me,V.__bindingPointIndex),u.set(ze,Me))},texStorage2D:function Se(){try{n.texStorage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texStorage3D:function oe(){try{n.texStorage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texSubImage2D:function he(){try{n.texSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},texSubImage3D:function ye(){try{n.texSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexSubImage2D:function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},compressedTexSubImage3D:function Xe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(V){console.error("THREE.WebGLState:",V)}},scissor:function o1(V){!1===xe.equals(V)&&(n.scissor(V.x,V.y,V.z,V.w),xe.copy(V))},viewport:function $e(V){!1===_e.equals(V)&&(n.viewport(V.x,V.y,V.z,V.w),_e.copy(V))},reset:function nt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},ae=null,P={},d={},p=new WeakMap,m=[],g=null,v=!1,M=null,x=null,C=null,b=null,A=null,E=null,D=null,S=!1,z=null,k=null,Z=null,B=null,F=null,xe.set(0,0,n.canvas.width,n.canvas.height),_e.set(0,0,n.canvas.width,n.canvas.height),a.reset(),c.reset(),l.reset()}}}function nme(n,e,t,i,r,s,o){const a=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function M(R,T){return v?new OffscreenCanvas(R,T):Y8("canvas")}function x(R,T,ee,he){let ye=1;if((R.width>he||R.height>he)&&(ye=he/Math.max(R.width,R.height)),ye<1||!0===T){if(typeof HTMLImageElement<"u"&&R instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&R instanceof ImageBitmap){const be=T?Lu:Math.floor,Xe=be(ye*R.width),Se=be(ye*R.height);void 0===m&&(m=M(Xe,Se));const oe=ee?M(Xe,Se):m;return oe.width=Xe,oe.height=Se,oe.getContext("2d").drawImage(R,0,0,Xe,Se),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+R.width+"x"+R.height+") to ("+Xe+"x"+Se+")."),oe}return"data"in R&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+R.width+"x"+R.height+")."),R}return R}function C(R){return Hy(R.width)&&Hy(R.height)}function A(R,T){return R.generateMipmaps&&T&&R.minFilter!==x2&&R.minFilter!==C2}function E(R){n.generateMipmap(R)}function D(R,T,ee,he,ye=!1){if(!1===a)return T;if(null!==R){if(void 0!==n[R])return n[R];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+R+"'")}let be=T;return T===n.RED&&(ee===n.FLOAT&&(be=n.R32F),ee===n.HALF_FLOAT&&(be=n.R16F),ee===n.UNSIGNED_BYTE&&(be=n.R8)),T===n.RG&&(ee===n.FLOAT&&(be=n.RG32F),ee===n.HALF_FLOAT&&(be=n.RG16F),ee===n.UNSIGNED_BYTE&&(be=n.RG8)),T===n.RGBA&&(ee===n.FLOAT&&(be=n.RGBA32F),ee===n.HALF_FLOAT&&(be=n.RGBA16F),ee===n.UNSIGNED_BYTE&&(be=he===z1&&!1===ye?n.SRGB8_ALPHA8:n.RGBA8),ee===n.UNSIGNED_SHORT_4_4_4_4&&(be=n.RGBA4),ee===n.UNSIGNED_SHORT_5_5_5_1&&(be=n.RGB5_A1)),(be===n.R16F||be===n.R32F||be===n.RG16F||be===n.RG32F||be===n.RGBA16F||be===n.RGBA32F)&&e.get("EXT_color_buffer_float"),be}function S(R,T,ee){return!0===A(R,ee)||R.isFramebufferTexture&&R.minFilter!==x2&&R.minFilter!==C2?Math.log2(Math.max(T.width,T.height))+1:void 0!==R.mipmaps&&R.mipmaps.length>0?R.mipmaps.length:R.isCompressedTexture&&Array.isArray(R.image)?T.mipmaps.length:1}function z(R){return R===x2||1004===R||1005===R?n.NEAREST:n.LINEAR}function k(R){const T=R.target;T.removeEventListener("dispose",k),function B(R){const T=i.get(R);if(void 0===T.__webglInit)return;const ee=R.source,he=g.get(ee);if(he){const ye=he[T.__cacheKey];ye.usedTimes--,0===ye.usedTimes&&F(R),0===Object.keys(he).length&&g.delete(ee)}i.remove(R)}(T),T.isVideoTexture&&p.delete(T)}function Z(R){const T=R.target;T.removeEventListener("dispose",Z),function j(R){const T=R.texture,ee=i.get(R),he=i.get(T);if(void 0!==he.__webglTexture&&(n.deleteTexture(he.__webglTexture),o.memory.textures--),R.depthTexture&&R.depthTexture.dispose(),R.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++)n.deleteFramebuffer(ee.__webglFramebuffer[ye]),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer[ye]);else{if(n.deleteFramebuffer(ee.__webglFramebuffer),ee.__webglDepthbuffer&&n.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let ye=0;ye<ee.__webglColorRenderbuffer.length;ye++)ee.__webglColorRenderbuffer[ye]&&n.deleteRenderbuffer(ee.__webglColorRenderbuffer[ye]);ee.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(R.isWebGLMultipleRenderTargets)for(let ye=0,be=T.length;ye<be;ye++){const Xe=i.get(T[ye]);Xe.__webglTexture&&(n.deleteTexture(Xe.__webglTexture),o.memory.textures--),i.remove(T[ye])}i.remove(T),i.remove(R)}(T)}function F(R){const T=i.get(R);n.deleteTexture(T.__webglTexture),delete g.get(R.source)[T.__cacheKey],o.memory.textures--}let ne=0;function P(R,T){const ee=i.get(R);if(R.isVideoTexture&&function s1(R){const T=o.render.frame;p.get(R)!==T&&(p.set(R,T),R.update())}(R),!1===R.isRenderTargetTexture&&R.version>0&&ee.__version!==R.version){const he=R.image;if(null===he)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==he.complete)return void y1(ee,R,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,ee.__webglTexture,n.TEXTURE0+T)}const _e={1e3:n.REPEAT,[Vn]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},Ce={[x2]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[C2]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[go]:n.LINEAR_MIPMAP_LINEAR},Ue={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function Pe(R,T,ee){if(ee?(n.texParameteri(R,n.TEXTURE_WRAP_S,_e[T.wrapS]),n.texParameteri(R,n.TEXTURE_WRAP_T,_e[T.wrapT]),(R===n.TEXTURE_3D||R===n.TEXTURE_2D_ARRAY)&&n.texParameteri(R,n.TEXTURE_WRAP_R,_e[T.wrapR]),n.texParameteri(R,n.TEXTURE_MAG_FILTER,Ce[T.magFilter]),n.texParameteri(R,n.TEXTURE_MIN_FILTER,Ce[T.minFilter])):(n.texParameteri(R,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(R,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(R===n.TEXTURE_3D||R===n.TEXTURE_2D_ARRAY)&&n.texParameteri(R,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(T.wrapS!==Vn||T.wrapT!==Vn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(R,n.TEXTURE_MAG_FILTER,z(T.magFilter)),n.texParameteri(R,n.TEXTURE_MIN_FILTER,z(T.minFilter)),T.minFilter!==x2&&T.minFilter!==C2&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),T.compareFunction&&(n.texParameteri(R,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(R,n.TEXTURE_COMPARE_FUNC,Ue[T.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const he=e.get("EXT_texture_filter_anisotropic");if(T.magFilter===x2||1005!==T.minFilter&&T.minFilter!==go||T.type===Z4&&!1===e.has("OES_texture_float_linear")||!1===a&&T.type===Z8&&!1===e.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||i.get(T).__currentAnisotropy)&&(n.texParameterf(R,he.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,r.getMaxAnisotropy())),i.get(T).__currentAnisotropy=T.anisotropy)}}function Be(R,T){let ee=!1;void 0===R.__webglInit&&(R.__webglInit=!0,T.addEventListener("dispose",k));const he=T.source;let ye=g.get(he);void 0===ye&&(ye={},g.set(he,ye));const be=function ae(R){const T=[];return T.push(R.wrapS),T.push(R.wrapT),T.push(R.wrapR||0),T.push(R.magFilter),T.push(R.minFilter),T.push(R.anisotropy),T.push(R.internalFormat),T.push(R.format),T.push(R.type),T.push(R.generateMipmaps),T.push(R.premultiplyAlpha),T.push(R.flipY),T.push(R.unpackAlignment),T.push(R.colorSpace),T.join()}(T);if(be!==R.__cacheKey){void 0===ye[be]&&(ye[be]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),ye[be].usedTimes++;const Xe=ye[R.__cacheKey];void 0!==Xe&&(ye[R.__cacheKey].usedTimes--,0===Xe.usedTimes&&F(T)),R.__cacheKey=be,R.__webglTexture=ye[be].texture}return ee}function y1(R,T,ee){let he=n.TEXTURE_2D;(T.isDataArrayTexture||T.isCompressedArrayTexture)&&(he=n.TEXTURE_2D_ARRAY),T.isData3DTexture&&(he=n.TEXTURE_3D);const ye=Be(R,T),be=T.source;t.bindTexture(he,R.__webglTexture,n.TEXTURE0+ee);const Xe=i.get(be);if(be.version!==Xe.__version||!0===ye){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Se=function b(R){return!a&&(R.wrapS!==Vn||R.wrapT!==Vn||R.minFilter!==x2&&R.minFilter!==C2)}(T)&&!1===C(T.image);let oe=x(T.image,Se,!1,u);oe=vt(T,oe);const Ze=C(oe)||a,i1=s.convert(T.format,T.colorSpace);let Ge,o1=s.convert(T.type),$e=D(T.internalFormat,i1,o1,T.colorSpace);Pe(he,T,Ze);const x1=T.mipmaps,nt=a&&!0!==T.isVideoTexture,V=void 0===Xe.__version||!0===ye,ze=S(T,oe,Ze);if(T.isDepthTexture)$e=n.DEPTH_COMPONENT,a?$e=T.type===Z4?n.DEPTH_COMPONENT32F:T.type===ns?n.DEPTH_COMPONENT24:T.type===vo?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:T.type===Z4&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===yo&&$e===n.DEPTH_COMPONENT&&1012!==T.type&&T.type!==ns&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=ns,o1=s.convert(T.type)),T.format===N6&&$e===n.DEPTH_COMPONENT&&($e=n.DEPTH_STENCIL,T.type!==vo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=vo,o1=s.convert(T.type))),V&&(nt?t.texStorage2D(n.TEXTURE_2D,1,$e,oe.width,oe.height):t.texImage2D(n.TEXTURE_2D,0,$e,oe.width,oe.height,0,i1,o1,null));else if(T.isDataTexture)if(x1.length>0&&Ze){nt&&V&&t.texStorage2D(n.TEXTURE_2D,ze,$e,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Ge=x1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,Ge.width,Ge.height,i1,o1,Ge.data):t.texImage2D(n.TEXTURE_2D,Q,$e,Ge.width,Ge.height,0,i1,o1,Ge.data);T.generateMipmaps=!1}else nt?(V&&t.texStorage2D(n.TEXTURE_2D,ze,$e,oe.width,oe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,oe.width,oe.height,i1,o1,oe.data)):t.texImage2D(n.TEXTURE_2D,0,$e,oe.width,oe.height,0,i1,o1,oe.data);else if(T.isCompressedTexture)if(T.isCompressedArrayTexture){nt&&V&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ze,$e,x1[0].width,x1[0].height,oe.depth);for(let Q=0,Me=x1.length;Q<Me;Q++)Ge=x1[Q],T.format!==ir?null!==i1?nt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,Ge.width,Ge.height,oe.depth,i1,Ge.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Q,$e,Ge.width,Ge.height,oe.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Q,0,0,0,Ge.width,Ge.height,oe.depth,i1,o1,Ge.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Q,$e,Ge.width,Ge.height,oe.depth,0,i1,o1,Ge.data)}else{nt&&V&&t.texStorage2D(n.TEXTURE_2D,ze,$e,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Ge=x1[Q],T.format!==ir?null!==i1?nt?t.compressedTexSubImage2D(n.TEXTURE_2D,Q,0,0,Ge.width,Ge.height,i1,Ge.data):t.compressedTexImage2D(n.TEXTURE_2D,Q,$e,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,Ge.width,Ge.height,i1,o1,Ge.data):t.texImage2D(n.TEXTURE_2D,Q,$e,Ge.width,Ge.height,0,i1,o1,Ge.data)}else if(T.isDataArrayTexture)nt?(V&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ze,$e,oe.width,oe.height,oe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,i1,o1,oe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,$e,oe.width,oe.height,oe.depth,0,i1,o1,oe.data);else if(T.isData3DTexture)nt?(V&&t.texStorage3D(n.TEXTURE_3D,ze,$e,oe.width,oe.height,oe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,i1,o1,oe.data)):t.texImage3D(n.TEXTURE_3D,0,$e,oe.width,oe.height,oe.depth,0,i1,o1,oe.data);else if(T.isFramebufferTexture){if(V)if(nt)t.texStorage2D(n.TEXTURE_2D,ze,$e,oe.width,oe.height);else{let Q=oe.width,Me=oe.height;for(let Ae=0;Ae<ze;Ae++)t.texImage2D(n.TEXTURE_2D,Ae,$e,Q,Me,0,i1,o1,null),Q>>=1,Me>>=1}}else if(x1.length>0&&Ze){nt&&V&&t.texStorage2D(n.TEXTURE_2D,ze,$e,x1[0].width,x1[0].height);for(let Q=0,Me=x1.length;Q<Me;Q++)Ge=x1[Q],nt?t.texSubImage2D(n.TEXTURE_2D,Q,0,0,i1,o1,Ge):t.texImage2D(n.TEXTURE_2D,Q,$e,i1,o1,Ge);T.generateMipmaps=!1}else nt?(V&&t.texStorage2D(n.TEXTURE_2D,ze,$e,oe.width,oe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,i1,o1,oe)):t.texImage2D(n.TEXTURE_2D,0,$e,i1,o1,oe);A(T,Ze)&&E(he),Xe.__version=be.version,T.onUpdate&&T.onUpdate(T)}R.__version=T.version}function e1(R,T,ee,he,ye){const be=s.convert(ee.format,ee.colorSpace),Xe=s.convert(ee.type),Se=D(ee.internalFormat,be,Xe,ee.colorSpace);i.get(T).__hasExternalTextures||(ye===n.TEXTURE_3D||ye===n.TEXTURE_2D_ARRAY?t.texImage3D(ye,0,Se,T.width,T.height,T.depth,0,be,Xe,null):t.texImage2D(ye,0,Se,T.width,T.height,0,be,Xe,null)),t.bindFramebuffer(n.FRAMEBUFFER,R),f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,he,ye,i.get(ee).__webglTexture,0,Ve(T)):(ye===n.TEXTURE_2D||ye>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,he,ye,i.get(ee).__webglTexture,0),t.bindFramebuffer(n.FRAMEBUFFER,null)}function H(R,T,ee){if(n.bindRenderbuffer(n.RENDERBUFFER,R),T.depthBuffer&&!T.stencilBuffer){let he=n.DEPTH_COMPONENT16;if(ee||f1(T)){const ye=T.depthTexture;ye&&ye.isDepthTexture&&(ye.type===Z4?he=n.DEPTH_COMPONENT32F:ye.type===ns&&(he=n.DEPTH_COMPONENT24));const be=Ve(T);f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,be,he,T.width,T.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,be,he,T.width,T.height)}else n.renderbufferStorage(n.RENDERBUFFER,he,T.width,T.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,R)}else if(T.depthBuffer&&T.stencilBuffer){const he=Ve(T);ee&&!1===f1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,he,n.DEPTH24_STENCIL8,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,T.width,T.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,R)}else{const he=!0===T.isWebGLMultipleRenderTargets?T.texture:[T.texture];for(let ye=0;ye<he.length;ye++){const be=he[ye],Xe=s.convert(be.format,be.colorSpace),Se=s.convert(be.type),oe=D(be.internalFormat,Xe,Se,be.colorSpace),Ze=Ve(T);ee&&!1===f1(T)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ze,oe,T.width,T.height):f1(T)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ze,oe,T.width,T.height):n.renderbufferStorage(n.RENDERBUFFER,oe,T.width,T.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function re(R){const T=i.get(R),ee=!0===R.isWebGLCubeRenderTarget;if(R.depthTexture&&!T.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");!function fe(R,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,R),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),P(T.depthTexture,0);const he=i.get(T.depthTexture).__webglTexture,ye=Ve(T);if(T.depthTexture.format===yo)f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0,ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,he,0);else{if(T.depthTexture.format!==N6)throw new Error("Unknown depthTexture format");f1(T)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0,ye):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,he,0)}}(T.__webglFramebuffer,R)}else if(ee){T.__webglDepthbuffer=[];for(let he=0;he<6;he++)t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer[he]),T.__webglDepthbuffer[he]=n.createRenderbuffer(),H(T.__webglDepthbuffer[he],R,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,T.__webglFramebuffer),T.__webglDepthbuffer=n.createRenderbuffer(),H(T.__webglDepthbuffer,R,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ve(R){return Math.min(f,R.samples)}function f1(R){const T=i.get(R);return a&&R.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function vt(R,T){const ee=R.colorSpace,he=R.format,ye=R.type;return!0===R.isCompressedTexture||1035===R.format||ee!==c4&&""!==ee&&(ee===z1?!1===a?!0===e.has("EXT_sRGB")&&he===ir?(R.format=1035,R.minFilter=C2,R.generateMipmaps=!1):T=uI.sRGBToLinear(T):(he!==ir||ye!==ts)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),T}this.allocateTextureUnit=function J(){const R=ne;return R>=c&&console.warn("THREE.WebGLTextures: Trying to use "+R+" texture units while this GPU supports only "+c),ne+=1,R},this.resetTextureUnits=function X(){ne=0},this.setTexture2D=P,this.setTexture2DArray=function W(R,T){const ee=i.get(R);R.version>0&&ee.__version!==R.version?y1(ee,R,T):t.bindTexture(n.TEXTURE_2D_ARRAY,ee.__webglTexture,n.TEXTURE0+T)},this.setTexture3D=function ce(R,T){const ee=i.get(R);R.version>0&&ee.__version!==R.version?y1(ee,R,T):t.bindTexture(n.TEXTURE_3D,ee.__webglTexture,n.TEXTURE0+T)},this.setTextureCube=function xe(R,T){const ee=i.get(R);R.version>0&&ee.__version!==R.version?function at(R,T,ee){if(6!==T.image.length)return;const he=Be(R,T),ye=T.source;t.bindTexture(n.TEXTURE_CUBE_MAP,R.__webglTexture,n.TEXTURE0+ee);const be=i.get(ye);if(ye.version!==be.__version||!0===he){t.activeTexture(n.TEXTURE0+ee),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,T.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,T.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,T.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Xe=T.isCompressedTexture||T.image[0].isCompressedTexture,Se=T.image[0]&&T.image[0].isDataTexture,oe=[];for(let Q=0;Q<6;Q++)oe[Q]=Xe||Se?Se?T.image[Q].image:T.image[Q]:x(T.image[Q],!1,!0,l),oe[Q]=vt(T,oe[Q]);const Ze=oe[0],i1=C(Ze)||a,o1=s.convert(T.format,T.colorSpace),$e=s.convert(T.type),Ge=D(T.internalFormat,o1,$e,T.colorSpace),x1=a&&!0!==T.isVideoTexture,nt=void 0===be.__version||!0===he;let ze,V=S(T,Ze,i1);if(Pe(n.TEXTURE_CUBE_MAP,T,i1),Xe){x1&&nt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,V,Ge,Ze.width,Ze.height);for(let Q=0;Q<6;Q++){ze=oe[Q].mipmaps;for(let Me=0;Me<ze.length;Me++){const Ae=ze[Me];T.format!==ir?null!==o1?x1?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Ae.width,Ae.height,o1,Ae.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,Ge,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,0,0,Ae.width,Ae.height,o1,$e,Ae.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me,Ge,Ae.width,Ae.height,0,o1,$e,Ae.data)}}}else{ze=T.mipmaps,x1&&nt&&(ze.length>0&&V++,t.texStorage2D(n.TEXTURE_CUBE_MAP,V,Ge,oe[0].width,oe[0].height));for(let Q=0;Q<6;Q++)if(Se){x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,oe[Q].width,oe[Q].height,o1,$e,oe[Q].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,Ge,oe[Q].width,oe[Q].height,0,o1,$e,oe[Q].data);for(let Me=0;Me<ze.length;Me++){const H1=ze[Me].image[Q].image;x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,H1.width,H1.height,o1,$e,H1.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,Ge,H1.width,H1.height,0,o1,$e,H1.data)}}else{x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,0,0,o1,$e,oe[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,0,Ge,o1,$e,oe[Q]);for(let Me=0;Me<ze.length;Me++){const Ae=ze[Me];x1?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,0,0,o1,$e,Ae.image[Q]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Q,Me+1,Ge,o1,$e,Ae.image[Q])}}}A(T,i1)&&E(n.TEXTURE_CUBE_MAP),be.__version=ye.version,T.onUpdate&&T.onUpdate(T)}R.__version=T.version}(ee,R,T):t.bindTexture(n.TEXTURE_CUBE_MAP,ee.__webglTexture,n.TEXTURE0+T)},this.rebindTextures=function ge(R,T,ee){const he=i.get(R);void 0!==T&&e1(he.__webglFramebuffer,R,R.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),void 0!==ee&&re(R)},this.setupRenderTarget=function ue(R){const T=R.texture,ee=i.get(R),he=i.get(T);R.addEventListener("dispose",Z),!0!==R.isWebGLMultipleRenderTargets&&(void 0===he.__webglTexture&&(he.__webglTexture=n.createTexture()),he.__version=T.version,o.memory.textures++);const ye=!0===R.isWebGLCubeRenderTarget,be=!0===R.isWebGLMultipleRenderTargets,Xe=C(R)||a;if(ye){ee.__webglFramebuffer=[];for(let Se=0;Se<6;Se++)ee.__webglFramebuffer[Se]=n.createFramebuffer()}else{if(ee.__webglFramebuffer=n.createFramebuffer(),be)if(r.drawBuffers){const Se=R.texture;for(let oe=0,Ze=Se.length;oe<Ze;oe++){const i1=i.get(Se[oe]);void 0===i1.__webglTexture&&(i1.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&R.samples>0&&!1===f1(R)){const Se=be?T:[T];ee.__webglMultisampledFramebuffer=n.createFramebuffer(),ee.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let oe=0;oe<Se.length;oe++){const Ze=Se[oe];ee.__webglColorRenderbuffer[oe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ee.__webglColorRenderbuffer[oe]);const i1=s.convert(Ze.format,Ze.colorSpace),o1=s.convert(Ze.type),$e=D(Ze.internalFormat,i1,o1,Ze.colorSpace,!0===R.isXRRenderTarget),Ge=Ve(R);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ge,$e,R.width,R.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+oe,n.RENDERBUFFER,ee.__webglColorRenderbuffer[oe])}n.bindRenderbuffer(n.RENDERBUFFER,null),R.depthBuffer&&(ee.__webglDepthRenderbuffer=n.createRenderbuffer(),H(ee.__webglDepthRenderbuffer,R,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(ye){t.bindTexture(n.TEXTURE_CUBE_MAP,he.__webglTexture),Pe(n.TEXTURE_CUBE_MAP,T,Xe);for(let Se=0;Se<6;Se++)e1(ee.__webglFramebuffer[Se],R,T,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Se);A(T,Xe)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(be){const Se=R.texture;for(let oe=0,Ze=Se.length;oe<Ze;oe++){const i1=Se[oe],o1=i.get(i1);t.bindTexture(n.TEXTURE_2D,o1.__webglTexture),Pe(n.TEXTURE_2D,i1,Xe),e1(ee.__webglFramebuffer,R,i1,n.COLOR_ATTACHMENT0+oe,n.TEXTURE_2D),A(i1,Xe)&&E(n.TEXTURE_2D)}t.unbindTexture()}else{let Se=n.TEXTURE_2D;(R.isWebGL3DRenderTarget||R.isWebGLArrayRenderTarget)&&(a?Se=R.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Se,he.__webglTexture),Pe(Se,T,Xe),e1(ee.__webglFramebuffer,R,T,n.COLOR_ATTACHMENT0,Se),A(T,Xe)&&E(Se),t.unbindTexture()}R.depthBuffer&&re(R)},this.updateRenderTargetMipmap=function U(R){const T=C(R)||a,ee=!0===R.isWebGLMultipleRenderTargets?R.texture:[R.texture];for(let he=0,ye=ee.length;he<ye;he++){const be=ee[he];if(A(be,T)){const Xe=R.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Se=i.get(be).__webglTexture;t.bindTexture(Xe,Se),E(Xe),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Ee(R){if(a&&R.samples>0&&!1===f1(R)){const T=R.isWebGLMultipleRenderTargets?R.texture:[R.texture],ee=R.width,he=R.height;let ye=n.COLOR_BUFFER_BIT;const be=[],Xe=R.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Se=i.get(R),oe=!0===R.isWebGLMultipleRenderTargets;if(oe)for(let Ze=0;Ze<T.length;Ze++)t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Se.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Se.__webglFramebuffer);for(let Ze=0;Ze<T.length;Ze++){be.push(n.COLOR_ATTACHMENT0+Ze),R.depthBuffer&&be.push(Xe);const i1=void 0!==Se.__ignoreDepthValues&&Se.__ignoreDepthValues;if(!1===i1&&(R.depthBuffer&&(ye|=n.DEPTH_BUFFER_BIT),R.stencilBuffer&&(ye|=n.STENCIL_BUFFER_BIT)),oe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Se.__webglColorRenderbuffer[Ze]),!0===i1&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Xe]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Xe])),oe){const o1=i.get(T[Ze]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o1,0)}n.blitFramebuffer(0,0,ee,he,0,0,ee,he,ye,n.NEAREST),d&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,be)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),oe)for(let Ze=0;Ze<T.length;Ze++){t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.RENDERBUFFER,Se.__webglColorRenderbuffer[Ze]);const i1=i.get(T[Ze]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Se.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.TEXTURE_2D,i1,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Se.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=e1,this.useMultisampledRTT=f1}function ime(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=""){let a;if(s===ts)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===ns)return n.UNSIGNED_INT;if(s===Z4)return n.FLOAT;if(s===Z8)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===ir)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===yo)return n.DEPTH_COMPONENT;if(s===N6)return n.DEPTH_STENCIL;if(1035===s)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(o===z1){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return o===z1?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return o===z1?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return o===z1?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===s||36284===s||36285===s||36286===s){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===s)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===vo?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class rme extends B2{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class o5 extends Ri{constructor(){super(),this.isGroup=!0,this.type="Group"}}const sme={type:"move"};class u_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new o5,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new o5,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new o5,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,c=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const m of e.hand.values()){const g=t.getJointPose(m,i),v=this._getHandJoint(l,m);null!==g&&(v.matrix.fromArray(g.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=g.radius),v.visible=null!==g}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),d=.02,p=.005;l.inputState.pinching&&h>d+p?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=d-p&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==c&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(sme)))}return null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==s),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new o5;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class ome extends l4{constructor(e,t,i,r,s,o,a,c,l,u){if((u=void 0!==u?u:yo)!==yo&&u!==N6)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===yo&&(i=ns),void 0===i&&u===N6&&(i=vo),super(null,r,s,o,a,c,u,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:x2,this.minFilter=void 0!==c?c:x2,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class ame extends R6{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",c=1,l=null,u=null,f=null,h=null,d=null,p=null;const m=t.getContextAttributes();let g=null,v=null;const M=[],x=[],C=new B2;C.layers.enable(1),C.viewport=new St;const b=new B2;b.layers.enable(2),b.viewport=new St;const A=[C,b],E=new rme;E.layers.enable(1),E.layers.enable(2);let D=null,S=null;function z(W){const ce=x.indexOf(W.inputSource);if(-1===ce)return;const xe=M[ce];void 0!==xe&&(xe.update(W.inputSource,W.frame,l||o),xe.dispatchEvent({type:W.type,data:W.inputSource}))}function k(){r.removeEventListener("select",z),r.removeEventListener("selectstart",z),r.removeEventListener("selectend",z),r.removeEventListener("squeeze",z),r.removeEventListener("squeezestart",z),r.removeEventListener("squeezeend",z),r.removeEventListener("end",k),r.removeEventListener("inputsourceschange",Z);for(let W=0;W<M.length;W++){const ce=x[W];null!==ce&&(x[W]=null,M[W].disconnect(ce))}D=null,S=null,e.setRenderTarget(g),d=null,h=null,f=null,r=null,v=null,P.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function Z(W){for(let ce=0;ce<W.removed.length;ce++){const xe=W.removed[ce],_e=x.indexOf(xe);_e>=0&&(x[_e]=null,M[_e].disconnect(xe))}for(let ce=0;ce<W.added.length;ce++){const xe=W.added[ce];let _e=x.indexOf(xe);if(-1===_e){for(let Ue=0;Ue<M.length;Ue++){if(Ue>=x.length){x.push(xe),_e=Ue;break}if(null===x[Ue]){x[Ue]=xe,_e=Ue;break}}if(-1===_e)break}const Ce=M[_e];Ce&&Ce.connect(xe)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(W){let ce=M[W];return void 0===ce&&(ce=new u_,M[W]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(W){let ce=M[W];return void 0===ce&&(ce=new u_,M[W]=ce),ce.getGripSpace()},this.getHand=function(W){let ce=M[W];return void 0===ce&&(ce=new u_,M[W]=ce),ce.getHandSpace()},this.setFramebufferScaleFactor=function(W){s=W,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(W){a=W,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(W){l=W},this.getBaseLayer=function(){return null!==h?h:d},this.getBinding=function(){return f},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var W=function z9e(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(c){vP(s,i,r,o,a,"next",c)}function a(c){vP(s,i,r,o,a,"throw",c)}o(void 0)})}}(function*(ce){if(r=ce,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",z),r.addEventListener("selectstart",z),r.addEventListener("selectend",z),r.addEventListener("squeeze",z),r.addEventListener("squeezestart",z),r.addEventListener("squeezeend",z),r.addEventListener("end",k),r.addEventListener("inputsourceschange",Z),!0!==m.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)d=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:d}),v=new bo(d.framebufferWidth,d.framebufferHeight,{format:ir,type:ts,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil});else{let xe=null,_e=null,Ce=null;m.depth&&(Ce=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=m.stencil?N6:yo,_e=m.stencil?vo:ns);const Ue={colorFormat:t.RGBA8,depthFormat:Ce,scaleFactor:s};f=new XRWebGLBinding(r,t),h=f.createProjectionLayer(Ue),r.updateRenderState({layers:[h]}),v=new bo(h.textureWidth,h.textureHeight,{format:ir,type:ts,depthTexture:new ome(h.textureWidth,h.textureHeight,_e,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(c),l=null,o=yield r.requestReferenceSpace(a),P.setContext(r),P.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(ce){return W.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const B=new N,F=new N;function ne(W,ce){null===ce?W.matrixWorld.copy(W.matrix):W.matrixWorld.multiplyMatrices(ce.matrixWorld,W.matrix),W.matrixWorldInverse.copy(W.matrixWorld).invert()}this.updateCamera=function(W){if(null===r)return;E.near=b.near=C.near=W.near,E.far=b.far=C.far=W.far,(D!==E.near||S!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),D=E.near,S=E.far);const ce=W.parent,xe=E.cameras;ne(E,ce);for(let _e=0;_e<xe.length;_e++)ne(xe[_e],ce);2===xe.length?function j(W,ce,xe){B.setFromMatrixPosition(ce.matrixWorld),F.setFromMatrixPosition(xe.matrixWorld);const _e=B.distanceTo(F),Ce=ce.projectionMatrix.elements,Ue=xe.projectionMatrix.elements,Pe=Ce[14]/(Ce[10]-1),Be=Ce[14]/(Ce[10]+1),y1=(Ce[9]+1)/Ce[5],at=(Ce[9]-1)/Ce[5],e1=(Ce[8]-1)/Ce[0],H=(Ue[8]+1)/Ue[0],fe=Pe*e1,re=Pe*H,ge=_e/(-e1+H),ue=ge*-e1;ce.matrixWorld.decompose(W.position,W.quaternion,W.scale),W.translateX(ue),W.translateZ(ge),W.matrixWorld.compose(W.position,W.quaternion,W.scale),W.matrixWorldInverse.copy(W.matrixWorld).invert();const U=Pe+ge,Ee=Be+ge;W.projectionMatrix.makePerspective(fe-ue,re+(_e-ue),y1*Be/Ee*U,at*Be/Ee*U,U,Ee),W.projectionMatrixInverse.copy(W.projectionMatrix).invert()}(E,C,b):E.projectionMatrix.copy(C.projectionMatrix),function X(W,ce,xe){null===xe?W.matrix.copy(ce.matrixWorld):(W.matrix.copy(xe.matrixWorld),W.matrix.invert(),W.matrix.multiply(ce.matrixWorld)),W.matrix.decompose(W.position,W.quaternion,W.scale),W.updateMatrixWorld(!0);const _e=W.children;for(let Ce=0,Ue=_e.length;Ce<Ue;Ce++)_e[Ce].updateMatrixWorld(!0);W.projectionMatrix.copy(ce.projectionMatrix),W.projectionMatrixInverse.copy(ce.projectionMatrixInverse),W.isPerspectiveCamera&&(W.fov=2*H6*Math.atan(1/W.projectionMatrix.elements[5]),W.zoom=1)}(W,E,ce)},this.getCamera=function(){return E},this.getFoveation=function(){if(null!==h||null!==d)return c},this.setFoveation=function(W){c=W,null!==h&&(h.fixedFoveation=W),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=W)};let J=null;const P=new DI;P.setAnimationLoop(function ae(W,ce){if(u=ce.getViewerPose(l||o),p=ce,null!==u){const xe=u.views;null!==d&&(e.setRenderTargetFramebuffer(v,d.framebuffer),e.setRenderTarget(v));let _e=!1;xe.length!==E.cameras.length&&(E.cameras.length=0,_e=!0);for(let Ce=0;Ce<xe.length;Ce++){const Ue=xe[Ce];let Pe=null;if(null!==d)Pe=d.getViewport(Ue);else{const y1=f.getViewSubImage(h,Ue);Pe=y1.viewport,0===Ce&&(e.setRenderTargetTextures(v,y1.colorTexture,h.ignoreDepthValues?void 0:y1.depthStencilTexture),e.setRenderTarget(v))}let Be=A[Ce];void 0===Be&&(Be=new B2,Be.layers.enable(Ce),Be.viewport=new St,A[Ce]=Be),Be.matrix.fromArray(Ue.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(Ue.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),0===Ce&&(E.matrix.copy(Be.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),!0===_e&&E.cameras.push(Be)}}for(let xe=0;xe<M.length;xe++){const _e=x[xe],Ce=M[xe];null!==_e&&void 0!==Ce&&Ce.update(_e,ce,l||o)}J&&J(W,ce),ce.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ce}),p=null}),this.setAnimationLoop=function(W){J=W},this.dispose=function(){}}}function cme(n,e){function t(g,v){!0===g.matrixAutoUpdate&&g.updateMatrix(),v.value.copy(g.matrix)}function s(g,v){g.opacity.value=v.opacity,v.color&&g.diffuse.value.copy(v.color),v.emissive&&g.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.bumpMap&&(g.bumpMap.value=v.bumpMap,t(v.bumpMap,g.bumpMapTransform),g.bumpScale.value=v.bumpScale,1===v.side&&(g.bumpScale.value*=-1)),v.normalMap&&(g.normalMap.value=v.normalMap,t(v.normalMap,g.normalMapTransform),g.normalScale.value.copy(v.normalScale),1===v.side&&g.normalScale.value.negate()),v.displacementMap&&(g.displacementMap.value=v.displacementMap,t(v.displacementMap,g.displacementMapTransform),g.displacementScale.value=v.displacementScale,g.displacementBias.value=v.displacementBias),v.emissiveMap&&(g.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,g.emissiveMapTransform)),v.specularMap&&(g.specularMap.value=v.specularMap,t(v.specularMap,g.specularMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest);const M=e.get(v).envMap;if(M&&(g.envMap.value=M,g.flipEnvMap.value=M.isCubeTexture&&!1===M.isRenderTargetTexture?-1:1,g.reflectivity.value=v.reflectivity,g.ior.value=v.ior,g.refractionRatio.value=v.refractionRatio),v.lightMap){g.lightMap.value=v.lightMap;const x=!0===n.useLegacyLights?Math.PI:1;g.lightMapIntensity.value=v.lightMapIntensity*x,t(v.lightMap,g.lightMapTransform)}v.aoMap&&(g.aoMap.value=v.aoMap,g.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,v){v.color.getRGB(g.fogColor.value,TI(n)),v.isFog?(g.fogNear.value=v.near,g.fogFar.value=v.far):v.isFogExp2&&(g.fogDensity.value=v.density)},refreshMaterialUniforms:function r(g,v,M,x,C){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(g,v):v.isMeshToonMaterial?(s(g,v),function f(g,v){v.gradientMap&&(g.gradientMap.value=v.gradientMap)}(g,v)):v.isMeshPhongMaterial?(s(g,v),function u(g,v){g.specular.value.copy(v.specular),g.shininess.value=Math.max(v.shininess,1e-4)}(g,v)):v.isMeshStandardMaterial?(s(g,v),function h(g,v){g.metalness.value=v.metalness,v.metalnessMap&&(g.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,g.metalnessMapTransform)),g.roughness.value=v.roughness,v.roughnessMap&&(g.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,g.roughnessMapTransform)),e.get(v).envMap&&(g.envMapIntensity.value=v.envMapIntensity)}(g,v),v.isMeshPhysicalMaterial&&function d(g,v,M){g.ior.value=v.ior,v.sheen>0&&(g.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),g.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(g.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,g.sheenColorMapTransform)),v.sheenRoughnessMap&&(g.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,g.sheenRoughnessMapTransform))),v.clearcoat>0&&(g.clearcoat.value=v.clearcoat,g.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(g.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,g.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(g.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),1===v.side&&g.clearcoatNormalScale.value.negate())),v.iridescence>0&&(g.iridescence.value=v.iridescence,g.iridescenceIOR.value=v.iridescenceIOR,g.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(g.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,g.iridescenceMapTransform)),v.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),v.transmission>0&&(g.transmission.value=v.transmission,g.transmissionSamplerMap.value=M.texture,g.transmissionSamplerSize.value.set(M.width,M.height),v.transmissionMap&&(g.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,g.transmissionMapTransform)),g.thickness.value=v.thickness,v.thicknessMap&&(g.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=v.attenuationDistance,g.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(g.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(g.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=v.specularIntensity,g.specularColor.value.copy(v.specularColor),v.specularColorMap&&(g.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,g.specularColorMapTransform)),v.specularIntensityMap&&(g.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,g.specularIntensityMapTransform))}(g,v,C)):v.isMeshMatcapMaterial?(s(g,v),function p(g,v){v.matcap&&(g.matcap.value=v.matcap)}(g,v)):v.isMeshDepthMaterial?s(g,v):v.isMeshDistanceMaterial?(s(g,v),function m(g,v){const M=e.get(v).light;g.referencePosition.value.setFromMatrixPosition(M.matrixWorld),g.nearDistance.value=M.shadow.camera.near,g.farDistance.value=M.shadow.camera.far}(g,v)):v.isMeshNormalMaterial?s(g,v):v.isLineBasicMaterial?(function o(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform))}(g,v),v.isLineDashedMaterial&&function a(g,v){g.dashSize.value=v.dashSize,g.totalSize.value=v.dashSize+v.gapSize,g.scale.value=v.scale}(g,v)):v.isPointsMaterial?function c(g,v,M,x){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.size.value=v.size*M,g.scale.value=.5*x,v.map&&(g.map.value=v.map,t(v.map,g.uvTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v,M,x):v.isSpriteMaterial?function l(g,v){g.diffuse.value.copy(v.color),g.opacity.value=v.opacity,g.rotation.value=v.rotation,v.map&&(g.map.value=v.map,t(v.map,g.mapTransform)),v.alphaMap&&(g.alphaMap.value=v.alphaMap,t(v.alphaMap,g.alphaMapTransform)),v.alphaTest>0&&(g.alphaTest.value=v.alphaTest)}(g,v):v.isShadowMaterial?(g.color.value.copy(v.color),g.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function lme(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function d(M,x,C){const b=M.value;if(void 0===C[x]){if("number"==typeof b)C[x]=b;else{const A=Array.isArray(b)?b:[b],E=[];for(let D=0;D<A.length;D++)E.push(A[D].clone());C[x]=E}return!0}if("number"==typeof b){if(C[x]!==b)return C[x]=b,!0}else{const A=Array.isArray(C[x])?C[x]:[C[x]],E=Array.isArray(b)?b:[b];for(let D=0;D<A.length;D++){const S=A[D];if(!1===S.equals(E[D]))return S.copy(E[D]),!0}}return!1}function m(M){const x={boundary:0,storage:0};return"number"==typeof M?(x.boundary=4,x.storage=4):M.isVector2?(x.boundary=8,x.storage=8):M.isVector3||M.isColor?(x.boundary=16,x.storage=12):M.isVector4?(x.boundary=16,x.storage=16):M.isMatrix3?(x.boundary=48,x.storage=48):M.isMatrix4?(x.boundary=64,x.storage=64):M.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",M),x}function g(M){const x=M.target;x.removeEventListener("dispose",g);const C=o.indexOf(x.__bindingPointIndex);o.splice(C,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete s[x.id]}return{bind:function c(M,x){i.uniformBlockBinding(M,x.program)},update:function l(M,x){let C=r[M.id];void 0===C&&(function p(M){const x=M.uniforms;let C=0;let A=0;for(let E=0,D=x.length;E<D;E++){const S=x[E],z={boundary:0,storage:0},k=Array.isArray(S.value)?S.value:[S.value];for(let Z=0,B=k.length;Z<B;Z++){const j=m(k[Z]);z.boundary+=j.boundary,z.storage+=j.storage}S.__data=new Float32Array(z.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=C,E>0&&(A=C%16,0!==A&&16-A-z.boundary<0&&(C+=16-A,S.__offset=C)),C+=z.storage}A=C%16,A>0&&(C+=16-A),M.__size=C,M.__cache={}}(M),C=function u(M){const x=function f(){for(let M=0;M<a;M++)if(-1===o.indexOf(M))return o.push(M),M;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();M.__bindingPointIndex=x;const C=n.createBuffer(),b=M.__size,A=M.usage;return n.bindBuffer(n.UNIFORM_BUFFER,C),n.bufferData(n.UNIFORM_BUFFER,b,A),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,C),C}(M),r[M.id]=C,M.addEventListener("dispose",g)),i.updateUBOMapping(M,x.program);const A=e.render.frame;s[M.id]!==A&&(function h(M){const C=M.uniforms,b=M.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[M.id]);for(let A=0,E=C.length;A<E;A++){const D=C[A];if(!0===d(D,A,b)){const S=D.__offset,z=Array.isArray(D.value)?D.value:[D.value];let k=0;for(let Z=0;Z<z.length;Z++){const B=z[Z],F=m(B);"number"==typeof B?(D.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,S+k,D.__data)):B.isMatrix3?(D.__data[0]=B.elements[0],D.__data[1]=B.elements[1],D.__data[2]=B.elements[2],D.__data[3]=B.elements[0],D.__data[4]=B.elements[3],D.__data[5]=B.elements[4],D.__data[6]=B.elements[5],D.__data[7]=B.elements[0],D.__data[8]=B.elements[6],D.__data[9]=B.elements[7],D.__data[10]=B.elements[8],D.__data[11]=B.elements[0]):(B.toArray(D.__data,k),k+=F.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,S,D.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(M),s[M.id]=A)},dispose:function v(){for(const M in r)n.deleteBuffer(r[M]);o=[],r={},s={}}}}function ume(){const n=Y8("canvas");return n.style.display="block",n}class f_{constructor(e={}){const{canvas:t=ume(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:o;const d=new Uint32Array(4),p=new Int32Array(4);let m=null,g=null;const v=[],M=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=z1,this.useLegacyLights=!0,this.toneMapping=q4,this.toneMappingExposure=1;const x=this;let C=!1,b=0,A=0,E=null,D=-1,S=null;const z=new St,k=new St;let Z=null;const B=new Fe(0);let F=0,j=t.width,ne=t.height,X=1,J=null,ae=null;const P=new St(0,0,j,ne),W=new St(0,0,j,ne);let ce=!1;const xe=new i_;let _e=!1,Ce=!1,Ue=null;const Pe=new E1,Be=new pe,y1=new N,at={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function e1(){return null===E?X:1}let re,ge,ue,U,Ee,Ve,f1,s1,vt,R,T,ee,he,ye,be,Xe,Se,oe,Ze,i1,o1,$e,Ge,x1,H=i;function fe(L,Y){for(let K=0;K<L.length;K++){const se=t.getContext(L[K],Y);if(null!==se)return se}return null}try{const L={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r154"),t.addEventListener("webglcontextlost",ze,!1),t.addEventListener("webglcontextrestored",Q,!1),t.addEventListener("webglcontextcreationerror",Me,!1),null===H){const Y=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&Y.shift(),H=fe(Y,L),null===H)throw fe(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&H instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===H.getShaderPrecisionFormat&&(H.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}function nt(){re=new Cde(H),ge=new gde(H,re,e),re.init(ge),$e=new ime(H,re,ge),ue=new tme(H,re,ge),U=new Sde(H),Ee=new Gpe,Ve=new nme(H,re,ue,Ee,ge,$e,U),f1=new yde(x),s1=new xde(x),vt=new mfe(H,ge),Ge=new pde(H,re,vt,ge),R=new bde(H,vt,U,Ge),T=new Tde(H,R,vt,U),Ze=new Ede(H,ge,Ve),Xe=new vde(Ee),ee=new Bpe(x,f1,s1,re,ge,Ge,Xe),he=new cme(x,Ee),ye=new jpe,be=new Jpe(re,ge),oe=new dde(x,f1,s1,ue,T,h,c),Se=new eme(x,T,ge),x1=new lme(H,U,ge,ue),i1=new mde(H,re,U,ge),o1=new wde(H,re,U,ge),U.programs=ee.programs,x.capabilities=ge,x.extensions=re,x.properties=Ee,x.renderLists=ye,x.shadowMap=Se,x.state=ue,x.info=U}nt();const V=new ame(x,H);function ze(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Q(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const L=U.autoReset,Y=Se.enabled,K=Se.autoUpdate,q=Se.needsUpdate,se=Se.type;nt(),U.autoReset=L,Se.enabled=Y,Se.autoUpdate=K,Se.needsUpdate=q,Se.type=se}function Me(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function Ae(L){const Y=L.target;Y.removeEventListener("dispose",Ae),function H1(L){(function yt(L){const Y=Ee.get(L).programs;void 0!==Y&&(Y.forEach(function(K){ee.releaseProgram(K)}),L.isShaderMaterial&&ee.releaseShaderCache(L))})(L),Ee.remove(L)}(Y)}this.xr=V,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const L=re.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=re.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(L){void 0!==L&&(X=L,this.setSize(j,ne,!1))},this.getSize=function(L){return L.set(j,ne)},this.setSize=function(L,Y,K=!0){V.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=L,ne=Y,t.width=Math.floor(L*X),t.height=Math.floor(Y*X),!0===K&&(t.style.width=L+"px",t.style.height=Y+"px"),this.setViewport(0,0,L,Y))},this.getDrawingBufferSize=function(L){return L.set(j*X,ne*X).floor()},this.setDrawingBufferSize=function(L,Y,K){j=L,ne=Y,X=K,t.width=Math.floor(L*K),t.height=Math.floor(Y*K),this.setViewport(0,0,L,Y)},this.getCurrentViewport=function(L){return L.copy(z)},this.getViewport=function(L){return L.copy(P)},this.setViewport=function(L,Y,K,q){L.isVector4?P.set(L.x,L.y,L.z,L.w):P.set(L,Y,K,q),ue.viewport(z.copy(P).multiplyScalar(X).floor())},this.getScissor=function(L){return L.copy(W)},this.setScissor=function(L,Y,K,q){L.isVector4?W.set(L.x,L.y,L.z,L.w):W.set(L,Y,K,q),ue.scissor(k.copy(W).multiplyScalar(X).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(L){ue.setScissorTest(ce=L)},this.setOpaqueSort=function(L){J=L},this.setTransparentSort=function(L){ae=L},this.getClearColor=function(L){return L.copy(oe.getClearColor())},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(L=!0,Y=!0,K=!0){let q=0;if(L){let se=!1;if(null!==E){const De=E.texture.format;se=1033===De||1031===De||1029===De}if(se){const De=E.texture.type,je=De===ts||De===ns||1012===De||De===vo||1017===De||1018===De,Qe=oe.getClearColor(),c1=oe.getClearAlpha(),L1=Qe.r,n1=Qe.g,t1=Qe.b;je?(d[0]=L1,d[1]=n1,d[2]=t1,d[3]=c1,H.clearBufferuiv(H.COLOR,0,d)):(p[0]=L1,p[1]=n1,p[2]=t1,p[3]=c1,H.clearBufferiv(H.COLOR,0,p))}else q|=H.COLOR_BUFFER_BIT}Y&&(q|=H.DEPTH_BUFFER_BIT),K&&(q|=H.STENCIL_BUFFER_BIT),H.clear(q)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ze,!1),t.removeEventListener("webglcontextrestored",Q,!1),t.removeEventListener("webglcontextcreationerror",Me,!1),ye.dispose(),be.dispose(),Ee.dispose(),f1.dispose(),s1.dispose(),T.dispose(),Ge.dispose(),x1.dispose(),ee.dispose(),V.dispose(),V.removeEventListener("sessionstart",Ie),V.removeEventListener("sessionend",T1),Ue&&(Ue.dispose(),Ue=null),U1.stop()},this.renderBufferDirect=function(L,Y,K,q,se,De){null===Y&&(Y=at);const je=se.isMesh&&se.matrixWorld.determinant()<0,Qe=function J2(L,Y,K,q,se){!0!==Y.isScene&&(Y=at),Ve.resetTextureUnits();const De=Y.fog,Qe=null===E?x.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:c4,c1=(q.isMeshStandardMaterial?s1:f1).get(q.envMap||(q.isMeshStandardMaterial?Y.environment:null)),L1=!0===q.vertexColors&&!!K.attributes.color&&4===K.attributes.color.itemSize,n1=!!K.attributes.tangent&&(!!q.normalMap||q.anisotropy>0),t1=!!K.morphAttributes.position,ct=!!K.morphAttributes.normal,Ht=!!K.morphAttributes.color,ui=q.toneMapped?x.toneMapping:q4,kn=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,dt=void 0!==kn?kn.length:0,V1=Ee.get(q),ls=g.state.lights;!0!==_e||!0!==Ce&&L===S||Xe.setState(q,L,L===S&&q.id===D);let Bt=!1;q.version===V1.__version?(V1.needsLights&&V1.lightsStateVersion!==ls.state.version||V1.outputColorSpace!==Qe||se.isInstancedMesh&&!1===V1.instancing||!se.isInstancedMesh&&!0===V1.instancing||se.isSkinnedMesh&&!1===V1.skinning||!se.isSkinnedMesh&&!0===V1.skinning||V1.envMap!==c1||!0===q.fog&&V1.fog!==De||void 0!==V1.numClippingPlanes&&(V1.numClippingPlanes!==Xe.numPlanes||V1.numIntersection!==Xe.numIntersection)||V1.vertexAlphas!==L1||V1.vertexTangents!==n1||V1.morphTargets!==t1||V1.morphNormals!==ct||V1.morphColors!==Ht||V1.toneMapping!==ui||!0===ge.isWebGL2&&V1.morphTargetsCount!==dt)&&(Bt=!0):(Bt=!0,V1.__version=q.version);let ko=V1.currentProgram;!0===Bt&&(ko=B1(q,Y,se));let xH=!1,C5=!1,rM=!1;const Un=ko.getUniforms(),Uo=V1.uniforms;if(ue.useProgram(ko.program)&&(xH=!0,C5=!0,rM=!0),q.id!==D&&(D=q.id,C5=!0),xH||S!==L){if(Un.setValue(H,"projectionMatrix",L.projectionMatrix),ge.logarithmicDepthBuffer&&Un.setValue(H,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),S!==L&&(S=L,C5=!0,rM=!0),q.isShaderMaterial||q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshStandardMaterial||q.envMap){const Fi=Un.map.cameraPosition;void 0!==Fi&&Fi.setValue(H,y1.setFromMatrixPosition(L.matrixWorld))}(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial)&&Un.setValue(H,"isOrthographic",!0===L.isOrthographicCamera),(q.isMeshPhongMaterial||q.isMeshToonMaterial||q.isMeshLambertMaterial||q.isMeshBasicMaterial||q.isMeshStandardMaterial||q.isShaderMaterial||q.isShadowMaterial||se.isSkinnedMesh)&&Un.setValue(H,"viewMatrix",L.matrixWorldInverse)}if(se.isSkinnedMesh){Un.setOptional(H,se,"bindMatrix"),Un.setOptional(H,se,"bindMatrixInverse");const Fi=se.skeleton;Fi&&(ge.floatVertexTextures?(null===Fi.boneTexture&&Fi.computeBoneTexture(),Un.setValue(H,"boneTexture",Fi.boneTexture,Ve),Un.setValue(H,"boneTextureSize",Fi.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const sM=K.morphAttributes;if((void 0!==sM.position||void 0!==sM.normal||void 0!==sM.color&&!0===ge.isWebGL2)&&Ze.update(se,K,ko),(C5||V1.receiveShadow!==se.receiveShadow)&&(V1.receiveShadow=se.receiveShadow,Un.setValue(H,"receiveShadow",se.receiveShadow)),q.isMeshGouraudMaterial&&null!==q.envMap&&(Uo.envMap.value=c1,Uo.flipEnvMap.value=c1.isCubeTexture&&!1===c1.isRenderTargetTexture?-1:1),C5&&(Un.setValue(H,"toneMappingExposure",x.toneMappingExposure),V1.needsLights&&function P2(L,Y){L.ambientLightColor.needsUpdate=Y,L.lightProbe.needsUpdate=Y,L.directionalLights.needsUpdate=Y,L.directionalLightShadows.needsUpdate=Y,L.pointLights.needsUpdate=Y,L.pointLightShadows.needsUpdate=Y,L.spotLights.needsUpdate=Y,L.spotLightShadows.needsUpdate=Y,L.rectAreaLights.needsUpdate=Y,L.hemisphereLights.needsUpdate=Y}(Uo,rM),De&&!0===q.fog&&he.refreshFogUniforms(Uo,De),he.refreshMaterialUniforms(Uo,q,X,ne,Ue),ef.upload(H,V1.uniformsList,Uo,Ve)),q.isShaderMaterial&&!0===q.uniformsNeedUpdate&&(ef.upload(H,V1.uniformsList,Uo,Ve),q.uniformsNeedUpdate=!1),q.isSpriteMaterial&&Un.setValue(H,"center",se.center),Un.setValue(H,"modelViewMatrix",se.modelViewMatrix),Un.setValue(H,"normalMatrix",se.normalMatrix),Un.setValue(H,"modelMatrix",se.matrixWorld),q.isShaderMaterial||q.isRawShaderMaterial){const Fi=q.uniformsGroups;for(let oM=0,TAe=Fi.length;oM<TAe;oM++)if(ge.isWebGL2){const CH=Fi[oM];x1.update(CH,ko),x1.bind(CH,ko)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ko}(L,Y,K,q,se);ue.setMaterial(q,je);let c1=K.index,L1=1;!0===q.wireframe&&(c1=R.getWireframeAttribute(K),L1=2);const n1=K.drawRange,t1=K.attributes.position;let ct=n1.start*L1,Ht=(n1.start+n1.count)*L1;null!==De&&(ct=Math.max(ct,De.start*L1),Ht=Math.min(Ht,(De.start+De.count)*L1)),null!==c1?(ct=Math.max(ct,0),Ht=Math.min(Ht,c1.count)):null!=t1&&(ct=Math.max(ct,0),Ht=Math.min(Ht,t1.count));const ui=Ht-ct;if(ui<0||ui===1/0)return;Ge.setup(se,q,Qe,K,c1);let kn,dt=i1;if(null!==c1&&(kn=vt.get(c1),dt=o1,dt.setIndex(kn)),se.isMesh)!0===q.wireframe?(ue.setLineWidth(q.wireframeLinewidth*e1()),dt.setMode(H.LINES)):dt.setMode(H.TRIANGLES);else if(se.isLine){let V1=q.linewidth;void 0===V1&&(V1=1),ue.setLineWidth(V1*e1()),dt.setMode(se.isLineSegments?H.LINES:se.isLineLoop?H.LINE_LOOP:H.LINE_STRIP)}else se.isPoints?dt.setMode(H.POINTS):se.isSprite&&dt.setMode(H.TRIANGLES);if(se.isInstancedMesh)dt.renderInstances(ct,ui,se.count);else if(K.isInstancedBufferGeometry){const ls=Math.min(K.instanceCount,void 0!==K._maxInstanceCount?K._maxInstanceCount:1/0);dt.renderInstances(ct,ui,ls)}else dt.render(ct,ui)},this.compile=function(L,Y){function K(q,se,De){!0===q.transparent&&2===q.side&&!1===q.forceSinglePass?(q.side=1,q.needsUpdate=!0,B1(q,se,De),q.side=0,q.needsUpdate=!0,B1(q,se,De),q.side=2):B1(q,se,De)}g=be.get(L),g.init(),M.push(g),L.traverseVisible(function(q){q.isLight&&q.layers.test(Y.layers)&&(g.pushLight(q),q.castShadow&&g.pushShadow(q))}),g.setupLights(x.useLegacyLights),L.traverse(function(q){const se=q.material;if(se)if(Array.isArray(se))for(let De=0;De<se.length;De++)K(se[De],L,q);else K(se,L,q)}),M.pop(),g=null};let At=null;function Ie(){U1.stop()}function T1(){U1.start()}const U1=new DI;function We(L,Y,K,q){if(!1===L.visible)return;if(L.layers.test(Y.layers))if(L.isGroup)K=L.renderOrder;else if(L.isLOD)!0===L.autoUpdate&&L.update(Y);else if(L.isLight)g.pushLight(L),L.castShadow&&g.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||xe.intersectsSprite(L)){q&&y1.setFromMatrixPosition(L.matrixWorld).applyMatrix4(Pe);const je=T.update(L),Qe=L.material;Qe.visible&&m.push(L,je,Qe,K,y1.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||xe.intersectsObject(L))){const je=T.update(L),Qe=L.material;if(q&&(void 0!==L.boundingSphere?(null===L.boundingSphere&&L.computeBoundingSphere(),y1.copy(L.boundingSphere.center)):(null===je.boundingSphere&&je.computeBoundingSphere(),y1.copy(je.boundingSphere.center)),y1.applyMatrix4(L.matrixWorld).applyMatrix4(Pe)),Array.isArray(Qe)){const c1=je.groups;for(let L1=0,n1=c1.length;L1<n1;L1++){const t1=c1[L1],ct=Qe[t1.materialIndex];ct&&ct.visible&&m.push(L,je,ct,K,y1.z,t1)}}else Qe.visible&&m.push(L,je,Qe,K,y1.z,null)}const De=L.children;for(let je=0,Qe=De.length;je<Qe;je++)We(De[je],Y,K,q)}function q1(L,Y,K,q){const se=L.opaque,De=L.transmissive,je=L.transparent;g.setupLightsView(K),!0===_e&&Xe.setGlobalState(x.clippingPlanes,K),De.length>0&&function m1(L,Y,K,q){const se=ge.isWebGL2;null===Ue&&(Ue=new bo(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")?Z8:ts,minFilter:go,samples:se?4:0})),x.getDrawingBufferSize(Be),se?Ue.setSize(Be.x,Be.y):Ue.setSize(Lu(Be.x),Lu(Be.y));const De=x.getRenderTarget();x.setRenderTarget(Ue),x.getClearColor(B),F=x.getClearAlpha(),F<1&&x.setClearColor(16777215,.5),x.clear();const je=x.toneMapping;x.toneMapping=q4,D1(L,K,q),Ve.updateMultisampleRenderTarget(Ue),Ve.updateRenderTargetMipmap(Ue);let Qe=!1;for(let c1=0,L1=Y.length;c1<L1;c1++){const n1=Y[c1],t1=n1.object,ct=n1.geometry,Ht=n1.material,ui=n1.group;if(2===Ht.side&&t1.layers.test(q.layers)){const kn=Ht.side;Ht.side=1,Ht.needsUpdate=!0,f2(t1,K,q,ct,Ht,ui),Ht.side=kn,Ht.needsUpdate=!0,Qe=!0}}!0===Qe&&(Ve.updateMultisampleRenderTarget(Ue),Ve.updateRenderTargetMipmap(Ue)),x.setRenderTarget(De),x.setClearColor(B,F),x.toneMapping=je}(se,De,Y,K),q&&ue.viewport(z.copy(q)),se.length>0&&D1(se,Y,K),De.length>0&&D1(De,Y,K),je.length>0&&D1(je,Y,K),ue.buffers.depth.setTest(!0),ue.buffers.depth.setMask(!0),ue.buffers.color.setMask(!0),ue.setPolygonOffset(!1)}function D1(L,Y,K){const q=!0===Y.isScene?Y.overrideMaterial:null;for(let se=0,De=L.length;se<De;se++){const je=L[se],Qe=je.object,c1=je.geometry,L1=null===q?je.material:q,n1=je.group;Qe.layers.test(K.layers)&&f2(Qe,Y,K,c1,L1,n1)}}function f2(L,Y,K,q,se,De){L.onBeforeRender(x,Y,K,q,se,De),L.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),se.onBeforeRender(x,Y,K,q,L,De),!0===se.transparent&&2===se.side&&!1===se.forceSinglePass?(se.side=1,se.needsUpdate=!0,x.renderBufferDirect(K,Y,q,se,L,De),se.side=0,se.needsUpdate=!0,x.renderBufferDirect(K,Y,q,se,L,De),se.side=2):x.renderBufferDirect(K,Y,q,se,L,De),L.onAfterRender(x,Y,K,q,se,De)}function B1(L,Y,K){!0!==Y.isScene&&(Y=at);const q=Ee.get(L),se=g.state.lights,je=se.state.version,Qe=ee.getParameters(L,se.state,g.state.shadowsArray,Y,K),c1=ee.getProgramCacheKey(Qe);let L1=q.programs;q.environment=L.isMeshStandardMaterial?Y.environment:null,q.fog=Y.fog,q.envMap=(L.isMeshStandardMaterial?s1:f1).get(L.envMap||q.environment),void 0===L1&&(L.addEventListener("dispose",Ae),L1=new Map,q.programs=L1);let n1=L1.get(c1);if(void 0!==n1){if(q.currentProgram===n1&&q.lightsStateVersion===je)return Ut(L,Qe),n1}else Qe.uniforms=ee.getUniforms(L),L.onBuild(K,Qe,x),L.onBeforeCompile(Qe,x),n1=ee.acquireProgram(Qe,c1),L1.set(c1,n1),q.uniforms=Qe.uniforms;const t1=q.uniforms;(!L.isShaderMaterial&&!L.isRawShaderMaterial||!0===L.clipping)&&(t1.clippingPlanes=Xe.uniform),Ut(L,Qe),q.needsLights=function Rt(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&!0===L.lights}(L),q.lightsStateVersion=je,q.needsLights&&(t1.ambientLightColor.value=se.state.ambient,t1.lightProbe.value=se.state.probe,t1.directionalLights.value=se.state.directional,t1.directionalLightShadows.value=se.state.directionalShadow,t1.spotLights.value=se.state.spot,t1.spotLightShadows.value=se.state.spotShadow,t1.rectAreaLights.value=se.state.rectArea,t1.ltc_1.value=se.state.rectAreaLTC1,t1.ltc_2.value=se.state.rectAreaLTC2,t1.pointLights.value=se.state.point,t1.pointLightShadows.value=se.state.pointShadow,t1.hemisphereLights.value=se.state.hemi,t1.directionalShadowMap.value=se.state.directionalShadowMap,t1.directionalShadowMatrix.value=se.state.directionalShadowMatrix,t1.spotShadowMap.value=se.state.spotShadowMap,t1.spotLightMatrix.value=se.state.spotLightMatrix,t1.spotLightMap.value=se.state.spotLightMap,t1.pointShadowMap.value=se.state.pointShadowMap,t1.pointShadowMatrix.value=se.state.pointShadowMatrix);const ct=n1.getUniforms(),Ht=ef.seqWithValue(ct.seq,t1);return q.currentProgram=n1,q.uniformsList=Ht,n1}function Ut(L,Y){const K=Ee.get(L);K.outputColorSpace=Y.outputColorSpace,K.instancing=Y.instancing,K.skinning=Y.skinning,K.morphTargets=Y.morphTargets,K.morphNormals=Y.morphNormals,K.morphColors=Y.morphColors,K.morphTargetsCount=Y.morphTargetsCount,K.numClippingPlanes=Y.numClippingPlanes,K.numIntersection=Y.numClipIntersection,K.vertexAlphas=Y.vertexAlphas,K.vertexTangents=Y.vertexTangents,K.toneMapping=Y.toneMapping}U1.setAnimationLoop(function a1(L){At&&At(L)}),typeof self<"u"&&U1.setContext(self),this.setAnimationLoop=function(L){At=L,V.setAnimationLoop(L),null===L?U1.stop():U1.start()},V.addEventListener("sessionstart",Ie),V.addEventListener("sessionend",T1),this.render=function(L,Y){if(void 0===Y||!0===Y.isCamera){if(!0!==C){if(!0===L.matrixWorldAutoUpdate&&L.updateMatrixWorld(),null===Y.parent&&!0===Y.matrixWorldAutoUpdate&&Y.updateMatrixWorld(),!0===V.enabled&&!0===V.isPresenting&&(!0===V.cameraAutoUpdate&&V.updateCamera(Y),Y=V.getCamera()),!0===L.isScene&&L.onBeforeRender(x,L,Y,E),g=be.get(L,M.length),g.init(),M.push(g),Pe.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),xe.setFromProjectionMatrix(Pe),Ce=this.localClippingEnabled,_e=Xe.init(this.clippingPlanes,Ce),m=ye.get(L,v.length),m.init(),v.push(m),We(L,Y,0,x.sortObjects),m.finish(),!0===x.sortObjects&&m.sort(J,ae),this.info.render.frame++,!0===_e&&Xe.beginShadows(),Se.render(g.state.shadowsArray,L,Y),!0===_e&&Xe.endShadows(),!0===this.info.autoReset&&this.info.reset(),oe.render(m,L),g.setupLights(x.useLegacyLights),Y.isArrayCamera){const q=Y.cameras;for(let se=0,De=q.length;se<De;se++){const je=q[se];q1(m,L,je,je.viewport)}}else q1(m,L,Y);null!==E&&(Ve.updateMultisampleRenderTarget(E),Ve.updateRenderTargetMipmap(E)),!0===L.isScene&&L.onAfterRender(x,L,Y),Ge.resetDefaultState(),D=-1,S=null,M.pop(),g=M.length>0?M[M.length-1]:null,v.pop(),m=v.length>0?v[v.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(L,Y,K){Ee.get(L.texture).__webglTexture=Y,Ee.get(L.depthTexture).__webglTexture=K;const q=Ee.get(L);q.__hasExternalTextures=!0,q.__hasExternalTextures&&(q.__autoAllocateDepthBuffer=void 0===K,q.__autoAllocateDepthBuffer||!0===re.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),q.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(L,Y){const K=Ee.get(L);K.__webglFramebuffer=Y,K.__useDefaultFramebuffer=void 0===Y},this.setRenderTarget=function(L,Y=0,K=0){E=L,b=Y,A=K;let q=!0,se=null,De=!1,je=!1;if(L){const c1=Ee.get(L);void 0!==c1.__useDefaultFramebuffer?(ue.bindFramebuffer(H.FRAMEBUFFER,null),q=!1):void 0===c1.__webglFramebuffer?Ve.setupRenderTarget(L):c1.__hasExternalTextures&&Ve.rebindTextures(L,Ee.get(L.texture).__webglTexture,Ee.get(L.depthTexture).__webglTexture);const L1=L.texture;(L1.isData3DTexture||L1.isDataArrayTexture||L1.isCompressedArrayTexture)&&(je=!0);const n1=Ee.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(se=n1[Y],De=!0):se=ge.isWebGL2&&L.samples>0&&!1===Ve.useMultisampledRTT(L)?Ee.get(L).__webglMultisampledFramebuffer:n1,z.copy(L.viewport),k.copy(L.scissor),Z=L.scissorTest}else z.copy(P).multiplyScalar(X).floor(),k.copy(W).multiplyScalar(X).floor(),Z=ce;if(ue.bindFramebuffer(H.FRAMEBUFFER,se)&&ge.drawBuffers&&q&&ue.drawBuffers(L,se),ue.viewport(z),ue.scissor(k),ue.setScissorTest(Z),De){const c1=Ee.get(L.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+Y,c1.__webglTexture,K)}else if(je){const c1=Ee.get(L.texture);H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,c1.__webglTexture,K||0,Y||0)}D=-1},this.readRenderTargetPixels=function(L,Y,K,q,se,De,je){if(!L||!L.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qe=Ee.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&void 0!==je&&(Qe=Qe[je]),Qe){ue.bindFramebuffer(H.FRAMEBUFFER,Qe);try{const c1=L.texture,L1=c1.format,n1=c1.type;if(L1!==ir&&$e.convert(L1)!==H.getParameter(H.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const t1=n1===Z8&&(re.has("EXT_color_buffer_half_float")||ge.isWebGL2&&re.has("EXT_color_buffer_float"));if(!(n1===ts||$e.convert(n1)===H.getParameter(H.IMPLEMENTATION_COLOR_READ_TYPE)||n1===Z4&&(ge.isWebGL2||re.has("OES_texture_float")||re.has("WEBGL_color_buffer_float"))||t1))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Y>=0&&Y<=L.width-q&&K>=0&&K<=L.height-se&&H.readPixels(Y,K,q,se,$e.convert(L1),$e.convert(n1),De)}finally{const c1=null!==E?Ee.get(E).__webglFramebuffer:null;ue.bindFramebuffer(H.FRAMEBUFFER,c1)}}},this.copyFramebufferToTexture=function(L,Y,K=0){const q=Math.pow(2,-K),se=Math.floor(Y.image.width*q),De=Math.floor(Y.image.height*q);Ve.setTexture2D(Y,0),H.copyTexSubImage2D(H.TEXTURE_2D,K,0,0,L.x,L.y,se,De),ue.unbindTexture()},this.copyTextureToTexture=function(L,Y,K,q=0){const se=Y.image.width,De=Y.image.height,je=$e.convert(K.format),Qe=$e.convert(K.type);Ve.setTexture2D(K,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,K.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,K.unpackAlignment),Y.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,q,L.x,L.y,se,De,je,Qe,Y.image.data):Y.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,q,L.x,L.y,Y.mipmaps[0].width,Y.mipmaps[0].height,je,Y.mipmaps[0].data):H.texSubImage2D(H.TEXTURE_2D,q,L.x,L.y,je,Qe,Y.image),0===q&&K.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),ue.unbindTexture()},this.copyTextureToTexture3D=function(L,Y,K,q,se=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const De=L.max.x-L.min.x+1,je=L.max.y-L.min.y+1,Qe=L.max.z-L.min.z+1,c1=$e.convert(q.format),L1=$e.convert(q.type);let n1;if(q.isData3DTexture)Ve.setTexture3D(q,0),n1=H.TEXTURE_3D;else{if(!q.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Ve.setTexture2DArray(q,0),n1=H.TEXTURE_2D_ARRAY}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,q.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,q.unpackAlignment);const t1=H.getParameter(H.UNPACK_ROW_LENGTH),ct=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Ht=H.getParameter(H.UNPACK_SKIP_PIXELS),ui=H.getParameter(H.UNPACK_SKIP_ROWS),kn=H.getParameter(H.UNPACK_SKIP_IMAGES),dt=K.isCompressedTexture?K.mipmaps[0]:K.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,dt.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,dt.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,L.min.x),H.pixelStorei(H.UNPACK_SKIP_ROWS,L.min.y),H.pixelStorei(H.UNPACK_SKIP_IMAGES,L.min.z),K.isDataTexture||K.isData3DTexture?H.texSubImage3D(n1,se,Y.x,Y.y,Y.z,De,je,Qe,c1,L1,dt.data):K.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),H.compressedTexSubImage3D(n1,se,Y.x,Y.y,Y.z,De,je,Qe,c1,dt.data)):H.texSubImage3D(n1,se,Y.x,Y.y,Y.z,De,je,Qe,c1,L1,dt),H.pixelStorei(H.UNPACK_ROW_LENGTH,t1),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ct),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ht),H.pixelStorei(H.UNPACK_SKIP_ROWS,ui),H.pixelStorei(H.UNPACK_SKIP_IMAGES,kn),0===se&&q.generateMipmaps&&H.generateMipmap(n1),ue.unbindTexture()},this.initTexture=function(L){L.isCubeTexture?Ve.setTextureCube(L,0):L.isData3DTexture?Ve.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?Ve.setTexture2DArray(L,0):Ve.setTexture2D(L,0),ue.unbindTexture()},this.resetState=function(){b=0,A=0,E=null,ue.reset(),Ge.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return X4}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===z1?_o:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===_o?z1:c4}}(class fme extends f_{}).prototype.isWebGL1Renderer=!0;class p_ extends Ri{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class AR extends X6{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const zR=new E1,M_=new e5,uf=new u4,ff=new N;class ER extends Ri{constructor(e=new F1,t=new AR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),uf.copy(i.boundingSphere),uf.applyMatrix4(r),uf.radius+=s,!1===e.ray.intersectsSphere(uf))return;zR.copy(r).invert(),M_.copy(e.ray).applyMatrix4(zR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=i.index,f=i.attributes.position;if(null!==l)for(let p=Math.max(0,o.start),m=Math.min(l.count,o.start+o.count);p<m;p++){const g=l.getX(p);ff.fromBufferAttribute(f,g),TR(ff,g,c,r,e,t,this)}else for(let p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);p<m;p++)ff.fromBufferAttribute(f,p),TR(ff,p,c,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function TR(n,e,t,i,r,s,o){const a=M_.distanceSqToPoint(n);if(a<t){const c=new N;M_.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,object:o})}}class h4{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;o=t||e*i[s-1];let l,a=0,c=s-1;for(;a<=c;)if(r=Math.floor(a+(c-a)/2),l=i[r]-o,l<0)a=r+1;else{if(!(l>0)){c=r;break}c=r-1}if(r=c,i[r]===o)return r/(s-1);const u=i[r];return(r+(o-u)/(i[r+1]-u))/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),c=t||(o.isVector2?new pe:new N);return c.copy(a).sub(o).normalize(),c}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new N,r=[],s=[],o=[],a=new N,c=new E1;for(let d=0;d<=e;d++)r[d]=this.getTangentAt(d/e,new N);s[0]=new N,o[0]=new N;let l=Number.MAX_VALUE;const u=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);u<=l&&(l=u,i.set(1,0,0)),f<=l&&(l=f,i.set(0,1,0)),h<=l&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let d=1;d<=e;d++){if(s[d]=s[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(n2(r[d-1].dot(r[d]),-1,1));s[d].applyMatrix4(c.makeRotationAxis(a,p))}o[d].crossVectors(r[d],s[d])}if(!0===t){let d=Math.acos(n2(s[0].dot(s[e]),-1,1));d/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(d=-d);for(let p=1;p<=e;p++)s[p].applyMatrix4(c.makeRotationAxis(r[p],d*p)),o[p].crossVectors(r[p],s[p])}return{tangents:r,normals:s,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class x_ extends h4{constructor(e=0,t=0,i=1,r=1,s=0,o=2*Math.PI,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=c}getPoint(e,t){const i=t||new pe,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=o?0:r),!0===this.aClockwise&&!o&&(s===r?s=-r:s-=r);const a=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=c-this.aX,d=l-this.aY;c=h*u-d*f+this.aX,l=h*f+d*u+this.aY}return i.set(c,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function C_(){let n=0,e=0,t=0,i=0;function r(s,o,a,c){n=s,e=a,t=-3*s+3*o-2*a-c,i=2*s-2*o+a+c}return{initCatmullRom:function(s,o,a,c,l){r(o,a,l*(a-s),l*(c-o))},initNonuniformCatmullRom:function(s,o,a,c,l,u,f){let h=(o-s)/l-(a-s)/(l+u)+(a-o)/u,d=(a-o)/u-(c-o)/(u+f)+(c-a)/f;h*=u,d*=u,r(o,a,h,d)},calc:function(s){const o=s*s;return n+e*s+t*o+i*(o*s)}}}const hf=new N,b_=new C_,w_=new C_,S_=new C_;function DR(n,e,t,i,r){const s=.5*(i-e),o=.5*(r-t),a=n*n;return(2*t-2*i+s+o)*(n*a)+(-3*t+3*i-2*s-o)*a+s*n+t}function p5(n,e,t,i){return function bme(n,e){const t=1-n;return t*t*e}(n,e)+function wme(n,e){return 2*(1-n)*n*e}(n,t)+function Sme(n,e){return n*n*e}(n,i)}function m5(n,e,t,i,r){return function Ame(n,e){const t=1-n;return t*t*t*e}(n,e)+function zme(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function Eme(n,e){return 3*(1-n)*n*n*e}(n,i)+function Tme(n,e){return n*n*n*e}(n,r)}class LR extends h4{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(m5(e,r.x,s.x,o.x,a.x),m5(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class A_ extends h4{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NR extends h4{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(p5(e,r.x,s.x,o.x),p5(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IR extends h4{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,c=r[0===o?o:o-1],l=r[o],u=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(DR(a,c.x,l.x,u.x,f.x),DR(a,c.y,l.y,u.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new pe).fromArray(r))}return this}}var z_=Object.freeze({__proto__:null,ArcCurve:class xme extends x_{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class Cme extends h4{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new N){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let l,u,a=Math.floor(o),c=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:0===c&&a===s-1&&(a=s-2,c=1),this.closed||a>0?l=r[(a-1)%s]:(hf.subVectors(r[0],r[1]).add(r[0]),l=hf);const f=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?u=r[(a+2)%s]:(hf.subVectors(r[s-1],r[s-2]).add(r[s-1]),u=hf),"centripetal"===this.curveType||"chordal"===this.curveType){const d="chordal"===this.curveType?.5:.25;let p=Math.pow(l.distanceToSquared(f),d),m=Math.pow(f.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(u),d);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),b_.initNonuniformCatmullRom(l.x,f.x,h.x,u.x,p,m,g),w_.initNonuniformCatmullRom(l.y,f.y,h.y,u.y,p,m,g),S_.initNonuniformCatmullRom(l.z,f.z,h.z,u.z,p,m,g)}else"catmullrom"===this.curveType&&(b_.initCatmullRom(l.x,f.x,h.x,u.x,this.tension),w_.initCatmullRom(l.y,f.y,h.y,u.y,this.tension),S_.initCatmullRom(l.z,f.z,h.z,u.z,this.tension));return i.set(b_.calc(c),w_.calc(c),S_.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new N).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:LR,CubicBezierCurve3:class Dme extends h4{constructor(e=new N,t=new N,i=new N,r=new N){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(m5(e,r.x,s.x,o.x,a.x),m5(e,r.y,s.y,o.y,a.y),m5(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:x_,LineCurve:A_,LineCurve3:class Lme extends h4{constructor(e=new N,t=new N){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new N){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new N){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:NR,QuadraticBezierCurve3:class PR extends h4{constructor(e=new N,t=new N,i=new N){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new N){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(p5(e,r.x,s.x,o.x),p5(e,r.y,s.y,o.y),p5(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:IR});class Nme extends h4{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new A_(t,e))}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],c=a.getLength();return a.getPointAt(0===c?0:1-o/c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],c=o.getPoints(o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e);for(let l=0;l<c.length;l++){const u=c[l];i&&i.equals(u)||(t.push(u),i=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push((new z_[r.type]).fromJSON(r))}return this}}class df extends Nme{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new A_(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new NR(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new LR(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new IR(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,c){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,o,a,c),this}absellipse(e,t,i,r,s,o,a,c){const l=new x_(e,t,i,r,s,o,a,c);if(this.curves.length>0){const f=l.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(l);const u=l.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class m0 extends df{constructor(e){super(e),this.uuid=Li(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push((new df).fromJSON(r))}return this}}function RR(n,e,t,i,r){let s,o;if(r===function Yme(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}(n,e,t,i)>0)for(s=e;s<t;s+=i)o=OR(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=OR(s,n[s],n[s+1],o);return o&&yf(o,o.next)&&(_5(o),o=o.next),o}function No(n,e){if(!n)return n;e||(e=n);let i,t=n;do{if(i=!1,t.steiner||!yf(t,t.next)&&0!==Xt(t.prev,t,t.next))t=t.next;else{if(_5(t),t=e=t.prev,t===t.next)break;i=!0}}while(i||t!==e);return e}function v5(n,e,t,i,r,s,o){if(!n)return;!o&&s&&function Wme(n,e,t,i){let r=n;do{0===r.z&&(r.z=P_(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,function jme(n){let e,t,i,r,s,o,a,c,l=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(c=l;a>0||c>0&&i;)0!==a&&(0===c||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,c--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,l*=2}while(o>1)}(r)}(n,i,r,s);let c,l,a=n;for(;n.prev!==n.next;)if(c=n.prev,l=n.next,s?Hme(n,i,r,s):Rme(n))e.push(c.i/t|0),e.push(n.i/t|0),e.push(l.i/t|0),_5(n),n=l.next,a=l.next;else if((n=l)===a){o?1===o?v5(n=Vme(No(n),e,t),e,t,i,r,s,2):2===o&&Ome(n,e,t,i,r,s):v5(No(n),e,t,i,r,s,1);break}}function Rme(n){const e=n.prev,t=n,i=n.next;if(Xt(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,c=t.y,l=i.y,u=r<s?r<o?r:o:s<o?s:o,f=a<c?a<l?a:l:c<l?c:l,h=r>s?r>o?r:o:s>o?s:o,d=a>c?a>l?a:l:c>l?c:l;let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=f&&p.y<=d&&g0(r,a,s,c,o,l,p.x,p.y)&&Xt(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Hme(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Xt(r,s,o)>=0)return!1;const a=r.x,c=s.x,l=o.x,u=r.y,f=s.y,h=o.y,d=a<c?a<l?a:l:c<l?c:l,p=u<f?u<h?u:h:f<h?f:h,m=a>c?a>l?a:l:c>l?c:l,g=u>f?u>h?u:h:f>h?f:h,v=P_(d,p,e,t,i),M=P_(m,g,e,t,i);let x=n.prevZ,C=n.nextZ;for(;x&&x.z>=v&&C&&C.z<=M;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==o&&g0(a,u,c,f,l,h,x.x,x.y)&&Xt(x.prev,x,x.next)>=0||(x=x.prevZ,C.x>=d&&C.x<=m&&C.y>=p&&C.y<=g&&C!==r&&C!==o&&g0(a,u,c,f,l,h,C.x,C.y)&&Xt(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;x&&x.z>=v;){if(x.x>=d&&x.x<=m&&x.y>=p&&x.y<=g&&x!==r&&x!==o&&g0(a,u,c,f,l,h,x.x,x.y)&&Xt(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;C&&C.z<=M;){if(C.x>=d&&C.x<=m&&C.y>=p&&C.y<=g&&C!==r&&C!==o&&g0(a,u,c,f,l,h,C.x,C.y)&&Xt(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function Vme(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!yf(r,s)&&HR(r,i,i.next,s)&&y5(r,s)&&y5(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),_5(i),_5(i.next),i=n=s),i=i.next}while(i!==n);return No(i)}function Ome(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&qme(o,a)){let c=VR(o,a);return o=No(o,o.next),c=No(c,c.next),v5(o,e,t,i,r,s,0),void v5(c,e,t,i,r,s,0)}a=a.next}o=o.next}while(o!==n)}function kme(n,e){return n.x-e.x}function Ume(n,e){const t=function Bme(n,e){let r,t=e,i=-1/0;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>i&&(i=h,r=t.x<t.next.x?t:t.next,h===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,c=r.x,l=r.y;let f,u=1/0;t=r;do{s>=t.x&&t.x>=c&&s!==t.x&&g0(o<l?s:i,o,c,l,o<l?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),y5(t,n)&&(f<u||f===u&&(t.x>r.x||t.x===r.x&&Gme(r,t)))&&(r=t,u=f)),t=t.next}while(t!==a);return r}(n,e);if(!t)return e;const i=VR(t,n);return No(i,i.next),No(t,t.next)}function Gme(n,e){return Xt(n.prev,n,e.prev)<0&&Xt(e.next,n,n.next)<0}function P_(n,e,t,i,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-t)*r|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function $me(n){let e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function g0(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function qme(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function Zme(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&HR(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(y5(n,e)&&y5(e,n)&&function Xme(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==n);return i}(n,e)&&(Xt(n.prev,n,e.prev)||Xt(n,e.prev,e))||yf(n,e)&&Xt(n.prev,n,n.next)>0&&Xt(e.prev,e,e.next)>0)}function Xt(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function yf(n,e){return n.x===e.x&&n.y===e.y}function HR(n,e,t,i){const r=Mf(Xt(n,e,t)),s=Mf(Xt(n,e,i)),o=Mf(Xt(t,i,n)),a=Mf(Xt(t,i,e));return!!(r!==s&&o!==a||0===r&&_f(n,t,e)||0===s&&_f(n,i,e)||0===o&&_f(t,n,i)||0===a&&_f(t,e,i))}function _f(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Mf(n){return n>0?1:n<0?-1:0}function y5(n,e){return Xt(n.prev,n,n.next)<0?Xt(n,e,n.next)>=0&&Xt(n,n.prev,e)>=0:Xt(n,e,n.prev)<0||Xt(n,n.next,e)<0}function VR(n,e){const t=new I_(n.i,n.x,n.y),i=new I_(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function OR(n,e,t,i){const r=new I_(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function _5(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function I_(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class s3{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*i}static isClockWise(e){return s3.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];FR(e),kR(i,e);let o=e.length;t.forEach(FR);for(let c=0;c<t.length;c++)r.push(o),o+=t[c].length,kR(i,t[c]);const a=function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=RR(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,c,l,u,f,h,d;if(i&&(s=function Fme(n,e,t,i){const r=[];let s,o,a,c,l;for(s=0,o=e.length;s<o;s++)a=e[s]*i,c=s<o-1?e[s+1]*i:n.length,l=RR(n,a,c,i,!1),l===l.next&&(l.steiner=!0),r.push($me(l));for(r.sort(kme),s=0;s<r.length;s++)t=Ume(r[s],t);return t}(n,e,s,t)),n.length>80*t){a=l=n[0],c=u=n[1];for(let p=t;p<r;p+=t)f=n[p],h=n[p+1],f<a&&(a=f),h<c&&(c=h),f>l&&(l=f),h>u&&(u=h);d=Math.max(l-a,u-c),d=0!==d?32767/d:0}return v5(s,o,t,a,c,d,0),o}(i,r);for(let c=0;c<a.length;c+=3)s.push(a.slice(c,c+3));return s}}function FR(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function kR(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Cf extends F1{constructor(e=new m0([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,c=0;if(!1===Array.isArray(e))l(e);else for(let u=0;u<e.length;u++)l(e[u]),this.addGroup(a,c,u),a+=c,c=0;function l(u){const f=r.length/3,h=u.extractPoints(t);let d=h.shape;const p=h.holes;!1===s3.isClockWise(d)&&(d=d.reverse());for(let g=0,v=p.length;g<v;g++){const M=p[g];!0===s3.isClockWise(M)&&(p[g]=M.reverse())}const m=s3.triangulateShape(d,p);for(let g=0,v=p.length;g<v;g++)d=d.concat(p[g]);for(let g=0,v=d.length;g<v;g++){const M=d[g];r.push(M.x,M.y,0),s.push(0,0,1),o.push(M.x,M.y)}for(let g=0,v=m.length;g<v;g++){const M=m[g];i.push(M[0]+f,M[1]+f,M[2]+f),c+=3}}this.setIndex(i),this.setAttribute("position",new Ke(r,3)),this.setAttribute("normal",new Ke(s,3)),this.setAttribute("uv",new Ke(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function Qme(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++)e.shapes.push(n[t].uuid);else e.shapes.push(n.uuid);return e}(this.parameters.shapes,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++)i.push(t[e.shapes[r]]);return new Cf(i,e.curveSegments)}}function sr(n,e,t){return B_(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function Po(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function B_(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class wf{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let c=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class dge extends wf{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],c=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:o=e,c=2*i-t;break;case 2402:o=1,c=i+r[1]-r[0];break;default:o=e-1,c=t}const l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(c-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-t)/(r-t),m=p*p,g=m*p,v=-h*g+2*h*m-h*p,M=(1+h)*g+(-1.5-2*h)*m+(-.5+h)*p+1,x=(-1-d)*g+(1.5+d)*m+.5*p,C=d*g-d*m;for(let b=0;b!==a;++b)s[b]=v*o[u+b]+M*o[l+b]+x*o[c+b]+C*o[f+b];return s}}class WR extends wf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=e*a,l=c-a,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==a;++h)s[h]=o[l+h]*f+o[c+h]*u;return s}}class pge extends wf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class d4{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Po(t,this.TimeBufferType),this.values=Po(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Po(e.times,Array),values:Po(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new pge(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new dge(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=sr(i,s,o),this.values=sr(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(null!==o&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,o),e=!1;break}o=c}if(void 0!==r&&B_(r))for(let a=0,c=r.length;a!==c;++a){const l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){const e=sr(this.times),t=sr(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let c=!1;const l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)c=!0;else{const f=a*i,h=f-i,d=f+i;for(let p=0;p!==i;++p){const m=t[f+p];if(m!==t[h+p]||m!==t[d+p]){c=!0;break}}}if(c){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let d=0;d!==i;++d)t[h+d]=t[f+d]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,c=o*i,l=0;l!==i;++l)t[c+l]=t[a+l];++o}return o!==e.length?(this.times=sr(e,0,o),this.values=sr(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=sr(this.times,0),t=sr(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}d4.prototype.TimeBufferType=Float32Array,d4.prototype.ValueBufferType=Float32Array,d4.prototype.DefaultInterpolation=2301;class v0 extends d4{}v0.prototype.ValueTypeName="bool",v0.prototype.ValueBufferType=Array,v0.prototype.DefaultInterpolation=2300,v0.prototype.InterpolantFactoryMethodLinear=void 0,v0.prototype.InterpolantFactoryMethodSmooth=void 0;(class jR extends d4{}).prototype.ValueTypeName="color";(class Sf extends d4{}).prototype.ValueTypeName="number";class mge extends wf{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,c=(i-t)/(r-t);let l=e*a;for(let u=l+a;l!==u;l+=4)Pi.slerpFlat(s,0,o,l-a,o,l,c);return s}}class M5 extends d4{InterpolantFactoryMethodLinear(e){return new mge(this.times,this.values,this.getValueSize(),e)}}M5.prototype.ValueTypeName="quaternion",M5.prototype.DefaultInterpolation=2301,M5.prototype.InterpolantFactoryMethodSmooth=void 0;class y0 extends d4{}y0.prototype.ValueTypeName="string",y0.prototype.ValueBufferType=Array,y0.prototype.DefaultInterpolation=2300,y0.prototype.InterpolantFactoryMethodLinear=void 0,y0.prototype.InterpolantFactoryMethodSmooth=void 0;(class Af extends d4{}).prototype.ValueTypeName="vector";const _0={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class j_{constructor(e,t,i){const r=this;let c,s=!1,o=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return c?c(u):u},this.setURLModifier=function(u){return c=u,this},this.addHandler=function(u,f){return l.push(u,f),this},this.removeHandler=function(u){const f=l.indexOf(u);return-1!==f&&l.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=l.length;f<h;f+=2){const d=l[f],p=l[f+1];if(d.global&&(d.lastIndex=0),d.test(u))return p}return null}}}const yge=new j_;let Ef=(()=>{class n{constructor(t){this.manager=void 0!==t?t:yge,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,o){r.load(t,s,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const o3={};class _ge extends Error{constructor(e,t){super(e),this.response=t}}class a3 extends Ef{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=_0.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==o3[e])return void o3[e].push({onLoad:t,onProgress:i,onError:r});o3[e]=[],o3[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const u=o3[e],f=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),d=h?parseInt(h):0,p=0!==d;let m=0;const g=new ReadableStream({start(v){!function M(){f.read().then(({done:x,value:C})=>{if(x)v.close();else{m+=C.byteLength;const b=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:d});for(let A=0,E=u.length;A<E;A++){const D=u[A];D.onProgress&&D.onProgress(b)}v.enqueue(C),M()}})}()}});return new Response(g)}throw new _ge(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(u=>(new DOMParser).parseFromString(u,a));case"json":return l.json();default:if(void 0===a)return l.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,d=new TextDecoder(h);return l.arrayBuffer().then(p=>d.decode(p))}}}).then(l=>{_0.add(e,l);const u=o3[e];delete o3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onLoad&&d.onLoad(l)}}).catch(l=>{const u=o3[e];if(void 0===u)throw this.manager.itemError(e),l;delete o3[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Tf extends Ef{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=_0.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Y8("img");function c(){u(),_0.add(e,this),t&&t(this),s.manager.itemEnd(e)}function l(f){u(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",c,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Mge extends Ef{constructor(e){super(e)}load(e,t,i,r){const s=new l4,o=new Tf(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}const X_="\\[\\]\\.:\\/",Fge=new RegExp("["+X_+"]","g"),Y_="[^"+X_+"]",kge="[^"+X_.replace("\\.","")+"]",jge=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Y_)+/(WCOD+)?/.source.replace("WCOD",kge)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Y_)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Y_)+"$"),$ge=["material","materials","bones","map"];class qge{constructor(e,t,i){const r=i||It.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let It=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Fge,"")}static parseTrackName(t){const i=jge.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==$ge.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const c=o[a];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===u){u=f;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=qge,n})();It.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},It.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},It.prototype.GetterByBindingType=[It.prototype._getValue_direct,It.prototype._getValue_array,It.prototype._getValue_arrayElement,It.prototype._getValue_toArray],It.prototype.SetterByBindingTypeAndVersioning=[[It.prototype._setValue_direct,It.prototype._setValue_direct_setNeedsUpdate,It.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[It.prototype._setValue_array,It.prototype._setValue_array_setNeedsUpdate,It.prototype._setValue_array_setMatrixWorldNeedsUpdate],[It.prototype._setValue_arrayElement,It.prototype._setValue_arrayElement_setNeedsUpdate,It.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[It.prototype._setValue_fromArray,It.prototype._setValue_fromArray_setNeedsUpdate,It.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Jge{constructor(e,t,i=0,r=1/0){this.ray=new e5(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new qy,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return J_(e,this,i,t),i.sort(sH),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)J_(e[r],this,i,t);return i.sort(sH),i}}function sH(n,e){return n.distance-e.distance}function J_(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),!0===i){const r=n.children;for(let s=0,o=r.length;s<o;s++)J_(r[s],e,t,!0)}}class Qge{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new df,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(v,M){const x=M.length;let C=!1;for(let b=x-1,A=0;A<x;b=A++){let E=M[b],D=M[A],S=D.x-E.x,z=D.y-E.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(E=M[A],S=-S,D=M[b],z=-z),v.y<E.y||v.y>D.y)continue;if(v.y===E.y){if(v.x===E.x)return!0}else{const k=z*(v.x-E.x)-S*(v.y-E.y);if(0===k)return!0;if(k<0)continue;C=!C}}else{if(v.y!==E.y)continue;if(D.x<=v.x&&v.x<=E.x||E.x<=v.x&&v.x<=D.x)return!0}}return C}const r=s3.isClockWise,s=this.subPaths;if(0===s.length)return[];let o,a,c;const l=[];if(1===s.length)return a=s[0],c=new m0,c.curves=a.curves,l.push(c),l;let u=!r(s[0].getPoints());u=e?!u:u;const f=[],h=[];let m,g,d=[],p=0;h[p]=void 0,d[p]=[];for(let v=0,M=s.length;v<M;v++)a=s[v],m=a.getPoints(),o=r(m),o=e?!o:o,o?(!u&&h[p]&&p++,h[p]={s:new m0,p:m},h[p].s.curves=a.curves,u&&p++,d[p]=[]):d[p].push({h:a,p:m[0]});if(!h[0])return function t(v){const M=[];for(let x=0,C=v.length;x<C;x++){const b=v[x],A=new m0;A.curves=b.curves,M.push(A)}return M}(s);if(h.length>1){let v=!1,M=0;for(let x=0,C=h.length;x<C;x++)f[x]=[];for(let x=0,C=h.length;x<C;x++){const b=d[x];for(let A=0;A<b.length;A++){const E=b[A];let D=!0;for(let S=0;S<h.length;S++)i(E.p,h[S].p)&&(x!==S&&M++,D?(D=!1,f[S].push(E)):v=!0);D&&f[x].push(E)}}M>0&&!1===v&&(d=f)}for(let v=0,M=h.length;v<M;v++){c=h[v].s,l.push(c),g=d[v];for(let x=0,C=g.length;x<C;x++)c.holes.push(g[x].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"154"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="154");class eve extends Ef{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new a3(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){const c=s.parse(JSON.parse(a));t&&t(c)},i,r)}parse(e){return new eM(e)}}class eM{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=function tve(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,c=0;for(let l=0;l<i.length;l++){const u=i[l];if("\n"===u)a=0,c-=s;else{const f=nve(u,r,a,c,t);a+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data);for(let s=0,o=r.length;s<o;s++)i.push(...r[s].toShapes());return i}}function nve(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");const o=new Qge;let a,c,l,u,f,h,d,p;if(s.o){const m=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let g=0,v=m.length;g<v;)switch(m[g++]){case"m":a=m[g++]*e+t,c=m[g++]*e+i,o.moveTo(a,c);break;case"l":a=m[g++]*e+t,c=m[g++]*e+i,o.lineTo(a,c);break;case"q":l=m[g++]*e+t,u=m[g++]*e+i,f=m[g++]*e+t,h=m[g++]*e+i,o.quadraticCurveTo(f,h,l,u);break;case"b":l=m[g++]*e+t,u=m[g++]*e+i,f=m[g++]*e+t,h=m[g++]*e+i,d=m[g++]*e+t,p=m[g++]*e+i,o.bezierCurveTo(f,h,d,p,l,u)}}return{offsetX:s.ha*e,path:o}}let mH=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ive=["magic"],tM='@import"https://fonts.googleapis.com/css2?family=Roboto&display=swap";.containerThree[_ngcontent-%COMP%]{margin:0;height:100vh;width:100%;overflow:hidden;font-family:Roboto!important;color:#fff;font-size:9px}#magic[_ngcontent-%COMP%]{position:fixed;width:100%;height:100vh;display:block;top:0;left:0;z-index:-9999}';let rve=(()=>{class n{constructor(t){this.textThreeService=t,this.preload=()=>{var i=this.magic.nativeElement;let r=new j_;r.onLoad=function(){new sve(s,c,i)};var s={};new eve(r).load("https://res.cloudinary.com/dydre7amr/raw/upload/v1612950355/font_zsd4dr.json",function(l){s=l});const c=new Mge(r).load("https://res.cloudinary.com/dfvtkoboz/image/upload/v1605013866/particle_a64uzf.png")}}ngOnInit(){window.innerWidth>=768&&("complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.scroll?this.preload():document.addEventListener("DOMContentLoaded",()=>{this.preload()}))}}return n.\u0275fac=function(t){return new(t||n)(le(mH))},n.\u0275cmp=Jt({type:n,selectors:[["app-text-three"]],viewQuery:function(t,i){if(1&t&&wn(ive,7),2&t){let r;an(r=cn())&&(i.magic=r.first)}},decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(G(0,"div",0),ve(1,"div",1,2),O())},styles:[tM]}),n})(),sve=(()=>{class n{constructor(t,i,r){this.font=t,this.particle=i,this.container=r,this.scene=new p_,this.createCamera(),this.createRenderer(),this.setup(),this.bindEvents()}bindEvents(){window.addEventListener("resize",this.onWindowResize.bind(this))}setup(){this.createParticles=new ove(this.scene,this.font,this.particle,this.camera,this.renderer)}render(){this.createParticles.render(),this.renderer.render(this.scene,this.camera)}createCamera(){this.camera=new B2(65,this.container.clientWidth/this.container.clientHeight,1,1e4),this.camera.position.set(0,0,100)}createRenderer(){this.renderer=new f_,this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.outputColorSpace=z1,this.renderer.setClearColor(2961205,1),this.container.appendChild(this.renderer.domElement),this.renderer.setAnimationLoop(()=>{this.render()})}onWindowResize(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}}return n.\u0275fac=function(t){return new(t||n)(le(eM),le(l4),le(HTMLElement))},n.\u0275cmp=Jt({type:n,selectors:[["app-text-three-Environment"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(G(0,"div",0),ve(1,"div",1,2),O())},styles:[tM]}),n})(),ove=(()=>{class n{constructor(t,i,r,s,o){this.scene=t,this.font=i,this.particleImg=r,this.camera=s,this.renderer=o,this.raycaster=new Jge,this.mouse=new pe(-200,200),this.colorChange=new Fe,this.buttom=!1,this.data={text:"alex",amount:1500,particleSize:1,particleColor:16777215,textSize:16,area:250,ease:.05},this.setup(),this.bindEvents()}setup(){const t=new r5(this.visibleWidthAtZDepth(100,this.camera),this.visibleHeightAtZDepth(100,this.camera)),i=new as({color:65280,transparent:!0});this.planeArea=new li(t,i),this.planeArea.visible=!1,this.createText()}bindEvents(){document.addEventListener("mousedown",this.onMouseDown.bind(this)),document.addEventListener("mousemove",this.onMouseMove.bind(this)),document.addEventListener("mouseup",this.onMouseUp.bind(this))}onMouseDown(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1;const i=new N(this.mouse.x,this.mouse.y,.5);i.unproject(this.camera);const r=i.sub(this.camera.position).normalize(),s=-this.camera.position.z/r.z;this.currenPosition=this.camera.position.clone().add(r.multiplyScalar(s)),this.buttom=!0,this.data.ease=.01}onMouseUp(){this.buttom=!1,this.data.ease=.05}onMouseMove(t){this.mouse.x=t.clientX/window.innerWidth*2-1,this.mouse.y=-t.clientY/window.innerHeight*2+1}render(){const t=.001*performance.now()%12/12,i=(1+Math.sin(2*t*Math.PI))/6;this.raycaster.setFromCamera(this.mouse,this.camera);const r=this.raycaster.intersectObject(this.planeArea);if(r.length>0){const a=this.particles.geometry.attributes.position,c=this.geometryCopy.attributes.position,l=this.particles.geometry.attributes.customColor,u=this.particles.geometry.attributes.size,f=r[0].point.x,h=r[0].point.y;for(var s=0,o=a.count;s<o;s++){const p=c.getX(s),m=c.getY(s),g=c.getZ(s);let v=a.getX(s),M=a.getY(s),x=a.getZ(s);this.colorChange.setHSL(.5,1,1),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize,u.needsUpdate=!0;let C=f-v,b=h-M;const E=this.distance(f,h,v,M);let D=(C=f-v)*C+(b=h-M)*b;const S=-this.data.area/D;if(this.buttom){const z=Math.atan2(b,C);v-=S*Math.cos(z),M-=S*Math.sin(z),this.colorChange.setHSL(.5+i,1,.5),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,(v>p+70||v<p-70||M>m+70||M<m-70)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0)}else if(E<this.data.area){if(s%5==0){const z=Math.atan2(b,C);v-=.03*Math.cos(z),M-=.03*Math.sin(z),this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.2,u.needsUpdate=!0}else{const z=Math.atan2(b,C);v+=S*Math.cos(z),M+=S*Math.sin(z),a.setXYZ(s,v,M,x),a.needsUpdate=!0,u.array[s]=1.3*this.data.particleSize,u.needsUpdate=!0}(v>p+10||v<p-10||M>m+10||M<m-10)&&(this.colorChange.setHSL(174/360,.92,.45),l.setXYZ(s,this.colorChange.r,this.colorChange.g,this.colorChange.b),l.needsUpdate=!0,u.array[s]=this.data.particleSize/1.8,u.needsUpdate=!0)}v+=(p-v)*this.data.ease,M+=(m-M)*this.data.ease,x+=(g-x)*this.data.ease,a.setXYZ(s,v,M,x),a.needsUpdate=!0}}}createText(){let t=[],i=this.font.generateShapes(this.data.text,this.data.textSize),r=new Cf(i);r.computeBoundingBox();const s=r.boundingBox;let o=0,a=0;null!==s&&(o=-.5*(s.max.x-s.min.x),a=(s.max.y-s.min.y)/2.85),r.center(),r.center();let c=[];for(let d=0;d<i.length;d++){let p=i[d];if(p.holes&&p.holes.length>0)for(let m=0;m<p.holes.length;m++)c.push(p.holes[m])}i.push.apply(i,c);let l=[],u=[];for(let d=0;d<i.length;d++){let p=i[d];p.getSpacedPoints("Path"==p.type?this.data.amount/2:this.data.amount).forEach((v,M)=>{const x=new N(v.x,v.y,0);t.push(x),l.push(this.colorChange.r,this.colorChange.g,this.colorChange.b),u.push(1)})}let f=(new F1).setFromPoints(t);f.translate(o,a,0),f.setAttribute("customColor",new Ke(l,3)),f.setAttribute("size",new Ke(u,1));const h=new r3({uniforms:{color:{value:new Fe(16777215)},pointTexture:{value:this.particleImg}},vertexShader:"\n        attribute float size;\n        attribute vec3 customColor;\n        varying vec3 vColor;\n        \n        void main() {\n          vColor = customColor;\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n          gl_PointSize = size * (300.0 / -mvPosition.z);\n          gl_Position = projectionMatrix * mvPosition;\n        }\n      ",fragmentShader:"\n        uniform vec3 color;\n        uniform sampler2D pointTexture;\n        varying vec3 vColor;\n      \n        void main() {\n          gl_FragColor = vec4(color * vColor, 1.0);\n          gl_FragColor = gl_FragColor * texture2D(pointTexture, gl_PointCoord);\n        }\n      ",blending:2,depthTest:!1,transparent:!0});this.particles=new ER(f,h),this.scene.add(this.particles),this.geometryCopy=new F1,this.geometryCopy.copy(this.particles.geometry)}visibleHeightAtZDepth(t,i){const r=i.position.z;t<r?t-=r:t+=r;const s=i.fov*Math.PI/180;return 2*Math.tan(s/2)*Math.abs(t)}visibleWidthAtZDepth(t,i){return this.visibleHeightAtZDepth(t,i)*i.aspect}distance(t,i,r,s){var o=t-r,a=i-s;return Math.sqrt(o*o+a*a)}}return n.\u0275fac=function(t){return new(t||n)(le(p_),le(eM),le(l4),le(B2),le(f_))},n.\u0275cmp=Jt({type:n,selectors:[["app-text-three-CreateParticles"]],decls:3,vars:0,consts:[[1,"containerThree"],["id","magic"],["magic",""]],template:function(t,i){1&t&&(G(0,"div",0),ve(1,"div",1,2),O())},styles:[tM]}),n})();const ave=["webDeveloper"],cve=["fieldScrollAnimation"];let lve=(()=>{class n{constructor(){this.faArrowUp=Hg,this.faArrowDown=Ig,this.faArrowRight=r6}ngOnInit(){}ngAfterViewInit(){this.moveWebDeveloperDown()}moveWebDeveloperDown(){if(window.innerWidth>=768){let t=null;window.addEventListener("scroll",()=>{document.documentElement.scrollTop>0&&this.webDeveloper?(null===t&&(t=this.webDeveloper.nativeElement.style.bottom),this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom="-50px"):null!==t&&(this.webDeveloper.nativeElement.style.transition="bottom 0.3s ease",this.webDeveloper.nativeElement.style.bottom=t,this.fieldScrollAnimation.nativeElement.style.display="block",t=null)})}}hideMouseScroolAnimation(){this.fieldScrollAnimation.nativeElement.style.display="none"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jt({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(wn(ave,5),wn(cve,5)),2&t){let r;an(r=cn())&&(i.webDeveloper=r.first),an(r=cn())&&(i.fieldScrollAnimation=r.first)}},decls:163,vars:0,consts:[[1,"alexMbile"],["href","/assets/media/Resume-AlejandroAlonzo.pdf","target","blank",1,"webDeveloper"],["webDeveloper",""],[1,"fieldScrollAnimation"],["fieldScrollAnimation",""],[1,"mouseScroll"],["id","aboutMe",1,"aboutMe",3,"mouseenter"],["aboutMe",""],[1,"aboutMeContainer"],["id","imgAbout"],["id","imgAbout1","src","../assets/media/about.jpg","alt","About"],["id","imgAbout2","src","../assets/media/74553037.jpeg","alt","About"],[1,"textAbout"],[1,"titles"],[1,"descriptionAbout"],[1,"skillSetContainer"],[1,"containerTitle"],[1,"slider"],[1,"sliderTrack"],[1,"slide"],["src","../assets/media/java.png","alt","logo java"],["src","../assets/media/javascript.png","alt","logo javascript"],["src","../assets/media/css.png","alt","logo css"],["src","../assets/media/html.png","alt","logo html"],["src","../assets/media/Bootstrap.png","alt","logo bootstrap"],["src","../assets/media/git.png","alt","logo git"],["src","../assets/media/sass.png","alt","logo sass"],["src","../assets/media/wordpress.png","alt","logo wordpress"],["src","../assets/media/php.png","alt","logo php"],["src","../assets/media/mysql.png","alt","logo mysql"],["src","../assets/media/jquery.png","alt","logo jquery"],["src","../assets/media/Angular.png","alt","logo angular"],["src","../assets/media/logoPS.png","alt","logo adobe PS"],["src","../assets/media/adobeXDlogo.png","alt","logo adobe XD"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm","paddingRight200"],[1,"descriptionAbout","marginTop50"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer",1,"linkBGwhite"]],template:function(t,i){1&t&&(ve(0,"app-text-three"),G(1,"div",0),Le(2,"alex"),O(),G(3,"div")(4,"a",1,2),Le(6,"Web Developer"),O()(),G(7,"div",3,4),ve(9,"div",5),O(),ve(10,"app-mega-text-video"),G(11,"section",6,7),b1("mouseenter",function(){return i.hideMouseScroolAnimation()}),G(13,"div",8)(14,"div",9),ve(15,"img",10)(16,"img",11),O(),G(17,"div",12)(18,"h3",13),Le(19," Who's this guy "),O(),G(20,"span",14),Le(21," I\u2019m a Web Developer based between Barcelona (Spain) and Los \xc1ngeles CA (USA)."),ve(22,"br"),Le(23," My concept is never stop to learn that's why I've got a personal interest for continuous learning and self improvement."),ve(24,"br"),O()()()(),G(25,"div",15)(26,"div",16)(27,"h2"),Le(28," Skill Set "),O()()(),G(29,"div",17)(30,"div",18)(31,"div",19),ve(32,"img",20),O(),G(33,"div",19),ve(34,"img",21),O(),G(35,"div",19),ve(36,"img",22),O(),G(37,"div",19),ve(38,"img",23),O(),G(39,"div",19),ve(40,"img",24),O(),G(41,"div",19),ve(42,"img",25),O(),G(43,"div",19),ve(44,"img",26),O(),G(45,"div",19),ve(46,"img",27),O(),G(47,"div",19),ve(48,"img",28),O(),G(49,"div",19),ve(50,"img",29),O(),G(51,"div",19),ve(52,"img",30),O(),G(53,"div",19),ve(54,"img",31),O(),G(55,"div",19),ve(56,"img",32),O(),G(57,"div",19),ve(58,"img",33),O(),G(59,"div",19),ve(60,"img",20),O(),G(61,"div",19),ve(62,"img",21),O(),G(63,"div",19),ve(64,"img",22),O(),G(65,"div",19),ve(66,"img",23),O(),G(67,"div",19),ve(68,"img",24),O(),G(69,"div",19),ve(70,"img",25),O(),G(71,"div",19),ve(72,"img",26),O(),G(73,"div",19),ve(74,"img",27),O(),G(75,"div",19),ve(76,"img",28),O(),G(77,"div",19),ve(78,"img",29),O(),G(79,"div",19),ve(80,"img",30),O(),G(81,"div",19),ve(82,"img",31),O(),G(83,"div",19),ve(84,"img",32),O(),G(85,"div",19),ve(86,"img",33),O(),G(87,"div",19),ve(88,"img",20),O(),G(89,"div",19),ve(90,"img",21),O(),G(91,"div",19),ve(92,"img",22),O(),G(93,"div",19),ve(94,"img",23),O(),G(95,"div",19),ve(96,"img",24),O(),G(97,"div",19),ve(98,"img",25),O(),G(99,"div",19),ve(100,"img",26),O(),G(101,"div",19),ve(102,"img",27),O(),G(103,"div",19),ve(104,"img",28),O(),G(105,"div",19),ve(106,"img",29),O(),G(107,"div",19),ve(108,"img",30),O(),G(109,"div",19),ve(110,"img",31),O(),G(111,"div",19),ve(112,"img",32),O(),G(113,"div",19),ve(114,"img",33),O(),G(115,"div",19),ve(116,"img",20),O(),G(117,"div",19),ve(118,"img",21),O(),G(119,"div",19),ve(120,"img",22),O(),G(121,"div",19),ve(122,"img",23),O(),G(123,"div",19),ve(124,"img",24),O(),G(125,"div",19),ve(126,"img",25),O(),G(127,"div",19),ve(128,"img",26),O(),G(129,"div",19),ve(130,"img",27),O(),G(131,"div",19),ve(132,"img",28),O(),G(133,"div",19),ve(134,"img",29),O(),G(135,"div",19),ve(136,"img",30),O(),G(137,"div",19),ve(138,"img",31),O(),G(139,"div",19),ve(140,"img",32),O(),G(141,"div",19),ve(142,"img",33),O()()(),G(143,"div",34)(144,"div",35)(145,"div",36)(146,"h1"),Le(147,"Tech "),ve(148,"br"),Le(149,"Skill"),O()()(),G(150,"div",37)(151,"h3",13),Le(152,"Background"),O(),G(153,"span",14),Le(154," I enjoy creating things that live on the internet. My interest in web development started back a long time ago when I was completing my professional career in graphic design. "),O(),G(155,"span",38),Le(156," I'm lucky to have worked with amazing people in Europe for important and ambitious global companies where I learned a lot. My main focus these days is building accessible, inclusive products and digital experiences for a variety of clients. "),O(),G(157,"span",38),Le(158," You can check out the whole list of degrees, courses, soft and hard skills in my "),G(159,"a",39),Le(160," linkedin "),O(),Le(161," profile. "),O()()(),ve(162,"app-footer"))},dependencies:[S9e,gP,rve]}),n})();var Fo_url="https://alejandroalonzo.com/api";let or=(()=>{class n{constructor(t){this._http=t,this.url=Fo_url}testsService(){return"Probando la api de Angular"}saveContact(t){let i=JSON.stringify(t),r=(new ln).set("Content-type","application/json");return this._http.post(this.url+"/sent-email",i,{headers:r})}saveProject(t){let i=JSON.stringify(t),r=(new ln).set("Content-type","application/json");return this._http.post(this.url+"/save-project",i,{headers:r})}getProject(){let t=(new ln).set("Content-type","application/json");return this._http.get(this.url+"/projects",{headers:t})}getProjectOne(t){let i=(new ln).set("Content-type","application/json");return this._http.get(this.url+"/project/"+t,{headers:i})}deleteProject(t){let i=(new ln).set("Content-type","application/json");return this._http.delete(this.url+"/project/"+t,{headers:i})}setProject(t){let i=JSON.stringify(t),r=(new ln).set("Content-type","application/json");return this._http.put(this.url+"/project/"+t._id,i,{headers:r})}}return n.\u0275fac=function(t){return new(t||n)(Ye(Rz))},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();const uve=[{id:1,title:{first:"CHAT",second:"BOT"},subtitle:"This is an AI assistant that is powered by ChatGPT model to deliver any AI-powered search, conversation, text completionand other advanced AI features. This has been built using the following technologies: Angular 16, Node, OpenAi API, Bootstrap, JQuery, TS, Git, GitHub.",link:"https://alejoalonzo.github.io/ChatGPT/",image:"../../assets/media/chatGPT1.jpg"},{id:2,title:{first:"Weather",second:".io"},subtitle:"Discover a reliable, real-time and hyper-local forecast that will always warn you about upcoming severe weather. This has been built using: Angular 16, Node, RapidAPI, Bootstrap, TS, Git, GitHub. ",link:"https://alejoalonzo.github.io/WeatherApp/",image:"../../assets/media/weatherApp.jpg"},{id:3,title:{first:"Lion",second:" E-shop"},subtitle:"A comprehensive E-shop dedicated to selling technological products, it has an administration panel and many top functionalities, to build this, the latest technologies such as Mongodb, Express, NodeJs, Angular 16, Nx MonoRepo, Prime NG, Bootstrap, Git, GitHub have been used.",link:"https://alejoalonzo.github.io/EC-eshopMEAN-FrontEnd-AdminPanelAndNgShop/",image:"../../assets/media/lionApp.jpg"},{id:4,title:{first:"STEPHANIE ",second:"COLEUR"},subtitle:"This is an amazing e-commerce application for a vintage clothing and fashion store, it has an administration panel and many top functionalities, to build this, the latest technologies such as Mongodb, Express, NodeJs, Angular 16, Nx MonoRepo, Prime NG, Bootstrap, Git, GitHub have been used.",link:"https://github.com/alejoalonzo",image:"../../assets/media/stephanieColeur.jpg"},{id:5,title:{first:"My ",second:"Portfolio"},subtitle:"My Portfolio, It was designed, developed, and deployed by myself: Frontend >>> HTML, SCSS, JavaScript, Angular 7 (it has been updated, now is running on Angular 16), Three.js, GSAP.// Backend >>> NodeJS, Express, Mongo, npm.// Deploy >>> Linux, Virtual Private Server(VPS), SSH, nginx, pm2, GIT.",link:"/",image:"../../assets/media/portfolioBG.jpg"},{id:6,title:{first:"See",second:" More"},subtitle:"",link:"/more-projects",image:"../../assets/media/seeMore.jpg"}],fve=function(n,e){return{"background-image":n,"margin-left":e}};function hve(n,e){if(1&n&&(h7(0),G(1,"div",7)(2,"h1")(3,"a",8)(4,"span",9),Le(5),O(),G(6,"span",10),Le(7),O()()(),G(8,"p"),Le(9),O(),G(10,"a",11)(11,"span"),Le(12,"view"),O(),ve(13,"i"),O()(),d7()),2&n){const t=e.$implicit;we(1),Ne("ngStyle",gS(6,fve,"url("+t.image+")",t.marginLeft+"%")),we(2),Ne("href",t.link,w3),we(2),z3(null==t||null==t.title?null:t.title.first),we(2),z3(null==t||null==t.title?null:t.title.second),we(2),z3(null==t?null:t.subtitle),we(1),Is("href",null==t?null:t.link,w3)}}const dve=function(n){return{active:n}};function pve(n,e){if(1&n){const t=S3();G(0,"div",12),b1("click",function(){const s=bt(t).$implicit;return wt(st().setCurrentPosition(s.id))}),O()}if(2&n){const t=e.$implicit,i=st();Ne("ngClass",Pc(1,dve,i.currentPositionCarrousel===t.id))}}const mve=function(n){return{"min-height":n}};let gve=(()=>{class n{constructor(){this.faArrowLeft=Rg,this.faArrowRight=r6,this.height=600,this.isFullScreen=!1,this.items=[],this.finalHeight=0,this.currentPositionCarrousel=0,this.finalHeight=this.isFullScreen?"100vh":`${this.height}px`}ngOnInit(){this.items.map((t,i)=>{t.id=i,t.marginLeft=0})}setCurrentPosition(t){this.currentPositionCarrousel=t;let i=this.items.find(r=>0===r.id);i&&(i.marginLeft=-100*t)}setNext(){let t=0,i=this.currentPositionCarrousel+1;i<=this.items.length-1?t=-100*i:i=0;let r=this.items.find(s=>0===s.id);r&&(r.marginLeft=t),this.currentPositionCarrousel=i}setBack(){let t=0,i=this.currentPositionCarrousel-1;i>=0||(i=this.items.length-1),t=-100*i;let r=this.items.find(s=>0===s.id);r&&(r.marginLeft=t),this.currentPositionCarrousel=i}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jt({type:n,selectors:[["app-slider"]],inputs:{height:"height",isFullScreen:"isFullScreen",items:"items"},decls:8,vars:7,consts:[[1,"dsc-carousel",3,"ngStyle"],[1,"dsc-carousel__btns"],[3,"icon","click"],[1,"dsc-carousel__content"],[4,"ngFor","ngForOf"],[1,"dsc-carousel__steps"],["class","dsc-carousel__steps-step",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dsc-carousel__content-item",3,"ngStyle"],["target","_blank",3,"href"],[1,"span1"],[1,"span2"],["target","_blank",1,"buttonGoToProject",2,"--clr","#00ADB5",3,"href"],[1,"dsc-carousel__steps-step",3,"ngClass","click"]],template:function(t,i){1&t&&(G(0,"div",0)(1,"div",1)(2,"fa-icon",2),b1("click",function(){return i.setBack()}),O(),G(3,"fa-icon",2),b1("click",function(){return i.setNext()}),O()(),G(4,"div",3),Nt(5,hve,14,9,"ng-container",4),O(),G(6,"div",5),Nt(7,pve,1,3,"div",6),O()()),2&t&&(Ne("ngStyle",Pc(5,mve,i.finalHeight)),we(2),Ne("icon",i.faArrowLeft),we(1),Ne("icon",i.faArrowRight),we(2),Ne("ngForOf",i.items),we(2),Ne("ngForOf",i.items))},dependencies:[YA,zm,tz,ho],styles:['@font-face{font-family:IMPACT;src:url(IMPACT.1a7ecb646e1eba77.ttf)}.dsc-carousel[_ngcontent-%COMP%]{width:100;display:flex;align-items:center;justify-content:center;position:relative}.dsc-carousel[_ngcontent-%COMP%]:before{content:"";height:100%;width:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.48)}.dsc-carousel__content[_ngcontent-%COMP%]{text-align:center;width:100%;align-self:stretch;display:flex;overflow:hidden}.dsc-carousel__content-item[_ngcontent-%COMP%]{float:left;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:100%;height:100%;background-repeat:no-repeat;background-size:cover;background-position:center;transition:1s all ease-in}.dsc-carousel__content-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f4f4f6;font-weight:900;z-index:1;font-family:IMPACT;font-size:7em}.dsc-carousel__content-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .span1[_ngcontent-%COMP%]{color:#fff}.dsc-carousel__content-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .span2[_ngcontent-%COMP%]{color:#00adb5}.dsc-carousel__content-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:35%;z-index:1;color:#f4f4f6;font-size:1em}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%]{position:relative;background:white;color:#fff;text-decoration:none;text-transform:uppercase;font-size:1.3em;letter-spacing:.1em;font-weight:400;padding:10px 30px;transition:.5s}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%]:hover{background:var(--clr);color:var(--clr);letter-spacing:.35em;box-shadow:0 0 15px var(--clr)}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:2px;background:#2d2f35}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{position:relative;z-index:1}.dsc-carousel__content-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;inset:0;display:block}.dsc-carousel__content-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:80%;width:10px;height:4px;background:#2d2f35;transform:translate(-50%) skew(325deg);transition:.5s}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:before{width:20px;left:20%}.dsc-carousel__content-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:20%;width:10px;height:4px;background:#2d2f35;transform:translate(-50%) skew(325deg);transition:.5s}.dsc-carousel__content-item[_ngcontent-%COMP%]   .buttonGoToProject[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]:after{width:20px;left:80%}.dsc-carousel__btns[_ngcontent-%COMP%]{position:absolute;bottom:40px;width:90%;margin:auto;display:flex;justify-content:space-between}.dsc-carousel__btns[_ngcontent-%COMP%] > fa-icon[_ngcontent-%COMP%]{color:#f4f4f6;font-size:1.8rem;justify-content:space-between}.dsc-carousel__btns[_ngcontent-%COMP%] > fa-icon[_ngcontent-%COMP%]:hover{color:#00adb5}.dsc-carousel__steps[_ngcontent-%COMP%]{position:absolute;bottom:40px;width:100%;display:flex;justify-content:center}.dsc-carousel__steps-step[_ngcontent-%COMP%]{height:8px;width:25px;margin:0 5px;border-radius:5px;border:1px solid rgba(172,175,186,.7);transition:.75s all ease-in-out}.dsc-carousel__steps-step[_ngcontent-%COMP%]:hover, .dsc-carousel__steps-step[_ngcontent-%COMP%]:active{opacity:.7;background:#f4f4f6}.dsc-carousel[_ngcontent-%COMP%]   .dsc-carousel__steps-step.active[_ngcontent-%COMP%]{background-color:#acafba}@media (max-width: 845px){.dsc-carousel__content-item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em}.dsc-carousel__content-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:70%;text-align:justify}.dsc-carousel__btns[_ngcontent-%COMP%]{display:none}}']}),n})(),vve=(()=>{class n{constructor(t){this._projectService=t,this.pro=[],this.sliderData=uve,this.url=Fo_url,this.changeClass=!1}ngOnInit(){this.getProject()}getProject(){this._projectService.getProject().subscribe(t=>{t.projects&&(this.pro=t.projects)})}}return n.\u0275fac=function(t){return new(t||n)(le(or))},n.\u0275cmp=Jt({type:n,selectors:[["app-projects"]],features:[gt([or])],decls:4,vars:1,consts:[[3,"items"],[1,"textFoot"]],template:function(t,i){1&t&&(ve(0,"app-slider",0),G(1,"div",1)(2,"h1"),Le(3," Projects "),O()()),2&t&&Ne("items",i.sliderData)},dependencies:[gve],styles:[".textFoot[_ngcontent-%COMP%]{width:100%}.textFoot[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-weight:700;text-transform:uppercase;letter-spacing:-2px;color:#f4f4f6;font-size:32em;text-align:center;line-height:1}@media (max-width: 1550px){.textFoot[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:25em}}"]}),n})();var yve=_1(519),Vf=_1.n(yve);class _ve{constructor(e,t,i,r){this.name=e,this.email=t,this.subject=i,this.message=r}}function Mve(n,e){1&n&&(G(0,"span",21),Le(1,"*"),O())}function xve(n,e){1&n&&(G(0,"span",21),Le(1,"*"),O())}function Cve(n,e){1&n&&(G(0,"span",21),Le(1,"*"),O())}let bve=(()=>{class n{constructor(t){this._projectService=t,this.faArrowRight=r6,this.faMapMarkerAlt=aD,this.status="",this.changeClass=!1,this.title="Get in touch",this.contact=new _ve("","","","")}ngOnInit(){}onSubmitContact(t){console.log(this.contact),this._projectService.saveContact(this.contact).subscribe(i=>{i.contact?(this.status="success",this.showModalSwal2successContact(),t.reset()):this.status="failed"})}showModalSwal2successContact(){Vf().fire({position:"top-end",icon:"success",title:"Thanks! I'll reply you  as soon as possible",showConfirmButton:!1,timer:3500})}}return n.\u0275fac=function(t){return new(t||n)(le(or))},n.\u0275cmp=Jt({type:n,selectors:[["app-contact"]],features:[gt([or])],decls:31,vars:9,consts:[["id","createProject"],["id","imgContactProject"],["width","100%","height","100%","src","https://api.maptiler.com/maps/a4083f5d-329e-41ef-85be-b6cfc48eab48/?key=3ya2S1TEUt3cQkhOpimh#10.2/33.98561/-118.16902"],[1,"containerForm"],[1,"titles"],[1,"textRequirmentsForm"],[1,"red"],[3,"ngSubmit"],["contactForm","ngForm"],["type","text","name","name","placeholder","Name","required","","autofocus","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["type","email","name","email","placeholder","Email","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["type","text","name","subject","placeholder","Subject","required","",3,"ngModel","ngModelChange"],["subject","ngModel"],["name","message","placeholder","Message","required","",3,"ngModel","ngModelChange"],["message","ngModel"],[1,"OpenAndSubmit"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled"],[1,"formError"]],template:function(t,i){if(1&t){const r=S3();G(0,"div",0)(1,"div",1),ve(2,"iframe",2),O(),G(3,"div",3)(4,"h3",4),Le(5),O(),G(6,"span",5),Le(7," Fill in the required fields ("),G(8,"span",6),Le(9,"*"),O(),Le(10,") to unlock the submit button "),O(),G(11,"form",7,8),b1("ngSubmit",function(){bt(r);const o=H2(12);return wt(i.onSubmitContact(o))}),G(13,"span")(14,"input",9,10),b1("ngModelChange",function(o){return i.contact.name=o}),O(),Nt(16,Mve,2,0,"span",11),O(),G(17,"span")(18,"input",12,13),b1("ngModelChange",function(o){return i.contact.email=o}),O(),Nt(20,xve,2,0,"span",11),O(),G(21,"span")(22,"input",14,15),b1("ngModelChange",function(o){return i.contact.subject=o}),O()(),G(24,"span")(25,"textarea",16,17),b1("ngModelChange",function(o){return i.contact.message=o}),O(),Nt(27,Cve,2,0,"span",11),O(),G(28,"div",18)(29,"div",19),ve(30,"input",20),O()()()()()}if(2&t){const r=H2(12),s=H2(15),o=H2(19),a=H2(26);we(5),z3(i.title),we(9),Ne("ngModel",i.contact.name),we(2),Ne("ngIf",s.touched&&!s.valid),we(2),Ne("ngModel",i.contact.email),we(2),Ne("ngIf",o.touched&&!o.valid),we(2),Ne("ngModel",i.contact.subject),we(3),Ne("ngModel",i.contact.message),we(2),Ne("ngIf",a.touched&&!a.valid),we(3),Ne("disabled",!r.form.valid)}},dependencies:[kc,r9,ja,Z7,X7,Xa,Yc,Za]}),n})();class wve{constructor(e,t,i,r,s,o,a,c){this._id=e,this.name=t,this.description=i,this.category=r,this.langs=s,this.image=o,this.repository=a,this.preview=c}}let Of=(()=>{class n{constructor(){this.url=Fo_url}makeFileRequest(t,i,r,s){return new Promise(function(o,a){for(var c=new FormData,l=new XMLHttpRequest,u=0;u<r.length;u++)c.append(s,r[u],r[u].name);l.onreadystatechange=function(){4==l.readyState&&200==l.status&&o(JSON.parse(l.response))},l.open("POST",t,!0),l.send(c)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Je({token:n,factory:n.\u0275fac}),n})();function Sve(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function Ave(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function zve(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function Eve(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function Tve(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function Dve(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function Lve(n,e){if(1&n){const t=S3();G(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),Le(4,"Another "),ve(5,"br"),Le(6,"project"),O()()(),G(7,"div",4)(8,"h2"),Le(9),O(),G(10,"form",5,6),b1("ngSubmit",function(){bt(t);const r=H2(11);return wt(st().onSubmit(r))}),G(12,"span")(13,"input",7,8),b1("ngModelChange",function(r){return bt(t),wt(st().project.name=r)}),O(),Nt(15,Sve,2,0,"span",9),O(),G(16,"span")(17,"textarea",10,11),b1("ngModelChange",function(r){return bt(t),wt(st().project.description=r)}),O(),Nt(19,Ave,2,0,"span",9),O(),G(20,"span")(21,"input",12,13),b1("ngModelChange",function(r){return bt(t),wt(st().project.category=r)}),O(),Nt(23,zve,2,0,"span",9),O(),G(24,"span")(25,"input",14,15),b1("ngModelChange",function(r){return bt(t),wt(st().project.langs=r)}),O(),Nt(27,Eve,2,0,"span",9),O(),G(28,"span")(29,"input",16,17),b1("ngModelChange",function(r){return bt(t),wt(st().project.repository=r)}),O(),Nt(31,Tve,2,0,"span",9),O(),G(32,"span")(33,"input",18,19),b1("ngModelChange",function(r){return bt(t),wt(st().project.preview=r)}),O(),Nt(35,Dve,2,0,"span",9),O(),G(36,"div",20)(37,"div",21)(38,"label",22),Le(39,"Open "),ve(40,"fa-icon",23),O(),G(41,"input",24),b1("change",function(r){return bt(t),wt(st().fileChangeEvent(r))}),O()(),G(42,"span",25)(43,"input",26),b1("click",function(){return bt(t),wt(st().showModalSwal2success())}),O()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),o=H2(26),a=st();we(9),z3(a.title),we(4),Ne("ngModel",a.project.name),we(2),Ne("ngIf",i.touched&&!i.valid),we(2),Ne("ngModel",a.project.description),we(2),Ne("ngIf",r.touched&&!r.valid),we(2),Ne("ngModel",a.project.category),we(2),Ne("ngIf",s.touched&&!s.valid),we(2),Ne("ngModel",a.project.langs),we(2),Ne("ngIf",o.touched&&!o.valid),we(2),Ne("ngModel",a.project.repository),we(2),Ne("ngIf",o.touched&&!o.valid),we(2),Ne("ngModel",a.project.preview),we(2),Ne("ngIf",o.touched&&!o.valid),we(5),Ne("icon",a.faFolderOpen),we(3),Ne("disabled",!t.form.valid)}}let Nve=(()=>{class n{constructor(t,i){this._projectService=t,this._uploadService=i,this.faFolderOpen=b9,this.status="",this.title="Create project",this.project=new wve("","","","","","","","")}ngOnInit(){}onSubmit(t){console.log(this.project),this._projectService.saveProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(Fo_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)}),t.reset()):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2Error(){Vf().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:'<a href="">Why do I have this issue?</a>'})}showModalSwal2success(){Vf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(or),le(Of))},n.\u0275cmp=Jt({type:n,selectors:[["app-create"]],features:[gt([or,Of])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Nt(0,Lve,44,15,"div",0),2&t&&Ne("ngIf",i.project)},dependencies:[kc,r9,ja,Z7,X7,Xa,Yc,Za,ho]}),n})(),Pve=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Jt({type:n,selectors:[["app-error"]],decls:2,vars:0,template:function(t,i){1&t&&(G(0,"p"),Le(1,"error works!"),O())}}),n})();var nM={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},gH={prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},vH={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},iM={prefix:"fab",iconName:"youtube",icon:[576,512,[],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]};const tAe=function(n){return["/edit",n]};function nAe(n,e){if(1&n){const t=S3();G(0,"div",19)(1,"a",20)(2,"button"),Le(3," Set project "),O()(),G(4,"button",21),b1("click",function(){return bt(t),wt(st(2).setConfirm(!0))}),Le(5," Delete project "),O()()}if(2&n){const t=st(2);we(1),Ne("routerLink",Pc(1,tAe,t.project._id))}}function iAe(n,e){if(1&n){const t=S3();G(0,"div",19)(1,"a",21),b1("click",function(){return bt(t),wt(st(2).setConfirm(!1))}),G(2,"button"),Le(3," Cancel "),O()(),G(4,"button",21),b1("click",function(){bt(t);const r=st(2);return wt(r.deleteProject(r.project._id))}),Le(5," Permanently delete "),O()()}}function rAe(n,e){if(1&n&&ve(0,"img",22),2&n){const t=st(2);Is("src",t.url+"/getImage/"+t.project.image,w3)}}function sAe(n,e){if(1&n&&(G(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),Le(4),O(),G(5,"div",14)(6,"span",15),Le(7),O(),G(8,"div",16),Le(9),O(),G(10,"div",15),Le(11),O(),Nt(12,nAe,6,3,"div",17),Nt(13,iAe,6,0,"div",17),O()()(),Nt(14,rAe,1,1,"img",18),O()),2&n){const t=st();we(4),S4(" ",t.project.name," "),we(3),S4(" ",t.project.description," "),we(2),S4("Category: ",t.project.category,""),we(2),S4("Languages: ",t.project.langs,""),we(1),Ne("ngIf",0==t.confirm),we(1),Ne("ngIf",1==t.confirm),we(1),Ne("ngIf",t.project.image)}}const oAe=function(){return["/projects"]};let aAe=(()=>{class n{constructor(t,i,r){this._projectService=t,this._router=i,this._route=r,this.faGitHub=nM,this.faYoutube=iM,this.faArrowLeft=Rg,this.url=Fo_url,this.confirm=!1}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}deleteProject(t){this._projectService.deleteProject(t).subscribe(i=>{i.project&&this._router.navigate(["/projects"])})}setConfirm(t){this.confirm=t}}return n.\u0275fac=function(t){return new(t||n)(le(or),le(Tn),le(V3))},n.\u0275cmp=Jt({type:n,selectors:[["app-detail"]],features:[gt([or])],decls:18,vars:8,consts:[["class","detailProject",4,"ngIf"],[1,"bottonsFooterDetalsProject"],[1,"bottonsFooterDetalsProjectLeft"],["fragment","portfolioPage",3,"routerLink"],[1,"bottonsFooterDetalsProjectTextAndIcon"],[1,"socialIcons",3,"icon"],[1,"bottonsFooterDetalsProjectRight"],["target","_blank","rel","noopener noreferrer",1,"bottonsFooterDetalsProjectTextAndIcon",3,"href"],[1,"textIconsDetails"],["target","_blank","rel","noopener noreferrer",1,"bottonsFooterDetalsProjectTextAndIcon","marginLeft",3,"href"],[1,"detailProject"],["id","",1,"descriptionsDetail","marginTop100"],[1,"wrapTitleAndDescriptionDetailsProject"],[1,"titleDetailProject"],[1,"descriptionsDetailText"],[1,""],[1,"mt-2"],["class","displayNone",4,"ngIf"],["class","imgDetailsProject marginTop100","alt","Project image",3,"src",4,"ngIf"],[1,"displayNone"],[3,"routerLink"],[3,"click"],["alt","Project image",1,"imgDetailsProject","marginTop100",3,"src"]],template:function(t,i){1&t&&(Nt(0,sAe,15,7,"div",0),G(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),ve(5,"fa-icon",5),Le(6,"\xa0 \xa0 "),O()()(),G(7,"div",6)(8,"a",7)(9,"div")(10,"span",8),Le(11,"See this repository"),O(),ve(12,"fa-icon",5),O()(),G(13,"a",9)(14,"div")(15,"span",8),Le(16,"Watch a preview"),O(),ve(17,"fa-icon",5),O()()()()),2&t&&(Ne("ngIf",i.project),we(3),Ne("routerLink",ji(7,oAe)),we(2),Ne("icon",i.faArrowLeft),we(3),Is("href",i.project.repository,w3),we(4),Ne("icon",i.faGitHub),we(1),Is("href",i.project.preview,w3),we(4),Ne("icon",i.faYoutube))},dependencies:[kc,O3,ho],styles:["@font-face{font-family:IMPACT;src:url(IMPACT.1a7ecb646e1eba77.ttf)}.detailProject[_ngcontent-%COMP%]{width:100%;display:flex;padding-left:5%;padding-right:5%}.descriptionsDetail[_ngcontent-%COMP%]{justify-content:flex-start;flex-direction:column;width:65%}.imgDetailsProject[_ngcontent-%COMP%]{justify-content:flex-end;max-width:35%}.titleDetailProject[_ngcontent-%COMP%]{font-family:Impact,Haettenschweiler,Arial Narrow Bold,sans-serif,sans-serif;font-size:15em;letter-spacing:-2px;line-height:.8;text-align:end;padding-right:10px}.descriptionsDetailText[_ngcontent-%COMP%]{color:#acafba;max-width:50%;margin-top:50px}.bottonsFooterDetalsProject[_ngcontent-%COMP%]{display:flex;width:100%;padding-left:5%;padding-right:5%;margin-top:50px;border-top:1px solid #acafba}.bottonsFooterDetalsProjectLeft[_ngcontent-%COMP%]{width:50%}.bottonsFooterDetalsProjectRight[_ngcontent-%COMP%]{width:50%;justify-content:flex-end;text-align:end}.marginLeft[_ngcontent-%COMP%]{margin-left:20px}.bottonsFooterDetalsProjectTextAndIcon[_ngcontent-%COMP%]{display:inline-block;color:#acafba;background-color:transparent}.textIconsDetails[_ngcontent-%COMP%]{margin-right:3px}.bottonsFooterDetalsProjectTextAndIcon[_ngcontent-%COMP%]:hover   div[_ngcontent-%COMP%]{color:#f4f4f6}.bottonsFooterDetalsProjectTextAndIcon[_ngcontent-%COMP%]:hover   .socialIcons[_ngcontent-%COMP%]{color:#00adb5}@media (max-width: 1550px){.titleDetailProject[_ngcontent-%COMP%]{font-size:13em}}@media (max-width: 845px){.detailProject[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.descriptionsDetail[_ngcontent-%COMP%]{justify-content:flex-start;flex-direction:column;width:100%}.titleDetailProject[_ngcontent-%COMP%]{font-size:5em;margin-top:120px;text-align:start}.descriptionsDetailText[_ngcontent-%COMP%]{max-width:100%;margin-top:40px;padding:0 10%}.imgDetailsProject[_ngcontent-%COMP%]{justify-content:flex-end;max-width:100%}.detailProject[_ngcontent-%COMP%] > .marginTop100[_ngcontent-%COMP%]{margin-top:10px}.textIconsDetails[_ngcontent-%COMP%]{display:none}}"]}),n})();function cAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function lAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function uAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function fAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function hAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function dAe(n,e){1&n&&(G(0,"span",27),Le(1,"*"),O())}function pAe(n,e){if(1&n){const t=S3();G(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),Le(4,"Another "),ve(5,"br"),Le(6,"project"),O()()(),G(7,"div",4)(8,"h2"),Le(9),O(),G(10,"form",5,6),b1("ngSubmit",function(){bt(t);const r=H2(11);return wt(st().onSubmit(r))}),G(12,"span")(13,"input",7,8),b1("ngModelChange",function(r){return bt(t),wt(st().project.name=r)}),O(),Nt(15,cAe,2,0,"span",9),O(),G(16,"span")(17,"textarea",10,11),b1("ngModelChange",function(r){return bt(t),wt(st().project.description=r)}),O(),Nt(19,lAe,2,0,"span",9),O(),G(20,"span")(21,"input",12,13),b1("ngModelChange",function(r){return bt(t),wt(st().project.category=r)}),O(),Nt(23,uAe,2,0,"span",9),O(),G(24,"span")(25,"input",14,15),b1("ngModelChange",function(r){return bt(t),wt(st().project.langs=r)}),O(),Nt(27,fAe,2,0,"span",9),O(),G(28,"span")(29,"input",16,17),b1("ngModelChange",function(r){return bt(t),wt(st().project.repository=r)}),O(),Nt(31,hAe,2,0,"span",9),O(),G(32,"span")(33,"input",18,19),b1("ngModelChange",function(r){return bt(t),wt(st().project.preview=r)}),O(),Nt(35,dAe,2,0,"span",9),O(),G(36,"div",20)(37,"div",21)(38,"label",22),Le(39,"Open "),ve(40,"fa-icon",23),O(),G(41,"input",24),b1("change",function(r){return bt(t),wt(st().fileChangeEvent(r))}),O()(),G(42,"span",25)(43,"input",26),b1("click",function(){return bt(t),wt(st().showModalSwal2success())}),O()()()()()()}if(2&n){const t=H2(11),i=H2(14),r=H2(18),s=H2(22),o=H2(26),a=st();we(9),z3(a.title),we(4),Ne("ngModel",a.project.name),we(2),Ne("ngIf",i.touched&&!i.valid),we(2),Ne("ngModel",a.project.description),we(2),Ne("ngIf",r.touched&&!r.valid),we(2),Ne("ngModel",a.project.category),we(2),Ne("ngIf",s.touched&&!s.valid),we(2),Ne("ngModel",a.project.langs),we(2),Ne("ngIf",o.touched&&!o.valid),we(2),Ne("ngModel",a.project.repository),we(2),Ne("ngIf",o.touched&&!o.valid),we(2),Ne("ngModel",a.project.preview),we(2),Ne("ngIf",o.touched&&!o.valid),we(5),Ne("icon",a.faFolderOpen),we(3),Ne("disabled",!t.form.valid)}}let mAe=(()=>{class n{constructor(t,i,r,s){this._projectService=t,this._uploadService=i,this._route=r,this._router=s,this.faFolderOpen=b9,this.status="",this.title="Edit project"}ngOnInit(){this._route.params.subscribe(t=>{this.getProject(t.id)})}getProject(t){this._projectService.getProjectOne(t).subscribe(i=>{this.project=i.project})}onSubmit(t){this._projectService.setProject(this.project).subscribe(i=>{i.project?(this.status="success",this._uploadService.makeFileRequest(Fo_url+"/uploadImage/"+i.project._id,[],this.filesToUpload,"image").then(r=>{console.log(r)})):this.status="failed"})}fileChangeEvent(t){this.filesToUpload=t.target.files}showModalSwal2success(){Vf().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:1500})}}return n.\u0275fac=function(t){return new(t||n)(le(or),le(Of),le(V3),le(Tn))},n.\u0275cmp=Jt({type:n,selectors:[["app-edit"]],features:[gt([or,Of])],decls:1,vars:1,consts:[["id","createProject",4,"ngIf"],["id","createProject"],["id","imgCreateProject"],["id","tilleImgCreateProject"],[1,"containerForm"],[3,"ngSubmit"],["projectForm","ngForm"],["type","text","name","name","placeholder","Name","required","",3,"ngModel","ngModelChange"],["name","ngModel"],["class","formError",4,"ngIf"],["name","description","placeholder","Description","required","",3,"ngModel","ngModelChange"],["description","ngModel"],["type","text","name","category","placeholder","Category","required","",3,"ngModel","ngModelChange"],["category","ngModel"],["type","text","name","langs","placeholder","Languages","required","",3,"ngModel","ngModelChange"],["langs","ngModel"],["type","text","name","repository","placeholder","Link to repository","required","",3,"ngModel","ngModelChange"],["repository","ngModel"],["type","text","name","preview","placeholder","Link to preview","required","",3,"ngModel","ngModelChange"],["preview","ngModel"],[1,"OpenAndSubmit"],[1,"file"],["for","image"],["id","iconFolder",3,"icon"],["type","file","name","image","id","image",3,"change"],[1,"submitForm"],["type","submit","name","","id","","value","Submit","placeholder","Submit",3,"disabled","click"],[1,"formError"]],template:function(t,i){1&t&&Nt(0,pAe,44,15,"div",0),2&t&&Ne("ngIf",i.project)},dependencies:[kc,r9,ja,Z7,X7,Xa,Yc,Za,ho]}),n})();const gAe=function(n){return["/project",n]};function vAe(n,e){if(1&n){const t=S3();G(0,"li",6)(1,"div",7),ve(2,"img",8),G(3,"div",9)(4,"h3",10),Le(5),O(),G(6,"span",11),Le(7),O()(),G(8,"a",12)(9,"div",13),b1("mouseover",function(){return bt(t),wt(st().changeClass=!0)})("mouseout",function(){return bt(t),wt(st().changeClass=!1)}),O()(),G(10,"span",14),b1("mouseover",function(){return bt(t),wt(st().changeClass=!0)})("mouseout",function(){return bt(t),wt(st().changeClass=!1)}),O()()()}if(2&n){const t=e.$implicit,i=st();we(2),Ac("backgroundDarkImgPorfolio",i.changeClass),Is("src",i.url+"/getImage/"+t.image,w3),we(3),S4(" ",t.name," "),we(2),S4("",t.langs," "),we(1),Ne("routerLink",Pc(6,gAe,t._id))}}const yAe=[{path:"",component:lve},{path:"contact",component:bve},{path:"projects",component:vve},{path:"more-projects",component:(()=>{class n{constructor(t){this._projectService=t,this.pro=[],this.url=Fo_url,this.changeClass=!1}ngOnInit(){this.getProject()}getProject(){this._projectService.getProject().subscribe(t=>{t.projects&&(this.pro=t.projects)})}}return n.\u0275fac=function(t){return new(t||n)(le(or))},n.\u0275cmp=Jt({type:n,selectors:[["app-more-projects"]],features:[gt([or])],decls:11,vars:1,consts:[[1,"portfolioPage"],[1,"containerTitle"],["id","projectsTitle"],[1,"projectsContainer"],["id","portfolioPage",1,"bgDark"],["class","projectView",4,"ngFor","ngForOf"],[1,"projectView"],[1,"cardsProjects"],["alt","Project image",1,"imgPotfolioPage","dark-img",3,"src"],[1,"infoProjectPorfolioCard"],[1,"hTresPortfolio"],[1,"spanPorfolio"],["fragment","projectDetailContainer",1,"seeProjectLink",3,"routerLink"],[1,"squreTextPorfolio",3,"mouseover","mouseout"],[1,"spanPorfolio2",3,"mouseover","mouseout"]],template:function(t,i){1&t&&(G(0,"div",0)(1,"div",1)(2,"h2",2),Le(3," My Projects "),O(),G(4,"span"),Le(5," A small gallery of recent projects chosen by me. I've done them all together with amazing people from companies around the globe. "),O()()(),G(6,"div",0)(7,"div",3)(8,"ul",4),Nt(9,vAe,11,8,"li",5),O()()(),ve(10,"app-footer")),2&t&&(we(9),Ne("ngForOf",i.pro))},dependencies:[zm,O3,gP]}),n})()},{path:"create",component:Nve},{path:"project/:id",component:aAe},{path:"edit/:id",component:mAe},{path:"**",component:Pve}],yH=[],_Ae=C9.forRoot(yAe),MAe=[];let xAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n}),n.\u0275inj=en({imports:[C9.forRoot(MAe),C9]}),n})();const CAe=["titleNamed"],bAe=["navbar"],_H=function(){return[""]},wAe=function(){return["/projects"]},MH=function(){return["actived"]},SAe=function(){return["/contact"]};let AAe=(()=>{class n{constructor(t){this.router=t,this.title="portfolioAngular",this.faCoffee=sD,this.faFolderOpen=b9,this.faLinkedinIn=gH,this.faGitHub=nM,this.faYoutube=iM,this.faSun=uD,this.faMoon=cD,this.faArrowDown=Ig,this.faArrowRight=r6,this.faWhatsapp=vH,this.faMailBulk=oD,this.faBars=rD,this.isShown=!1,this.isHomePage=!1,this.titleName="ALE",this.titleArea="WEB",this.titleJob="DEV"}ngOnInit(){const t=document.querySelector(".cursor"),i=document.querySelector(".cursor2");t.style.opacity=i.style.opacity="0",document.addEventListener("mousemove",a=>{a.clientX>=0&&a.clientX<=window.innerWidth&&a.clientY>=0&&a.clientY<=window.innerHeight&&(setTimeout(()=>{t.style.cssText=`left: ${a.clientX}px; top: ${a.clientY}px; opacity: 1;`},50),i.style.cssText=`left: ${a.clientX}px; top: ${a.clientY}px; opacity: 1;`)}),document.body.addEventListener("mouseleave",a=>{t.style.opacity="0",i.style.opacity="0"}),setInterval(()=>{"0"===i.style.opacity&&(t.style.opacity="0")},50),this.router.events.subscribe(a=>{a instanceof H3&&(this.isHomePage="/"===this.router.url)}),$(".hide").on("click",function(){$("nav ul").toggle("slow")});var r=document.documentElement.scrollTop;window.onscroll=function(){window.innerWidth>768&&o()};const o=()=>{var a=document.documentElement.scrollTop;this.navbar.nativeElement.style.top=r>a?"0":"-70px",r=a}}toggleShow(){this.isShown=!this.isShown}}return n.\u0275fac=function(t){return new(t||n)(le(Tn))},n.\u0275cmp=Jt({type:n,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(wn(CAe,5),wn(bAe,5)),2&t){let r;an(r=cn())&&(i.titleNamed=r.first),an(r=cn())&&(i.navbar=r.first)}},decls:32,vars:17,consts:[[1,"cursor"],[1,"cursor2"],["id","switchColor"],["href","https://api.whatsapp.com/send?phone=16262436274&text=Hello!\xa0Can\xa0you\xa0help\xa0me?","target","_blank","rel","noopener noreferrer"],["id","day",1,"boxSideBars"],[1,"socialIcons",3,"icon"],["href","mailto:alejandro.12w@gmail.com","target","_blank","rel","noopener noreferrer"],["id","night",1,"boxSideBars"],["id","social"],["href","https://www.linkedin.com/in/alejandro-alonzo-69639a38/","target","_blank","rel","noopener noreferrer"],["id","linkedin",1,"boxSideBars"],["href","https://github.com/alejoalonzo","target","_blank","rel","noopener noreferrer"],["id","github",1,"boxSideBars"],["navbar",""],["id","homeBtnMenu"],[3,"routerLink","routerLinkActive"],["id","btnsMenu"],[1,"hide"],[3,"icon"]],template:function(t,i){1&t&&(ve(0,"div",0)(1,"div",1),G(2,"div",2)(3,"a",3)(4,"div",4),ve(5,"fa-icon",5),O()(),G(6,"a",6)(7,"div",7),ve(8,"fa-icon",5),O()()(),G(9,"div",8)(10,"a",9)(11,"div",10),ve(12,"fa-icon",5),O()(),G(13,"a",11)(14,"div",12),ve(15,"fa-icon",5),O()()(),G(16,"nav",null,13)(18,"ul",14)(19,"li")(20,"a",15),Le(21,"alex"),O()()(),G(22,"ul",16)(23,"li")(24,"a",15),Le(25,"Projects"),O()(),G(26,"li")(27,"a",15),Le(28,"Contact"),O()()(),G(29,"div",17),ve(30,"fa-icon",18),O()(),ve(31,"router-outlet")),2&t&&(we(5),Ne("icon",i.faWhatsapp),we(3),Ne("icon",i.faMailBulk),we(4),Ne("icon",i.faLinkedinIn),we(3),Ne("icon",i.faGitHub),we(5),Ne("routerLink",ji(11,_H))("routerLinkActive",ji(12,_H)),we(4),Ne("routerLink",ji(13,wAe))("routerLinkActive",ji(14,MH)),we(3),Ne("routerLink",ji(15,SAe))("routerLinkActive",ji(16,MH)),we(3),Ne("icon",i.faBars))},dependencies:[Sg,O3,XT,ho]}),n})();const zAe={anchorScrolling:"enabled",scrollPositionRestoration:"enabled"};let EAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Zn({type:n,bootstrap:[AAe]}),n.\u0275inj=en({providers:[yH,mH],imports:[bq,xAe,Qq,cX,_Ae,g9e,C9.forRoot(yH,zAe)]}),n})();xq().bootstrapModule(EAe).catch(n=>console.error(n))},519:function(M0){M0.exports=function(){"use strict";const _1={},Bo=y=>new Promise(_=>{if(!y)return _();const w=window.scrollX,I=window.scrollY;_1.restoreFocusTimeout=setTimeout(()=>{_1.previousActiveElement instanceof HTMLElement?(_1.previousActiveElement.focus(),_1.previousActiveElement=null):document.body&&document.body.focus(),_()},100),window.scrollTo(w,I)});var G1={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ie=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),c3=["success","warning","info","question","error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),Pr="SweetAlert2:",l3=y=>y.charAt(0).toUpperCase()+y.slice(1),G2=y=>{console.warn(`${Pr} ${"object"==typeof y?y.join(" "):y}`)},Ir=y=>{console.error(`${Pr} ${y}`)},b5=[],Uf=(y,_)=>{(y=>{b5.includes(y)||(b5.push(y),G2(y))})(`"${y}" is deprecated and will be removed in the next major release. Please use "${_}" instead.`)},u3=y=>"function"==typeof y?y():y,ar=y=>y&&"function"==typeof y.toPromise,Rr=y=>ar(y)?y.toPromise():Promise.resolve(y),x0=y=>y&&Promise.resolve(y)===y,h2=()=>document.body.querySelector(`.${ie.container}`),fs=y=>{const _=h2();return _?_.querySelector(y):null},W2=y=>fs(`.${y}`),lt=()=>W2(ie.popup),cr=()=>W2(ie.icon),w5=()=>W2(ie.title),f3=()=>W2(ie["html-container"]),S5=()=>W2(ie.image),hs=()=>W2(ie["progress-steps"]),hi=()=>W2(ie["validation-message"]),di=()=>fs(`.${ie.actions} .${ie.confirm}`),Hr=()=>fs(`.${ie.actions} .${ie.cancel}`),pt=()=>fs(`.${ie.actions} .${ie.deny}`),h3=()=>fs(`.${ie.loader}`),ds=()=>W2(ie.actions),z5=()=>W2(ie.footer),Bn=()=>W2(ie["timer-progress-bar"]),jo=()=>W2(ie.close),$o=()=>{const y=lt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),_=Array.from(y).sort((te,Oe)=>{const W1=parseInt(te.getAttribute("tabindex")),P1=parseInt(Oe.getAttribute("tabindex"));return W1>P1?1:W1<P1?-1:0}),w=lt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),I=Array.from(w).filter(te=>"-1"!==te.getAttribute("tabindex"));return[...new Set(_.concat(I))].filter(te=>vn(te))},Yt=()=>pi(document.body,ie.shown)&&!pi(document.body,ie["toast-shown"])&&!pi(document.body,ie["no-backdrop"]),Vt=()=>lt()&&pi(lt(),ie.toast),C1=(y,_)=>{if(y.textContent="",_){const I=(new DOMParser).parseFromString(_,"text/html");Array.from(I.querySelector("head").childNodes).forEach(te=>{y.appendChild(te)}),Array.from(I.querySelector("body").childNodes).forEach(te=>{te instanceof HTMLVideoElement||te instanceof HTMLAudioElement?y.appendChild(te.cloneNode(!0)):y.appendChild(te)})}},pi=(y,_)=>{if(!_)return!1;const w=_.split(/\s+/);for(let I=0;I<w.length;I++)if(!y.classList.contains(w[I]))return!1;return!0},K2=(y,_,w)=>{if(((y,_)=>{Array.from(y.classList).forEach(w=>{!Object.values(ie).includes(w)&&!Object.values(c3).includes(w)&&!Object.values(_.showClass).includes(w)&&y.classList.remove(w)})})(y,_),_.customClass&&_.customClass[w]){if("string"!=typeof _.customClass[w]&&!_.customClass[w].forEach)return void G2(`Invalid type of customClass.${w}! Expected string or iterable object, got "${typeof _.customClass[w]}"`);Q1(y,_.customClass[w])}},C0=(y,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return y.querySelector(`.${ie.popup} > .${ie[_]}`);case"checkbox":return y.querySelector(`.${ie.popup} > .${ie.checkbox} input`);case"radio":return y.querySelector(`.${ie.popup} > .${ie.radio} input:checked`)||y.querySelector(`.${ie.popup} > .${ie.radio} input:first-child`);case"range":return y.querySelector(`.${ie.popup} > .${ie.range} input`);default:return y.querySelector(`.${ie.popup} > .${ie.input}`)}},E5=y=>{if(y.focus(),"file"!==y.type){const _=y.value;y.value="",y.value=_}},T5=(y,_,w)=>{!y||!_||("string"==typeof _&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(I=>{Array.isArray(y)?y.forEach(te=>{w?te.classList.add(I):te.classList.remove(I)}):w?y.classList.add(I):y.classList.remove(I)}))},Q1=(y,_)=>{T5(y,_,!0)},lr=(y,_)=>{T5(y,_,!1)},p4=(y,_)=>{const w=Array.from(y.children);for(let I=0;I<w.length;I++){const te=w[I];if(te instanceof HTMLElement&&pi(te,_))return te}},ps=(y,_,w)=>{w===`${parseInt(w)}`&&(w=parseInt(w)),w||0===parseInt(w)?y.style[_]="number"==typeof w?`${w}px`:w:y.style.removeProperty(_)},w2=function(y){y&&(y.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},S2=y=>{y&&(y.style.display="none")},D5=(y,_,w,I)=>{const te=y.querySelector(_);te&&(te.style[w]=I)},d3=function(y,_){_?w2(y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):S2(y)},vn=y=>!(!y||!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),w0=y=>y.scrollHeight>y.clientHeight,L5=y=>{const _=window.getComputedStyle(y),w=parseFloat(_.getPropertyValue("animation-duration")||"0"),I=parseFloat(_.getPropertyValue("transition-duration")||"0");return w>0||I>0},S0=function(y){let _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const w=Bn();vn(w)&&(_&&(w.style.transition="none",w.style.width="100%"),setTimeout(()=>{w.style.transition=`width ${y/1e3}s linear`,w.style.width="0%"},10))},ur=()=>typeof window>"u"||typeof document>"u",N5=`\n <div aria-labelledby="${ie.title}" aria-describedby="${ie["html-container"]}" class="${ie.popup}" tabindex="-1">\n   <button type="button" class="${ie.close}"></button>\n   <ul class="${ie["progress-steps"]}"></ul>\n   <div class="${ie.icon}"></div>\n   <img class="${ie.image}" />\n   <h2 class="${ie.title}" id="${ie.title}"></h2>\n   <div class="${ie["html-container"]}" id="${ie["html-container"]}"></div>\n   <input class="${ie.input}" />\n   <input type="file" class="${ie.file}" />\n   <div class="${ie.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${ie.select}"></select>\n   <div class="${ie.radio}"></div>\n   <label for="${ie.checkbox}" class="${ie.checkbox}">\n     <input type="checkbox" />\n     <span class="${ie.label}"></span>\n   </label>\n   <textarea class="${ie.textarea}"></textarea>\n   <div class="${ie["validation-message"]}" id="${ie["validation-message"]}"></div>\n   <div class="${ie.actions}">\n     <div class="${ie.loader}"></div>\n     <button type="button" class="${ie.confirm}"></button>\n     <button type="button" class="${ie.deny}"></button>\n     <button type="button" class="${ie.cancel}"></button>\n   </div>\n   <div class="${ie.footer}"></div>\n   <div class="${ie["timer-progress-bar-container"]}">\n     <div class="${ie["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Vr=()=>{_1.currentInstance.resetValidationMessage()},Yf=y=>{const _=(()=>{const y=h2();return!!y&&(y.remove(),lr([document.documentElement,document.body],[ie["no-backdrop"],ie["toast-shown"],ie["has-column"]]),!0)})();if(ur())return void Ir("SweetAlert2 requires document to initialize");const w=document.createElement("div");w.className=ie.container,_&&Q1(w,ie["no-transition"]),C1(w,N5);const I=(y=>"string"==typeof y?document.querySelector(y):y)(y.target);I.appendChild(w),(y=>{const _=lt();_.setAttribute("role",y.toast?"alert":"dialog"),_.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||_.setAttribute("aria-modal","true")})(y),(y=>{"rtl"===window.getComputedStyle(y).direction&&Q1(h2(),ie.rtl)})(I),(()=>{const y=lt(),_=p4(y,ie.input),w=p4(y,ie.file),I=y.querySelector(`.${ie.range} input`),te=y.querySelector(`.${ie.range} output`),Oe=p4(y,ie.select),W1=y.querySelector(`.${ie.checkbox} input`),P1=p4(y,ie.textarea);_.oninput=Vr,w.onchange=Vr,Oe.onchange=Vr,W1.onchange=Vr,P1.oninput=Vr,I.oninput=()=>{Vr(),te.value=I.value},I.onchange=()=>{Vr(),te.value=I.value}})()},A0=(y,_)=>{y instanceof HTMLElement?_.appendChild(y):"object"==typeof y?Jf(y,_):y&&C1(_,y)},Jf=(y,_)=>{y.jquery?Kf(_,y):C1(_,y.toString())},Kf=(y,_)=>{if(y.textContent="",0 in _)for(let w=0;w in _;w++)y.appendChild(_[w].cloneNode(!0));else y.appendChild(_.cloneNode(!0))},ms=(()=>{if(ur())return!1;const y=document.createElement("div"),_={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const w in _)if(Object.prototype.hasOwnProperty.call(_,w)&&typeof y.style[w]<"u")return _[w];return!1})(),Qf=(y,_)=>{const w=ds(),I=h3();_.showConfirmButton||_.showDenyButton||_.showCancelButton?w2(w):S2(w),K2(w,_,"actions"),function aM(y,_,w){const I=di(),te=pt(),Oe=Hr();qo(I,"confirm",w),qo(te,"deny",w),qo(Oe,"cancel",w),function P5(y,_,w,I){I.buttonsStyling?(Q1([y,_,w],ie.styled),I.confirmButtonColor&&(y.style.backgroundColor=I.confirmButtonColor,Q1(y,ie["default-outline"])),I.denyButtonColor&&(_.style.backgroundColor=I.denyButtonColor,Q1(_,ie["default-outline"])),I.cancelButtonColor&&(w.style.backgroundColor=I.cancelButtonColor,Q1(w,ie["default-outline"]))):lr([y,_,w],ie.styled)}(I,te,Oe,w),w.reverseButtons&&(w.toast?(y.insertBefore(Oe,I),y.insertBefore(te,I)):(y.insertBefore(Oe,_),y.insertBefore(te,_),y.insertBefore(I,_)))}(w,I,_),C1(I,_.loaderHtml),K2(I,_,"loader")};function qo(y,_,w){d3(y,w[`show${l3(_)}Button`],"inline-block"),C1(y,w[`${_}ButtonText`]),y.setAttribute("aria-label",w[`${_}ButtonAriaLabel`]),y.className=ie[_],K2(y,w,`${_}Button`),Q1(y,w[`${_}ButtonClass`])}const R5=(y,_)=>{const w=h2();w&&(function H5(y,_){"string"==typeof _?y.style.background=_:_||Q1([document.documentElement,document.body],ie["no-backdrop"])}(w,_.backdrop),function eh(y,_){_ in ie?Q1(y,ie[_]):(G2('The "position" parameter is not valid, defaulting to "center"'),Q1(y,ie.center))}(w,_.position),function V5(y,_){if(_&&"string"==typeof _){const w=`grow-${_}`;w in ie&&Q1(y,ie[w])}}(w,_.grow),K2(w,_,"container"))};const O5=["input","file","range","select","radio","checkbox","textarea"],k5=y=>{if(!Q2[y.input])return void Ir(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${y.input}"`);const _=E0(y.input),w=Q2[y.input](_,y);w2(_),y.inputAutoFocus&&setTimeout(()=>{E5(w)})},th=(y,_)=>{const w=C0(lt(),y);if(w){(y=>{for(let _=0;_<y.attributes.length;_++){const w=y.attributes[_].name;["type","value","style"].includes(w)||y.removeAttribute(w)}})(w);for(const I in _)w.setAttribute(I,_[I])}},nh=y=>{const _=E0(y.input);"object"==typeof y.customClass&&Q1(_,y.customClass.input)},z0=(y,_)=>{(!y.placeholder||_.inputPlaceholder)&&(y.placeholder=_.inputPlaceholder)},gs=(y,_,w)=>{if(w.inputLabel){y.id=ie.input;const I=document.createElement("label"),te=ie["input-label"];I.setAttribute("for",y.id),I.className=te,"object"==typeof w.customClass&&Q1(I,w.customClass.inputLabel),I.innerText=w.inputLabel,_.insertAdjacentElement("beforebegin",I)}},E0=y=>p4(lt(),ie[y]||ie.input),Zo=(y,_)=>{["string","number"].includes(typeof _)?y.value=`${_}`:x0(_)||G2(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},Q2={};Q2.text=Q2.email=Q2.password=Q2.number=Q2.tel=Q2.url=(y,_)=>(Zo(y,_.inputValue),gs(y,y,_),z0(y,_),y.type=_.input,y),Q2.file=(y,_)=>(gs(y,y,_),z0(y,_),y),Q2.range=(y,_)=>{const w=y.querySelector("input"),I=y.querySelector("output");return Zo(w,_.inputValue),w.type=_.input,Zo(I,_.inputValue),gs(w,y,_),y},Q2.select=(y,_)=>{if(y.textContent="",_.inputPlaceholder){const w=document.createElement("option");C1(w,_.inputPlaceholder),w.value="",w.disabled=!0,w.selected=!0,y.appendChild(w)}return gs(y,y,_),y},Q2.radio=y=>(y.textContent="",y),Q2.checkbox=(y,_)=>{const w=C0(lt(),"checkbox");w.value="1",w.id=ie.checkbox,w.checked=!!_.inputValue;const I=y.querySelector("span");return C1(I,_.inputPlaceholder),w},Q2.textarea=(y,_)=>{Zo(y,_.inputValue),z0(y,_),gs(y,y,_);return setTimeout(()=>{if("MutationObserver"in window){const I=parseInt(window.getComputedStyle(lt()).width);new MutationObserver(()=>{const Oe=y.offsetWidth+(I=>parseInt(window.getComputedStyle(I).marginLeft)+parseInt(window.getComputedStyle(I).marginRight))(y);lt().style.width=Oe>I?`${Oe}px`:null}).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};const fr=(y,_)=>{const w=f3();w&&(K2(w,_,"htmlContainer"),_.html?(A0(_.html,w),w2(w,"block")):_.text?(w.textContent=_.text,w2(w,"block")):S2(w),((y,_)=>{const w=lt(),I=G1.innerParams.get(y),te=!I||_.input!==I.input;O5.forEach(Oe=>{const W1=p4(w,ie[Oe]);th(Oe,_.inputAttributes),W1.className=ie[Oe],te&&S2(W1)}),_.input&&(te&&k5(_),nh(_))})(y,_))},m4=(y,_)=>{for(const w in c3)_.icon!==w&&lr(y,c3[w]);Q1(y,c3[_.icon]),T0(y,_),ki(),K2(y,_,"icon")},ki=()=>{const y=lt(),_=window.getComputedStyle(y).getPropertyValue("background-color"),w=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let I=0;I<w.length;I++)w[I].style.backgroundColor=_},U5=(y,_)=>{let I,w=y.innerHTML;_.iconHtml?I=D0(_.iconHtml):"success"===_.icon?(I='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',w=w.replace(/ style=".*?"/g,"")):I="error"===_.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':D0({question:"?",warning:"!",info:"i"}[_.icon]),w.trim()!==I.trim()&&C1(y,I)},T0=(y,_)=>{if(_.iconColor){y.style.color=_.iconColor,y.style.borderColor=_.iconColor;for(const w of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])D5(y,w,"backgroundColor",_.iconColor);D5(y,".swal2-success-ring","borderColor",_.iconColor)}},D0=y=>`<div class="${ie["icon-content"]}">${y}</div>`,B5=(y,_)=>{const w=_.showClass||{};y.className=`${ie.popup} ${vn(y)?w.popup:""}`,_.toast?(Q1([document.documentElement,document.body],ie["toast-shown"]),Q1(y,ie.toast)):Q1(y,ie.modal),K2(y,_,"popup"),"string"==typeof _.customClass&&Q1(y,_.customClass),_.icon&&Q1(y,ie[`icon-${_.icon}`])},oh=y=>{const _=document.createElement("li");return Q1(_,ie["progress-step"]),C1(_,y),_},ah=y=>{const _=document.createElement("li");return Q1(_,ie["progress-step-line"]),y.progressStepsDistance&&ps(_,"width",y.progressStepsDistance),_},W5=(y,_)=>{((y,_)=>{const w=h2(),I=lt();if(w&&I){if(_.toast){ps(w,"width",_.width),I.style.width="100%";const te=h3();te&&I.insertBefore(te,cr())}else ps(I,"width",_.width);ps(I,"padding",_.padding),_.color&&(I.style.color=_.color),_.background&&(I.style.background=_.background),S2(hi()),B5(I,_)}})(0,_),R5(0,_),((y,_)=>{const w=hs();if(!w)return;const{progressSteps:I,currentProgressStep:te}=_;I&&0!==I.length&&void 0!==te?(w2(w),w.textContent="",te>=I.length&&G2("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.forEach((Oe,W1)=>{const P1=oh(Oe);if(w.appendChild(P1),W1===te&&Q1(P1,ie["active-progress-step"]),W1!==I.length-1){const Ft=ah(_);w.appendChild(Ft)}})):S2(w)})(0,_),((y,_)=>{const w=G1.innerParams.get(y),I=cr();w&&_.icon===w.icon?(U5(I,_),m4(I,_)):_.icon||_.iconHtml?_.icon&&-1===Object.keys(c3).indexOf(_.icon)?(Ir(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),S2(I)):(w2(I),U5(I,_),m4(I,_),Q1(I,_.showClass.icon)):S2(I)})(y,_),((y,_)=>{const w=S5();if(w){if(!_.imageUrl)return void S2(w);w2(w,""),w.setAttribute("src",_.imageUrl),w.setAttribute("alt",_.imageAlt||""),ps(w,"width",_.imageWidth),ps(w,"height",_.imageHeight),w.className=ie.image,K2(w,_,"image")}})(0,_),((y,_)=>{const w=w5();w&&(d3(w,_.title||_.titleText,"block"),_.title&&A0(_.title,w),_.titleText&&(w.innerText=_.titleText),K2(w,_,"title"))})(0,_),((y,_)=>{const w=jo();w&&(C1(w,_.closeButtonHtml||""),K2(w,_,"closeButton"),d3(w,_.showCloseButton),w.setAttribute("aria-label",_.closeButtonAriaLabel||""))})(0,_),fr(y,_),Qf(0,_),((y,_)=>{const w=z5();w&&(d3(w,_.footer),_.footer&&A0(_.footer,w),K2(w,_,"footer"))})(0,_);const w=lt();"function"==typeof _.didRender&&w&&_.didRender(w)},$5=()=>di()&&di().click(),p3=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),l1=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},ys=(y,_)=>{const w=$o();if(w.length)return(y+=_)===w.length?y=0:-1===y&&(y=w.length-1),void w[y].focus();lt().focus()},Wn=["ArrowRight","ArrowDown"],uh=["ArrowLeft","ArrowUp"],fh=(y,_,w)=>{const I=G1.innerParams.get(y);I&&(_.isComposing||229===_.keyCode||(I.stopKeydownPropagation&&_.stopPropagation(),"Enter"===_.key?ht(y,_,I):"Tab"===_.key?Xo(_):[...Wn,...uh].includes(_.key)?o2(_.key):"Escape"===_.key&&L0(_,I,w)))},ht=(y,_,w)=>{if(u3(w.allowEnterKey)&&_.target&&y.getInput()&&_.target instanceof HTMLElement&&_.target.outerHTML===y.getInput().outerHTML){if(["textarea","file"].includes(w.input))return;$5(),_.preventDefault()}},Xo=y=>{const _=y.target,w=$o();let I=-1;for(let te=0;te<w.length;te++)if(_===w[te]){I=te;break}ys(I,y.shiftKey?-1:1),y.stopPropagation(),y.preventDefault()},o2=y=>{const _=di(),w=pt(),I=Hr();if(document.activeElement instanceof HTMLElement&&![_,w,I].includes(document.activeElement))return;const Oe=Wn.includes(y)?"nextElementSibling":"previousElementSibling";let W1=document.activeElement;for(let P1=0;P1<ds().children.length;P1++){if(W1=W1[Oe],!W1)return;if(W1 instanceof HTMLButtonElement&&vn(W1))break}W1 instanceof HTMLButtonElement&&W1.focus()},L0=(y,_,w)=>{u3(_.allowEscapeKey)&&(y.preventDefault(),w(p3.esc))};var _s={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const d1=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},P0=()=>{const y=navigator.userAgent,_=!!y.match(/iPad/i)||!!y.match(/iPhone/i),w=!!y.match(/WebKit/i);_&&w&&!y.match(/CriOS/i)&&lt().scrollHeight>window.innerHeight-44&&(h2().style.paddingBottom="44px")},lM=()=>{const y=h2();let _;y.ontouchstart=w=>{_=Z5(w)},y.ontouchmove=w=>{_&&(w.preventDefault(),w.stopPropagation())}},Z5=y=>{const _=y.target,w=h2();return!me(y)&&!Yo(y)&&(_===w||!w0(w)&&_ instanceof HTMLElement&&"INPUT"!==_.tagName&&"TEXTAREA"!==_.tagName&&!(w0(f3())&&f3().contains(_)))},me=y=>y.touches&&y.touches.length&&"stylus"===y.touches[0].touchType,Yo=y=>y.touches&&y.touches.length>1;let m3=null;const uM=()=>{null===m3&&document.body.scrollHeight>window.innerHeight&&(m3=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${m3+(()=>{const y=document.createElement("div");y.className=ie["scrollbar-measure"],document.body.appendChild(y);const _=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),_})()}px`)};function Ms(y,_,w,I){Vt()?mh(y,I):(Bo(w).then(()=>mh(y,I)),l1(_1)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),Yt()&&(null!==m3&&(document.body.style.paddingRight=`${m3}px`,m3=null),(()=>{if(pi(document.body,ie.iosfix)){const y=parseInt(document.body.style.top,10);lr(document.body,ie.iosfix),document.body.style.top="",document.body.scrollTop=-1*y}})(),d1()),function yn(){lr([document.documentElement,document.body],[ie.shown,ie["height-auto"],ie["no-backdrop"],ie["toast-shown"]])}()}function g4(y){y=fM(y);const _=_s.swalPromiseResolve.get(this),w=dh(this);this.isAwaitingPromise?y.isDismissed||(jn(this),_(y)):w&&_(y)}const dh=y=>{const _=lt();if(!_)return!1;const w=G1.innerParams.get(y);if(!w||pi(_,w.hideClass.popup))return!1;lr(_,w.showClass.popup),Q1(_,w.hideClass.popup);const I=h2();return lr(I,w.showClass.backdrop),Q1(I,w.hideClass.backdrop),hM(y,_,w),!0};function ph(y){const _=_s.swalPromiseReject.get(this);jn(this),_&&_(y)}const jn=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,G1.innerParams.get(y)||y._destroy())},fM=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),hM=(y,_,w)=>{const I=h2(),te=ms&&L5(_);"function"==typeof w.willClose&&w.willClose(_),te?dM(y,_,I,w.returnFocus,w.didClose):Ms(y,I,w.returnFocus,w.didClose)},dM=(y,_,w,I,te)=>{_1.swalCloseEventFinishedCallback=Ms.bind(null,y,w,I,te),_.addEventListener(ms,function(Oe){Oe.target===_&&(_1.swalCloseEventFinishedCallback(),delete _1.swalCloseEventFinishedCallback)})},mh=(y,_)=>{setTimeout(()=>{"function"==typeof _&&_.bind(y.params)(),y._destroy&&y._destroy()})},g3=y=>{let _=lt();_||new Ot,_=lt();const w=h3();Vt()?S2(cr()):pM(_,y),w2(w),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},pM=(y,_)=>{const w=ds(),I=h3();!_&&vn(di())&&(_=di()),w2(w),_&&(S2(_),I.setAttribute("data-button-to-replace",_.className)),I.parentNode.insertBefore(I,_),Q1([y,w],ie.loading)},$n=y=>y.checked?1:0,ft=y=>y.checked?y.value:null,gM=y=>y.files.length?null!==y.getAttribute("multiple")?y.files:y.files[0]:null,vM=(y,_)=>{const w=lt(),I=te=>{Je[_.input](w,X5(te),_)};ar(_.inputOptions)||x0(_.inputOptions)?(g3(di()),Rr(_.inputOptions).then(te=>{y.hideLoading(),I(te)})):"object"==typeof _.inputOptions?I(_.inputOptions):Ir("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof _.inputOptions)},yM=(y,_)=>{const w=y.getInput();S2(w),Rr(_.inputValue).then(I=>{w.value="number"===_.input?`${parseFloat(I)||0}`:`${I}`,w2(w),w.focus(),y.hideLoading()}).catch(I=>{Ir(`Error in inputValue promise: ${I}`),w.value="",w2(w),w.focus(),y.hideLoading()})},Je={select:(y,_,w)=>{const I=p4(y,ie.select),te=(Oe,W1,P1)=>{const Ft=document.createElement("option");Ft.value=P1,C1(Ft,W1),Ft.selected=en(P1,w.inputValue),Oe.appendChild(Ft)};_.forEach(Oe=>{const W1=Oe[0],P1=Oe[1];if(Array.isArray(P1)){const Ft=document.createElement("optgroup");Ft.label=W1,Ft.disabled=!1,I.appendChild(Ft),P1.forEach(Xn=>te(Ft,Xn[1],Xn[0]))}else te(I,P1,W1)}),I.focus()},radio:(y,_,w)=>{const I=p4(y,ie.radio);_.forEach(Oe=>{const W1=Oe[0],P1=Oe[1],Ft=document.createElement("input"),Xn=document.createElement("label");Ft.type="radio",Ft.name=ie.radio,Ft.value=W1,en(W1,w.inputValue)&&(Ft.checked=!0);const g1=document.createElement("span");C1(g1,P1),g1.className=ie.label,Xn.appendChild(Ft),Xn.appendChild(g1),I.appendChild(Xn)});const te=I.querySelectorAll("input");te.length&&te[0].focus()}},X5=y=>{const _=[];return typeof Map<"u"&&y instanceof Map?y.forEach((w,I)=>{let te=w;"object"==typeof te&&(te=X5(te)),_.push([I,te])}):Object.keys(y).forEach(w=>{let I=y[w];"object"==typeof I&&(I=X5(I)),_.push([w,I])}),_},en=(y,_)=>_&&_.toString()===y.toString(),J5=(y,_)=>{const w=G1.innerParams.get(y);if(!w.input)return void Ir(`The "input" parameter is needed to be set when using returnInputValueOn${l3(_)}`);const I=((y,_)=>{const w=y.getInput();if(!w)return null;switch(_.input){case"checkbox":return $n(w);case"radio":return ft(w);case"file":return gM(w);default:return _.inputAutoTrim?w.value.trim():w.value}})(y,w);w.inputValidator?K5(y,I,_):y.getInput().checkValidity()?"deny"===_?v3(y,I):R0(y,I):(y.enableButtons(),y.showValidationMessage(w.validationMessage))},K5=(y,_,w)=>{const I=G1.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>Rr(I.inputValidator(_,I.validationMessage))).then(Oe=>{y.enableButtons(),y.enableInput(),Oe?y.showValidationMessage(Oe):"deny"===w?v3(y,_):R0(y,_)})},v3=(y,_)=>{const w=G1.innerParams.get(y||void 0);w.showLoaderOnDeny&&g3(pt()),w.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>Rr(w.preDeny(_,w.validationMessage))).then(te=>{!1===te?(y.hideLoading(),jn(y)):y.close({isDenied:!0,value:typeof te>"u"?_:te})}).catch(te=>I0(y||void 0,te))):y.close({isDenied:!0,value:_})},Ko=(y,_)=>{y.close({isConfirmed:!0,value:_})},I0=(y,_)=>{y.rejectPromise(_)},R0=(y,_)=>{const w=G1.innerParams.get(y||void 0);w.showLoaderOnConfirm&&g3(),w.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>Rr(w.preConfirm(_,w.validationMessage))).then(te=>{vn(hi())||!1===te?(y.hideLoading(),jn(y)):Ko(y,typeof te>"u"?_:te)}).catch(te=>I0(y||void 0,te))):Ko(y,_)};function r1(){const y=G1.innerParams.get(this);if(!y)return;const _=G1.domCache.get(this);S2(_.loader),Vt()?y.icon&&w2(cr()):H0(_),lr([_.popup,_.actions],ie.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}const H0=y=>{const _=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));_.length?w2(_[0],"inline-block"):!vn(di())&&!vn(pt())&&!vn(Hr())&&S2(y.actions)};function V0(){const y=G1.innerParams.get(this),_=G1.domCache.get(this);return _?C0(_.popup,y.input):null}function j2(y,_,w){const I=G1.domCache.get(y);_.forEach(te=>{I[te].disabled=w})}function O0(y,_){if(y)if("radio"===y.type){const I=y.parentNode.parentNode.querySelectorAll("input");for(let te=0;te<I.length;te++)I[te].disabled=_}else y.disabled=_}function yh(){j2(this,["confirmButton","denyButton","cancelButton"],!1)}function mt(){j2(this,["confirmButton","denyButton","cancelButton"],!0)}function _h(){O0(this.getInput(),!1)}function Mh(){O0(this.getInput(),!0)}function xh(y){const _=G1.domCache.get(this),w=G1.innerParams.get(this);C1(_.validationMessage,y),_.validationMessage.className=ie["validation-message"],w.customClass&&w.customClass.validationMessage&&Q1(_.validationMessage,w.customClass.validationMessage),w2(_.validationMessage);const I=this.getInput();I&&(I.setAttribute("aria-invalid",!0),I.setAttribute("aria-describedby",ie["validation-message"]),E5(I),Q1(I,ie.inputerror))}function y3(){const y=G1.domCache.get(this);y.validationMessage&&S2(y.validationMessage);const _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),lr(_,ie.inputerror))}const Or={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qo=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ch={},bh=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Q5=y=>Object.prototype.hasOwnProperty.call(Or,y),F0=y=>-1!==Qo.indexOf(y),v4=y=>Ch[y],wh=y=>{Q5(y)||G2(`Unknown parameter "${y}"`)},Fr=y=>{bh.includes(y)&&G2(`The parameter "${y}" is incompatible with toasts`)},Sh=y=>{const _=v4(y);_&&Uf(y,_)};function k0(y){const _=lt(),w=G1.innerParams.get(this);if(!_||pi(_,w.hideClass.popup))return void G2("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const I=He(y),te=Object.assign({},w,I);W5(this,te),G1.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}const He=y=>{const _={};return Object.keys(y).forEach(w=>{F0(w)?_[w]=y[w]:G2(`Invalid parameter to update: ${w}`)}),_};function xs(){const y=G1.domCache.get(this),_=G1.innerParams.get(this);_?(y.popup&&_1.swalCloseEventFinishedCallback&&(_1.swalCloseEventFinishedCallback(),delete _1.swalCloseEventFinishedCallback),"function"==typeof _.didDestroy&&_.didDestroy(),U0(this)):_3(this)}const U0=y=>{_3(y),delete y.params,delete _1.keydownHandler,delete _1.keydownTarget,delete _1.currentInstance},_3=y=>{y.isAwaitingPromise?(B0(G1,y),y.isAwaitingPromise=!0):(B0(_s,y),B0(G1,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},B0=(y,_)=>{for(const w in y)y[w].delete(_)};var Ah=Object.freeze({__proto__:null,_destroy:xs,close:g4,closeModal:g4,closePopup:g4,closeToast:g4,disableButtons:mt,disableInput:Mh,disableLoading:r1,enableButtons:yh,enableInput:_h,getInput:V0,handleAwaitingPromise:jn,hideLoading:r1,rejectPromise:ph,resetValidationMessage:y3,showValidationMessage:xh,update:k0});const hr=(y,_,w)=>{_.popup.onclick=()=>{const I=G1.innerParams.get(y);I&&(Ui(I)||I.timer||I.input)||w(p3.close)}},Ui=y=>y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton;let I2=!1;const Bi=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(_){y.container.onmouseup=void 0,_.target===y.container&&(I2=!0)}}},it=y=>{y.container.onmousedown=()=>{y.popup.onmouseup=function(_){y.popup.onmouseup=void 0,(_.target===y.popup||y.popup.contains(_.target))&&(I2=!0)}}},ea=(y,_,w)=>{_.container.onclick=I=>{const te=G1.innerParams.get(y);I2?I2=!1:I.target===_.container&&u3(te.allowOutsideClick)&&w(p3.backdrop)}},ta=y=>y instanceof Element||(y=>"object"==typeof y&&y.jquery)(y);const W0=()=>{if(_1.timeout)return(()=>{const y=Bn(),_=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";const w=parseInt(window.getComputedStyle(y).width);y.style.width=_/w*100+"%"})(),_1.timeout.stop()},na=()=>{if(_1.timeout){const y=_1.timeout.start();return S0(y),y}};let j0=!1;const ia={};const rl=y=>{for(let _=y.target;_&&_!==document;_=_.parentNode)for(const w in ia){const I=_.getAttribute(w);if(I)return void ia[w].fire({template:I})}};var Th=Object.freeze({__proto__:null,argsToParams:y=>{const _={};return"object"!=typeof y[0]||ta(y[0])?["title","html","icon"].forEach((w,I)=>{const te=y[I];"string"==typeof te||ta(te)?_[w]=te:void 0!==te&&Ir(`Unexpected type of ${w}! Expected "string" or "Element", got ${typeof te}`)}):Object.assign(_,y[0]),_},bindClickHandler:function Eh(){ia[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,j0||(document.body.addEventListener("click",rl),j0=!0)},clickCancel:()=>Hr()&&Hr().click(),clickConfirm:$5,clickDeny:()=>pt()&&pt().click(),enableLoading:g3,fire:function dr(){for(var _=arguments.length,w=new Array(_),I=0;I<_;I++)w[I]=arguments[I];return new this(...w)},getActions:ds,getCancelButton:Hr,getCloseButton:jo,getConfirmButton:di,getContainer:h2,getDenyButton:pt,getFocusableElements:$o,getFooter:z5,getHtmlContainer:f3,getIcon:cr,getIconContent:()=>W2(ie["icon-content"]),getImage:S5,getInputLabel:()=>W2(ie["input-label"]),getLoader:h3,getPopup:lt,getProgressSteps:hs,getTimerLeft:()=>_1.timeout&&_1.timeout.getTimerLeft(),getTimerProgressBar:Bn,getTitle:w5,getValidationMessage:hi,increaseTimer:y=>{if(_1.timeout){const _=_1.timeout.increase(y);return S0(_,!0),_}},isDeprecatedParameter:v4,isLoading:()=>lt().hasAttribute("data-loading"),isTimerRunning:()=>!(!_1.timeout||!_1.timeout.isRunning()),isUpdatableParameter:F0,isValidParameter:Q5,isVisible:()=>vn(lt()),mixin:function Cs(y){return class _ extends(this){_main(I,te){return super._main(I,Object.assign({},y,te))}}},resumeTimer:na,showLoading:g3,stopTimer:W0,toggleTimer:()=>{const y=_1.timeout;return y&&(y.running?W0():na())}});class Dh{constructor(_,w){this.callback=_,this.remaining=w,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(_){const w=this.running;return w&&this.stop(),this.remaining+=_,w&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const qn=["swal-title","swal-html","swal-footer"],sl=y=>{const _={};return Array.from(y.querySelectorAll("swal-param")).forEach(I=>{y4(I,["name","value"]);const te=I.getAttribute("name"),Oe=I.getAttribute("value");_[te]="boolean"==typeof Or[te]?"false"!==Oe:"object"==typeof Or[te]?JSON.parse(Oe):Oe}),_},Nh=y=>{const _={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(I=>{const te=I.getAttribute("name"),Oe=I.getAttribute("value");_[te]=new Function(`return ${Oe}`)()}),_},Ph=y=>{const _={};return Array.from(y.querySelectorAll("swal-button")).forEach(I=>{y4(I,["type","color","aria-label"]);const te=I.getAttribute("type");_[`${te}ButtonText`]=I.innerHTML,_[`show${l3(te)}Button`]=!0,I.hasAttribute("color")&&(_[`${te}ButtonColor`]=I.getAttribute("color")),I.hasAttribute("aria-label")&&(_[`${te}ButtonAriaLabel`]=I.getAttribute("aria-label"))}),_},Ih=y=>{const _={},w=y.querySelector("swal-image");return w&&(y4(w,["src","width","height","alt"]),w.hasAttribute("src")&&(_.imageUrl=w.getAttribute("src")),w.hasAttribute("width")&&(_.imageWidth=w.getAttribute("width")),w.hasAttribute("height")&&(_.imageHeight=w.getAttribute("height")),w.hasAttribute("alt")&&(_.imageAlt=w.getAttribute("alt"))),_},Rh=y=>{const _={},w=y.querySelector("swal-icon");return w&&(y4(w,["type","color"]),w.hasAttribute("type")&&(_.icon=w.getAttribute("type")),w.hasAttribute("color")&&(_.iconColor=w.getAttribute("color")),_.iconHtml=w.innerHTML),_},ol=y=>{const _={},w=y.querySelector("swal-input");w&&(y4(w,["type","label","placeholder","value"]),_.input=w.getAttribute("type")||"text",w.hasAttribute("label")&&(_.inputLabel=w.getAttribute("label")),w.hasAttribute("placeholder")&&(_.inputPlaceholder=w.getAttribute("placeholder")),w.hasAttribute("value")&&(_.inputValue=w.getAttribute("value")));const I=Array.from(y.querySelectorAll("swal-input-option"));return I.length&&(_.inputOptions={},I.forEach(te=>{y4(te,["value"]);const Oe=te.getAttribute("value");_.inputOptions[Oe]=te.innerHTML})),_},Hh=(y,_)=>{const w={};for(const I in _){const te=_[I],Oe=y.querySelector(te);Oe&&(y4(Oe,[]),w[te.replace(/^swal-/,"")]=Oe.innerHTML.trim())}return w},Vh=y=>{const _=qn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(w=>{const I=w.tagName.toLowerCase();_.includes(I)||G2(`Unrecognized element <${I}>`)})},y4=(y,_)=>{Array.from(y.attributes).forEach(w=>{-1===_.indexOf(w.name)&&G2([`Unrecognized attribute "${w.name}" on <${y.tagName.toLowerCase()}>.`,_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."])})},Oh=y=>{const _=h2(),w=lt();"function"==typeof y.willOpen&&y.willOpen(w);const te=window.getComputedStyle(document.body).overflowY;kh(_,w,y),setTimeout(()=>{Fh(_,w)},10),Yt()&&(Zn(_,y.scrollbarPadding,te),Array.from(document.body.children).forEach(_=>{_===h2()||_.contains(h2())||(_.hasAttribute("aria-hidden")&&_.setAttribute("data-previous-aria-hidden",_.getAttribute("aria-hidden")||""),_.setAttribute("aria-hidden","true"))})),!Vt()&&!_1.previousActiveElement&&(_1.previousActiveElement=document.activeElement),"function"==typeof y.didOpen&&setTimeout(()=>y.didOpen(w)),lr(_,ie["no-transition"])},al=y=>{const _=lt();if(y.target!==_)return;const w=h2();_.removeEventListener(ms,al),w.style.overflowY="auto"},Fh=(y,_)=>{ms&&L5(_)?(y.style.overflowY="hidden",_.addEventListener(ms,al)):y.style.overflowY="auto"},Zn=(y,_,w)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!pi(document.body,ie.iosfix)){const _=document.body.scrollTop;document.body.style.top=-1*_+"px",Q1(document.body,ie.iosfix),lM(),P0()}})(),_&&"hidden"!==w&&uM(),setTimeout(()=>{y.scrollTop=0})},kh=(y,_,w)=>{Q1(y,w.showClass.backdrop),_.style.setProperty("opacity","0","important"),w2(_,"grid"),setTimeout(()=>{Q1(_,w.showClass.popup),_.style.removeProperty("opacity")},10),Q1([document.documentElement,document.body],ie.shown),w.heightAuto&&w.backdrop&&!w.toast&&Q1([document.documentElement,document.body],ie["height-auto"])};var $0={email:(y,_)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(y,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function ot(y){(function h1(y){y.inputValidator||Object.keys($0).forEach(_=>{y.input===_&&(y.inputValidator=$0[_])})})(y),y.showLoaderOnConfirm&&!y.preConfirm&&G2("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function tn(y){(!y.target||"string"==typeof y.target&&!document.querySelector(y.target)||"string"!=typeof y.target&&!y.target.appendChild)&&(G2('Target parameter is not valid, defaulting to "body"'),y.target="body")}(y),"string"==typeof y.title&&(y.title=y.title.split("\n").join("<br />")),Yf(y)}let Ct;class X1{constructor(){if(typeof window>"u")return;Ct=this;for(var _=arguments.length,w=new Array(_),I=0;I<_;I++)w[I]=arguments[I];const te=Object.freeze(this.constructor.argsToParams(w));this.params=te,this.isAwaitingPromise=!1;const Oe=Ct._main(Ct.params);G1.promise.set(this,Oe)}_main(_){let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(y=>{!1===y.backdrop&&y.allowOutsideClick&&G2('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const _ in y)wh(_),y.toast&&Fr(_),Sh(_)})(Object.assign({},w,_)),_1.currentInstance&&(_1.currentInstance._destroy(),Yt()&&d1()),_1.currentInstance=Ct;const I=_n(_,w);ot(I),Object.freeze(I),_1.timeout&&(_1.timeout.stop(),delete _1.timeout),clearTimeout(_1.restoreFocusTimeout);const te=cl(Ct);return W5(Ct,I),G1.innerParams.set(Ct,I),M3(Ct,te,I)}then(_){return G1.promise.get(this).then(_)}finally(_){return G1.promise.get(this).finally(_)}}const M3=(y,_,w)=>new Promise((I,te)=>{const Oe=W1=>{y.close({isDismissed:!0,dismiss:W1})};_s.swalPromiseResolve.set(y,I),_s.swalPromiseReject.set(y,te),_.confirmButton.onclick=()=>{(y=>{const _=G1.innerParams.get(y);y.disableButtons(),_.input?J5(y,"confirm"):R0(y,!0)})(y)},_.denyButton.onclick=()=>{(y=>{const _=G1.innerParams.get(y);y.disableButtons(),_.returnInputValueOnDeny?J5(y,"deny"):v3(y,!1)})(y)},_.cancelButton.onclick=()=>{((y,_)=>{y.disableButtons(),_(p3.cancel)})(y,Oe)},_.closeButton.onclick=()=>{Oe(p3.close)},((y,_,w)=>{G1.innerParams.get(y).toast?hr(y,_,w):(Bi(_),it(_),ea(y,_,w))})(y,_,Oe),((y,_,w,I)=>{l1(_),w.toast||(_.keydownHandler=te=>fh(y,te,I),_.keydownTarget=w.keydownListenerCapture?window:lt(),_.keydownListenerCapture=w.keydownListenerCapture,_.keydownTarget.addEventListener("keydown",_.keydownHandler,{capture:_.keydownListenerCapture}),_.keydownHandlerAdded=!0)})(y,_1,w,Oe),((y,_)=>{"select"===_.input||"radio"===_.input?vM(y,_):["text","email","number","tel","textarea"].includes(_.input)&&(ar(_.inputValue)||x0(_.inputValue))&&(g3(di()),yM(y,_))})(y,w),Oh(w),ll(_1,w,Oe),ra(_,w),setTimeout(()=>{_.container.scrollTop=0})}),_n=(y,_)=>{const w=(y=>{const _="string"==typeof y.template?document.querySelector(y.template):y.template;if(!_)return{};const w=_.content;return Vh(w),Object.assign(sl(w),Nh(w),Ph(w),Ih(w),Rh(w),ol(w),Hh(w,qn))})(y),I=Object.assign({},Or,_,w,y);return I.showClass=Object.assign({},Or.showClass,I.showClass),I.hideClass=Object.assign({},Or.hideClass,I.hideClass),I},cl=y=>{const _={popup:lt(),container:h2(),actions:ds(),confirmButton:di(),denyButton:pt(),cancelButton:Hr(),loader:h3(),closeButton:jo(),validationMessage:hi(),progressSteps:hs()};return G1.domCache.set(y,_),_},ll=(y,_,w)=>{const I=Bn();S2(I),_.timer&&(y.timeout=new Dh(()=>{w("timer"),delete y.timeout},_.timer),_.timerProgressBar&&(w2(I),K2(I,_,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&S0(_.timer)})))},ra=(y,_)=>{if(!_.toast){if(!u3(_.allowEnterKey))return void Bh();Uh(y,_)||ys(-1,1)}},Uh=(y,_)=>_.focusDeny&&vn(y.denyButton)?(y.denyButton.focus(),!0):_.focusCancel&&vn(y.cancelButton)?(y.cancelButton.focus(),!0):!(!_.focusConfirm||!vn(y.confirmButton)||(y.confirmButton.focus(),0)),Bh=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const y=new Date,_=localStorage.getItem("swal-initiation");_?(y.getTime()-Date.parse(_))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const w=document.createElement("audio");w.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",w.loop=!0,document.body.appendChild(w),setTimeout(()=>{w.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}X1.prototype.disableButtons=mt,X1.prototype.enableButtons=yh,X1.prototype.getInput=V0,X1.prototype.disableInput=Mh,X1.prototype.enableInput=_h,X1.prototype.hideLoading=r1,X1.prototype.disableLoading=r1,X1.prototype.showValidationMessage=xh,X1.prototype.resetValidationMessage=y3,X1.prototype.close=g4,X1.prototype.closePopup=g4,X1.prototype.closeModal=g4,X1.prototype.closeToast=g4,X1.prototype.rejectPromise=ph,X1.prototype.update=k0,X1.prototype._destroy=xs,Object.assign(X1,Th),Object.keys(Ah).forEach(y=>{X1[y]=function(){return Ct&&Ct[y]?Ct[y](...arguments):null}}),X1.DismissReason=p3,X1.version="11.7.12";const Ot=X1;return Ot.default=Ot,Ot}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(us,_1){var Z1=us.createElement("style");if(us.getElementsByTagName("head")[0].appendChild(Z1),Z1.styleSheet)Z1.styleSheet.disabled||(Z1.styleSheet.cssText=_1);else try{Z1.innerHTML=_1}catch{Z1.innerText=_1}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')}},M0=>{M0(M0.s=811)}]);